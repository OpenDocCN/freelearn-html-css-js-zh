# 前言

停下来，思考一下你上一次感到 *高兴* 的时候。

我敢打赌，无论那种愉快的体验是什么，它与新的 JavaScript 框架无关。好吧，这一切即将改变。

Meteor 不仅仅是一个你几周后就会忘记名字的 JavaScript 框架。它是被一群真正的 *计算机科学家* 创建的，并且不断得到改进，他们被软件开发应该如何进行的愿景所驱动。他们的座右铭是“编程应该是有趣的”，随着你浏览这个 Meteor 食谱列表，你将确切地看到使用 Meteor 开发应用程序有多么有趣。

Meteor 是模块化和声明式的，支持数据在传输中，得到了一个繁荣的开发社区的广泛支持，并实现了全栈反应性。这听起来像是一堆毫无意义的时髦词汇，直到你完全理解它们对你日常开发工作的影响。

由于 Meteor 是模块化的并且得到了良好的支持，它可以轻松地与所有你喜欢的 JavaScript 框架一起工作。你可以使用整个 Meteor 堆栈，或者你可以混合搭配社区包来补充你现有的基础设施/技能集。

Meteor 通过分布式数据协议 (DDP) 支持数据在传输中。这一创新意义重大，因为它允许你创建优雅、强大的客户端应用程序，负责自己的渲染。你不再需要依赖复杂、过时的服务器技术，这些技术充满了状态和渲染问题，(坦白说) 这些问题本应该在几年前就得到解决。DDP 不仅属于 Meteor，甚至也不属于 JavaScript。DDP 客户端几乎在每种主要的编程语言中都有！这为许多优雅、强大的集成可能性打开了大门，允许你在现有的平台和基础设施上构建。

将 DDP 与全栈反应性相结合，为开发前端应用开辟了全新的方式。模板、数据库事务和视图/控制器逻辑得到了极大的简化，使你可以编写干净、简洁、声明式的代码。随着你不再担心繁琐的状态和 CRUD 操作，专注于快速、优雅的原型设计，你的前端开发工作将从 *几周* 减少到 *几小时*。

你对 Meteor 越熟悉，作为开发者的效率和创造力就会越高。使用 Meteor 框架进行编程确实是一种愉快的体验。本书中找到的食谱将帮助你顺利完成每个项目，并成为未来许多项目的不可或缺的参考资料。

# 本书涵盖的内容

第一章，*优化你的工作流程*，将带你了解 Meteor 开发工作流程的所有方面。它包括可重复、一致的项目模板的最佳实践；定制你的 Meteor 开发环境；以及部署你的完成项目。

第二章，*使用包进行定制*，涵盖了模块化 Meteor 打包系统的各个方面。包括搜索、安装、删除、修改、创建和部署各种包的配方。还包括有关如何使用一些更有用和流行的包的信息，包括 npm 模块和 Iron Router。

第三章，*构建优秀用户界面*，包含了使用 Blaze（Meteor 的反应式模板引擎）开发前端应用的必要配方。从基本模板到自定义组件和动画，一切都被涵盖。

第四章，*创建模型*，提供了 Meteor 提供的反应性数据/模型能力的清晰、简洁的示例。从实现简单的数据收集到高级过滤和更新插入，本章将成为你所有反应性数据需求的首选参考。

第五章，*实现 DDP*，涵盖了分布式数据协议的主要用途。从读取原始 DDP 流到与其他编程语言一起使用该协议，一切都被涵盖，并提供了易于实现的示例。

第六章，*掌握反应性*，带你了解 Meteor 前端反应性的更高级方面。这些配方带你“深入了解”，展示如何自定义和创建反应性组件，以及如何将非反应性组件（如 JQuery UI）集成到流畅、有效的用户界面中。

第七章，*使用客户端方法*，包含了旨在利用一些更有用的 HTML5 组件的高级 UI 配方。本章包含创建动态 SVG 图表、实现基于触摸的 Canvas 组件或使用 FileReader 上传和提供图像的信息和示例。

第八章，*集成第三方库*，指导你使用独立的第三方库。包括直接使用 npm 模块、实现复杂的 D3.js 图表以及使用 Polymer 构建完整 UI 的说明和解释。本章使用这些示例作为指南，你可以扩展这些指南以在 Meteor 中实现任何第三方库。

第九章，*保护你的应用程序*，介绍了 Meteor 的所有基本安全功能。当你的应用程序准备部署到生产环境时，本章中的配方将确保你的应用程序既安全又高效。

第十章, *处理账户*，深入探讨了强大且灵活的 Meteor 账户包。您将学习如何自定义账户 UI，使用如 Twitter 等外部 OAuth 提供者，甚至执行双因素认证。

第十一章, *利用高级功能*，提供了“研究生水平”的方法和示例，说明如何充分利用 Meteor 的全部功能。主要关注服务器端功能，本章涵盖了使用 EJSON 扩展/打包对象、服务器方法以及使用 Fibers 优雅地处理异步函数和回调。

第十二章，*创建有用的项目*，是其他章节的总结，以一个有用且完整的应用程序的形式出现。这些食谱将引导您创建 REST 服务、向现有应用程序添加社交分享功能、使用 Iron Router 构建完整的应用程序，以及部署到移动设备。

# 您需要为此书准备什么

本书假设您已经具备 JavaScript 和 HTML 的实际知识。熟悉 Node、npm、GitHub 以及命令行/终端将非常有帮助（但不是必需的），这对于充分利用本书中的食谱非常有帮助。

您将找到安装 Meteor 在 Mac OS X 或 Linux 上的食谱，以及使用 Meteor 在 Windows 和 Google Chromebooks 上的链接。在任何情况下，您都需要访问互联网以下载 Meteor 和社区包，并且无论操作系统如何，您都需要在您的开发机器上拥有安装权限。

对于部署到生产环境或移动设备，要求将因食谱而异。要成功完成所有食谱，您需要自己的托管服务器和 DNS 域名，以及 iOS、Android 或 Windows 移动设备和 SDK。

# 本书面向对象

本书旨在为所有经验水平的开发者提供帮助，他们希望使用 JavaScript 创建移动和全栈 Web 应用程序。许多简单的食谱可以很容易地由经验较少的开发者遵循，而一些高级食谱将需要广泛的现有 Web、移动和服务器技术的知识。任何希望创建基于 JavaScript 的全栈应用程序的应用程序或企业级 Web 开发者都将从本书中涵盖的食谱和概念中受益。

# 章节

在本书中，您会发现几个频繁出现的标题（准备工作、如何做、它是如何工作的、还有更多、以及参见）。

为了给出完成食谱的明确说明，我们按以下方式使用这些章节：

## 准备工作

本节告诉您在食谱中可以期待什么，并描述了如何设置任何软件或任何为食谱所需的初步设置。

## 如何做…

本节包含遵循食谱所需的步骤。

## 它是如何工作的…

这一节通常包含对上一节发生事件的详细解释。

## 还有更多...

这一节包含有关食谱的附加信息，以便使读者对食谱有更多的了解。

## 参见

这一节提供了对其他有助于食谱的有用信息的链接。

# 约定

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“你必须安装 curl 才能安装 Meteor。”

代码块如下设置：

```js
<head>
<title>FileTemplate</title>
</head>
<body>
<h1>Welcome to Meteor!</h1>
{{> hello}}
</body>
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```js
Package.onUse(function(api) {
api.versionsFrom('1.0.3.2');
api.addFiles('testpack.js', 'client');
api.addFiles('servertestpack.js', 'server');
});
```

任何命令行输入或输出都如下所示：

```js
$ sudo apt-get install curl

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示：“点击屏幕底部的标签为**NEW ORGANIZATION**的按钮。”

### 注意

警告或重要注意事项以如下框中的形式出现。

### 小贴士

小贴士和技巧看起来是这样的。

# 读者反馈

我们欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出你真正能从中获得最大价值的标题。

要发送给我们一般性的反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及本书的标题。

如果你对某个主题有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 图书的骄傲所有者，我们有一些事情可以帮助你从购买中获得最大价值。

## 下载示例代码

你可以从你购买的所有 Packt 出版物的账户中下载示例代码文件[`www.packtpub.com`](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。可选地，代码示例也可以从[`github.com/strack/PacktMeteorRecipes`](https://github.com/strack/PacktMeteorRecipes)下载。

## 下载本书的颜色图像

我们还为你提供了一个包含本书中使用的截图/图表颜色图像的 PDF 文件。这些颜色图像将帮助你更好地理解输出的变化。你可以从[`www.packtpub.com/sites/default/files/downloads/MeteorCookbook_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/MeteorCookbook_ColorImages.pdf)下载此文件。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 盗版

在互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过链接<mailto:copyright@packtpub.com>与我们联系，并提供疑似盗版材料的链接。

我们感谢您在保护我们作者和我们提供有价值内容的能力方面的帮助。

## 问题

如果您对本书的任何方面有问题，您可以通过链接<mailto:questions@packtpub.com>与我们联系，我们将尽力解决问题。
