# 前言

回到 1995 年春天，网络浏览器与现在的浏览器有很大不同。距离 WorldWideWeb（由 Tim Berners-Lee 编写的第一个互联网浏览器，后来更名为 Nexus）发布已经有 4 年了，距离 Mosaic 的初始发布已经有 2 年了，而 Internet Explorer 1.0 距离发布还有几个月的时间。万维网开始显示出受欢迎的迹象，尽管一些大公司对这个领域表现出了兴趣，但当时的主要颠覆者是一家名为 Netscape 的小公司。

Netscape 已经很受欢迎的浏览器 Netscape Navigator 正在制作其第二个版本，当时客户端工程团队和联合创始人 Marc Anderseen 决定 Navigator 2.0 应该嵌入一种编程语言。这项任务被分配给一位名叫 Branden Eich 的软件工程师，他在 1995 年 5 月 6 日至 5 月 15 日之间完成了这项任务，将这种语言命名为 Mocha，然后是 LiveScript，最终是 JavaScript。

Netscape Navigator 2.0 于 1995 年 9 月发布，改变了我们对网络浏览器的看法。到 1996 年 8 月，Internet Explorer 3.0 推出了自己的 JavaScript 实现，同年 11 月，Netscape 宣布他们已经向 ECMA 提交了 JavaScript 的标准化。1997 年 6 月，ECMA-262 规范发布，使 JavaScript 成为了 Web 的事实标准编程语言。

多年来，JavaScript 被许多人贬低为业余程序员的编程语言。JavaScript 的架构、分散的实现和原始的“业余”受众使专业程序员对其不屑一顾。但随后引入了 AJAX，当谷歌在 2000 年代中期发布了他们的 Gmail 和 Google Maps 应用程序时，突然间清楚地看到 AJAX 技术可以将网站转变为 Web 应用程序。这激发了新一代的 Web 开发人员将 JavaScript 开发推向新的高度。

从最初的实用库（如 jQuery 和 Prototype）开始，很快就得到了谷歌的下一个重大贡献，即 Chrome 浏览器及其于 2008 年底发布的 V8 JavaScript 引擎的推动。V8 引擎以其 JIT 编译能力大大提高了 JavaScript 的性能。这导致了 JavaScript 开发的新时代。2009 年是 JavaScript 的奇迹之年；突然间，诸如 Node.js 之类的平台使开发人员能够在服务器上运行 JavaScript，诸如 MongoDB 之类的数据库推广和简化了 JSON 存储的使用，诸如 Angular 和 React 之类的框架简化了复杂前端应用程序的创建。在其原始发布 20 多年后，JavaScript 现在无处不在。曾经是一种能够执行小脚本的“业余”编程语言，现在是世界上最流行的编程语言之一。开源协作工具的兴起，以及才华横溢的工程师的投入，创造了世界上最丰富的社区之一，许多贡献者播下的种子现在正在以纯粹的创造力迸发。

这个实际意义是巨大的。曾经是一个分散的开发团队，每个人都是自己领域的专家，现在可以成为一个能够使用单一语言跨所有层开发更精简、更敏捷软件的同质团队。

有许多全栈 JavaScript 框架，一些是由优秀团队构建的，一些解决了重要问题，但没有一个像 MEAN 堆栈那样开放和模块化。这个想法很简单，我们将 MongoDB 作为数据库，Express 作为 Web 框架，Angular 作为前端框架，Node.js 作为平台，以模块化的方式组合它们，以确保现代软件开发所需的灵活性。MEAN 的方法依赖于每个开源模块周围的社区保持其更新和稳定，确保如果其中一个模块变得无用，我们可以无缝地用更合适的模块替换它。

我想欢迎您加入 JavaScript 革命，并向您保证我会尽力帮助您成为全栈 JavaScript 开发人员。

在本书中，我们将帮助您设置您的环境，并解释如何使用最佳模块将不同的 MEAN 组件连接在一起。您将了解保持代码清晰简单的最佳实践，并学会如何避免常见陷阱。我们将逐步构建您的身份验证层并添加您的第一个实体。您将学会如何利用 JavaScript 非阻塞架构来构建服务器和客户端应用程序之间的实时通信。最后，我们将向您展示如何使用适当的测试覆盖您的代码，并向您展示自动化开发流程中使用的工具。

# 本书涵盖内容

第一章，“MEAN 简介”，向您介绍了 MEAN 堆栈，并向您展示了如何在每个操作系统上安装不同的先决条件。

第二章，“Node.js 入门”，解释了 Node.js 的基础知识以及它在 Web 应用程序开发中的使用。

第三章，“构建 Express Web 应用程序”，解释了如何通过实现 MVC 模式来创建和构建 Express 应用程序。

第四章，“MongoDB 简介”，解释了 MongoDB 的基础知识以及如何用它来存储应用程序的数据。

第五章，“Mongoose 简介”，展示了如何使用 Mongoose 将 Express 应用程序与 MongoDB 数据库连接起来。

第六章，“使用 Passport 管理用户身份验证”，解释了如何管理用户的身份验证并为他们提供不同的登录选项。

第七章，“Angular 简介”，解释了如何在 Express 应用程序中实现 Angular 应用程序。

第八章，“创建 MEAN CRUD 模块”，解释了如何编写和使用 MEAN 应用程序的实体。

第九章，“使用 Socket.io 添加实时功能”，向您展示了如何在客户端和服务器之间创建和使用实时通信。

第十章，“测试 MEAN 应用”，解释了如何自动测试 MEAN 应用的不同部分。

第十一章，“MEAN 应用的自动化和调试”，解释了如何更高效地开发 MEAN 应用程序。

# 您需要为本书做好准备

本书适合具有 HTML、CSS 和现代 JavaScript 开发基础知识的初学者和中级 Web 开发人员。

# 本书的受众

本书面向有兴趣学习如何使用 MongoDB、Express、Angular 和 Node.js 构建现代 Web 应用程序的 Web 开发人员。

# 约定

在本书中，您将找到一些文本样式，用于区分不同类型的信息。以下是这些样式的一些示例及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下：“要测试您的静态中间件，请将名为`logo.png`的图像添加到`public/img`文件夹中。”

代码块设置如下：

```js
const message = 'Hello World';

exports.sayHello = function() {
  console.log(message);
}
```

当我们希望引起您对代码块的特定部分的注意时，相关的行或项目将以粗体显示：

```js
const express = require('express');
const app = express();

app.listen(3000);

console.log('Server running at http://localhost:3000/');
```

任何命令行输入或输出都以以下方式编写：

```js
$ npm start

```

**新术语**和**重要单词**以粗体显示。屏幕上显示的单词，例如菜单或对话框中的单词，会在文本中以这种方式出现：“一旦您点击**下一步**按钮，安装应该开始。”

### 注意

警告或重要提示会以这种方式出现在框中。

### 提示

提示和技巧会以这种方式出现。
