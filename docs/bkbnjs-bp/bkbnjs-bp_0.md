# 前言

曾经有一段时间，如果你想要构建一个网络应用程序，你几乎完全得靠自己。你必须从头开始，自己弄清楚所有的事情。然而，现在有很多库和框架你可以使用来构建功能丰富的网络应用程序；Backbone 只是这些库之一。

Backbone 是一个客户端库，它提供了用于管理数据记录的模型、用于处理模型集合的集合以及用于显示数据的视图。严格来说，它不是一个 MVC 库，而是一个相对松散的工具箱，你可以以多种不同的方式使用它。

这本书不是 Backbone 的入门指南。我们不会像阅读友好的文档版本一样，逐个介绍库中的每个功能。相反，我们将从从头到尾构建整个网络应用程序的上下文中查看 Backbone。这意味着 Backbone 的一些功能——一些不为人知的函数或属性——我们根本不会使用。如果你想了解 Backbone 的每一个角落和缝隙，你应该阅读[`backbonejs.org/`](http://backbonejs.org/)上的文档。

这本书有两个目标。第一个是教会你如何使用 Backbone 构建完整的网络应用程序。一个完整的网络应用程序将不仅仅是在浏览器中运行的 JavaScript。还需要考虑 HTML 和 CSS，当然，每个应用程序都需要一个服务器。在这本书的每一章中，我们将从头开始构建不同的应用程序，我们需要创建所有这些组件。当然，这些将是客户端负载较重的应用程序，因此我们将编写的代码中的大部分将使用 Backbone。然而，因为我们正在构建完整的应用程序，你将看到我们的 Backbone 代码将如何与其他代码协同工作。

这本书的另一个目标是教会你如何理解 Backbone 的思考方式。在我们构建应用程序的过程中，我们会尽可能使用多种不同的技术。虽然 Backbone 有许多约定，但其中大多数实际上并不是你的代码正常工作所必需的。通过学习所需的内容，你可以满足这些要求，并根据你的需要编写其余的代码，无论是否遵循约定。

# 本书涵盖的内容

第一章，*构建一个简单的博客*，介绍了 Backbone 的每个主要组件以及它们是如何协同工作的。如果你之前没有使用过 Backbone，这将是一个重要的基础；如果你已经使用过，这将是你对每个 Backbone 组件目的的复习。

第二章，*构建一个照片分享应用程序*，展示了如何构建一个类似于 Instagram 的照片分享网站。在其他方面，你将学习如何自定义 Backbone 模型发送到和从服务器接收的方式。这是因为我们将使用 Backbone 模型来上传文件。

第三章, *构建实时数据仪表板*，通过构建一个不断轮询服务器以获取数据集更改的应用程序，将事物提升到下一个层次，从而创建了一个*实时*应用程序。我们还将探讨更好的代码组织。

第四章, *构建日历*，将继续构建具有良好组织代码的应用程序的主题。我们还将学习如何正确分配应用程序功能。

第五章, *构建聊天应用程序*，通过使用 Socket.IO 来控制客户端和服务器之间数据传输的方向，走向了不同的道路。此外，我们还将使用 Marionette 框架使我们的工作变得更简单。

第六章, *构建播客应用程序*，展示了并非每个 Backbone 应用程序都是客户端代码，一些应用程序将包含大量的服务器代码。我们还将探讨构建一些与 Backbone 一起工作的自定义基础设施。

第七章, *构建游戏*，通过一个有趣的项目结束了本书。我们将回顾 Backbone 的所有主要组件，以及构建非 Backbone 页面以创建更完整的 Web 应用程序。当然，我们还需要编写游戏逻辑。

# 你需要这本书的什么

由于这本书主要关于客户端代码，所以主要工具是文本编辑器和浏览器。然而，你还需要一些其他工具。你必须安装 Node.js（[`nodejs.org`](http://nodejs.org)），它包含 npm，Node 包管理器。如果你使用的是 Mac，那么这就足够了。但是，如果你使用的是 Windows，你还需要 Python 2（最好是 2.7.3）和 Express 2013 for Windows Desktop；你需要这些来安装某些章节中使用的`bcrypt` Node.js 包。

# 这本书是为谁写的

这本书是为任何想要熟练学习 Backbone 库的人编写的；通过构建七个非常不同的应用程序，你将快速学会 Backbone 的所有细节。希望你也能提高你的编码技能，无论是客户端还是服务器编码。

当然，在我们开始之前，你需要了解一些事情。你应该对 JavaScript 有相当的工作知识。更细致的语言特性将在文本中解释，但你应该大部分时间都能应对自如。此外，我们编写的所有服务器代码都将使用 Node.js，因此你需要熟悉它。如果你理解 Node.js 代码通常是异步的，这就是为什么它使用回调的原因，那么你没问题。你需要熟悉 HTML 和 CSS；虽然它们不会特别突出，但它们仍将扮演一定的角色。

你可能会想知道你是否需要熟悉 Backbone 才能从这本书中受益。如果你理解 Backbone 的基础知识以及其主要组件的一般用途，你可能会感到更加自在。然而，如果你还没有使用过它，请不要担心。第一章节将通过在一个简单的应用程序中使用 Backbone 的各个部分来向你介绍 Backbone 的所有内容。

# 术语

在这本书中，你会找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 处理方式如下所示：“接下来，我们可以在`public`目录中创建一个名为`app.js`的文件。”

代码块如下设置：

```js
var Posts = Backbone.Collection.extend({
  model: Post,
  url: "/posts"
});
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```js
var User = Backbone.Model.extend({
  url: function () {
    return '/user-' + this.get('id') + '.json';
  }
});
```

任何命令行输入或输出都如下所示：

```js
npm install passport --save

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，文本中会这样显示：“输入一个名字并点击**加入**，名字将出现在列表上方。”

### 注意

警告或重要注意事项如下所示。

### 小贴士

小技巧和技巧如下所示。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或可能不喜欢什么。读者反馈对我们开发你真正能从中获得最大收益的标题非常重要。

要发送给我们一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果你在某个领域有专业知识，并且对撰写或参与书籍感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 书籍的骄傲所有者，我们有一些事情可以帮助你从购买中获得最大收益。

## 下载示例代码

你可以从你购买的所有 Packt 书籍的账户中下载示例代码文件。[`www.packtpub.com`](http://www.packtpub.com)。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便直接将文件通过电子邮件发送给你。

## 错误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。您可以通过选择您的标题从[`www.packtpub.com/support`](http://www.packtpub.com/support)查看任何现有勘误。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供疑似盗版材料的链接。

我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。

## 询问

如果您在本书的任何方面遇到问题，可以通过`<questions@packtpub.com>`联系我们，我们将尽力解决。
