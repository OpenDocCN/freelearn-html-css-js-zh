# 前言

我们生活在信息时代，其中大量的信息易于以地理方式表示。这可能是使地理信息系统（GIS）成为许多公司最重要的方面之一的主要特征。与 GIS 相关的技术是一个不断发展的行业，因此 GIS 已成为许多专业人士渴望的技能。

互联网的通用性和浏览器性能的提升使得互联网成为当前 GIS 的主要部分成为可能，并由于其能力降低了桌面应用程序的重要性：浏览器允许我们向大众展示数据可视化，创建在线数据编辑器等。

现在，OpenLayers 是最完整、功能最强大的开源 JavaScript 库，可以创建任何类型的网络制图应用程序。除了提供一套优秀的组件，如地图、图层或控件外，OpenLayers 还提供了使用许多不同数据格式访问大量数据源的能力，实现了来自*开放地理空间联盟（OGC）*的许多标准，并且与几乎所有的浏览器兼容。

# 本书涵盖的内容

第一章, *网络制图基础*，向读者介绍了 OpenLayers，并描述了创建地图、管理图层堆栈、处理控件以及如何在项目中添加 OpenLayers 的基本方法。

第二章, *添加栅格图层*，主要围绕处理和理解主要栅格图层。OpenLayers 提供了与主要服务提供商（如 Google 或 Bing）一起工作的机会，以及与开源的（如 OpenStreetMap）集成，或者与 WMS 服务器一起工作。

第三章, *处理矢量图层*，探讨了矢量图层的力量，并解释了我们可以如何使用不同的格式从不同的来源加载数据，以及我们如何创建特征、标记和弹出窗口。

第四章, *处理事件*，描述了事件的重要性以及当它们由 OpenLayers 组件（如地图或图层）触发时，我们如何做出反应，每次向地图添加图层、加载图层、添加特征等。

第五章, *添加控件*，解释了如何管理控件，并描述了 OpenLayers 向用户提供的最常用和最重要的控件：添加或编辑特征、测量距离、获取特征信息等。

第六章, *主题化*，描述了 OpenLayers 是如何设计来控制其组件的外观的。本章展示了我们如何改变控件的位置或外观，并介绍了创建全新主题的基础知识。

第七章, *特征样式*，完全致力于展示我们如何控制特征的显示：我们用来样式化特征的多种方式、渲染器的概念、根据特征属性进行样式化等。

第八章, *高级内容*，探讨了 OpenLayers 的一些高级主题：处理投影、请求远程数据、创建新的控件等。它收集了一些食谱，展示了 OpenLayers 为开发者提供的可能性。

# 阅读本书所需的条件

由于 OpenLayers 是一个必须集成在 HTML 页面中的 JavaScript 库，这意味着用户必须熟悉这些技术。

要运行食谱，您需要将代码包放置在提供页面的 HTTP 服务器中。食谱代码所需的全部库依赖项，如 OpenLayers 或 Dojo 工具包([`dojotoolkit.org`](http://dojotoolkit.org))，都包含在包本身中。

一些食谱需要从源包中包含的 PHP 脚本请求数据。这些脚本的功能是生成一些随机数据，以便稍后将其集成到地图中。为了正确运行这些食谱，读者需要一个支持 PHP 的 HTTP 服务器。

XAMPP([`www.apachefriends.org/en/xampp.html`](http://www.apachefriends.org/en/xampp.html))或 Bitnami Stacks([`bitnami.org/stack/lampstack`](http://bitnami.org/stack/lampstack))等解决方案是安装所需堆栈的简单方法。

为了更好的用户体验，我们创建了一个主要应用程序，允许运行所需的食谱并显示其源代码。假设读者已经安装并配置了本地 Web 服务器，并且将代码包复制到 HTTP 服务器根内容文件夹中的`openlayers-cookbook`文件夹中，用户可以通过在浏览器中访问[`localhost/openlayers-cookbook/index.html`](http://localhost/openlayers-cookbook/index.html) URL 来运行主应用程序。

我们在许多食谱中使用了 Dojo 工具包，因为它允许我们创建丰富的组件，如滑块或切换按钮。Dojo 的 JavaScript 库和 CSS 文件包含在`index.html`文件中，因此 HTML 食谱文件不需要包含它们。如果读者计划将食谱作为独立的 Web 页面运行，他/她需要在食谱文件中包含 Dojo 的 JavaScript 库和 CSS 文件，否则食谱将无法正常工作。

# 这本书面向的对象

这本书非常适合需要创建网络地图应用的 GIS 相关专业人士。

从基础知识到高级主题，本书的食谱直接涵盖了用户在日常工作中可能遇到的最常见问题。

# 习惯用法

在这本书中，您将找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例，以及它们含义的解释。

文本中的代码单词显示如下：“`topLayer()`和`bottomLayer()`动作也相似，它们将指定的图层移动到堆栈的顶部或底部。”

代码块设置如下：

```js
<style> 
    html, body { 
        width: 100%; 
        height: 100%; 
        margin: 0; 
        padding: 0; 
    } 
</style>

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“以下截图中的图层不透明度设置为**50%**。”

### 注意

警告或重要提示以如下框形式出现。

### 注意

技巧和窍门如下所示。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要发送一般反馈，只需发送电子邮件到 `<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们在 [www.packtpub.com/authors](http://www.packtpub.com/authors) 上的作者指南。

# 客户支持

现在，您已经成为 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从您在 [`www.packtpub.com`](http://www.packtpub.com) 的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问 [`www.packtpub.com/support`](http://www.packtpub.com/support) 并注册，以便将文件直接通过电子邮件发送给您。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/support`](http://www.packtpub.com/support) 报告它们，选择您的书，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分中现有的勘误列表。

## 侵权

互联网上版权材料的侵权是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以追究补救措施。

请通过 `<copyright@packtpub.com>` 与我们联系，并提供疑似侵权材料的链接。

我们感谢您在保护我们作者以及为我们提供有价值内容的能力方面提供的帮助。

## 问题

如果你在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
