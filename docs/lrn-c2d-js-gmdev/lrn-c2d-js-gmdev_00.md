# 前言

移动 HTML5 休闲游戏正经历着一个黄金时代。不仅包括著名的 Flash 热门游戏和成功的本地移动游戏，还包括为移动浏览器量身定制的原创游戏，每天都有数百万玩家在玩。

随着越来越多的移动设备可供玩 HTML5 游戏，并且每个设备都有其自己的分辨率、显示尺寸和比例，为每个设备创建一个游戏版本将让你浪费很多时间。这就是为什么有一种新的制作 HTML5 游戏的方法，称为 **跨平台**。这意味着你只需创建一个游戏，一些魔法就会将其适配到所有能够运行 HTML5 内容的设备。

这种魔法被称为 **Cocos2d-JS**，它允许你专注于你真正热爱的事情，制作游戏，并处理屏幕分辨率和比例。此外，你将使用最简单、最广为人知的语言之一：JavaScript。最后但同样重要的是，它是免费的。你可以免费创建下一个大游戏。

在整本书中，你将学习如何以最有趣和最有效的方式使用 Cocos2d-JS 制作游戏。我们知道你讨厌无聊的理论，所以我们尽最大努力将整本书聚焦于一个单词：行动。

通过从最成功的游戏类型中提取的示例学习 Cocos2d-JS；看看创建一个游戏有多容易，然后让它运行在每个设备上。

# 本书涵盖内容

第一章, *Hello World – 一个跨平台游戏*，将向你展示如何创建一个蓝图，你将使用它来制作每一个用 Cocos2d-JS 制作的游戏。这一章还将指导你创建一个环境，用于创建和测试你的跨平台游戏。

第二章, *添加交互性 – 浓缩游戏的制作*，指导你创建最受欢迎的游戏之一，让你学习如何创建精灵并与它们交互，无论是用鼠标还是用手指。

第三章, *在屏幕上移动精灵 – 无尽跑酷*，介绍了使用运动缓动创建以太空为主题的无尽跑酷游戏中的滚动和精灵移动。粒子效果和碰撞检测完善了游戏体验。

第四章, *通过制作 Sokoban 学习滑动*，展示了如何创建一个经典的益智游戏，你可以通过最直观的方式控制游戏：在游戏上滑动。

第五章, *成为音乐大师*，探讨了在游戏中拥有音效和背景音乐的重要性。这一章还展示了如何通过调整音量来开始和停止声音和循环。

第六章, *使用虚拟摇杆控制游戏*，提供了三种不同的方法，在构建水果游戏时使用虚拟摇杆来控制您的游戏。虚拟按钮和模拟摇杆将成为您创建下一个游戏时的最佳伙伴。

第七章, *使用 Box2D 引擎为您的游戏添加物理效果*，展示了在制作热门游戏《图腾破坏者》时物理引擎的神奇之处，您将轻松地使用 Box2D 物理引擎构建它。您还将学习如何在真实的物理环境中创建、销毁、皮肤和与物理体交互。

第八章, *使用 Chipmunk2D 引擎为您的游戏添加物理效果*，创建了相同的《图腾破坏者》游戏，这次使用的是 Chipmunk2D 而不是 Box2D。尽管网络被*Box2D 与 Chipmunk2D 之战*所分割，您将学习两者，将您喜欢的物理引擎的选择权留给自己。

第九章, *创建您的自己的热门游戏 - 一个完整的匹配 3 游戏*，通过创建当今最成功的游戏类型之一：匹配 3 游戏来完善本书。在章节末尾，您还将找到一些关于保护、推广、营销和货币化您游戏的提示和建议。

# 您需要本书的内容

Cocos2d-JS 非常易于使用，除了免费之外；它基本上不需要除了文本编辑器和服务器来运行您的项目。如果您愿意，可以使用 Cocos2d-JS 官方 IDE，但如果您更喜欢，欢迎使用您喜欢的文本编辑器。

# 本书面向对象

无论您是来自其他语言的资深游戏开发者还是完全的新手，这本书都可以指导您通过创建跨平台游戏。建议您具备一些 JavaScript 的基本知识，然后只需跟随书中的示例即可。

# 惯例

在这本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示："我发现自己在用一系列`if`.. `then`.. `else`尝试使游戏在任何设备上看起来都很好。"

以下是一个代码块的设置：

```js
var gameScene = cc.Scene.extend({
  onEnter:function () {
    this._super();
    gameLayer = new game();
    gameLayer.init();
    this.addChild(gameLayer);
  }
});
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```js
var gameScene = cc.Scene.extend({
  onEnter:function () {
    this._super();
    gameLayer = new game();
    gameLayer.init();
    this.addChild(gameLayer);
  }
});
```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示："如果您现在打开开发者控制台，您应该看到：**我的精彩游戏从这里开始**"。

### 注意

警告或重要注意事项以这种方式出现在一个框中。

### 小贴士

小技巧和技巧以这种方式出现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者的反馈对我们开发您真正能从中受益的标题非常重要。

要向我们发送一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在您的邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为本书做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者了，我们有许多事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表的颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出的变化。您可以从：[`www.packtpub.com/sites/default/files/downloads/0075OS_ColoredImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/0075OS_ColoredImages.pdf)下载此文件。

## 勘误

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)来报告它们，选择您的书籍，点击**勘误****提交****表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。您可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看任何现有勘误。

## 盗版

在互联网上盗版版权材料是一个跨所有媒体持续存在的问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即向我们提供位置地址或网站名称，以便我们可以追究补救措施。

如果您发现了疑似盗版材料，请通过 `<copyright@packtpub.com>` 联系我们，并提供链接。

我们感谢您在保护我们作者以及为我们提供有价值内容方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
