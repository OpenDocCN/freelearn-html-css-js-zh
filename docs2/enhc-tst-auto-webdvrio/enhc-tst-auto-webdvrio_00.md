# 前言

欢迎加入，让我们带着我们的超级英雄主题技术手册，踏上一次非凡的编码之旅！随着每一章的展开，就像一本激动人心的漫画书冒险故事一样，告别平凡。与传统超级英雄不同，你不需要与放射性蜘蛛接触就能解锁你的编码能力。相反，你将装备上使用 TypeScript 的 WebdriverIO 的基本工具，打造一个强大的框架。

对于那些即将成为**软件开发测试工程师（SDET）**的人来说，跃入设置 JavaScript 编码环境、运行那个开创性的测试并希望获得胜利通过结果的诱惑可能很强。我们曾经有过这样的经历，但后来发现一些关键工具被忽视了，这些工具本可以在一开始就使道路变得顺畅。这就是为什么开篇章节深入探讨了系统规格、工具和配置，为从第一天开始编写优质代码奠定基础。

准备好由那些在 SDET 超级英雄联盟中度过 20 多年的作者们的智慧引导。发现提示、技巧、经验法则和高级技术，这些都有助于你不仅编写更多的测试，而且优雅地应对调试挑战。提升你的测试框架到超级英雄的水平——稳定、可扩展且需要最少的代码维护。准备好释放你的编码超级力量，并在编码超级英雄宇宙中留下你的印记！

# 本书面向对象

本书是面向所有级别的测试自动化爱好者的超级英雄工具包，从新手到数字领域的资深冠军。它通过 TypeScript 中的 WebdriverIO 和 Jasmine 赋予用户超级力量，提供了一系列代码示例、Jenkins 的高级策略和基于云的自动化策略。无论你是刚刚被测试自动化世界的自动化虫咬，还是一位想要升级腰带装备的披风老将，这本书都是你掌握测试自动化艺术的秘密武器。

# 本书涵盖内容

*第一章*，*超级英雄的腰带——每个 SDET 需要的工具*，概述了需要安装的初始准备工具，包括 Node、Yarn 和 VS Code IDE 配置。

*第二章*，*孤独堡垒——配置 WebdriverIO*，涵盖了设置项目工作空间文件夹，并概述了 WDIO 安装选项以运行我们的第一个测试。

*第三章*，*网络增强——WebdriverIO 配置和调试技巧*，深入探讨了包文件和 WDIO 配置选项，包括 Mac 和 Windows，以及用于增强日志记录的功能包装器概念。

*第四章*, *超级速度 – 时间旅行悖论和未兑现的承诺*，深入探讨了多线程执行中的挑战，这些挑战可以通过 async 和 await 命令得到解决。

*第五章*, *替代自我 – 为什么我们需要函数包装器*？介绍了辅助文件、交换机对象、一个智能的`click()`包装器，该包装器利用`pageSync()`函数并解决与速度相关的时序问题。

*第六章*, *setValue 包装器 – 输入文本和动态数据替换*，介绍了带有动态数据标签的`setValue()`包装器，它提供多种格式的偏移日期。

*第七章*, *选择包装器 – 在列表和组合框中选择值*，介绍了`select()`包装器，它处理多种类型的下拉元素和高级滚动，以避免对象重叠错误。

*第八章*, *断言包装器 – 内嵌细节的重要性*，介绍了一个带有自定义 Allure 报告和截图的软断言包装器。

*第九章*, *古代咒语书 – 构建页面对象模型*，介绍了带有 xPath 和 CSS 定位符的页面类和原子操作。

*第十章*, *增强灵活性 – 编写健壮的选择器和减少维护*，深入探讨了高级 xPath 技巧和自我修复策略，以减少维护。

*第十一章*, *回声定位 – 跳过页面对象模型*，通过相对元素位置增强了仅通过文本查找元素的三种基本操作。

*第十二章*, *超级英雄着陆 – 设置灵活的导航选项*，介绍了在不同测试环境中运行测试的概念，在这些环境中，元素可能已被删除或尚未存在，而不会失败。

*第十三章*, *多元宇宙 – 跨浏览器和跨环境测试*，介绍了通过横向测试多个操作系统和浏览器的风险和回报，以扩展覆盖范围。

*第十四章*, *时间旅行者的困境 – 驱动状态端到端用户旅程*，讨论了创建不依赖于任何特定页面跟随另一个页面的端到端测试的高级概念，并具有自定义决策点和错误检测。

*第十五章*, *感知之帽 – 使用 Jenkins 和 LambdaTest 在 CI/CD 管道中运行测试*，将测试自动化带回到可以调用在云中生成复杂工件的手动测试人员，他们可以通过简单的描述性语句访问视频捕获回放。

*附录*，*TypeScript 错误消息、原因和解决方案终极指南*，提供了从多年项目开发中收集的大量错误消息、潜在原因和解决方案。

# 要充分利用本书

| **本书涵盖的软件** | **操作系统要求** |
| --- | --- |
| WebdriverIO v.8 | Windows、macOS 或 Linux |
| TypeScript v.5.1.6 |  |
| Java JDK @latest |  |
| Node v.18 |  |
| Yarn @latest |  |
| Git @latest |  |
| GitHub Desktop 最新版本 | GitHub 和 GitLab 的 GUI 前端 |
| SelectorsHub 5.0 免费版 | Chrome 扩展程序 |
| EditThisCookie | Chrome 扩展程序 |
| VS Code |  |
| Belarc Advisor Profiler（可选）免费，单次，个人使用许可 | 仅限 Windows |

作者们试图使用免费工具为读者提供便利。还有其他付费 IDE 可用，它们提供更多编码功能以使生活更轻松。此外，SelectorsHub 的免费版本做得非常出色，但我们推荐付费 Pro 版本，因为它具有高级 Shadow Dom 功能。免费 GitHub 账户是公开的，而付费仓库是私有的。

**如果您使用的是本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节将提供链接）获取代码。这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。**

如果您对自动化测试是新手，我们建议您获取与您将要支持的产品开发团队使用的规格相当或更好的机器。有一种常见的误解认为自动化只是“录制和播放”，并且不需要重型资源。有一个简单的事实需要记住：并行浏览器和虚拟机测试需要更多的资源。

# 下载示例代码文件

您可以从 GitHub（[`github.com/PacktPublishing/Enhanced-Test-Automation-with-WebdriverIO`](https://github.com/PacktPublishing/Enhanced-Test-Automation-with-WebdriverIO)）下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们还提供其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“我们有一个`host`命令和一个`ghost`派对。编写这一行代码可能会从`ghost`字符串中获取`host`命令。”

代码块设置如下：

```js
Set JOURNEY="Attend Ghost"; yarn ch15
if (journey.includes(" host").toLowerCase()) {
// Host path being taken in error.
}
```

任何命令行输入或输出都应如下编写：

```js
[0-0] ---> Clicking button[type="submit"] ...
[0-0] ---> button clicked.
[0-0] ---> pageSync() completed in 25 ms
[0-0] ---> Clicking button[type="bogus"] ...
[0-0] ---> button[type="submit"] was not clicked.
[0-0] Error: Can't call click on element with selector "button[type="bogus"]" because element wasn't found
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词以**粗体**显示。以下是一个示例：“在这个例子中，用户没有参加派对，而是点击了**我害怕**按钮。”

小贴士或重要注意事项

看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过电子邮件发送至 customercare@packtpub.com，并在邮件主题中提及书名。

**勘误表**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告，请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)并填写表格。

**盗版**：如果您在互联网上发现我们作品的任何形式的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过 copyright@packtpub.com 与我们联系，并提供材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com.](http://authors.packtpub.com.)

# 分享您的想法

一旦您阅读了《使用 WebdriverIO 增强测试自动化》，我们很乐意听到您的想法！请[点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1837630186)并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但无法携带您的印刷书籍到处走？您的电子书购买是否与您选择的设备不兼容？

别担心，现在，每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止这些，您还可以获得独家折扣、新闻通讯和每日免费内容的访问权限

按照以下简单步骤获取福利：

1.  扫描下面的二维码或访问以下链接

![](img/B19395_QR_Free_PDF.jpg)

[`packt.link/free-ebook/978-1-83763-018-9`](https://packt.link/free-ebook/978-1-83763-018-9)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他福利发送到您的邮箱
