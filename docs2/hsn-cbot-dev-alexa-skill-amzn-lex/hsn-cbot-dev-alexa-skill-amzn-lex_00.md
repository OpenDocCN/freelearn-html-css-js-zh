# 前言

聊天机器人正在日常生活中变得越来越普遍，目前 Alexa 已经进入 16%的家庭，并且有超过 10 万个 Facebook 聊天机器人。聊天机器人提供了一种更自然的人与人交互技术，即通过对话。

在本书中，我们将学习如何使用亚马逊 Alexa 和 Lex 构建自己的语音和文本聊天机器人。这些平台使我们能够使用非常强大的技术来理解用户所说的话。我们还了解创建聊天机器人的设计过程以及我们如何为用户提供出色的体验。

# 本书面向对象

本书适用于任何想要能够构建 Alexa 技能或 Lex 聊天机器人的人。无论您是想为个人项目构建它们，还是作为您工作的一部分，本书都将为您提供所有需要的工具。您将能够将一个想法转化为构建对话流程图，用用户故事进行测试，然后构建您的 Alexa 技能或 Lex 聊天机器人。

# 本书涵盖内容

第一章，*理解聊天机器人*，首先解释了构建对话界面的相关概念。我们将学习如何从一个示例用户对话开始，构建流程图来可视化用户与聊天机器人的交互路径。本章接着将讨论聊天机器人的类型，并介绍亚马逊 Alexa 的语音技能和亚马逊 Lex 的基于文本的聊天机器人。

第二章，*AWS 和 Amazon CLI 入门*，教我们关于 AWS Lambda 的知识，以及这些无服务器函数如何在浏览器中构建和测试。在构建我们的第一个 Lambda 之后，我们讨论了三种不同的构建和部署方法，比较了每种方法的优点和局限性。为了创建最强大的开发环境，我们使用`aws-cli`构建一个脚本，允许我们从本地开发环境部署 Lambda。

第三章，*创建您的第一个 Alexa 技能*，介绍了 Alexa 技能套件，并指导我们构建第一个 Alexa 技能。我们学习如何构建 Lambda 来处理用户的请求并返回我们想要发送给用户的响应。为了创建一个更真实的情况，我们创建了一个基于一系列问题的技能，为用户推荐一辆车。我们使用第一章，*理解聊天机器人*中讨论的流程设计过程，在创建意图之前绘制出用户与我们的技能的交互图。我们使用的 Lambda 随着*槽位提取*和包含存储在 S3 中的数据的加入而变得更加复杂。

第四章，*将您的 Alexa 技能连接到外部 API*，通过访问外部 API 将我们的 Alexa 技能提升到新的功能水平。API 访问可以为您的聊天机器人提供大量的功能，但需要正确执行。我们将了解两种处理错误和构建天气技能的最佳方法。

第五章，*构建您的第一个 Amazon Lex 聊天机器人*，将焦点转向 Amazon Lex 聊天机器人。概念和组件与我们用来构建我们的 Alexa 技能的类似，因此在我们构建第一个 Lex 聊天机器人之前，我们只需要快速复习一下。虽然 Lex 和 Alexa 很相似，但我们很快就能看到在处理意图方面存在一些关键差异。为了创建一个更真实的项目，我们构建了一个 FAQ 聊天机器人。这个 Lex 聊天机器人利用意图处理，根据触发的意图触发三个 Lambda 中的一个。这些 Lambda 从 S3 获取响应，并使用我们将会构建的`LexResponses`类进行回复。

第六章，*将 Lex 机器人连接到 DynamoDB*，介绍了 DynamoDB 数据库以及我们如何使用它们来存储有关用户交互的信息。我们使用它构建了一个购物聊天机器人，该机器人可以存储用户的购物车，甚至允许他们保存购物车以供以后使用。这个聊天机器人的流程复杂性更接近于您从真实项目中期望的，这在代码量上得到了体现。

第七章，*将您的聊天机器人发布到 Facebook、Slack、Twilio 和 HTTP*，教我们如何发布我们的聊天机器人并将它们集成到平台中，包括 Facebook 和 Slack。我们使用 Amazon Lex 内置的集成工具使这个过程尽可能简单。接下来，我们使用 API Gateway 和 Lambda 构建一个 API 端点，以便我们可以为其他服务开发集成。我们使用这个 API 来创建我们自己的前端界面，我们可以将其集成到其他网站中。

第八章，*提升您的机器人用户体验*，讨论了几种让用户体验更加愉悦的方法。这包括在 Lex 对话中创建和发送卡片，以及在 Alexa 技能中使用*搜索查询*槽类型。卡片为用户提供了一种更直观的交互方式，而*搜索查询*槽允许用户搜索比自定义或内置槽类型更广泛的价值范围。

第九章，*回顾与持续发展*，为我们提供了关于我们可以继续发展我们的聊天机器人技能的方向的一些指导。对于那些更喜欢 Alexa 的人和那些想要追求更多 Lex 技能的人，以及一套可以提升你在两个聊天机器人平台上的能力的一组技能。在此之后，我们讨论了聊天机器人的未来，它们将走向何方，以及它们真正融入我们日常生活之前需要发生什么。

# 为了充分利用这本书

这里有一份你应该拥有的清单，以便充分利用这本书。你可以不使用第二或第三项内容完成这本书，但缺少它们会使过程更难：

+   至少了解 AWS 支持的一种高级编程语言的知识，但最好是 JavaScript

+   使用 Linux 或 macOS 的命令行工具的基本经验

+   对 AWS 服务的初步了解有帮助，但不是必需的

# 下载示例代码文件

你可以从[www.packt.com](http://www.packt.com)的账户下载这本书的示例代码文件。如果你在其他地方购买了这本书，你可以访问[www.packt.com/support](http://www.packt.com/support)并注册，以便将文件直接通过电子邮件发送给你。

你可以通过以下步骤下载代码文件：

1.  在[www.packt.com](http://www.packt.com)上登录或注册。

1.  选择支持选项卡。

1.  点击代码下载与勘误。

1.  在搜索框中输入书名，并遵循屏幕上的说明。

下载文件后，请确保您使用最新版本的以下软件解压缩或提取文件夹：

+   Windows 上的 WinRAR/7-Zip

+   Mac 上的 Zipeg/iZip/UnRarX

+   Linux 上的 7-Zip/PeaZip

书籍的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Chatbot-Development-with-Alexa-Skills-and-Amazon-Lex`](https://github.com/PacktPublishing/Hands-On-Chatbot-Development-with-Alexa-Skills-and-Amazon-Lex)。如果代码有更新，它将在现有的 GitHub 仓库中更新。

我们还有其他来自我们丰富的书籍和视频目录的代码包，可在**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**找到。查看它们吧！

# 下载彩色图像

我们还提供了一份包含本书中使用的截图/图表彩色图像的 PDF 文件。您可以从这里下载：[`www.packtpub.com/sites/default/files/downloads/9781788993487_ColorImages.pdf`](https://www.packtpub.com/sites/default/files/downloads/9781788993487_ColorImages.pdf)。

# 使用的约定

本书中使用了多种文本约定。

`CodeInText`：表示文本中的代码、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“将下载的`WebStorm-10*.dmg`磁盘映像文件作为系统中的另一个磁盘挂载。”

代码块设置如下：

```js
html, body, #map {
    height: 100%; 
    margin: 0;
    padding: 0
}
```

当我们希望引起您对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```js
[default]
exten => s,1,Dial(Zap/1|30)
exten => s,2,Voicemail(u100)
exten => s,102,Voicemail(b100)
exten => i,1,Voicemail(s0)
```

任何命令行输入或输出都应如下所示：

```js
$ mkdir css
$ cd css
```

**粗体**: 表示新术语、重要词汇或屏幕上看到的词汇。例如，菜单或对话框中的文字会像这样显示。以下是一个例子：“从管理面板中选择系统信息。”

警告或重要注意事项会像这样显示。

小贴士和技巧会像这样显示。

# 联系我们

我们欢迎读者的反馈。

**一般反馈**: 如果您对本书的任何方面有疑问，请在邮件主题中提及书名，并通过`customercare@packtpub.com`将邮件发送给我们。

**勘误**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们将不胜感激，如果您能向我们报告这个错误。请访问[www.packt.com/submit-errata](http://www.packt.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`与我们联系，并附上材料的链接。

**如果您有兴趣成为作者**: 如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

一旦你阅读并使用了这本书，为何不在你购买它的网站上留下评论呢？潜在的读者可以看到并使用你的客观意见来做出购买决定，Packt 出版社可以了解你对我们的产品的看法，我们的作者也可以看到他们对书籍的反馈。谢谢！

关于 Packt 的更多信息，请访问[packt.com](http://www.packt.com/)。
