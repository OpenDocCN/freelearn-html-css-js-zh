# 前言

Knockout 是基于一个起源于微软的模式构建的。这个模型是模型-视图-视图模型（MVVM），我认为向新用户介绍这个模式是更广泛采用的最大障碍之一。几乎每个其他的 JavaScript 库或框架，以及大多数服务器端框架，都是围绕模型-视图-控制器（MVC）模式构建的，两者之间的区别有时甚至对经验丰富的开发者来说都令人困惑。这个问题由于一些大型框架，如 AngularJS，最终形成了一个几乎与 MVVM 相同的模式而加剧。

Knockout 的文档非常出色，其实时示例和交互式教程也是最好的之一。然而，当涉及到组织完整的应用程序时，还需要更多的解释。当我开始写这本书的时候，亚马逊上只有一本关于 Knockout 的书，而且评价并不好。似乎缺少一本完整的指南，用于使用 Knockout 作为前端堆栈的核心组件。

我现在已经使用 Knockout 3 年了，并且在过去 2 年里一直是 StackOverflow 和 GitHub 上社区的一个活跃成员。我已在几个专业应用以及大约十个个人项目中使用了 Knockout。到目前为止，它是我最喜欢的 JavaScript 库，并且我强烈倾向于使用 MVVM 而不是 MVC 来开发客户端应用程序。希望这本书能给你提供所有你需要的东西，以便在 Knockout 上取得成功。

# 关于 Knockout 3.2 的笔记

当这本书正在编写时，Knockout 3.2 被发布了。第四章，*使用组件和模块进行应用程序开发*，被重写以包含组件功能，并对其他章节进行了一些小的修改，以确保它们的准确性。然而，大多数代码示例都是针对 Knockout 3.1 编写的，因此它们没有利用 Knockout 3.2 中发布的纯计算可观察对象或其他功能。

# 本书涵盖的内容

第一章，*Knockout 基础知识*，涵盖了 Knockout 库的环境设置和基本使用。它还涵盖了数据绑定、可观察对象、绑定处理程序和扩展器，并演示了一个简单的 Knockout 联系人列表应用程序。

第二章，*使用自定义绑定处理程序扩展 Knockout*，为你提供了深入的知识，了解如何创建和使用自定义绑定处理程序。它包括简单的单属性绑定处理程序，以及具有模板的复杂多属性绑定处理程序。

第三章，*使用预处理器和提供者扩展 Knockout*，教您如何使用 node 和绑定预处理器以及绑定提供者来自定义 Knockout 的语法。它还探讨了 Knockout Punches 库。

第四章，*使用组件和模块进行应用程序开发*，解释了如何使用 RequireJS 异步模块定义（AMD）与 Knockout 一起创建有组织的、模块化的视图模型。它还教授您如何使用新的 Knockout 组件功能以及如何继续使用联系人列表演示应用程序。

第五章，*Durandal – the Knockout Framework*，探讨了基于 Knockout 的 Durandal 框架的基础知识。本章涵盖了组合、路由、模态对话框和自定义小部件。

第六章，*高级 Durandal*，继续探讨 Durandal 框架的使用。本章涵盖了事件、高级组合、嵌套路由、自定义对话框和可观察插件。

第七章，*最佳实践*，深入探讨了 Knockout 的内部工作原理。它包括依赖检测和发布/订阅实现、可观察继承、模板引擎以及完整的 Knockout 实用工具（ko.utils）参考。

第八章，*插件和其他 Knockout 库*，为您提供了 Knockout 开发者推荐的模式和最佳实践的概述。

第九章，*内部结构*，涵盖了几个流行的 Knockout 插件，包括 Knockout 验证、Knockout 映射和新的 Knockout-ES5 插件。

# 您需要为本书准备的内容

您需要一个 ES5 兼容的浏览器、Git 和 Node.js。本书中的代码可以在任何操作系统上运行。

# 本书面向的对象

如果您是一位寻求新工具来构建 Web 应用程序并了解核心元素和应用的资深 JavaScript 开发者，这本书就是为您准备的。假设您对 DOM、JavaScript 和 KnockoutJS 有基本了解。

# 习惯用法

在本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称的显示方式如下：“每个章节开始所需的全部代码都可以在名为`cp[章节编号]-[示例]`的分支中找到。”

代码块设置如下：

```js
var subtotal = ko.observable(0);
var tax = ko.observable(0.05);
var total = ko.computed(function() {
  var subtotal = parseFloat(self.subtotal()),
  tax = parseFloat(self.tax());
  return subtotal * (1 + tax);
});
```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“您可能已经注意到在前一节中，当**联系人**页面视图模型与数据服务通信时，它并没有处理 JSON，而是处理真实的 JavaScript 对象。”

### 注意

警告或重要注意事项以这种方式出现在框中。

### 小贴士

小技巧和技巧看起来像这样。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要发送一般性反馈，请简单地发送一封电子邮件到 `<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已经成为 Packt 书籍的骄傲所有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从您在 [`www.packtpub.com`](http://www.packtpub.com) 购买的 Packt 书籍的账户中下载示例代码文件。如果您在其他地方购买了这本书，您可以访问 [`www.packtpub.com/support`](http://www.packtpub.com/support) 并注册，以便将文件直接通过电子邮件发送给您。

此外，本书的代码是 Git 仓库的一部分，可在 GitHub 上找到，网址为 [`github.com/tyrsius/MasteringKnockout`](https://github.com/tyrsius/MasteringKnockout)。代码示例按分支组织在仓库中。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata) 来报告它们，选择您的书，点击**勘误提交表单**链接，并输入您的勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。任何现有勘误都可以通过从 [`www.packtpub.com/support`](http://www.packtpub.com/support) 选择您的标题来查看。

## 侵权

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者以及为我们提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
