# 前言

在当今的数字时代，网络开发不断演变，几乎每天都有新的工具和框架出现。其中，Svelte 独树一帜，在最近的一次开发者调查中被选为最受欢迎的框架（[`survey.stackoverflow.co/2022/#section-most-loved-dreaded-and-wanted-web-frameworks-and-technologies`](https://survey.stackoverflow.co/2022/#section-most-loved-dreaded-and-wanted-web-frameworks-and-technologies)）。Svelte 通过优化性能和提供直观的设计，以及功能齐全，带来了全新的视角。

虽然其他资源涵盖了 Svelte 的众多功能，但本书提供了一个独特的视角和方法。我们将深入探讨关键 Svelte 功能，解密核心概念。通过实际、真实的案例，我们不仅会教授“如何”，还会解释每种方法的“为什么”。通过理解底层原理和思维过程，你将能够无缝地将所学知识整合到你的 Svelte 项目中。

# 本书面向对象

本书专为具有 JavaScript、CSS 和一般网络开发实践基础知识的网络开发人员和软件工程师量身定制。无论你是 Svelte 的新手，渴望深入了解，还是已经接触过其基础知识但希望通过实际案例和模式提升你的专业知识，这本指南都是为你准备的。除了提供指导外，内容还深入探讨了每个概念背后的“为什么”和“如何”，确保读者不仅理解材料，而且能够有效地在专业环境和各种项目中应用它们。如果你准备好不仅学习 Svelte，还要掌握其复杂性和实际应用，那么这本书是你下一本必读的书籍。

# 本书涵盖内容

*第一章*，*Svelte 中的生命周期*，概述了 Svelte 的生命周期、它们各自的功能、调用它们的规则以及重用和组合这些生命周期函数的策略。

*第二章*，*实现样式和主题*，深入探讨了六种独特的样式化 Svelte 组件的方法。你还将学习如何定义主题以及启用用户自定义 Svelte 组件的必要知识。

*第三章*，*管理属性和状态*，加深了你对于 Svelte 中属性和状态的理解。这一章节解密了属性、状态和绑定，并讨论了一向绑定和双向绑定的区别。它还展示了从属性推导状态的方法。

*第四章*，*组件组合*，提供了从父组件控制子组件内容的技巧。你将探索 `<slot>` 元素以及各种 Svelte 特殊元素，如 `<svelte:self>` 和 `<svelte:fragment>`。

*第五章*, *使用动作创建自定义事件*，开始探索 Svelte 动作的三章内容。本章首先探讨了使用 Svelte 动作创建自定义事件的想法。

*第六章*, *使用动作集成库*，提供了使用动作将第三方 JavaScript 库集成到 Svelte 中的实用指南。

*第七章*, *使用 Svelte 动作进行渐进式增强*，解释了渐进式增强的概念，并帮助你理解如何利用 Svelte 动作逐步增强你的 Svelte 应用程序。

*第八章*, *上下文与存储*，深入探讨了 Svelte 上下文和存储。你将了解何时以及如何使用 Svelte 上下文和存储。

*第九章*, *实现自定义存储*，通过实用的分步指南教你如何实现自定义 Svelte 存储，并在过程中通过多个真实世界示例进行讲解。

*第十章*, *使用 Svelte 存储进行状态管理*，为你提供了在 Svelte 应用程序中管理应用程序状态的实际技巧。你还将学习如何在 Svelte 中使用第三方状态管理库。

*第十一章*, *无渲染组件*，探讨了无渲染组件的概念，这是一种不渲染任何自身 HTML 元素的可重用组件。我们将系统地通过实现此类组件。

*第十二章*, *存储与动画*，探讨了内置的`tweened`和`spring`存储。你将学习如何在 Svelte 应用程序中应用它们，以及如何为这些动画存储自定义插值。

*第十三章*, *使用过渡*，提供了对 Svelte 中过渡的全面理解。你将学习如何在 Svelte 中使用过渡，何时以及如何播放过渡，以及它们在底层是如何工作的。

*第十四章*, *探索自定义过渡*，探讨了在 Svelte 中编写自定义过渡的想法。你将了解 Svelte 过渡合约，并通过实际示例，你将逐步指导创建 Svelte 中的自定义过渡。

*第十五章*, *过渡中的无障碍性*，揭示了过渡中的无障碍性考虑，特别是针对有前庭功能障碍的用户。你将获得制作尊重用户偏好并满足所有人的负责任过渡的见解。

# 为了充分利用本书

你需要具备基本的 Web 开发知识，并对 JavaScript、CSS 和 HTML 有基本的了解。

| **本书涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Svelte 4 | Windows, macOS, 或 Linux |
| JavaScript |  |

**如果你正在使用本书的数字版，我们建议你亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助你避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

你可以从 GitHub（[`github.com/PacktPublishing/Real-World-Svelte`](https://github.com/PacktPublishing/Real-World-Svelte)）下载本书的示例代码文件。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富的图书和视频目录的代码包可供选择，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`: 表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“将下载的`WebStorm-10*.dmg`磁盘映像文件作为系统中的另一个磁盘挂载。”

代码块是这样设置的：

```js
const folder = [
  { type: 'file', name: 'a.js' },
  { type: 'file', name: 'b.js' },
  { type: 'folder', name: 'c', children: [
    { type: 'file', name: 'd.js' },
  ]},
];
```

当我们希望将你的注意力引到代码块的一个特定部分时，相关的行或项目将被设置为粗体：

```js
<!-- filename: JsonTree.svelte -->
<script>
  export let data;
</script>
<ul>
  {#each Object.entries(data) as [key, value]}
    <li>
      {key}:
      {#if typeof value === 'object'}
        <svelte:self data={value} />
      {:else}
        {value}
      {/if}
    <li>
  {/each}
</ul>
```

`<form>`元素默认情况下，当你点击`action`属性时，它会携带`<form>`元素内`<input>`元素中填写的值。”

小贴士或重要提示

它看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**: 如果你对此书的任何方面有疑问，请通过[`customercare@packtpub.com`](http://customercare@packtpub.com)给我们发邮件，并在邮件的主题中提及书名。

**勘误**: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果你在这本书中发现了错误，如果你能向我们报告这一点，我们将不胜感激。请访问[`www.packtpub.com/support/errata`](http://www.packtpub.com/support/errata)并填写表格。

**盗版**: 如果你在互联网上以任何形式遇到我们作品的非法副本，如果你能提供位置地址或网站名称，我们将不胜感激。请通过[`copyright@packt.com`](http://copyright@packt.com)与我们联系，并提供材料的链接。

**如果你有兴趣成为作者**: 如果你在一个你擅长的主题上，并且你感兴趣的是撰写或为本书做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享你的想法

一旦你阅读了《Real-World Svelte》，我们很乐意听到你的想法！[请点击此处直接进入此书的亚马逊评论页面](https://packt.link/r/1804616036)并分享你的反馈。

你的评价对我们和科技社区都很重要，并将帮助我们确保我们提供高质量的内容。

# 下载本书的免费 PDF 副本

感谢你购买这本书！

你喜欢在路上阅读，但无法携带你的印刷书籍到处走吗？

你的电子书购买是否与你的选择设备不兼容？

别担心，现在每购买一本 Packt 书籍，你都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从你喜欢的技术书籍中搜索、复制和粘贴代码到你的应用程序中。

优惠远不止于此，你还可以获得独家折扣、时事通讯和每日免费内容的每日邮箱访问权限。

按照以下简单步骤获取福利：

1.  扫描下面的二维码或访问以下链接

![](img/B18887_QR_Free_PDF.jpg)

[`packt.link/free-ebook/9781804616031`](https://packt.link/free-ebook/9781804616031)

1.  提交你的购买证明

1.  就这些！我们将直接将你的免费 PDF 和其他福利发送到你的邮箱。

# 第一部分：编写 Svelte 组件

在本节中，我们将为编写 Svelte 组件打下基础。我们将从深入研究 Svelte 组件的生命周期开始。然后，我们将学习如何为我们的 Svelte 组件添加样式和主题。之后，我们将探讨组件之间数据传递的复杂性，最后总结将组件组合成一个统一的 Svelte 应用程序的技术。

本部分包含以下章节：

+   *第一章*, *Svelte 中的生命周期*

+   *第二章*, *实现样式和主题*

+   *第三章*, *管理属性和状态*

+   *第四章*, *组件编写*
