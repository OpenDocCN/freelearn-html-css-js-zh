# 前言

在过去几年中，浏览器变得更加强大，成为交付复杂应用程序和图形的强大平台。尽管如此，这些大多数都是标准的 2D 图形。大多数现代浏览器都采用了 WebGL，这使得您不仅可以在浏览器中创建 2D 应用程序和图形，还可以利用 GPU 的功能创建美丽且性能良好的 3D 应用程序。

然而，直接编程 WebGL 非常复杂。您需要了解 WebGL 的内部细节，并学习复杂的着色器语言，以充分利用 WebGL。Three.js 提供了一个易于使用的 JavaScript API，围绕 WebGL 的功能，因此您可以在不详细了解 WebGL 的情况下创建美丽的 3D 图形。

Three.js 提供了大量功能和 API，您可以直接在浏览器中创建 3D 场景。在这本书中，您将通过大量的交互式示例和代码示例学习到 Three.js 所提供的所有不同 API。

# 本书涵盖内容

第一章, *使用 Three.js 创建您的第一个 3D 场景*，介绍了您开始使用 Three.js 所需的基本步骤。您将立即创建您的第一个 Three.js 场景，并在本章结束时，您将能够直接在浏览器中创建和动画化您的第一个 3D 场景。

第二章, *构成 Three.js 场景的基本组件*，解释了您在处理 Three.js 时需要了解的基本组件。您将了解灯光、网格、几何体、材质和相机。在本章中，您还将对 Three.js 提供的不同光源和您可以在场景中使用的相机有一个概述。

第三章, *在 Three.js 中使用不同的光源*，深入探讨了您可以在场景中使用的不同光源。它展示了如何使用聚光灯、方向光、环境光、点光源、半球光源和区域光源的示例，并解释了如何应用镜头光晕效果到您的光源上。

第四章, *使用 Three.js 材质*，讨论了您可以在网格上使用的 Three.js 材质。它展示了您可以设置的所有属性来配置特定用途的材质，并提供交互式示例来实验 Three.js 中可用的材质。

第五章, *学习使用几何体*，是探索 Three.js 提供的所有几何体的两章中的第一章。在本章中，你将学习如何在 Three.js 中创建和配置几何体，并可以通过提供的交互式示例进行实验，例如平面、圆形、形状、立方体、球体、圆柱体、环面、环面结和多面体。

第六章, *高级几何和二进制运算*，承接了第五章, *学习使用几何体*，的内容。它展示了如何配置和使用 Three.js 提供的更高级的几何体，例如凸面和车削。在本章中，你还将学习如何从二维形状中挤出三维几何体，以及如何通过使用二进制运算组合几何体来创建新的几何体。

第七章, *粒子、精灵和点云*，解释了如何使用 Three.js 的点云。你将学习如何从头开始创建点云，以及如何从现有几何体中创建点云。在本章中，你还将学习如何通过使用精灵和点云材质来修改单个点的外观。

第八章, *创建和加载高级网格和几何体*，展示了如何从外部来源导入网格和几何体。你将学习如何使用 Three.js 的内部 JSON 格式来保存几何体和场景。本章还解释了如何从 OBJ、DAE、STL、CTM、PLY 等格式加载模型。

第九章, *动画和移动相机*，探讨了你可以使用的各种类型的动画，让你的场景栩栩如生。你将学习如何结合使用 Tween.js 库和 Three.js，以及如何处理基于变形和骨骼的动画模型。

第十章, *加载和使用纹理*，在第四章，*使用 Three.js 材质*，中介绍了材质的基础上进行了扩展。在本章中，我们深入探讨了纹理的细节。本章介绍了可用的各种纹理类型以及如何控制纹理如何应用于你的网格。此外，在本章中，你还将了解到如何直接使用 HTML5 视频和 canvas 元素的输出作为纹理的输入。

第十一章, *自定义着色器和渲染后处理*，探讨了如何使用 Three.js 将后处理效果应用到您的渲染场景中。使用后处理，您可以应用模糊、倾斜移轴、棕褐色等效果到您的渲染场景中。除此之外，您还将学习如何创建自己的后处理效果，以及如何创建自定义的顶点和片段着色器。

第十二章, *为您的场景添加物理和声音*，解释了如何将物理效果添加到您的 Three.js 场景中。使用物理效果，您可以检测物体之间的碰撞，使它们对重力做出反应，并应用摩擦。本章展示了如何使用 Physijs JavaScript 库来实现这一点。此外，本章还展示了如何将位置音频添加到 Three.js 场景中。

# 您需要这本书的内容

您需要这本书的一切只是一个文本编辑器（例如，Sublime）来尝试示例，以及一个现代网络浏览器来访问这些示例。一些示例需要本地网络服务器，但您将在第一章，*使用 Three.js 创建您的第一个 3D 场景*，中学习如何设置一个非常轻量级的网络服务器来与本书中的示例一起使用。

# 这本书面向的对象

这本书非常适合已经了解 JavaScript 并希望开始创建在任何浏览器中运行的 3D 图形的读者。您不需要了解任何高级数学或 WebGL；所需的一切只是一个对 JavaScript 和 HTML 的普遍了解。所需材料和示例可以免费下载，本书中使用的所有工具都是开源的。因此，如果您想学习如何创建在任何现代浏览器中运行的美丽、交互式的 3D 图形，这本书就是您的选择。

# 术语

在这本书中，您将找到许多不同的文本样式，用以区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称将如下所示：“您可以在代码中看到，除了设置`map`属性外，我们还设置了`bumpMap`属性到一个纹理。”

代码块设置如下：

```js
function createMesh(geom, imageFile, bump) {
  var texture = THREE.ImageUtils.loadTexture("../assets/textures/general/" + imageFile)
  var mat = new THREE.MeshPhongMaterial();
  mat.map = texture;
  var bump = THREE.ImageUtils.loadTexture("../assets/textures/general/" + bump)
  mat.bumpMap = bump;
  mat.bumpScale = 0.2;
  var mesh = new THREE.Mesh(geom, mat);
  return mesh;
}
```

当我们希望将您的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```js
var effectFilm = new THREE.FilmPass(0.8, 0.325, 256, false);
effectFilm.renderToScreen = true;

var composer4 = new THREE.EffectComposer(webGLRenderer);
composer4.addPass(renderScene);
composer4.addPass(effectFilm);
```

任何命令行输入或输出将如下所示：

```js
# git clone https://github.com/josdirksen/learning-threejs

```

**新术语**和**重要词汇**将以粗体显示。屏幕上显示的词汇，例如在菜单或对话框中，将以如下方式显示：“您可以通过前往**首选项** | **高级**并检查**在菜单栏中显示开发菜单**”来完成此操作。”

### 注意

警告或重要提示将以这样的框显示。

### 提示

技巧和窍门将如下所示。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出您真正能从中获得最大收益的标题。

如要向我们发送一般反馈，请简单地将电子邮件发送至 `<feedback@packtpub.com>`，并在邮件主题中提及书籍标题。

如果您在某个领域有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从您在 [`www.packtpub.com`](http://www.packtpub.com) 的账户中下载示例代码文件，适用于您购买的所有 Packt Publishing 书籍。如果您在其他地方购买了此书，您可以访问 [`www.packtpub.com/support`](http://www.packtpub.com/support) 并注册，以便将文件直接通过电子邮件发送给您。

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表的颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出中的变化。您可以从 [`www.packtpub.com/sites/default/files/downloads/2215OS_Graphics.pdf`](https://www.packtpub.com/sites/default/files/downloads/2215OS_Graphics.pdf) 下载此文件。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的某本书中找到一个错误——可能是文本或代码中的错误——如果您能向我们报告这个错误，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进此书的后续版本。如果您发现任何错误清单，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误清单提交表单**链接，并输入您的错误清单详情来报告它们。一旦您的错误清单得到验证，您的提交将被接受，错误清单将被上传到我们的网站或添加到该标题的错误清单部分。

要查看之前提交的错误清单，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**错误清单**部分。

## 盗版

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过链接将疑似盗版材料发送至 `<copyright@packtpub.com>` 与我们联系。

我们感谢您在保护我们作者和我们提供有价值内容的能力方面的帮助。

## 问题和建议

如果您对本书的任何方面有问题，请通过 `<questions@packtpub.com>` 与我们联系，我们将尽力解决问题。
