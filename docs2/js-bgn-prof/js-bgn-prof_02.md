# 2

# JavaScript 基础

在本章中，我们将处理 JavaScript 的一些基本构建块：变量和操作符。我们将从变量开始，了解它们是什么，以及存在哪些不同的变量数据类型。我们需要这些基本构建块来存储和处理脚本中的变量值，使它们变得动态。

一旦我们了解了变量，我们就可以处理操作符了。在这个阶段，我们将讨论算术、赋值、条件逻辑操作符。我们需要操作符来修改我们的变量或告诉我们关于这些变量的信息。这样我们就可以根据用户输入等因素进行基本计算。

在这个过程中，我们将涵盖以下主题：

+   变量

+   原始数据类型

+   分析和修改数据类型

+   操作符

    注意：练习、项目和自我检查测验的答案可以在*附录*中找到。

# 变量

变量是学习大多数语言时你将首先接触到的构建块。变量是代码中的值，每次代码运行时可以代表不同的值。以下是一个脚本中两个变量的示例：

```js
firstname = "Maaike";
x = 2; 
```

并且它们可以在代码运行时分配新值：

```js
firstname = "Edward";
x = 7; 
```

没有变量，一段代码在每次运行时都会做完全相同的事情。尽管在某些情况下这仍然可能是有帮助的，但通过使用变量可以使代码更强大，允许我们的代码在每次运行时做不同的事情。

## 声明变量

第一次创建变量时，你需要声明它。为此，你需要一个特殊的词：`let`、`var` 或 `const`。我们很快就会讨论这三个参数的使用。第二次调用变量时，你只需使用现有变量的名称来为其分配新值：

```js
let firstname = "Maria";
firstname = "Jacky"; 
```

在我们的示例中，我们将在代码中将值分配给我们的变量。这被称为“硬编码”，因为你的变量值是在你的脚本中定义的，而不是从某些外部输入动态获取。在实际代码中，你不会经常这样做，因为更常见的情况是值来自外部源，例如用户在网站上填写过的输入框、数据库或调用你的代码的其他代码。从外部源获取变量而不是将它们硬编码到脚本中，实际上是脚本能够适应新信息而不必重写代码的原因。

我们刚刚确立了变量构建块在代码中的强大功能。现在，我们将硬编码变量到我们的脚本中，因此它们将不会变化，直到程序员更改程序。然而，我们很快就会学习如何使我们的变量接受来自外部源的价值。

### let, var 和 const

变量定义由三部分组成：变量定义关键字（`let`、`var` 或 `const`）、名称和值。让我们从 `let`、`var` 或 `const` 之间的区别开始。这里你可以看到使用不同关键字的一些变量示例：

```js
let nr1 = 12;
var nr2 = 8;
const PI = 3.14159; 
```

`let` 和 `var` 都用于可能在程序中的某个地方被赋予新值的变量。`let` 和 `var` 之间的区别很复杂，它与作用域有关。

如果你理解以下关于作用域的句子，那很好，但如果你现在不理解，也完全没关系。随着你继续阅读本书，你很快就会理解它。

`var` 有 **全局作用域**，而 `let` 有 **块级作用域**。`var` 的全局作用域意味着你可以在整个脚本中使用用 `var` 定义的变量。另一方面，`let` 的块级作用域意味着你只能在定义它们的特定代码块中使用用 `let` 定义的变量。记住，代码块总是以 `{` 开始，以 `}` 结束，这就是你识别它们的方式。

另一方面，`const` 用于只被赋予一次值的变量——例如，π 的值，它不会改变。如果你尝试重新分配用 `const` 声明的值的值，你会得到一个错误：

```js
const someConstant = 3;
someConstant = 4; 
```

这将导致以下输出：

```js
Uncaught TypeError: Assignment to constant variable. 
```

我们将在大多数示例中使用 `let` —— 目前，请相信我们，在大多数情况下你应该使用 `let`。

### 变量命名

当谈到变量命名时，有一些约定：

+   变量以小写字母开头，并且应该是描述性的。如果某个东西包含年龄，不要称其为 `x`，而应该称其为 `age`。这样，当你以后阅读你的脚本时，只需阅读你的代码就可以轻松理解你所做的一切。

+   变量不能包含空格，但可以使用下划线。如果你使用空格，JavaScript 不会将其识别为单个变量。

我们在这里将使用驼峰式命名法。这意味着当我们想要用多个单词来描述一个变量时，我们将以小写字母开头，然后在第一个单词之后的每个新单词首字母大写——例如：`ageOfBuyer`。

无论你所在的地方有什么惯例，关键是保持一致性。如果所有的命名都以类似格式完成，代码将看起来更干净、更易读，这使得稍后进行小修改变得容易得多。

你的变量的值可以是任何东西。让我们从变量可以是最简单的事情开始：原始数据类型。

# 原始数据类型

现在你已经知道了什么是变量以及为什么我们需要在代码中使用它们，现在是时候看看我们可以存储在变量中的不同类型的值了。变量会分配一个值。而且这些值可以是不同类型的。JavaScript 是一种弱类型语言。这意味着 JavaScript 会根据值来确定类型。类型不需要显式命名。例如，如果你声明了一个值为 5，JavaScript 会自动将其定义为数字类型。

原始数据类型和其他更复杂的数据类型之间存在区别。在本章中，我们将介绍原始类型，它是一种相对简单的数据结构。现在让我们假设它们只包含一个值并且有一个类型。JavaScript 有七个原始类型：String、Number、BigInt、Boolean、Symbol、undefined 和 null。我们将在下面更详细地讨论每个类型。

## 字符串

字符串用于存储文本值。它是一系列字符。声明字符串有不同的方式：

+   双引号

+   单引号

+   反引号：可以直接使用变量的特殊模板字符串

单引号和双引号都可以这样使用：

```js
let singleString = 'Hi there!';
let doubleString = "How are you?"; 
```

您可以使用您喜欢的选项，除非您正在处理已经选择了这些选项之一的代码。再次强调，一致性是关键。

单引号和双引号之间的主要区别是，您可以在双引号字符串中使用单引号作为字面字符，反之亦然。如果您用单引号声明字符串，那么字符串将在检测到第二个引号时结束，即使它位于单词的中间。所以例如，以下将导致错误，因为字符串将在 `let's` 中的第二个单引号处结束：

```js
let funActivity = 'Let's learn JavaScript'; 
```

`Let` 将被识别为字符串，但在此之后，跟随的一串字符无法被 JavaScript 解释。然而，如果您使用双引号声明字符串，它不会在遇到单引号时立即结束字符串，因为它正在寻找另一个双引号。因此，这个替代方案可以正常工作：

```js
let funActivity = "Let's learn JavaScript"; 
```

以同样的方式，使用双引号，以下将不会工作：

```js
let question = "Do you want to learn JavaScript? "Yes!""; 
```

再次强调，编译器不会区分不同上下文中使用的双引号，并将输出错误。

在使用反引号的字符串中，您可以指向变量，变量的值将被替换到行中。您可以在以下代码片段中看到这一点：

```js
let language = "JavaScript";
let message = `Let's learn ${language}`;
console.log(message); 
```

如您所见，您将不得不使用相当古怪的语法来指定这些变量——不要感到害怕！在这些模板字符串中，变量是在 `${nameOfVariable}` 之间指定的。之所以语法如此复杂，是因为它们希望避免将其用作您通常会用到的，这会使得这样做变得不必要地困难。在我们的例子中，控制台输出将如下所示：

```js
Let's learn JavaScript 
```

如您所见，`language` 变量会被其值替换：`JavaScript`。

### 转义字符

假设我们想在字符串中包含双引号、单引号和反引号。我们会遇到问题，因为我们现在没有足够的工具来解决这个问题。有一个优雅的解决方案。有一个特殊字符可以用来告诉 JavaScript，“不要像平常那样处理下一个字符。”这就是转义字符，一个反斜杠。

在这个例子中，反斜杠可以用来确保您的解释器不会看到单引号或双引号标记，并且不会过早地结束字符串：

```js
let str = "Hello, what's your name? Is it \"Mike\"?";
console.log(str);
let str2 = 'Hello, what\'s your name? Is it "Mike"?';
console.log(str2); 
```

这会在控制台输出以下内容：

```js
Hello, what's your name? Is it "Mike"?
Hello, what's your name? Is it "Mike"? 
```

如您所见，字符串中的两种引号类型都已记录下来而没有引发错误。这是因为引号字符前面的反斜杠给引号字符赋予了不同的意义。在这种情况下，意义是它应该是一个字面字符，而不是表示字符串结束的指示符。

转义字符有更多用途。你可以用它来创建换行符`\n`，或者用`\\`在文本中包含反斜杠字符：

```js
let str3 = "New \nline.";
let str4 = "I'm containing a backslash: \\!";
console.log(str3);
console.log(str4); 
```

这些行的输出如下：

```js
New 
line.
I'm containing a backslash: \! 
```

还有更多选项，但现在我们先放一放。让我们通过查看数字类型来回到原始数据类型。

## Number

数字数据类型用于表示，嗯，数字。在许多编程语言中，不同类型的数字之间有一个非常明显的区别。JavaScript 的开发者决定为所有这些数字使用一个数据类型：number。更准确地说，他们决定使用 64 位浮点数。这意味着它可以存储相当大的数字，包括有符号和无符号的数字，小数数字等等。

然而，它可以表示不同种类的数字。首先，整数，例如：4 或 89。但数字数据类型也可以用来表示小数、指数、八进制、十六进制和二进制数字。以下代码示例应该可以说明一切：

```js
let intNr = 1;
let decNr = 1.5;
let expNr = 1.4e15;
let octNr = 0o10; //decimal version would be 8
let hexNr = 0x3E8; //decimal version would be 1000
let binNr = 0b101; //decimal version would be 5 
```

如果你对这些不熟悉，你不需要担心。这些只是你在计算机科学更广泛的领域中可能会遇到的不同表示数字的方式。这里的要点是上述所有数字都是数字数据类型。所以整数是数字，就像这些：

```js
let intNr2 = 3434;
let intNr3 = -111; 
```

浮点数也是数字，就像这个：

```js
let decNr2 = 45.78; 
```

二进制数字也是数字数据类型的一部分，例如，这个：

```js
let binNr2 = 0b100; //decimal version would be 4 
```

我们刚刚看到了非常常用的数字数据类型。但在某些特殊情况下，你需要一个更大的数字。

## BigInt

数字数据类型的限制在 2⁵³-1 和-(2⁵³-1)之间。如果你需要更大的（或更小的）数字，BigInt 就派上用场了。BigInt 数据类型可以通过后缀`n`来识别：

```js
let bigNr = 90071992547409920n; 
```

让我们看看当我们开始在我们之前创建的整数 Number，`intNr`，和 BigInt，`bigNr`之间进行一些计算时会发生什么：

```js
let result = bigNr + intNr; 
```

输出结果如下：

```js
Uncaught TypeError: Cannot mix BigInt and other types, use explicit conversions 
```

哎呀，一个`TypeError`！它非常清楚地说明了出了什么问题。我们不能将 BigInt 与 Number 数据类型混合进行操作。这是在以后实际使用 BigInt 时需要注意的事情——你只能用其他 BigInt 进行操作。

## 布尔值

布尔数据类型可以存储两个值：`true`和`false`。中间没有其他值。这种布尔值在代码中用得很多，尤其是在评估为布尔值的表达式：

```js
let bool1 = false;
let bool2 = true; 
```

在前面的例子中，你可以看到布尔数据类型所提供的选项。它用于需要存储`true`或`false`值（可以表示开/关或是/否）的情况。例如，一个元素是否被删除：

```js
let objectIsDeleted = false; 
```

或者，灯光是开启还是关闭：

```js
let lightIsOn = true; 
```

这些变量分别表明指定的对象没有被删除，以及特定的灯光是开启的。

## 符号

Symbol 是 ES6（我们在*第一章*，*JavaScript 入门*中提到的 ECMA Script 6，或 ES6）中引入的一种全新的数据类型。当变量即使值和类型相同，也需要确保它们不相等时，可以使用 Symbol。比较以下字符串声明与符号声明，它们的值都是相同的：

```js
let str1 = "JavaScript is fun!";
let str2 = "JavaScript is fun!";
console.log("These two strings are the same:", str1 === str2);

let sym1 = Symbol("JavaScript is fun!");
let sym2 = Symbol("JavaScript is fun!");
console.log("These two Symbols are the same:", sym1 === sym2); 
```

以及输出：

```js
These two strings are the same: true
These two Symbols are the same: false 
```

在前半部分，JavaScript 认为字符串是相同的。它们具有相同的值和类型。然而，在第二部分，每个符号都是唯一的。因此，尽管它们包含相同的字符串，但它们并不相同，并且在比较时输出`false`。这些符号数据类型可以作为对象的属性非常有用，我们将在*第三章*，*JavaScript 多重值*中看到。

## 未定义

JavaScript 是一种非常特殊的语言。它为未赋值的变量提供了一个特殊的数据类型。这个数据类型是未定义的：

```js
let unassigned;
console.log(unassigned); 
```

此处的输出将是：

```js
Undefined 
```

我们也可以故意赋一个`undefined`值。重要的是要知道这是可能的，但更重要的是要知道手动赋值 undefined 是一种不良做法：

```js
let terribleThingToDo = undefined; 
```

好吧，这是可以做到的，但建议不要这样做。这有多个原因——例如，检查两个变量是否相同。如果一个变量是未定义的，而你的变量被手动设置为未定义，它们将被视为相等。这是一个问题，因为如果你正在检查相等性，你想要知道两个值是否实际上相等，而不仅仅是它们都是未定义的。这样，某人的宠物和他们的姓氏可能会被认为是相同的，而实际上它们只是两个空值。

## null

在最后一个例子中，我们看到了一个可以用基本类型 null 解决的问题。null 是一个表示变量为空或具有未知值的特殊值。这是大小写敏感的。你应该使用小写 null：

```js
let empty = null; 
```

为了解决我们遇到的将变量设置为未定义的问题，请注意，如果你将其设置为 null，你将不会遇到相同的问题。这就是为什么当你想要表示变量最初是空和未知时，将 null 赋给变量更好的原因之一：

```js
let terribleThingToDo = undefined;
let lastName;
console.log("Same undefined:", lastName === terribleThingToDo);

let betterOption = null;
console.log("Same null:", lastName === betterOption); 
```

这将输出以下内容：

```js
Same undefined: true
Same null: false 
```

这表明一个自动未定义的变量`lastName`和一个故意未定义的变量`terribleThingToDo`被认为是相等的，这是有问题的。另一方面，`lastName`和显式声明为 null 值的`betterOption`不相等。

# 分析和修改数据类型

我们已经看到了原始数据类型。有一些内置的 JavaScript 方法可以帮助我们处理与原始数据类型相关的常见问题。内置方法是一些逻辑片段，可以在不自己编写 JavaScript 逻辑的情况下使用。

我们已经看到了一个内置方法：`console.log()`。

有很多这样的内置方法，而您在本章中将要遇到的方法只是您将要遇到的前几个。

## 确定变量的类型

尤其是对于 null 和 undefined，确定你正在处理的数据类型可能很困难。让我们看看 `typeof`。这个函数返回变量的类型。你可以通过输入 `typeof`，然后是空格后跟相关的变量，或者将变量放在括号中来检查变量的类型：

```js
testVariable = 1;
variableTypeTest1 = typeof testVariable;
variableTypeTest2 = typeof(testVariable);
console.log(variableTypeTest1);
console.log(variableTypeTest2); 
```

如您所料，这两种方法都会输出 `number`。不需要括号，因为技术上 `typeof` 是一个运算符，而不是一个方法，与 `console.log` 不同。但有时您可能会发现使用括号可以使您的代码更容易阅读。在这里您可以看到它的实际应用：

```js
let str = "Hello";
let nr = 7;
let bigNr = 12345678901234n;
let bool = true;
let sym = Symbol("unique");
let undef = undefined;
let unknown = null;

console.log("str", typeof str);
console.log("nr", typeof nr);
console.log("bigNr", typeof bigNr);
console.log("bool", typeof bool);
console.log("sym", typeof sym);
console.log("undef", typeof undef);
console.log("unknown", typeof unknown); 
```

在这里，在同一个 `console.log()` 打印命令中，我们正在打印每个变量的名称（作为字符串，用双引号声明），然后是其类型（使用 `typeof`）。这将产生以下输出：

```js
str string
nr number
bigNr bigint
bool boolean
sym symbol
undef undefined
unknown object 
```

其中有一个例外，那就是 null 类型。在输出中，您可以看到 `typeof null` 返回 `object`，而实际上，null 真的是一个原始类型，而不是一个对象。这是一个从很久以前就存在的错误，现在由于向后兼容性问题无法移除。不用担心这个错误，因为它不会影响我们的程序——只需意识到它，因为它不会很快消失，并且有可能破坏应用程序。

## 转换数据类型

JavaScript 中的变量可以改变类型。有时 JavaScript 会自动这样做。你认为运行以下代码片段的结果会是什么？

```js
let nr1 = 2;
let nr2 = "2";
console.log(nr1 * nr2); 
```

我们尝试将一个 Number 类型的变量与一个 String 类型的变量相乘。JavaScript 不会像许多语言那样直接抛出错误，而是首先尝试将字符串值转换为数字。如果可以这样做，它就可以无任何问题地执行，就像声明了两个数字一样。在这种情况下，`console.log()` 将 `4` 写入控制台。

但这是危险的！猜猜这个代码片段做了什么：

```js
let nr1 = 2;
let nr2 = "2";
console.log(nr1 + nr2); 
```

这个会输出 `22`。加号可以用来连接字符串。因此，在这个例子中，不是将字符串转换为数字，而是将数字转换为字符串，然后将两个字符串合并在一起——“`2`”和“`2`”合并成“`22`”。幸运的是，我们不需要依赖于 JavaScript 在转换数据类型时的行为。我们可以使用一些内置函数来转换我们变量的数据类型。

有三种转换方法：`String()`、`Number()`和`Boolean()`。第一个方法将变量转换为 String 类型。它几乎可以接受任何值，包括 undefined 和 null，并在其周围加上引号。

第二个尝试将一个变量转换为数字。如果无法逻辑上完成转换，它将值更改为 NaN（不是一个数字）。`Boolean()`函数将变量转换为布尔值。除了 null、undefined、0（数字）、空字符串和 NaN 之外的所有内容都将返回 true。让我们看看它们在实际操作中的表现：

```js
let nrToStr = 6;
nrToStr = String(nrToStr);
console.log(nrToStr, typeof nrToStr);

let strToNr = "12";
strToNr = Number(strToNr);
console.log(strToNr, typeof strToNr);

let strToBool = "any string will return true";
strToBool = Boolean(strToBool);
console.log(strToBool, typeof strToBool); 
```

这将记录以下内容：

```js
6 string
12 number
true boolean 
```

这可能看起来很简单，但并非所有选项都同样明显。例如，这些可能不是您所想的：

```js
let nullToNr = null;
nullToNr = Number(nullToNr);
console.log("null", nullToNr, typeof nullToNr);

let strToNr = "";
strToNr = Number(strToNr);
console.log("empty string", strToNr, typeof strToNr); 
```

上述代码片段将在控制台记录以下内容：

```js
null 0 number
empty string 0 number 
```

如您所见，空字符串和 null 都会导致数字 0。这是 JavaScript 制作者做出的一个选择，您必须知道——在您想要将空字符串或 null 转换为 0 时，这有时会很有用。

接下来，输入以下代码片段：

```js
let strToNr2 = "hello";
strToNr2 = Number(strToNr2);
console.log(strToNr2, typeof strToNr2); 
```

将被记录到控制台的结果是：

```js
NaN number 
```

在这里，我们可以看到任何不能通过简单地去除引号来解释为数字的东西都会评估为`NaN`（不是一个数字）。

让我们继续以下代码：

```js
let strToBool2 = "false";
strToBool2 = Boolean(strToBool2);
console.log(strToBool2, typeof strToBool2);
let strToBool = "";
strToBool = Boolean(strToBool);
console.log(strToBool, typeof strToBool); 
```

最后，这个会记录以下内容：

```js
true boolean
false boolean 
```

这个输出显示，任何转换为布尔值时都会返回 true 的字符串，即使是字符串`"false"`！只有空字符串、null 和 undefined 才会导致布尔值为 false。

让我们再稍微刺激一下你的大脑。你认为这个会记录什么？

```js
let nr1 = 2;
let nr2 = "2";
console.log(nr1 + Number(nr2)); 
```

这一个会记录`4`！在执行加法操作之前，字符串被转换为数字，因此它是一个数学运算，而不是字符串连接。在本章的下一节中，我们将更深入地讨论运算符。

## 练习 2.1

下面列出的变量类型是什么？使用`typeof`进行验证，并将结果输出到控制台：

```js
let str1 = 'Laurence'; 
let str2 = "Svekis"; 
let val1 = undefined;
let val2 = null;
let myNum = 1000; 
```

# 运算符

在看到许多数据类型和一些转换方法之后，现在是时候介绍下一个主要构建块：运算符。当我们想要与变量一起工作、修改它们、对它们进行计算或比较它们时，这些运算符就派上用场了。它们被称为运算符，因为我们使用它们来对变量进行操作。

## 算术运算符

算术运算符可以用来对数字执行操作。大多数这些操作对您来说都非常自然，因为它们是您在早年生活中已经接触过的基础数学。

### 加法

JavaScript 中的加法非常简单，我们之前已经见过。我们使用`+`进行这个操作：

```js
let nr1 = 12;
let nr2 = 14;
let result1 = nr1 + nr2; 
```

然而，这个运算符也可以在连接字符串时非常有用。注意在`"Hello"`之后添加的空格，以确保最终结果包含空格字符：

```js
let str1 = "Hello ";
let str2 = "addition";
let result2 = str1 + str2; 
```

打印`result1`和`result2`的输出将如下所示：

```js
26
Hello addition 
```

如您所见，添加数字和字符串会导致不同的结果。如果我们添加两个不同的字符串，它们将被连接成一个单一的字符串。

#### 练习 2.2

为你的名字创建一个变量，另一个用于你的年龄，还有一个用于你是否能编写 JavaScript。

在控制台输出以下句子，其中`name`、`age`和`true`/`false`是变量：

```js
Hello, my name is Maaike, I am 29 years old and I can code JavaScript: true. 
```

### 减法

减法与我们的预期一样工作。我们使用`-`来进行这个操作。你认为在这个第二个例子中变量中存储了什么？

```js
let nr1 = 20;
let nr2 = 4;
let str1 = "Hi";
let nr3 = 3;
let result1 = nr1 - nr2;
let result2 = str1 - nr3;
console.log(result1, result2); 
```

输出如下：

```js
16 NaN 
```

第一个结果是`16`。第二个结果更有趣。它给出`NaN`，不是一个错误，而只是简单地得出结论：一个单词和一个数字相减的结果不是数字。感谢 JavaScript 没有崩溃！

### 乘法

我们可以使用`*`字符来乘以两个数值。与某些其他语言不同，在 JavaScript 中我们不能成功地将一个数字和一个字符串相乘。

乘以一个数值和一个非数值的结果是 NaN：

```js
let nr1 = 15;
let nr2 = 10;
let str1 = "Hi";
let nr3 = 3;
let result1 = nr1 * nr2;
let result2 = str1 * nr3;
console.log(result1, result2); 
```

输出：

```js
150 NaN 
```

### 除法

另一个直接的运算符是除法。我们可以使用`/`字符来除以两个数字：

```js
let nr1 = 30;
let nr2 = 5;
let result1 = nr1 / nr2;
console.log(result1); 
```

输出如下：

```js
6 
```

### 幂运算

幂运算意味着将某个基数数提升到指数的幂，例如，*x*^y。这可以读作*x*的*y*次幂。这意味着我们将*x*乘以自身*y*次。以下是在 JavaScript 中如何进行此操作的示例——我们使用`**`来进行这个运算符：

```js
let nr1 = 2;
let nr2 = 3;
let result1 = nr1 ** nr2;
console.log(result1); 
```

我们得到以下输出：

```js
8 
```

这个操作的结果是 2 的 3 次方（2 * 2 * 2），即`8`。我们不会在这里深入讲解数学课程，但我们可以通过使用分数指数来找到数字的根：例如，一个值的平方根等同于将其提升到 0.5 的幂。

### 取模

这通常需要一点解释。取模是在将一个数字除以另一个数字的整个过程中确定剩余多少的操作。这个数字可以在另一个数字中容纳的次数在这里并不重要。结果将是余数，或者剩下的部分。我们用于这个操作的字符是`%`字符。以下是一些示例：

```js
let nr1 = 10;
let nr2 = 3;
let result1 = nr1 % nr2;
console.log(`${nr1} % ${nr2} = ${result1}`);

let nr3 = 8;
let nr4 = 2;
let result2 = nr3 % nr4;
console.log(`${nr3} % ${nr4} = ${result2}`);

let nr5 = 15;
let nr6 = 4;
let result3 = nr5 % nr6;
console.log(`${nr5} % ${nr6} = ${result3}`); 
```

并且输出如下：

```js
10 % 3 = 1
8 % 2 = 0
15 % 4 = 3 
```

第一个示例是`10 % 3`，其中 3 可以 3 次进入 10，然后剩下 1。第二个示例是`8 % 2`。结果是 0，因为 2 可以 4 次进入 8 而没有剩余。最后一个示例是`15 % 4`，其中 4 可以 3 次进入 15。然后我们得到 3 作为结果。

这是我让你在当前时间上加 125 分钟时，你头脑中会自动发生的事情。你可能做两件事：整数除法来确定 125 分钟中有多少个完整的小时，然后 125 模 60（用 JavaScript 术语，`125 % 60`）来确定你需要将 5 分钟加到当前时间上。假设我们的当前时间是 09:59，你可能会先加 2 个小时，变成 11:59，然后加 5 分钟，然后你将执行另一个模运算，用 59 和 5，再增加 1 个小时到总时间，剩下 4 分钟：12:04。

### 一元运算符：递增和递减

如果你是编程新手（或者只熟悉另一种编程语言），那么我们算术运算符部分中的最后两个运算符可能对你来说是新的。这些是递增和递减运算符。我们在这里使用的一个术语是**操作数**。操作数受运算符的影响。所以，如果我们说 `x + y`，*x* 和 *y* 是操作数。

这些运算符只需要一个操作数，因此我们也将它们称为一元运算符。如果我们看到 `x++`，我们可以将其读作 *x* = *x* + 1。对于递减运算符也是一样：`x--` 可以读作 *x* = *x* – 1：

```js
let nr1 = 4;
nr1++;
console.log(nr1);
let nr2 = 4;
nr2--;
console.log(nr2); 
```

输出如下：

```js
5
3 
```

#### 前缀和后缀运算符

我们可以在操作数之后有递增运算符（`x++`），在这种情况下，我们称之为**后缀一元运算符**。我们也可以在它之前（`++x`），这被称为**前缀一元运算符**。但这做的是不同的事情——接下来的几行可能比较复杂，所以如果你需要多次阅读并仔细查看这里的示例，请不要担心。

后缀运算是在将变量传递之后执行的，然后是执行操作。在下面的例子中，`nr` 在记录后增加 1。所以第一个记录语句仍然记录的是旧值，因为它还没有被更新。它已经在第二个记录语句中更新了：

```js
let nr = 2;
console.log(nr++);
console.log(nr); 
```

输出如下：

```js
2
3 
```

前缀运算会在将变量传递之前执行，通常这也是你需要的一个。看看下面的例子：

```js
let nr = 2;
console.log(++nr); 
```

我们得到以下输出：

```js
3 
```

好的，如果你能弄清楚下一个代码片段将输出什么到控制台，你应该真的掌握了它：

```js
let nr1 = 4;
let nr2 = 5;
let nr3 = 2;
console.log(nr1++ + ++nr2 * nr3++); 
```

它输出 `16`。根据基本的数学运算顺序，它首先会进行乘法运算。对于乘法，它使用 6（前缀，所以 5 在乘法之前增加）和 2（后缀，所以 2 只在执行后增加，这意味着它不会影响我们当前的运算）。这等于 12。然后 `nr1` 是后缀运算符，所以这个运算会在加法之后执行。因此，它会将 12 加到 4 上，变成 16。

### 结合运算符

这些运算符可以组合，并且它们的工作方式与数学中的方式相同。它们的执行顺序是特定的，并不一定是从左到右。这是由于一个称为运算符优先级的现象。

这里还有一点需要注意，那就是分组。你可以使用 `(` 和 `)` 进行分组。括号内的运算具有最高优先级。之后，运算的顺序根据运算类型（优先级最高先进行）进行，如果它们的优先级相同，则从左到右进行：

| 名称 | 符号 | 示例 |
| --- | --- | --- |
| 分组 | `(...)` | `(x + y)` |
| 指数运算 | `**` | `x ** y` |
| 前缀递增和递减 | `--`, `++` | `--x`, `++y` |
| 乘法、除法、取模 | `*`, `/`, `%` | `x * y`, `x / y`, `x % y` |
| 加法和减法 | `+`, `-` | `x + y`, `x - y` |

### 练习 2.3

编写一些代码，使用勾股定理计算三角形的斜边长度，当给定其他两边的值时。定理指定了直角三角形边之间的关系是 a² + b² = c²。

勾股定理仅适用于直角三角形。与 90 度角相连的边称为相邻边和对边，在公式中用 a 和 b 表示。最长的边，不与 90 度角相连，称为斜边，用 c 表示。

你可以使用 `prompt()` 获取 a 和 b 的值。编写代码从用户那里获取 `a` 和 `b` 的值。然后对 `a` 和 `b` 的值进行平方，将它们相加，并找到平方根。将你的答案打印到控制台。

## 赋值运算符

当我们给变量赋值时，我们已经见过一个赋值运算符了。这个基本赋值操作的字符是 `=`。还有一些其他的赋值运算符可用。每个二元算术运算符都有一个对应的赋值运算符，以便编写更短的代码。例如，*x* += 5 表示 *x* = *x* + 5，而 *x* **= 3 表示 *x* = *x* ** 3（x 的 3 次方）。

在这个第一个例子中，我们声明了一个变量 `x`，并将其初始值设置为 `2`：

```js
let x = 2;
x += 2; 
```

在这个赋值操作之后，`x` 的值变为 4，因为 *x* += 2 与 *x* = *x* + 2 是相同的：

在下一个赋值操作中，我们将减去 `2`：

```js
x -= 2; 
```

因此，经过这次操作后，`x` 的值再次变为 `2`（*x* = *x* – 2）。在下一个操作中，我们将值乘以 6：

```js
x *= 6; 
```

当这一行代码执行完毕后，`x` 的值不再是 2，而是变成了 12（*x* = *x* * 6）。在下一行，我们将使用赋值运算符来进行除法操作：

```js
x /= 3; 
```

将 `x` 除以 `3` 后，新的值变为 4。接下来我们将使用的是指数运算符：

```js
x **= 2; 
```

`x` 的值变为 16，因为旧值是 4，4 的平方等于 16（4 * 4）。我们将讨论的最后一个是取模赋值运算符：

```js
x %= 3; 
```

在这个赋值操作之后，`x` 的值是 1，因为 3 可以被 16 整除 5 次，然后剩下 1。

### 练习 2.4

为三个数字创建变量：*a*、*b* 和 *c*。使用赋值运算符更新这些变量，执行以下操作：

+   将 *b* 加到 *a* 上

+   将 *a* 除以 *c*

+   将 *c* 的值替换为 *c* 和 *b* 的模

+   将所有三个数字打印到控制台

## 比较运算符

比较运算符与我们迄今为止看到的运算符不同。比较运算符的结果始终是布尔值，即 true 或 false。

### 相等

有几个相等运算符可以确定两个值是否相等。它们有两种类型：仅值相等，或值和数据类型相等。第一种在值相等时返回 true，即使类型不同，而第二种仅在值和类型都相同时返回 true：

```js
let x = 5;
let y = "5";
console.log(x == y); 
```

双等号运算符，两个等号，表示它将只检查值是否相等，而不检查数据类型。它们都有值 `5`，所以它将在控制台输出 `true`。这种相等性有时被称为松散相等。

三等号运算符，写作三个等号，表示它将评估值和数据类型，以确定两边是否相等。为了使这个语句为真，它们都必须相等，但它们不相等，因此下面的语句输出 `false`：

```js
console.log(x === y); 
```

这有时也称为严格相等。当你需要检查相等性时，你应该最常使用这个三等号运算符，因为只有使用这个运算符，你才能确保两个变量确实是相等的。

### 不等于

不等于与等于非常相似，除了它做的是相反的操作——当两个变量不相等时返回 true，当它们相等时返回 false。我们使用感叹号表示不等于：

```js
let x = 5;
let y = "5";
console.log(x != y); 
```

这将在控制台输出 `false`。如果你想知道这里发生了什么，请再次查看双等号和三等号运算符，因为这里也是同样的情况。然而，当不等于运算符中只有一个等号时，它是在进行松散的非相等比较。因此，它得出结论它们是相等的，因此不相等应该导致 false。带有两个等号的那个是在检查严格非相等：

```js
console.log(x !== y); 
```

这将得出结论，由于 `x` 和 `y` 具有不同的数据类型，它们不是相同的，并且将在控制台输出 `true`。

### 大于和小于

大于运算符如果操作符的左侧大于右侧，则返回 true。我们使用 `>` 字符表示这一点。我们还有一个大于等于运算符，`>=`，如果左侧大于或等于右侧，则返回 `true`。

```js
let x = 5;
let y = 6;
console.log(y > x); 
```

这一个将输出 `true`，因为 `y` 大于 `x`。

```js
console.log(x > y); 
```

由于 `x` 不大于 `y`，这将输出 `false`。

```js
console.log(y > y); 
```

`y` 不大于 `y`，因此这将输出 `false`。

```js
console.log(y >= y); 
```

最后一个是在查看 `y` 是否大于或等于 `y`，由于它等于自身，它将输出 `true`。

可能不会让你感到惊讶，我们还有小于（`<`）和小于等于运算符（`<=`）。让我们看看小于运算符，因为它与前面的运算符非常相似。

```js
console.log(y < x); 
```

这个第一个将是 `false`，因为 `y` 不小于 `x`。

```js
console.log(x < y); 
```

因此，第二个将记录 `true`，因为 `x` 小于 `y`。

```js
console.log(y < y); 
```

`y` 不小于 `y`，所以这将记录 `false`。

```js
console.log(y <= y); 
```

最后一个检查的是 `y` 是否小于等于 `y`。它等于 `y`，所以它将记录 `true`。

## 逻辑运算符

每当你想要检查一个条件，或者你需要否定一个条件时，逻辑运算符就派上用场了。你可以使用“与”、“或”和“非”。

### 与

我们首先将查看的是“与”运算符。如果你想检查 `x` 是否大于 `y` 且 `y` 是否大于 `z`，你需要能够组合两个表达式。这可以通过 `&&` 运算符来完成。只有当两个表达式都为真时，它才会返回 `true`：

```js
let x = 1;
let y = 2;
let z = 3; 
```

考虑到这些变量，我们将查看逻辑运算符：

```js
console.log(x < y && y < z); 
```

这将记录 `true`，你可以这样读：如果 `x` 小于 `y` 且 `y` 小于 `z`，它将记录 `true`。这是这种情况，所以它将记录 `true`。下一个示例将记录 `false`：

```js
console.log(x > y && y < z); 
```

由于 `x` 不大于 `y`，表达式的一部分不是真的，因此它将导致 `false`。

### 或

如果你想要在任一表达式为真时得到 `true`，你将使用“或”。这个运算符是 `||`。这些管道用于检查这两个中的任何一个是否为真，在这种情况下，整个表达式评估为 `true`。让我们看看“或”运算符的实际应用：

```js
console.log(x > y || y < z); 
```

这将导致 `true`，而之前使用 `&&` 时是 `false`。这是因为只需要两个部分中的任何一个为真，整个表达式才能评估为 `true`。这是因为 `y` 小于 `z`。

当双方都为假时，它将记录`false`，这在下一个示例中就是这样：

```js
console.log(x > y || y > z); 
```

### 非

在某些情况下，你可能需要否定一个布尔值。这将使其变为相反的值。可以使用感叹号来完成，它读作“不是”：

```js
let x = false;
console.log(!x); 
```

这将记录 `true`，因为它只是简单地翻转布尔值的值。你也可以否定一个评估为布尔值的表达式，但你需要确保表达式首先通过分组进行评估。

```js
let x = 1;
let y = 2;
console.log(!(x < y)); 
```

`x` 小于 `y`，所以表达式评估为 `true`。但是，由于感叹号的存在，它打印 `false` 到控制台。

# 章节项目

## 英里到公里的转换器

创建一个包含英里值的变量，将其转换为公里，并按以下格式记录公里值：

```js
The distance of 130 kms is equal to 209.2142 miles 
```

为了参考，1 英里等于 1.60934 公里。

## BMI 计算器

设置身高为英寸和体重为磅的值，然后将这些值转换为厘米和公斤，并将结果输出到控制台：

+   1 英寸等于 2.54 厘米

+   2.2046 磅等于 1 公斤

输出结果。然后，计算并记录 BMI：这是体重（以千克为单位）除以身高的平方（以米为单位）。将结果输出到控制台。

# 自我检查测验

1.  以下变量的数据类型是什么？

    ```js
    const c = "5"; 
    ```

1.  以下变量的数据类型是什么？

    ```js
    const c = 91; 
    ```

1.  哪一行通常更好，第 1 行还是第 2 行？

    ```js
    let empty1 = undefined; //line 1
    let empty2 = null; //line 2 
    ```

1.  以下代码的控制台输出是什么？

    ```js
    let a = "Hello";
    a = "world";
    console.log(a); 
    ```

1.  控制台将记录什么？

    ```js
    let a = "world";
    let b = `Hello ${a}!`;
    console.log(b); 
    ```

1.  `a`的值是多少？

    ```js
    let a = "Hello";
    a = prompt("world");
    console.log(a); 
    ```

1.  输出到控制台的`b`的值是多少？

    ```js
    let a = 5;
    let b = 70;
    let c = "5";
    b++;
    console.log(b); 
    ```

1.  `result`的值是多少？

    ```js
    let result = 3 + 4 * 2 / 8; 
    ```

1.  `total`和`total2`的值是多少？

    ```js
    let firstNum = 5;
    let secondNum = 10;
    firstNum++;
    secondNum--;
    let total = ++firstNum + secondNum;
    console.log(total);
    let total2 = 500 + 100 / 5 + total--;
    console.log(total2); 
    ```

1.  这里记录了什么到控制台？

    ```js
    const a = 5;
    const b = 10;
    console.log(a > 0 && b > 0); 
    console.log(a == 5 && b == 4); 
    console.log(true ||false); 
    console.log(a == 3 || b == 10); 
    console.log(a == 3 || b == 7); 
    ```

# 概述

在本章中，我们处理了前两个编程构建块：变量和运算符。变量是具有名称并包含值的特殊字段。我们通过使用以下特殊变量定义词之一来声明变量：`let`、`var`或`const`。变量使我们能够使我们的脚本动态化，存储值，稍后访问它们，并稍后更改它们。我们讨论了一些原始数据类型，包括字符串、数字、布尔值和符号，以及更抽象的类型，如未定义和 null。你学习了如何使用`typeof`这个词来确定变量的类型。你还看到了如何使用内置的 JavaScript 方法`Number()`、`String()`和`Boolean()`来转换数据类型。

然后，我们继续讨论并讨论了运算符。运算符使我们能够处理我们的变量。它们可以用来执行计算、比较变量以及更多操作。我们讨论了包括算术运算符、赋值运算符、比较运算符和逻辑运算符在内的运算符。

在本章之后，你将准备好处理更复杂的数据类型，例如数组和对象。我们将在下一章介绍这些内容。
