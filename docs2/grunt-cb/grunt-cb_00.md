# 前言

Grunt 是一个任务自动化工具，它为不断增长的插件生态系统提供了平台。这些插件提供了可以自动化的任务的实际实现。文件管理、测试、部署、模板渲染、代码生成以及更多都可以通过易于配置的任务自动化。

Grunt 平台的关键优势在于它定义的简单任务配置方法，以及它所支持的插件都倾向于遵循这种方法。这为开发者提供了一种更快的方式去使用那些原本需要更多时间学习的工具，同时也以标准格式呈现配置，便于理解、操作和共享。

《Grunt 食谱》旨在提供易于遵循的说明，以自动化项目需要定期执行的所有各种任务。我们将从最基本的常见任务开始，逐步过渡到创建自己的任务，最终仅使用 Grunt 生成整个网站。

本书各章节将分别关注一个特定主题，并为每个主题提供一系列食谱。许多食谱将探索使用不同工具或库自动化类似任务，每个食谱也将探索其主题的流行变体，以防你有更具体的需求。

# **本书涵盖内容**

第一章, *开始使用 Grunt*，从设置 Grunt 以在基于 Node.js 的项目中使用开始，并涵盖了某些更常见的自动化任务。

第二章, *文件管理*，涵盖了文件的复制、压缩、链接、连接和下载。在软件项目中处理文件可能是我们最常遇到的任务之一。

第三章, *模板引擎*，涵盖了使用一些更受欢迎的引擎进行模板的渲染、编译和打包。从模板中渲染内容在基于 Web 的项目开发中是至关重要的。

第四章, *生成 CSS 和 JavaScript*，涵盖了 CSS 和 JavaScript 代码的生成。使用编译为 JavaScript 的新语言和使用生成 CSS 的 CSS 预处理器可以节省时间并提高项目的灵活性。

第五章, *运行自动化测试*，涵盖了测试套件的运行和生成代码覆盖率报告。自动化测试已成为所有大型软件项目的必要部分，并且是确保代码稳定性和质量的无价工具。

第六章, *部署准备*，涵盖了图像优化、CSS 压缩、确保 JavaScript 代码的质量、压缩它，并将所有这些打包成一个源文件。

第七章, *部署到最终用户*，涵盖了将文件传输到网络位置、刷新缓存服务以及在远程服务器上运行命令。一旦我们有一个功能齐全且优化的 Web 应用程序，就是时候让它对目标用户可访问了。

第八章, *创建自定义任务*，涵盖了创建我们自己的自定义任务的所有方面。在某个时候，你可能会遇到一些你想自动化但找不到完全符合你需求的 Grunt 任务的情况。这时，构建一个自定义任务可以对你的操作变得非常有价值，甚至可能让你成为英雄。

第九章, *编写插件*，涵盖了发现插件、为现有插件项目做出贡献以及创建我们自己的插件项目的过程。没有插件生态系统的 Grunt 项目将一无是处，作为开发者，我们可以参与它们的创建和演变。

第十章, *静态网站*，使用 Assemble 插件生成整个静态网站。对于托管内容变化不大的简单网站，可以一次性生成并上传到托管服务。

# 本书所需内容

使用本书中的食谱的唯一要求是安装 Node.js。这可以通过下载并运行安装程序、从源代码编译、使用 Node 版本管理器（[`github.com/creationix/nvm`](https://github.com/creationix/nvm)）这样的工具，或者使用操作系统支持的包管理器来完成。

如果你之前从未使用过 Grunt，强烈建议你从第一章，*开始使用 Grunt*开始，因为所有后续章节都将引用它。

# 本书面向的对象

这本书对任何希望从静态网站到更现代的 Web 应用程序构建任何东西的人都有用。一些基本的 JavaScript 经验是首选的，对 Node.js 平台的一些基本知识也可能很有帮助。

# 章节

在这本书中，你会发现一些频繁出现的标题（准备就绪、如何做……、它是如何工作的……、还有更多……以及另请参阅）。

为了清晰地说明如何完成一个食谱，我们使用以下章节如下：

## 准备就绪

这一部分会告诉你食谱中可以期待什么，并描述如何设置任何软件或任何为食谱所需的初步设置。

## 如何做………

这一部分包含遵循食谱所需的步骤。

## 它是如何工作的…

这一部分通常包含对上一节发生事件的详细解释。

## 更多内容…

这一部分包含有关食谱的附加信息，以便让读者对食谱有更多的了解。

## 相关链接

这一部分提供了对其他有关食谱的有用信息的链接。

# 惯例

在这本书中，你会发现许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“创建`package.json`文件的最简单方法是使用`npm init`命令。”

代码块设置如下：

```js
{
  "name": "myproject",
  "version": "0.0.0",
  "description": "My first Grunt project.",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC"
}
```

当我们希望引起你对代码块中特定部分的注意时，相关的行或项目将以粗体显示：

```js
'curl-dir': {
  weather: {
    router: function (url) {
 var city = url.slice(url.indexOf('=') + 1, url.length);
 return city + '.json';
 },
    src: 'http://api.openweathermap.org/'
      + 'data/2.5/weather?q={London,Paris,Tokyo}',
    dest: 'weather'
  }
}
```

任何命令行输入或输出都按以下方式编写：

```js
Running "newer:jshint" (newer) task
Running "newer:jshint:sample" (newer) task
No newer files to process.

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“点击**下一步**按钮将您带到下一屏幕。”

### 注意

警告或重要注意事项会出现在像这样的框中。

### 小贴士

小技巧和窍门如下所示。

# 读者反馈

我们欢迎读者的反馈。告诉我们你对这本书的看法——你喜欢什么或不喜欢什么。读者反馈对我们来说很重要，因为它帮助我们开发出你真正能从中获得最大收益的标题。

要向我们发送一般反馈，请简单地发送电子邮件至 `<feedback@packtpub.com>`，并在邮件主题中提及书籍的标题。

如果你在某个主题上有所专长，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助你从购买中获得最大收益。

## 下载示例代码

你可以从你的账户下载示例代码文件，网址为[`www.packtpub.com`](http://www.packtpub.com)，适用于你购买的所有 Packt 出版物。如果你在其他地方购买了这本书，你可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给你。

## 错误更正

尽管我们已经尽一切努力确保我们内容的准确性，错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 海盗行为

互联网上版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现任何形式的我们作品的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过链接联系我们的版权部门 `<copyright@packtpub.com>`，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

## 问题

如果您对本书的任何方面有问题，您可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决问题。
