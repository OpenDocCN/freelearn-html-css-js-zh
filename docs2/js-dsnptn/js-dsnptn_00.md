# 前言

欢迎您！JavaScript 设计模式是允许我们在 JavaScript 中编写更健壮、可扩展和可扩展应用程序的技术。JavaScript 是网络浏览器中可用的主要编程语言，也是支持超出浏览器之外的最受欢迎的编程语言之一。

设计模式是解决常见问题的解决方案，可以重复使用。最常讨论的设计模式来自面向对象编程的世界。

JavaScript 作为一个轻量级、多范式、动态、单线程的语言，与其他主流编程语言相比，具有不同的优势和劣势。软件工程师通常除了精通另一种编程语言外，还会使用 JavaScript。JavaScript 的不同特性意味着直接实现设计模式可能会导致非惯用和性能不佳的 JavaScript 应用程序。

关于 JavaScript 和设计模式有很多资源，但本书提供了对现代（ECMAScript 6+）JavaScript 中设计模式的一致和全面的观点，并提供了如何在专业环境中部署它们的实际示例。除了这个适用于项目的完整模式库之外，本书还概述了如何构建应用程序的不同部分以实现大规模的高性能。

在本书中，您将获得基于在 Elsevier、Canon 和 Eurostar 等公司构建和部署 JavaScript 和 React 应用程序九年的经验，提供多个系统演变、性能项目和下一代前端应用程序架构的最新指导。

# 本书面向的对象

本书是为希望利用 JavaScript 和 Web 平台来提高生产力、软件质量和应用程序性能的开发者和软件架构师而编写的。

对软件设计模式熟悉将是一个加分项，但不是必需的。

本内容的目标受众是开发者和架构师，他们面临的三个主要挑战如下：

+   他们熟悉编程概念，但不知道如何有效地在 JavaScript 中实现它们

+   他们希望以可维护和可扩展的方式构建 JavaScript 代码和应用

+   他们希望为他们的 JavaScript 应用程序的用户提供更多性能

# 本书涵盖的内容

*第一章**，使用创建型设计模式*，涵盖了创建型设计模式，这些模式有助于组织对象的创建。我们将探讨在 JavaScript 中实现原型、单例和工厂模式。

*第二章**，实现结构化设计模式*，探讨了结构化设计模式，这些模式有助于组织实体之间的关系。我们将使用 JavaScript 实现代理、装饰器、享元和适配器模式。

*第三章**，利用行为设计模式*，深入探讨了行为设计模式，这些模式有助于组织对象之间的通信。我们将学习 JavaScript 中的观察者、状态、策略和访问者模式。

*第四章**，探索响应式视图库模式*，探讨了响应式视图库，如 React，已经占据了 JavaScript 应用程序的领域。随着这些库的出现，带来了新的模式供我们探索、实现和对比。

*第五章**，渲染策略和页面活化*，探讨了优化页面性能，这在当今是一个关键问题。这不仅关系到提高页面上的客户转化率，也关系到搜索引擎优化，因为像 Google 这样的搜索引擎将核心 Web Vitals 纳入考虑范围。

*第六章**，微前端、区域和岛屿架构*，探讨了微前端。类似于服务层中的微服务运动，微前端旨在将大范围分割成更小的块，以便以更高的速度进行工作和交付。

*第七章**，异步编程性能模式*，探讨了 JavaScript 的单线程事件循环并发模型是其最大的优势之一，但在性能敏感的情况下往往被误解或未充分利用。以高效和可扩展的方式编写 JavaScript 中的异步处理代码是提供大规模平滑用户体验的关键。

*第八章**，事件驱动编程模式*，探讨了 JavaScript 中的事件驱动编程在安全性敏感的应用程序中至关重要，因为它是一种在不同 Web 上下文中传递信息的方式。事件驱动应用程序通常可以优化以实现更好的性能和可扩展性。

*第九章**，最大化性能 – 懒加载和代码拆分*，讨论了为了最大化 JavaScript 应用程序的性能，减少加载和解释未使用的 JavaScript 代码量是关键。可以应用于此问题的技术被称为懒加载和代码拆分。

*第十章**，资产加载策略和主线程之外的代码执行*，探讨了在应用程序的生命周期中，有时不可避免地需要加载更多的 JavaScript 或资产。你将了解在 JavaScript 以及其他网络资源的具体情况下，资产加载优化，以及如何在不影响主浏览器线程的情况下执行 JavaScript。

# 为了充分利用这本书

您需要具备 JavaScript 和 Web 开发的先验经验。本书中的一些更高级的主题将吸引那些有使用 JavaScript 构建 Web 中级经验的开发者。

| **本书中涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Node.js 20+ | Windows, macOS, 或 Linux |
| NPM v8+ | Windows, macOS, 或 Linux |
| ECMAScript 6+ | Windows, macOS, 或 Linux |
| React v16+ | Windows, macOS, 或 Linux |
| Next.js | Windows, macOS, 或 Linux |

**如果您正在使用本书的数字版，我们建议您亲自输入代码或从本书的 GitHub 仓库（下一节中提供链接）获取代码。这样做将帮助您避免与代码的复制和粘贴相关的任何潜在错误。**

# 下载示例代码文件

您可以从 GitHub 下载本书的示例代码文件 [`github.com/PacktPublishing/JavaScript-Design-Patterns`](https://github.com/PacktPublishing/JavaScript-Design-Patterns)。如果代码有更新，它将在 GitHub 仓库中更新。

我们还有其他来自我们丰富图书和视频目录的代码包，可在 [`github.com/PacktPublishing/`](https://github.com/PacktPublishing/) 获取。查看它们吧！

# 使用的约定

本书使用了多种文本约定。

`文本中的代码`：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“为了使代码更容易理解，我们将切换到`tagName`的小写版本。”

代码块设置如下：

```js
<script>
  // handle receiving messages from iframe -> parent
  const allowedMessageOrigins = ['http://127.0.0.1:8000'];
  window.addEventListener('message', (event) => {
    if (!allowedMessageOrigins.includes(event.origin)) {
      console.warn(
        `Dropping message due to non-allowlisted origin ${event.origin}`,
        event,
      );
      return;
    }
    // no change to the rest of the message handler
  });
</script>
```

**粗体**：表示新术语、重要单词或您在屏幕上看到的单词。例如，菜单或对话框中的单词以**粗体**显示。以下是一个示例：“当打开选择时，事情似乎工作正常，我们看到所有选项的**Fruit:** 前缀。”

小贴士或重要注意事项

看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请通过电子邮件发送至 customercare@packtpub.com，并在邮件主题中提及书名。

**勘误**：尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在本书中发现错误，我们将不胜感激，如果您能向我们报告，请访问 [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata) 并填写表格。

**盗版**：如果您在互联网上发现我们作品的任何非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过电子邮件发送至 copyright@packt.com 并附上材料的链接。

**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 分享您的想法

一旦您阅读了*JavaScript 设计模式*，我们非常乐意听到您的想法！请[点击此处直接转到此书的亚马逊评论页面](https://packt.link/r/1804612278)并分享您的反馈。

您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供高质量的内容。

# 下载此书的免费 PDF 副本

感谢您购买此书！

您喜欢在路上阅读，但又无法随身携带您的印刷书籍？

您的电子书购买是否与您选择的设备不兼容？

别担心，现在，每购买一本 Packt 书籍，您都可以免费获得该书的 DRM 免费 PDF 版本。

在任何地方、任何设备上阅读。直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。

优惠远不止于此，您将获得独家折扣、新闻通讯以及每天收件箱中的优质免费内容。

按照以下简单步骤获取这些好处：

1.  扫描下面的二维码或访问以下链接

![](img/B19109_QR_Free_PDF.jpg)

[`packt.link/free-ebook/978-1-80461-227-9`](https://packt.link/free-ebook/978-1-80461-227-9)

1.  提交您的购买证明

1.  就这样！我们将直接将您的免费 PDF 和其他优惠发送到您的电子邮件。
