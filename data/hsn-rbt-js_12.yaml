- en: Assessments
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评估
- en: Chapter 1
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第一章
- en: We'll use the Linux operating system, via the Raspbian distribution, and leverage
    it to run our projects in Node.js.
  id: totrans-2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将通过 Raspbian 发行版使用 Linux 操作系统，并利用它来在 Node.js 中运行我们的项目。
- en: '**GPIO** stands for General-Purpose Input/Output.'
  id: totrans-3
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**GPIO** 代表通用输入/输出。'
- en: Rick Waldron started the Johnny-Five project back in 2012 and wrote a program
    that used node-serialport to operate an Arduino Uno with Node.js.
  id: totrans-4
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Rick Waldron 在 2012 年启动了 Johnny-Five 项目，并编写了一个使用 node-serialport 通过 Node.js
    操作 Arduino Uno 的程序。
- en: We run `uname -m` command on the command line of our Pi ssh session to find
    out what ARM architecture the Raspberry Pi uses.
  id: totrans-5
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们在我们的 Pi ssh 会话的命令行上运行 `uname -m` 命令，以找出 Raspberry Pi 使用的是哪种 ARM 架构。
- en: Changing the default Raspberry Pi password is important because default username
    and password isn't very secure, especially when your Pi is connected to the internet.
  id: totrans-6
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改默认的 Raspberry Pi 密码很重要，因为默认的用户名和密码并不非常安全，尤其是当你的 Pi 连接到互联网时。
- en: Node.js allows you to create even advanced robotics projects without having
    to deal with any low-level languages, also it has **Event-based systems** and **Garbage
    collection/automatic memory management**.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Node.js 允许你创建甚至高级的机器人项目，而无需处理任何低级语言，它还具有基于事件的系统和垃圾收集/自动内存管理。
- en: Node.js prides itself on creating small, bordering on tiny, packages, and has
    the excellent npm package manager (and others) to help manage those packages.
  id: totrans-8
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Node.js 以创建小型、几乎微小的包而自豪，并拥有出色的 npm 包管理器（及其他工具）来帮助管理这些包。
- en: Chapter 2
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第二章
- en: The first `LED.strobe()` parameter defines the blinking speed of LED, which
    is 100 ms by default. If the argument is defined as 500 then the blink will go
    in 500 ms intervals.
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一个 `LED.strobe()` 参数定义了 LED 的闪烁速度，默认为 100 毫秒。如果参数定义为 500，则闪烁将在 500 毫秒的间隔中进行。
- en: The second line of argument use `require` function to pull in the `johnny-five`
    modules.
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第二行参数使用 `require` 函数引入 `johnny-five` 模块。
- en: Johnny-Five LED objects are output only and therefore do not emit any events.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Johnny-Five LED 对象仅作为输出，因此不会发出任何事件。
- en: Raspberry Pi pin P1-29 translate to GPIO 5 in terms of GPIO#.
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Raspberry Pi 引脚 P1-29 在 GPIO# 方面对应于 GPIO 5。
- en: '`LED.blink()` function is an alias to `LED.strobe()` function.'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`LED.blink()` 函数是 `LED.strobe()` 函数的别名。'
- en: We begin with constructing a board object, and we pass a new instance of the
    `raspi-io` module in as its I/O. This is how we tell the Johnny-Five library we're
    running this code on a Raspberry Pi.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们从构建一个板对象开始，并将 `raspi-io` 模块的新实例作为其 I/O 传递。这就是我们告诉 Johnny-Five 库我们正在 Raspberry
    Pi 上运行代码的方式。
- en: Chapter 3
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第三章
- en: PWM stands for Pulse-width modulation, it sets the percentage of time that a
    pin is HIGH and LOW. For an LED, it sets the effective brightness.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: PWM 代表脉冲宽度调制，它设置引脚 HIGH 和 LOW 的时间百分比。对于 LED，它设置有效亮度。
- en: The Raspberry Pi 3 B+ has 2 PWM pins, but they operate on the same channel,
    effectively creating 1 PWM pin.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Raspberry Pi 3 B+ 有 2 个 PWM 引脚，但它们在同一个通道上运行，实际上创建了一个 PWM 引脚。
- en: We need the GPIO expander because the RGB LED needs 3 PWM pins to fully function,
    and the Pi only has 1 on board.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要 GPIO 扩展器，因为 RGB LED 需要 3 个 PWM 引脚才能完全工作，而 Pi 只有一个内置的。
- en: 7 -- red, green, blue, white (red+green+blue), yellow (red+green), purple (red+blue),
    and cyan (green+blue).
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 7 种颜色 -- 红色、绿色、蓝色、白色（红+绿+蓝）、黄色（红+绿）、紫色（红+蓝）和青色（绿+蓝）。
- en: The GPIO expander communicates with the Raspberry Pi using the I2C protocol.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPIO 扩展器使用 I2C 协议与 Raspberry Pi 通信。
- en: The color module takes in strings representing color in various formats (#FFF,
    rgb(255,255,255), and translates them into a red, green, and blue channel that
    our Pi and LED understand.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 颜色模块接受表示各种格式的颜色的字符串（#FFF、rgb(255,255,255)），并将它们转换为 Pi 和 LED 所理解的红色、绿色和蓝色通道。
- en: The REPL helps with debugging by letting you see and manipulate the state the
    bot is in. It is powerful because most robotics platforms have a way of altering
    the state of the code while running.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: REPL 通过让你查看和操作机器人的状态来帮助调试。它非常强大，因为大多数机器人平台都有一种在运行时更改代码状态的方法。
- en: Chapter 4
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第四章
- en: The events available to the Johnny-Five button object are `press`, `release`,
    and `hold`.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Johnny-Five 按钮对象可用的事件是 `press`、`release` 和 `hold`。
- en: The Raspberry Pi cannot directly use analog input devices because all of its
    pins are digital.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Raspberry Pi 不能直接使用模拟输入设备，因为它的所有引脚都是数字的。
- en: We will use sensors with the Pi that add a digital interface to access the readings
    of the analog sensor itself.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将使用 Pi 上的传感器，这些传感器添加了数字接口，以便访问模拟传感器的读数。
- en: There are no events for the Johnny-Five LED.RGB object because it strictly does
    output.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Johnny-Five LED.RGB 对象没有事件，因为它严格是输出。
- en: Chapter 5
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章
- en: An analog input sensor takes in data from its surroundings and converts it into
    a value that is represented by a voltage level sent either to an intermediate processor
    or the microcontroller directly.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟输入传感器从其周围环境接收数据，并将其转换为电压水平表示的值，该值发送到中间处理器或微控制器。
- en: Analog sensors cannot interface directly with the Pi because all of the Pi's
    GPIO pins are digital.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟传感器不能直接与树莓派接口，因为树莓派的所有GPIO引脚都是数字的。
- en: Two digital interfaces we can use to interface analog sensors with the Pi are
    I2C and SPI.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以使用两种数字接口将模拟传感器与树莓派连接，即I2C和SPI。
- en: The two pins (besides ground and power) that an I2C device needs to operate
    are an SDA (data) pin and an SCL (clock) pin.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个I2C设备需要操作的两个引脚（除了地线和电源之外）是一个SDA（数据）引脚和一个SCL（时钟）引脚。
- en: The sensor object can fire the `data` event, which means data has been collected,
    and the `change` event, which indicates that the data from the sensor has changed.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 传感器对象可以触发`data`事件，这意味着已收集数据，以及`change`事件，这表明传感器的数据已更改。
- en: barcli is helpful in processing sensor data because instead of reading hundreds
    of lines of numbers, you can look at a bar graph and how it changes when you manipulate
    the sensor.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: barcli在处理传感器数据时很有帮助，因为你可以通过查看条形图及其在操作传感器时的变化，而不是阅读数百行数字。
- en: Chapter 6
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章
- en: A motor is an electrical device that converts electricity into rotational movement
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电机是一种将电能转换为旋转运动的电气设备。
- en: The difference between a motor and a stepper motor is that motor can only be
    told what direction and speed to go, while a stepper motor can be told how many
    pre-defined increments to move, making it better for precision movements.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 电机和步进电机的区别在于，电机只能被告知移动的方向和速度，而步进电机可以被告知移动多少预定义的增量，这使得它更适合进行精确运动。
- en: You should use external power for motors because otherwise, it will draw too
    much power from the Raspberry Pi, causing strange errors or even reboots while
    your project is running. Your motors may also run slowly or not respond to commands
    when powered directly from the Pi.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该为电机使用外部电源，否则它将从树莓派中吸取过多的电力，导致在项目运行时出现奇怪的错误或甚至重启。当直接从树莓派供电时，你的电机可能运行缓慢或对命令无反应。
- en: We need a Pi hat to control our motor because getting the motor to move backward
    requires extra components that the hat provides—it also makes it much easier to
    supply external power to the motors.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要一个树莓派帽子来控制我们的电机，因为要让电机向后移动需要额外的组件，帽子提供了这些组件——它还使得为电机提供外部电源变得更加容易。
- en: The benefits of the Motors object when controlling multiple motors is the ability
    to control all of your motors in the group with one command while retaining the
    ability to send commands to the individual motors.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当控制多个电机时，使用电机对象的好处是能够通过一个命令控制组内所有的电机，同时仍然能够向单个电机发送命令。
- en: Chapter 7
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章
- en: The difference between servos and motors is that you can tell a servo what angle
    to move to, while you can only tell a motor to go forwards or backward and at
    what speed.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 伺服电机和电机的区别在于，你可以告诉伺服电机移动到什么角度，而你可以告诉电机向前或向后移动以及速度。
- en: The difference between regular and continuous servos is regular servos can go
    from 0-180 degrees and you can control what degree, while you can only tell a
    continuous servo which way to rotate and at what speed, but it has full 360-degree
    movement.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定时和连续伺服电机的区别在于，定时伺服电机可以从0-180度移动，你可以控制移动到什么角度，而连续伺服电机你只能告诉它旋转的方向和速度，但它有完整的360度移动。
- en: Servos require an external power source because otherwise, it will draw too
    much power from the Raspberry Pi, causing strange errors or even reboots while
    your project is running. Your motors may also run slowly or not respond to commands
    when powered directly from the Pi.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 伺服电机需要一个外部电源，否则它将从树莓派中吸取过多的电力，导致在项目运行时出现奇怪的错误或甚至重启。当直接从树莓派供电时，你的电机可能运行缓慢或对命令无反应。
- en: You would use servos over motors when you want your movements to go to a specific
    angle every time.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你想让每次运动都到达一个特定的角度时，你会使用伺服电机而不是电机。
- en: The benefits of the Johnny-Five Servos object is the ability to control all
    of your servos in the group with one command while retaining the ability to send commands to
    the individual servos.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Johnny-Five伺服对象的好处是能够通过一个命令控制组内所有的伺服电机，同时仍然能够向单个伺服电机发送命令。
- en: Chapter 8
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章
- en: Animations are necessary for complex movements with multiple servos because
    timing is key for these movements, and moving all servos as fast as they can go
    with no easing makes complex movements nigh-impossible.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于多个伺服电机的复杂运动，动画是必要的，因为这些运动的时机至关重要，而且没有Easing（缓和）地尽可能快地移动所有伺服电机使得复杂运动几乎不可能实现。
- en: A keyframe is an array of information about the locations of the servos in an
    animation at an arbitrary point in time, defined by the animation segment.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关键帧是关于动画在任意时间点伺服电机位置的数组，由动画段定义。
- en: A cue point is a point in the animation that lines up with a keyframe. When
    these are combined with duration in the animation segment, you will get a time
    for each keyframe.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提示点是在动画中与关键帧对齐的点。当这些点与动画段中的持续时间结合时，每个关键帧都会得到一个时间。
- en: The three pieces of an animation segment are the keyframes, the cue points,
    and the duration.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 动画段的三部分是关键帧、提示点和持续时间。
- en: Easing manipulates our animation keyframes and segments by changing the acceleration
    rate of the servos as they travel from one keyframe to another.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Easing通过改变伺服电机从一关键帧移动到另一关键帧时的加速度率来操纵我们的动画关键帧和段。
- en: The method of the animation object that stops the current segment and clears
    the animation queue is `Animation.stop()`.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 动画对象停止当前段并清除动画队列的方法是`Animation.stop()`。
- en: Calling `Animation.speed(.25)`  slows the currently running animation to 1/4
    of its original speed.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 调用`Animation.speed(.25)`将当前运行的动画速度减慢到原始速度的1/4。
- en: Chapter 9
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章
- en: The Pi is well-suited for projects that require remote data because of its onboard
    ability to connect to the internet via either WiFi or Ethernet.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于Pi能够通过WiFi或以太网连接到互联网，因此它非常适合需要远程数据的项目。
- en: 'The considerations that need to be taken when making regular web requests from
    the Pi are:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Pi上执行常规Web请求时需要考虑的因素是：
- en: The size of the payload
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 负载的大小
- en: How much CPU parsing the payload will take
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 负载解析需要多少CPU时间
- en: Whether the data being accessed was meant to be accessed
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 访问的数据是否是打算被访问的
- en: WiFi requests take a lot of power for the Pi and can cause problems if the Pi
    doesn't have a proper power supply
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: WiFi请求对Pi来说消耗大量电力，如果Pi没有适当的电源供应可能会引起问题。
- en: We can chain the LCD object calls, such as `LCD.clear().home()` because the
    Johnny-Five Objects always return the instance of the Object the method was working
    on, so another method can be called on it.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以链式调用LCD对象调用，例如`LCD.clear().home()`，因为Johnny-Five对象总是返回方法正在工作的对象实例，因此可以在其上调用另一个方法。
- en: We use an I2C backpack with our LCD to cut the number of needed wires and pins
    from 8 to 2, and eliminate the need to hook up our own potentiometer to adjust
    LCD contrast.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们使用I2C背板与LCD连接，以减少所需的电线和引脚数量从8根减少到2根，并消除连接自己的电位器来调整LCD对比度的需求。
- en: We would need more components to use the LCD without the backpack—we would need
    a potentiometer to control the contrast of the LCD.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果不使用背板使用LCD，我们需要更多的组件——我们需要一个电位器来控制LCD的对比度。
- en: '`LCD.on()` does not turn on the entire LCD, instead, it turns on the LCD backlight.'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`LCD.on()`不会打开整个LCD，而是打开LCD背光。'
- en: Chapter 10
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章
- en: Two ways IoT devices interface with the internet that aren't specific to IoT
    are HTTP/S and WebSockets.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 物联网设备与互联网接口的两种方式，且不特定于物联网的是HTTP/S和WebSockets。
- en: MQTT stands for Message Queueing Telemetry Transport.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MQTT代表消息队列遥测传输。
- en: An MQTT client is capable of connecting to a broker, subscribing to topics,
    process incoming messages to topics they are subscribed to, and publishing to
    topics.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MQTT客户端能够连接到代理，订阅主题，处理它们订阅的主题的传入消息，并向主题发布消息。
- en: An MQTT broker is capable of letting MQTT clients connect, making sure published
    messages go to all clients that are subscribed to the message's topic, and publishing
    messages to any topic.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MQTT代理能够允许MQTT客户端连接，确保发布的消息发送到所有订阅了该消息主题的客户端，并且可以向任何主题发布消息。
- en: The Pi gets a copy of the messages we send to AdafruitIO because it is subscribed
    to the topic it is publishing to, and every device subscribed to the topic is
    sent the message by the broker.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Pi获取了我们发送到AdafruitIO的消息副本，因为它订阅了它发布的主题，并且所有订阅了该主题的设备都会由代理发送消息。
