- en: Chapter 4. Liferay Site Configuration
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第四章 Liferay 站点配置
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Creating an organization and a standalone site
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建组织和独立站点
- en: Site configuration
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 站点配置
- en: Creating and customizing private and public pages for the site
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为站点创建和自定义公共和私有页面
- en: Using page templates and site templates for quick site and page creation
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用页面模板和站点模板快速创建站点和页面
- en: Enabling local live staging
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用本地实时预览
- en: Enabling remote live staging
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用远程实时预览
- en: Enabling page versioning
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用页面版本控制
- en: Introduction
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: In the previous chapter, we described how to model an organizational structure
    in the intranet using organizations and user groups. We also discussed their attributes,
    such as address, phone numbers, websites, services, and so on. There is one attribute
    that makes organizations and user groups a very important component of Liferay
    Portal CMS. This attribute is site. A site is set of pages that may contain applications
    and content. Users gathered within an organization or user group can have their
    site, which stores and presents information that is produced and published by
    its users (files, articles, calendar events, bookmarks, and so on). There are
    also sites that are not connected to any structured collection of users. In this
    chapter, we will discuss how to create, customize and manage sites.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一章中，我们描述了如何使用组织和用户组在内部网络中建模组织结构。我们还讨论了它们的属性，如地址、电话号码、网站、服务等等。有一个属性使得组织和用户组成为
    Liferay Portal CMS 非常重要的组成部分。这个属性是站点。站点是一组可能包含应用程序和内容的页面。组织或用户组内的用户可以拥有自己的站点，该站点存储和展示由其用户（文件、文章、日历事件、书签等）产生和发布的信息。也存在一些与任何结构化用户集合无关的站点。在本章中，我们将讨论如何创建、自定义和管理站点。
- en: Creating an organization and a standalone site
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建组织和独立站点
- en: Each organization and user group can have a site, which consists of a group
    of public and private pages organized into a tree-like structure. Public pages
    are pages accessible by anyone who has a link to the site. Private pages are pages
    that can only be accessed by logged-in users, who are members of the organization,
    user group, or standalone site. It is also possible to create a standalone site
    that is not assigned to any organization or user group. Standalone sites can additionally
    form a structure of sites, similar to the organization structure described in
    the previous chapter (for example, there can be a top-level site that has subsites).
    Organization sites are often created to store and present content and provide
    tools for users from a specific department or localization of the company. User
    group sites group information and tools used by people sharing common interests
    or people who are a part of the same project team. Standalone sites or site structures
    are used to provide a site or group of sites outside the organizational structure
    and are common for members of different user groups.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 每个组织和用户组都可以拥有一个站点，该站点由一组公共和私有页面组成，组织成树状结构。公共页面是任何人只要拥有站点链接就可以访问的页面。私有页面是只有登录用户，即组织、用户组或独立站点的成员才能访问的页面。还可以创建一个未分配给任何组织或用户组的独立站点。独立站点还可以形成类似于前一章中描述的组织结构（例如，可以有一个顶级站点，它有子站点）。组织站点通常创建用于存储和展示内容，并为来自特定部门或公司本地化的用户提供工具。用户组站点将共享共同兴趣或属于同一项目团队的人使用的信息和工具分组。独立站点或站点结构用于在组织结构之外提供站点或站点组，这对于不同用户组的成员来说是常见的。
- en: How to do it…
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: In this recipe, we will show you how to create an organization site and a standalone
    site. User group sites are created while setting up a user group. Unlike the organization,
    it is not possible to create a user group without the site.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将向您展示如何创建组织站点和独立站点。用户组站点是在设置用户组时创建的。与组织不同，没有站点无法创建用户组。
- en: 'In order to create a site for an existing organization, perform these steps:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 为了为现有组织创建站点，执行以下步骤：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Users**|
    **Users and Organizations**.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **控制面板** | **用户**| **用户和组织**。
- en: Click on the **Actions** button located near the name of the organization you
    want to modify.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于您想要修改的组织名称附近的**操作**按钮。
- en: Choose the **Edit** option.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**编辑**选项。
- en: Click on the **Organization Site** link in the right menu.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右侧菜单中点击**组织站点**链接。
- en: Check the **Create Site** checkbox:![How to do it…](img/image00314.jpeg)
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**创建站点**复选框：![如何操作…](img/image00314.jpeg)
- en: Click on the **Save** button.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'In order to create a standalone site, perform the following steps:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建一个独立的站点，执行以下步骤：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Sites**.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **控制面板** | **站点**。
- en: Click on the **Add** button.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮。
- en: Choose the **Blank Site** option.![How to do it…](img/image00315.jpeg)
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**空白站点**选项。![如何操作…](img/image00315.jpeg)
- en: Provide the **Name (Required)** and **Description** for the site.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为站点提供**名称（必需）**和**描述**。
- en: Enable the **Active** option.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**活动**选项。
- en: Choose the **Membership Type**.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**会员类型**。
- en: Enable the **Allow Manual Membership Management** option.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**允许手动会员管理**选项。
- en: Choose the parent site.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择父站点。
- en: Click on the **Save** button.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'Once the site has been created, it is possible to add pages, place and configure
    portlets on them, and present content. However, it is not possible to enter the
    site before the first page is added. For more information on adding pages to the
    site, refer to the *Creating and customizing private and public pages for the
    site* recipe. To enter the site after adding the first page, execute these steps:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建站点，就可以添加页面，在它们上放置和配置端口，并展示内容。然而，在添加第一个页面之前，无法进入站点。有关向站点添加页面的更多信息，请参阅*为站点创建和自定义私有和公共页面*食谱。在添加第一个页面后进入站点，请执行以下步骤：
- en: Go to **Admin** | **Control Panel** | **Sites**.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**管理** | **控制面板** | **站点**。
- en: Click on the **Actions** button next to the particular site name.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击特定站点名称旁边的**操作**按钮。
- en: Click on the **Site Administration** action.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**站点管理**操作。
- en: Go to the **Pages** | **Site Pages** section.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**页面** | **站点页面**部分。
- en: Choose the set of pages you want to enter by clicking on the **Public Pages**
    or **Private Pages** tab.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击**公共页面**或**私有页面**标签，选择您想要进入的页面集。
- en: Click on the **Public Pages** or **Private Pages** link (depending on the tab
    chosen in step 5).
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**公共页面**或**私有页面**链接（取决于第5步中选择的标签）。
- en: Click on the **View pages** link.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**查看页面**链接。
- en: 'You can also enter the site by typing the URL. The default URL addresses are
    as follows:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以通过输入URL来进入站点。默认URL地址如下：
- en: '`http://localhost:8080/web/site-name` for public pages'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`http://localhost:8080/web/site-name` 用于公共页面'
- en: '`http://localhost:8080/group/site-name` for private pages'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`http://localhost:8080/group/site-name` 用于私有页面'
- en: How it works…
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: In the first part of the recipe, we created an organization site. The second
    part of the recipe describes how to add a standalone site. Both the organization
    and standalone sites we created are empty and require us to add and configure
    pages and portlets. All the organization and standalone sites can be accessed
    by going to **Admin** | **Control Panel** | **Sites**.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在食谱的第一部分，我们创建了一个组织站点。食谱的第二部分描述了如何添加一个独立站点。我们创建的组织和独立站点都是空的，需要我们添加和配置页面和端口。所有组织和独立站点都可以通过访问**管理**
    | **控制面板** | **站点**来访问。
- en: Active and inactive sites
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 活动和非活动站点
- en: Each site can be set as active or inactive. The active site is accessible for
    users. An inactive site cannot be entered by users, but it is still available
    and can be activated any time. The activation option can be used when we want
    to switch the site off temporarily or when we need to turn it off permanently
    while keeping all the content as an archive.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 每个站点都可以设置为活动状态或非活动状态。活动站点可供用户访问。非活动站点用户无法进入，但它仍然可用，并且可以随时激活。激活选项可以在我们想要暂时关闭站点或需要永久关闭站点同时保留所有内容作为存档时使用。
- en: Public and private pages and their membership type
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 公共和私有页面及其会员类型
- en: Each organization, user group, or standalone site consists of public and private
    pages, which are organized in two separate trees. Public pages are pages accessible
    by anyone who has a link to the site. In Liferay, these users are called guests.
    Private pages are pages that can only be accessed by logged-in users, who are
    members of the organization, user group, or standalone site. Users can become
    members of organizations, user groups, or standalone sites when they are assigned
    to them by an administrator or they join by themselves using the My Sites portlet.
    The My Sites portlet is one of the many applications available for administrators
    to place on a site's pages. Its main purpose is to show the sites of which the
    user is a member and list other sites that the user can join or request membership
    to.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 每个组织、用户组或独立网站都由公共和私有页面组成，这些页面组织在两个独立的树中。公共页面是任何人只要有网站链接就可以访问的页面。在Liferay中，这些用户被称为访客。私有页面是只有登录用户才能访问的页面，他们是组织、用户组或独立网站的成员。当管理员将他们分配给用户或他们通过“我的网站”面板自行加入时，用户可以成为组织、用户组或独立网站的成员。我的网站面板是管理员可以放置在网站页面上的许多应用程序之一。其主要目的是显示用户是成员的网站，并列出用户可以加入或请求会员资格的其他网站。
- en: The way a user becomes a member of the site is defined by the type of membership;
    the parameter can be specified while adding a new site.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 用户成为网站成员的方式由会员资格类型定义；该参数可以在添加新网站时指定。
- en: 'There are three types of membership:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 有三种会员资格类型：
- en: '**Open**: This allows any user to join and leave the site. The open sites are
    shown in the My Sites portlet.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**公开**: 这允许任何用户加入和离开该网站。公开网站显示在“我的网站”面板中。'
- en: '**Restricted**: In this type of membership, the administrator or the owner
    manages the user''s membership of the site. Although users do not have the ability
    to join the site, they can request membership and leave it by themselves. What
    is important is whether their membership can be granted by the administrator.
    The restricted sites are also listed in the My Sites portlet.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**受限**: 在这种会员资格类型中，管理员或所有者管理用户的网站会员资格。尽管用户没有加入网站的能力，但他们可以请求会员资格并自行离开。重要的是他们的会员资格是否可以被管理员授予。受限网站也列在“我的网站”面板中。'
- en: 'If users want to join to the site, they can request membership. When a user
    sends a request or when an administrator approves the request, the system sends
    an e-mail message. It is possible to define the templates of notification in `portal-ext.properties`:'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果用户想加入该网站，他们可以请求会员资格。当用户发送请求或管理员批准请求时，系统会发送一封电子邮件。可以在`portal-ext.properties`中定义通知模板：
- en: '[PRE0]'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '**Private**: Denies users the chance to join, request membership from, or leave
    the site. Users must be assigned to the site manually by its administrator. The
    private site does not appear in the My Sites portlet.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**私有**: 拒绝用户加入、请求会员资格或离开网站的机会。用户必须由其管理员手动分配给网站。私有网站不会显示在“我的网站”面板中。'
- en: The membership type is strictly connected to the **Allow Manual Membership Management**
    option, which determines whether users can be manually added to and removed from
    the site by its administrators. If the option is enabled (except manual membership
    management), it also allows users to join open sites or request membership to
    restricted sites using the My Sites portlet. By default, the option is enabled
    for standalone sites and disabled for organization sites, where the users section
    of site administration is not available.
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 会员资格类型严格关联到**允许手动管理会员资格**选项，该选项确定管理员是否可以手动将用户添加到网站或从网站中删除。如果该选项启用（除手动会员管理外），它还允许用户使用“我的网站”面板加入公开网站或请求受限网站的会员资格。默认情况下，该选项对独立网站启用，对组织网站禁用，在网站管理中的用户部分不可用。
- en: Creating an empty site versus creating a site using site templates
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建空网站与使用网站模板创建网站的方式
- en: When a new site is created, the tree of pages is empty. It is worth noting that
    when an empty site is created (as described in this recipe), it is not possible
    to enter the site before adding its first page. What's more, newly created sites
    are by default set as active, which means that users can immediately access them.
    However, it is possible to create a preconfigured set of public and/or private
    pages using site templates, which consist of preconfigured sites that can consist
    of pages, portlets, and content. You can find more about templates in the *Using
    page templates and site templates for quick site and page creation* recipe.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建一个新的站点时，页面树是空的。值得注意的是，当创建一个空站点（如本食谱中所述）时，在添加第一个页面之前无法进入该站点。更重要的是，新创建的站点默认设置为活动状态，这意味着用户可以立即访问它们。然而，可以使用站点模板创建预配置的公共和/或私有页面集，这些模板由预配置的站点组成，可以包含页面、小部件和内容。您可以在*使用页面模板和站点模板快速创建站点和页面*食谱中找到更多关于模板的信息。
- en: Technical view
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 技术视图
- en: From the technical point of view, a site is a group of layouts. In the database,
    each site is stored in the `Group_` table. Understanding this concept may be difficult.
    However, it is one of the most important functionalities in Liferay.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 从技术角度来看，一个站点是一组布局。在数据库中，每个站点都存储在`Group_`表中。理解这个概念可能很困难。然而，它是Liferay中最重要功能之一。
- en: Liferay allows the administrator to run many portal instances on the same server.
    In the basic installation, it is called Liferay.com. Remember that portal instances
    keep their data separately from every portal instance (in the same database or
    in a different database).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay允许管理员在同一服务器上运行多个门户实例。在基本安装中，它被称为Liferay.com。请记住，门户实例会将其数据与每个门户实例（在同一数据库或不同数据库中）分开存储。
- en: 'Each portal instance can aggregate many groups: organizations, user groups,
    teams, users, and sites. All of these settings have a different `groupId`, but
    all of them are stored in the same table called `Group_`. Moreover, layouts (pages)
    can be created from templates (page templates or/and sites templates). Furthermore,
    users can have their private and public pages. This information is stored in the
    `Group_` table too. To sum up, `Group_` contains the following settings:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 每个门户实例可以聚合许多组：组织、用户组、团队、用户和站点。所有这些设置都有一个不同的`groupId`，但它们都存储在同一个名为`Group_`的表中。此外，布局（页面）可以从模板（页面模板或/和站点模板）创建。此外，用户可以有他们的私人页面和公共页面。这些信息也存储在`Group_`表中。总的来说，`Group_`包含以下设置：
- en: Group (site)
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组（站点）
- en: Organization
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织
- en: User group
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户组
- en: User
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户
- en: Team
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 团队
- en: Layout prototype
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 布局原型
- en: Layout set prototype
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 布局集原型
- en: 'To distinguish these records in the `Group_` table, there are two columns:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在`Group_`表中区分这些记录，有两个列：
- en: '`classNameId` contains the ID of the `className` (names of classes are stored
    in the `ClassName_`) table'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`classNameId`包含`className`（类的名称存储在`ClassName_`）表的ID'
- en: '`classPK` is the primary key of the specific class, for instance, user, team,
    or just group'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`classPK`是该特定类的键，例如，用户、团队或仅仅是组'
- en: Every site can have only private pages or only public pages, or both. Public
    pages are accessible to anyone, especially users who aren't logged in. Private
    pages are only accessible to the users who belong to the organization where this
    site is. Each of them is a set of the pages (layouts) that define the default
    theme, language, logo, and so on. Liferay contains this information in the `LayoutSet`
    table. These settings are the default settings of each layout. For example, if
    a layout does not define a theme, this setting comes from `LayoutSet`.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 每个站点只能有私人页面或公共页面，或两者都有。公共页面对任何人可访问，特别是未登录的用户。私人页面仅对属于此站点的组织的用户可访问。每个都是一组页面（布局），定义了默认主题、语言、标志等。Liferay将这些信息包含在`LayoutSet`表中。这些设置是每个布局的默认设置。例如，如果一个布局没有定义主题，这个设置来自`LayoutSet`。
- en: There's more…
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多...
- en: It is also possible to manage the site using actions available in the site actions
    menu.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，也可以通过站点操作菜单中的操作来管理站点。
- en: 'There are several possible actions that can be performed on a site:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 可以在站点上执行几种可能的操作：
- en: The **Site Administration** action redirects the user to the site settings section
    in **Control Panel** and allows them to manage an organization's public and private
    sites
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**站点管理**操作将用户重定向到**控制面板**中的站点设置部分，并允许他们管理组织的公共和私有站点'
- en: The **Add Child Site** action allows us to create a subsite
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**添加子站点**操作允许我们创建子站点'
- en: The **View Child Sites** action allows us to browse the list of child sites
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**查看子站点**操作允许我们浏览子站点的列表。'
- en: The **Go to Public Pages** action opens the site's public pages in a new window
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**转到公共页面**操作在新窗口中打开站点的公共页面。'
- en: The **Go to Private Pages** action opens the site's private pages in a new window
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**转到私有页面**操作在新窗口中打开站点的私有页面。'
- en: The **Activate** action allows us to activate the site
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**激活**操作允许我们激活站点。'
- en: The **Deactivate** action allows us to deactivate the site
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**停用**操作允许我们停用站点。'
- en: The **Delete** action allows us to delete a site
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除**操作允许我们删除一个站点。'
- en: The **Leave** action allows users to leave the site. This option is available
    only if the user is a member of the site
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**离开**操作允许用户离开站点。此选项仅当用户是站点的成员时才可用。'
- en: 'In order to perform one of the actions listed earlier, perform these steps:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 为了执行前面列出的操作之一，请按照以下步骤操作：
- en: Go to **Control Panel** | **Sites**.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**控制面板** | **站点**。
- en: Click on the **Actions** button, located near the name of the site you want
    to modify.![There's more…](img/image00316.jpeg)
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于您想要修改的站点的名称附近的**操作**按钮。![还有更多…](img/image00316.jpeg)
- en: Click on the name of the chosen action.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选操作的名称。
- en: See also
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'You may also refer to the following recipes:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以参考以下菜谱：
- en: For information on creating organizations and user groups, refer to the *Managing
    an organization structure* and *Creating a new user group* recipes from [Chapter
    3](part0030.xhtml#aid-SJGS1 "Chapter 3. Working with a Liferay User / User Group
    / Organization"), *Working with a Liferay User / User Group / Organization*
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关创建组织和用户组的信息，请参阅[第3章](part0030.xhtml#aid-SJGS1 "第3章。与Liferay用户/用户组/组织一起工作")
    *与Liferay用户/用户组/组织一起工作*中的*管理组织结构*和*创建新用户组*菜谱。
- en: For information on customizing the site and adding pages to it, refer to the
    the *Site configuration* and *Creating and customizing private and public pages
    for the site* recipes
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关自定义站点和向其添加页面的信息，请参阅*站点配置*和*为站点创建和自定义私有和公共页面*菜谱。
- en: For more information on creating sites, refer to the *Using page templates and
    site templates for quick site and page creation* recipe
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有关创建站点的更多信息，请参阅*使用页面模板和站点模板快速创建站点和页面*菜谱。
- en: Site configuration
  id: totrans-95
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 站点配置
- en: When a site is created, it is possible to configure each site parameter, but
    the range of possible options is determined by the origin of the site (whether
    it is an organization, users group, or a standalone site). After creating an organization
    site, the link to the **Site Settings** section will appear on the organization
    menu and its actions menu. All the new organizations and standalone sites are
    also visible on the list that you can see by going to **Admin** | **Control Panel**
    | **Sites**. The user group pages are not included in this list, but can be accessed
    from the actions menu of the particular user group by going to **Admin** | **Control
    Panel** | **User Group**.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 当创建站点后，您可以配置每个站点的参数，但可能的选项范围由站点的来源（它是否是组织、用户组或独立站点）决定。创建组织站点后，**站点设置**部分的链接将出现在组织菜单及其操作菜单中。所有新的组织和独立站点也将在您前往**管理**
    | **控制面板** | **站点**时看到的列表中可见。用户组页面不包括在这个列表中，但可以通过前往**管理** | **控制面板** | **用户组**从特定用户组的操作菜单中访问。
- en: Getting ready
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To step through this recipe, you have to create a site first (for more information
    on how to create a site, refer to the *Creating an organization and a standalone
    site* recipe).
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要逐步完成这个菜谱，您必须首先创建一个站点（有关如何创建站点的更多信息，请参阅*创建组织和独立站点*菜谱）。
- en: How to do it…
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: In this recipe, we will show you how to set parameters of an organization site
    and a standalone site.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将向您展示如何设置组织站点和独立站点的参数。
- en: 'In order to configure a site of an organization, follow these steps:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了配置组织的站点，请按照以下步骤操作：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Users
    and Organizations**.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并前往**管理** | **控制面板** | **用户和组织**。
- en: Click on the **Actions** button, located near the name of the organization,
    for which you want to configure the site.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于您想要配置的组织的名称附近的**操作**按钮。
- en: Choose the **Manage Site** option.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**管理站点**选项。
- en: Fill in the **Details**, **Search Engine Optimization**, **Advanced**, and **Miscellaneous**
    fields.![How to do it…](img/image00317.jpeg)
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写**详细信息**、**搜索引擎优化**、**高级**和**杂项**字段。![如何操作…](img/image00317.jpeg)
- en: Click on the **Save** button.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'In order to configure a standalone site, perform these steps:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 为了配置独立网站，请执行以下步骤：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Sites**.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **控制面板** | **网站**。
- en: Click on the **Actions** button, located near the name of the site.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于网站名称附近的**操作**按钮。
- en: Choose the **Site Administration** option.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**网站管理**选项。
- en: Go to the **Configuration** section.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**配置**部分。
- en: Fill in the **Details**, **Search Engine Optimization**, **Advanced** and **Miscellaneous**
    fields.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写**详细信息**、**搜索引擎优化**、**高级**和**杂项**字段。
- en: Click on the **Save** button.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: How it works…
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'All the available parameters are divided into the following groups:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 所有可用参数分为以下几组：
- en: 'The **Basic information** group, which contains the following sections:'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本信息**组，包含以下部分：'
- en: The **Details** section contains a set of options that allow changing the Name,
    Description, Membership Options, create Public and Private pages, choose Parent
    Site or activate and deactivate the site
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**详细信息**部分包含一组选项，允许更改名称、描述、会员选项、创建公共和私有页面、选择父站点或激活和停用网站'
- en: The **Categorization** section, which provides tags and categories that can
    be assigned to a site
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分类**部分，提供了可以分配给网站的标签和分类'
- en: The **Site URL** section, which allows the user to enter the friendly URL that
    will be used by both public and private pages
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站 URL**部分，允许用户输入将被公共和私有页面使用的友好 URL'
- en: The **Site Template** section, which shows the names of templates used to create
    public and private pages and their basic settings
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站模板**部分，显示了用于创建公共和私有页面的模板名称及其基本设置'
- en: '**Search Engine Optimization**, which consists of the following sections:'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**搜索引擎优化**，包括以下部分：'
- en: The **Sitemap** section, which allows the user to send sitemap information to
    preview
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站地图**部分，允许用户发送网站地图信息以进行预览'
- en: The **Robots** section, which allows us to set robot parameters for public and
    private pages
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**机器人**部分，允许我们为公共和私有页面设置机器人参数'
- en: '**Advanced**, which consists of the following sections:'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级**，包括以下部分：'
- en: The **Default User Associations** section, which allows us to define the default
    site roles and teams that should be assigned to the site's users
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认用户关联**部分，允许我们定义应分配给网站用户的默认网站角色和团队'
- en: The **Staging** section, which allows us to enable the staging functionality
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预览**部分，允许我们启用预览功能'
- en: The **Analytics** section, which allows the user to define the Google Analytics
    ID or Piwik script that will be used for this set of pages
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分析**部分，允许用户定义用于此组页面的 Google Analytics ID 或 Piwik 脚本'
- en: The **Content Sharing** section, which allows us to decide whether subsites
    can display content from this site
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内容共享**部分，允许我们决定子站点是否可以显示此网站的内容'
- en: The **Recycle Bin** section, which allows the user to enable the recycle bin
    functionality and also move entries in trash; the trash automatically deletes
    the stored content after the indicated number of days
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**回收站**部分，允许用户启用回收站功能并移动垃圾箱中的条目；垃圾箱会在指定天数后自动删除存储的内容'
- en: '**Miscellaneous**, which contains the following sections:'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**杂项**，包含以下部分：'
- en: The **Custom Fields** section, which provides a tool to manage values of custom
    attributes defined for the site.
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义字段**部分，提供了一个工具来管理为网站定义的自定义属性值。'
- en: The **Display Settings** section, which allows the user to set the language
    of the site. It is possible to use the default language option or define a custom
    default language and additional available languages for this site.
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示设置**部分，允许用户设置网站的语言。可以使用默认语言选项或定义一个自定义默认语言以及此网站的其他可用语言。'
- en: 'Each section can be customized in `portal-ext.properties` by setting the following
    properties:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 每个部分都可以通过设置以下属性在`portal-ext.properties`中进行自定义：
- en: '[PRE1]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Another interesting feature is sharing content between sites (from parent to
    children). It can be set by the `sites.content.sharing.with.children.enabled`
    property. Here are the possible values:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个有趣的功能是在网站之间共享内容（从父站点到子站点）。可以通过`sites.content.sharing.with.children.enabled`属性进行设置。以下是可能的值：
- en: '**0** disables the sharing of content with subsites for all sites'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**0**禁用了所有网站与子站点的共享内容'
- en: '**1** disables the sharing of content by default while allowing site administrators
    to enable it per site'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**1**默认禁用了内容共享，同时允许网站管理员按站点启用它'
- en: '**2** enables the sharing of content by default while allowing site administrators
    to disable it per site'
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**2**默认启用内容共享，同时允许站点管理员按站点禁用'
- en: 'The next setting corresponds to the earlier one. The administrator can be a
    member of many sites. It is possible to allow or deny content sharing across the
    sites that an administrator manages. To enable or disable this feature, set the
    following property:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个设置对应于前面的设置。管理员可以是多个站点的成员。允许或拒绝管理员管理的站点之间内容共享是可能的。要启用或禁用此功能，设置以下属性：
- en: '[PRE2]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The last property settings correspond to the site map. Every site map can be
    refreshed by particular units of time (always, hourly, daily, weekly, monthly,
    yearly or newer). In the site map, pages can have a default priority (ranging
    between 0.0 to 1.0). Set the following properties to order these settings:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 最后的属性设置对应于站点地图。每个站点地图都可以通过特定的时间单位（总是、每小时、每天、每周、每月、每年或更新）刷新。在站点地图中，页面可以有一个默认优先级（介于0.0到1.0之间）。设置以下属性以排序这些设置：
- en: '[PRE3]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: See also
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关链接
- en: For more information on creating sites, refer to the *Creating an organization
    and a standalone site* and *Using page templates and site templates for quick
    site and page creation* recipes.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 有关创建站点的更多信息，请参阅*创建组织和独立站点*和*使用页面模板和站点模板快速创建站点和页面*指南。
- en: Creating and customizing private and public pages for the site
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建和自定义站点的公共和私有页面
- en: 'As was mentioned earlier, there are two groups of pages within a site: public
    pages and private pages. Each page in a group is a part of a separate tree-like
    structure, reflecting levels in the website''s information architecture. Pages
    in a tree can differ, depending on their purpose and origin. The page could be
    just a place where the information arranged in portlets is shown. It can provide
    a range of tools for users who manage the content of the website. It is also possible
    to add a page that is the link to another page of the same or a separate site.
    In addition, pages can be created as empty pages, copies of already existing ones,
    or can be based on defined templates.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，一个站点内有两组页面：公共页面和私有页面。组内的每个页面都是单独的树状结构的一部分，反映了网站的信息架构层级。树中的页面可能因目的和来源而有所不同。页面可能只是显示在端口中排列的信息的地方。它可以提供一系列工具供网站内容管理员使用。还可以添加一个链接到同一站点或不同站点的另一个页面的页面。此外，页面可以创建为空页面、现有页面的副本或基于定义的模板。
- en: Getting ready
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To step through this recipe, you have to create a site first (for more information
    how to create a site, refer to the *Creating an organization and a standalone
    site* recipe).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 要逐步完成此指南，您必须首先创建一个站点（有关如何创建站点的更多信息，请参阅*创建组织和独立站点*指南）。
- en: How to do it…
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: The following recipe will illustrate how to create pages and arrange their structure.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 以下指南将说明如何创建页面并安排其结构。
- en: 'In order to create public pages, follow these steps:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建公共页面，请按照以下步骤操作：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Sites**.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **控制面板** | **站点**。
- en: Click on the **Actions** button, located near the name of the site.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于站点名称附近的**操作**按钮。
- en: Choose the **Site Administration** option.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**站点管理**选项。
- en: Click on the **Site Pages** link in the **Pages** section of the left menu.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击左侧菜单中的**页面**部分中的**站点页面**链接。
- en: Make sure you are in the **Public Pages** tab.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您处于**公共页面**选项卡。
- en: Click on the **Add Page** button (indicated by **+** icon).![How to do it…](img/image00318.jpeg)
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加页面**按钮（由**+**图标表示）。![如何操作…](img/image00318.jpeg)
- en: Provide the name of the page (in our example, it is **Home**).
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供页面的名称（在我们的例子中，它是**主页**）。
- en: Enable the **Hide from Navigation Menu** option.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**从导航菜单中隐藏**选项。
- en: Choose the **Empty Page** type.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**空页面**类型。
- en: Choose the page layout.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择页面布局。
- en: Click on the **Add Page** button.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加页面**按钮。
- en: Click on the newly added page's name on the **Public Pages** tree.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**公共页面**树中新增页面的名称。
- en: Click on the **Add Child Page** button.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加子页面**按钮。
- en: Provide the name of the page (for instance, News).
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供页面的名称（例如，新闻）。
- en: Disable the **Hide from Navigation Menu** option.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 禁用**从导航菜单中隐藏**选项。
- en: Choose the **Empty page** type.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**空页面**类型。
- en: Choose the page layout.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择页面布局。
- en: Click on the **Add Page** button.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加页面**按钮。
- en: How it works…
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: 'As shown in the previous recipe, the creation of a page is a very simple action
    that requires us to provide some basic information, such as:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一个示例所示，创建页面是一个非常简单的操作，需要我们提供一些基本信息，例如：
- en: The **Name**, which identifies the page. The name will be shown in all the portlets
    listing pages and (if the page title is not set) will be used as a page HTML title.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**，用于标识页面。名称将在所有列出页面的端口中显示，并且（如果未设置页面标题）将用作页面HTML标题。'
- en: The layout of the page determines whether it should consist of one, two, or
    other combinations of columns.
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 页面布局决定了它是否应由一列、两列或其他列的组合组成。
- en: The **Hide from Navigation Menu** option allows us to manage the visibility
    of the page. If the option is enabled, the page is not visible in the navigation
    menu, navigation portlet, site map portlet, and so on.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**从导航菜单中隐藏**选项允许我们管理页面的可见性。如果启用此选项，则页面在导航菜单、导航端口、网站地图端口等中不可见。'
- en: 'The **Type** option allows the user to choose the type of newly created page.
    There are the following types of pages:'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型**选项允许用户选择新创建页面的类型。以下是一些页面类型：'
- en: '**Empty Page**: An empty page will be added'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**空白页面**：将添加一个空白页面'
- en: '**Panel**: This allows us to create a page with predefined applications and
    navigation'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**面板**：这允许我们创建一个带有预定义应用程序和导航的页面'
- en: '**Embedded page**: This presents content from another website'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**嵌入式页面**：这展示了来自另一个网站的内容'
- en: '**Link to URL**: This is a link to another website'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**链接到URL**：这是指向另一个网站的链接'
- en: '**Link to a Page of This Site**: This is a link to another page within the
    current site'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**链接到本站页面**：这是指向当前站点内另一个页面的链接'
- en: '**Copy of a Page of This Site**: This is a copy an existing page from this
    site'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**本站页面副本**：这是从本站点复制现有页面的副本'
- en: There is also a list of page templates that can be used.
  id: totrans-182
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 此外，还有一个可以使用的页面模板列表。
- en: It is worth noting that as was shown in a previous example, the level of the
    page is determined by the page that is chosen and marked before we click on the
    **Add Child Page** button. If we want to create a top-level page, the public pages
    or (private pages) branch must be selected. What's more, it is also possible to
    manage the localization of the page within a tree by simply dragging and dropping
    pages on different tree levels.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，正如前一个示例所示，页面的级别是在我们点击**添加子页面**按钮之前选择的标记的页面所决定的。如果我们想创建一个顶级页面，必须选择公共页面或（私人页面）分支。更重要的是，我们还可以通过简单地将页面拖放到不同的树级别来管理页面在树中的本地化。
- en: There are many others parameters that influence the page's appearance and behavior.
    These parameters can be managed by going to **Admin** | **Control Panel** | **Sites**
    | **Pages** | **Site Pages**.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多其他参数会影响页面的外观和行为。这些参数可以通过访问**管理** | **控制面板** | **站点** | **页面** | **站点页面**来管理。
- en: Page parameters
  id: totrans-185
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 页面参数
- en: 'Page customization options (available after clicking on the page name link
    on the appropriate tab by going to **Admin** | **Control Panel** | **Sites** |
    **Pages** | **Site Pages**) are divided into the following sections:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 页面定制选项（在**管理** | **控制面板** | **站点** | **页面** | **站点页面**）中点击页面名称链接的相应选项卡后可用，分为以下部分：
- en: The **Details** sections, which allows us to change the parameters set while
    adding the page, such as **Name**, **Type**, **Friendly URL**, **Layout of the
    page**, for example **1 Column**, **2 Columns (50/50)**, **2 Columns (30/70)**
    and so on, and decide whether to hide the page from the navigation menu.
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**详细信息**部分，允许我们更改在添加页面时设置的参数，例如**名称**、**类型**、**友好URL**、**页面布局**，例如**1列**、**2列（50/50）**、**2列（30/70）**等等，并决定是否将页面从导航菜单中隐藏。'
- en: The **SEO** section, which allows us to provide information that helps to optimize
    the page for search engines, such as HTML title, meta tags, and description, keywords,
    robot information, and sitemap options.
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SEO**部分，允许我们提供有助于优化页面以供搜索引擎使用的信息，例如HTML标题、元标签、描述、关键词、机器人信息以及网站地图选项。'
- en: The **Look and Feel** section, which allows us to decide what look and feel
    should be used for the site. It is possible to use the same look and feel configuration
    as that of the whole tree (**Use the same look and feel of the public pages**
    option) or customize it by choosing the **Define a specific look and feel for
    this page** option.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外观和感觉**部分，允许我们决定应使用哪种外观和感觉来构建网站。可以使用与整个树相同的配置（选择**使用公共页面的外观和感觉**选项）或通过选择**为该页面定义特定的外观和感觉**选项来自定义它。'
- en: The **JavaScript** section, which allows us to define JavaScript code that will
    be executed at the bottom of the page.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**JavaScript** 部分，允许我们定义将在页面底部执行的 JavaScript 代码。'
- en: The **Custom Fields** section, which provides a tool to manage the values of
    custom attributes defined for the page.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义字段** 部分，提供管理为页面定义的自定义属性值的工具。'
- en: The **Advanced** section, which allows us to set the target and icon for the
    page that appears in the navigation menu.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级** 部分，允许我们设置出现在导航菜单中的页面的目标和图标。'
- en: The **Mobile Device Rules** section, which allows us to decide whether to use
    the mobile device rules of the public pages or define specific mobile device rules
    for this page.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**移动设备规则** 部分，允许我们决定是否使用公共页面的移动设备规则或为此页面定义特定的移动设备规则。'
- en: The **Customization Settings** section, which allows us to decide which sections
    of the page will be customizable for users having required permissions.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自定义设置** 部分，允许我们决定哪些页面部分将对具有所需权限的用户可自定义。'
- en: Whole-tree parameters
  id: totrans-195
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 整个树参数
- en: 'There are also some parameters that can be set for the whole tree of pages
    (available after clicking on the public pages or private pages link on the corresponding
    tab by going to **Admin** | **Control Panel** | **Sites** | **Pages** | **Site
    Pages**). These parameters are as follows:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以设置整个页面树的某些参数（在点击 **Admin** | **控制面板** | **站点** | **页面** | **站点页面** 对应选项卡上的公共页面或私有页面链接后可用）。以下参数如下：
- en: The **Look and Feel** section, which allows us to choose the graphical theme,
    bullet styles, and color schemes for this group of pages; decide whether portlet
    borders should be visible by default; or insert custom CSS to be loaded after
    the theme
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**外观和感觉** 部分，允许我们选择此组页面的图形主题、项目符号样式和配色方案；决定是否默认显示端口边界；或插入在主题之后加载的自定义 CSS。'
- en: The **Logo** section, which allows us to set the logo of this particular tree
    of pages and decide whether the name of the site should be shown
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Logo** 部分，允许我们设置此特定页面树的标志，并决定是否显示站点名称'
- en: The **JavaScript** section, which allows us to define JavaScript code that will
    be executed at the bottom of the page
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**JavaScript** 部分，允许我们定义将在页面底部执行的 JavaScript 代码'
- en: The **Advanced** section, which allows us to merge the public pages of our portal's
    default site with the public pages of the current site
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级** 部分，允许我们将我们门户默认站点的公共页面与当前站点的公共页面合并。'
- en: The **Mobile Device Rules** section, which allows the user to define groups
    of devices and corresponding rules
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**移动设备规则** 部分，允许用户定义设备组和相应的规则'
- en: Technical view
  id: totrans-202
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 技术视图
- en: 'Layouts are stored in the `Layout` table. This table has the following columns:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 布局存储在 `Layout` 表中。此表有以下列：
- en: '`plid`: Unique identified'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`plid`: 唯一标识符'
- en: Audit fields (`groupId`, `companyId`, `userId`, `userName`, `createDate`, `modifiedDate`)
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审计字段（`groupId`, `companyId`, `userId`, `userName`, `createDate`, `modifiedDate`）
- en: '`name`: Layout name'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name`: 布局名称'
- en: '`type_`: One of the values—`portlet`, `panel`, `embedded`, `url`, `link_to_layout`'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`type_`: 以下值之一—`portlet`, `panel`, `embedded`, `url`, `link_to_layout`'
- en: '`friendlyURL`: Friendly URL to the specific layout'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`friendlyURL`: 指向特定布局的友好 URL'
- en: '`typeSettings`: Aggregate layout settings'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`typeSettings`: 布局聚合设置'
- en: Any other columns that are not important to understand this recipe
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何其他对理解此配方不重要的列
- en: There's more…
  id: totrans-211
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: It is also possible to manage the page using available actions.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以使用可用的操作来管理页面。
- en: 'There are several possible actions that can be performed on a site page:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 在站点页面上可以执行以下几种可能的操作：
- en: The **Permissions** action allows us to set permissions for the site page
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限** 操作允许我们设置站点页面的权限'
- en: The **Copy Applications** action is used to copy all the portlets (and their
    configurations) from another page
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复制应用程序** 操作用于从另一个页面复制所有端口（及其配置）'
- en: The **Go to Private Pages** action opens the site's private pages in a new window
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**转到私有页面** 操作在新窗口中打开站点的私有页面'
- en: The **Delete** action allows us to delete a page
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除** 操作允许我们删除一个页面'
- en: 'In order to perform one of the actions listed earlier, perform these steps:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 为了执行前面列出的操作之一，请执行以下步骤：
- en: Login as an administrator and go to **Admin** | **Control panel** | **Sites**.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到 **Admin** | **控制面板** | **站点**。
- en: Click on the **Actions** button, located near the name of the site whose page
    you want to modify.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击你想要修改的站点名称附近的 **操作** 按钮。
- en: Click on the **Site Administration** option.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **站点管理** 选项。
- en: Select the page to modify.![There's more…](img/image00319.jpeg)
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择要修改的页面。![还有更多…](img/image00319.jpeg)
- en: Click on the name of the chosen action.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选操作的名称。
- en: Using page templates and site templates for quick site and page creation
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用页面模板和站点模板快速创建站点和页面
- en: In some cases, selected groups or even all sites within the intranet should
    contain the same set of pages, including the same set of portlets. This model
    can be employed, for example, when sites are used as department websites or project
    spaces. Liferay provides a very effective tool that allows us to create whole
    preconfigured sites or pages from templates prepared earlier. It is also possible
    to enable the connection between the template and the site, which will ensure
    live propagation of changes.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，所选组或甚至整个内网中的所有站点都应该包含相同的页面集，包括相同的组件集。例如，当站点用作部门网站或项目空间时，可以采用此模型。Liferay提供了一个非常有效的工具，允许我们使用预先准备的模板创建整个预配置的站点或页面。还可以启用模板与站点之间的连接，这将确保变更的实时传播。
- en: How to do it…
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: In this recipe, we will show you how to create a standalone site using site
    templates and how to create a single page from the page template.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将向您展示如何使用站点模板创建独立站点，以及如何从页面模板创建单个页面。
- en: 'In order to create a standalone site using a site template, perform these steps:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用站点模板创建独立站点，请执行以下步骤：
- en: Login as an administrator and go to **Admin** | **Control Panel** | **Sites**.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **控制面板** | **站点**。
- en: Click on the **Add** button.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮。
- en: Choose the template you want to use from the drop-down list (for example, **Community
    Site**).![How to do it…](img/image00320.jpeg)
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下拉列表中选择您想要使用的模板（例如，**社区站点**）。![如何操作…](img/image00320.jpeg)
- en: Provide the **Name (Required)** and **Description** for the site.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供站点的**名称（必需）**和**描述**。
- en: Make sure the **Active** option is enabled.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保已启用**激活**选项。
- en: Choose **Membership Type**.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**成员类型**。
- en: Enable or disable the **Allow Manual Membership Management** option.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用或禁用**允许手动成员管理**选项。
- en: Choose the **Copy As** | **Public Pages** option.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**复制为** | **公共页面**选项。
- en: Set the **Enable propagation of changes from the site template** option.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置**启用从站点模板传播变更**选项。
- en: Choose **Parent Site**.
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**父站点**。
- en: Click on the **Save** button.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'In order to create a page using a page template, perform these steps:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用页面模板创建页面，请执行以下步骤：
- en: Click on the **Actions** button, located near the name of the site.
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于站点名称附近**操作**按钮。
- en: Choose the **Site administration** option.
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**站点管理**选项。
- en: Click on the **Site pages** section.
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**站点页面**部分。
- en: Click on the **Public Pages** tab.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**公共页面**标签页。
- en: Click on the **Add Page** button:![How to do it…](img/image00321.jpeg)
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加页面**按钮：![如何操作…](img/image00321.jpeg)
- en: Provide the **Name** of the page (for example, **Blog**).
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供页面的**名称**（例如，**博客**）。
- en: Enable the **Hide from Navigation Menu** option.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**从导航菜单中隐藏**选项。
- en: Choose the **Blog** page type of the page.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择页面的**博客**页面类型。
- en: Click on the **Add Page** button.
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加页面**按钮。
- en: How it works…
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'There are two types of templates: **Page Templates** and **Site Templates**.'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 模板有两种类型：**页面模板**和**站点模板**。
- en: The page template is a base for creating single pages and can be chosen when
    creating a new page. It can be configured by going to **Admin** | **Control Panel**
    | **Page Templates**. A page template stores not only page configurations, but
    also portlets with their configuration and, in some cases, content.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 页面模板是创建单个页面的基础，可以在创建新页面时选择。可以通过访问**管理** | **控制面板** | **页面模板**进行配置。页面模板不仅存储页面配置，还存储组件及其配置，在某些情况下，还包括内容。
- en: The site template is used for creating whole sites and can be managed by going
    to **Admin** | **Control Panel** | **Site Templates**. The list of templates is
    available when creating a standalone site, user group, or organization site. The
    site template may contain a group of pages with their configurations, portlets,
    and content.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 站点模板用于创建整个站点，可以通过访问**管理** | **控制面板** | **站点模板**进行管理。在创建独立站点、用户组或组织站点时，可查看模板列表。站点模板可能包含一组页面及其配置、组件和内容。
- en: Propagation of changes
  id: totrans-254
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 变更传播
- en: When creating a site form template, it is important to decide whether the propagation
    of changes from the site template should be enabled or not. When the propagation
    is enabled, the changes made in the template are automatically applied to sites
    connected to it.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建站点表单模板时，重要的是决定是否应该启用从站点模板的更改传播。当传播被启用时，对模板所做的更改将自动应用于连接到它的站点。
- en: It is also worth noting that templates may allow site administrators to modify
    sites based on a template. When the template allows modifications (the **Enable
    propagation of changes from the site template** option is enabled) each modification
    of the pages of a site (site configuration and configuration of portlets) causes
    disconnection from the template. When template modifications are not allowed,
    administrators of sites cannot change the configuration of pages and their portlets.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，模板可能允许站点管理员根据模板修改站点。当模板允许修改（**启用从站点模板传播更改** 选项已启用）时，对站点页面（站点配置和端口配置）的每次修改都会导致与模板断开连接。当不允许模板修改时，站点管理员无法更改页面的配置及其端口。
- en: Technical view
  id: totrans-257
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 技术视图
- en: Site templates and page templates are stored in the `LayoutSetPrototype` and
    `LayoutPrototype` tables. `LayoutSetPrototype` contains default information about
    layouts that belong to a specific Layout Set. As mentioned earlier, site templates
    define a set of pages that can be copied after creating the new site.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 站点模板和页面模板存储在 `LayoutSetPrototype` 和 `LayoutPrototype` 表中。`LayoutSetPrototype`
    包含属于特定布局集的布局的默认信息。如前所述，站点模板定义了一组在创建新站点后可以复制的页面。
- en: A page template is a page created to be copied in other pages. The `LayoutPrototype`
    table stores all the required information about the page prototype.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 页面模板是为了在其他页面中复制而创建的页面。`LayoutPrototype` 表存储有关页面原型的所有必要信息。
- en: See also
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关链接
- en: For information on creating new empty sites, refer to the *Creating an organization
    and a standalone site* recipe.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 关于创建新空站点的信息，请参考 *创建组织和独立站点* 菜单。
- en: Enabling local live staging
  id: totrans-262
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用本地实时预览
- en: Staging is a powerful tool that allows users to change, deploy, and test a new
    site's configuration before it goes into production. In other words, it provides
    a testing environment that is visible only to administrators. Users can stage
    their work; this means they have the ability to work on the working copy of the
    website.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 预览是一个强大的工具，它允许用户在将新站点的配置投入生产之前对其进行更改、部署和测试。换句话说，它提供了一个只有管理员才能看到的测试环境。用户可以预览他们的工作；这意味着他们有在网站工作副本上工作的能力。
- en: Liferay provides the site administrator with the possibility to use local live
    staging and remote live staging. When we are talking about local live staging,
    the staging site and live site are in the same Liferay instance and on the same
    server. Remote live staging provides the possibility to configure and test changes
    in a different host (which is invisible in the production environment) and deploy
    changes to the production environment.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay 为站点管理员提供了使用本地实时预览和远程实时预览的可能性。当我们谈论本地实时预览时，预览站点和实时站点位于同一个 Liferay 实例和同一服务器上。远程实时预览提供了在不同的主机（在生产环境中不可见）配置和测试更改的可能性，并将更改部署到生产环境。
- en: How to do it…
  id: totrans-265
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'To enable local live staging, follow these steps:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用本地实时预览，请按照以下步骤操作：
- en: Login as an administrator and go to **Admin** | **Site Administration** | **Configuration**
    | **Site Settings**.
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到 **Admin** | **站点管理** | **配置** | **站点设置**。
- en: Choose the **Staging** tab in the **Advanced** section.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **高级** 部分中选择 **预览** 选项卡。
- en: Tip
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Staging cannot be used for sites where propagation of changes from the site
    template is enabled.
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当启用从站点模板传播更改时，无法使用预览功能。
- en: Select the **Local Live** option.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **本地实时** 选项。
- en: Decide if page versioning is necessary.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 决定是否需要页面版本控制。
- en: 'Select portlets that should be staged. Liferay defines the following rule:'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择应进行预览的端口。Liferay 定义以下规则：
- en: Note
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: When a portlet is checked, its data will be copied to staging and it may not
    be possible to edit it directly in live. When unchecking a portlet, make sure
    that any changes done in staging are published first; otherwise, they might be
    lost.
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当端口被选中时，其数据将被复制到预览中，并且可能无法直接在实时中编辑。当取消选中端口时，请确保首先发布在预览中进行的任何更改；否则，它们可能会丢失。
- en: 'After saving this configuration, there should be two additional buttons on
    the site dockbar: **Staging** and **Live**.![How to do it…](img/image00322.jpeg)'
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存此配置后，网站工具栏上应该有另外两个按钮：**预览** 和 **实时**。![如何操作…](img/image00322.jpeg)
- en: How it works…
  id: totrans-277
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'Staging is a powerful functionality that gives users a tested area. After enabling
    staging, the portal gives users two areas:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 预览是一个强大的功能，为用户提供了一个测试区域。启用预览后，门户为用户提供两个区域：
- en: '**Live**: Which gives a real-world view'
  id: totrans-279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实时**: 提供一个现实世界的视图'
- en: '**Staging**: Which gives an area to test and configure a specific layout or
    portlet'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预览**: 提供一个测试和配置特定布局或端口的区域'
- en: Live view is a real view that is presented to all users who have access to the
    page. The staging view is a technical area where a user can change settings without
    life view influence. If an administrator is ready to submit and publish changes,
    they do it by clicking on the **Publish to Live** button.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 实时视图是一个真实视图，展示给所有有权访问该页面的用户。预览视图是一个技术区域，用户可以在此更改设置而不会影响实时视图。如果管理员准备提交和发布更改，他们可以通过点击
    **发布到实时** 按钮来完成。
- en: Technically, it is a simple mechanism. Liferay creates a new group, which *friendlyURL*
    value has suffix *-staging* (for instance, */guest-staging*) This group contains
    its layouts, portlet preferences, content, and so on.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 从技术上讲，这是一个简单的机制。Liferay 创建一个新的组，其 *友好URL* 值带有后缀 *-staging*（例如，*/guest-staging*）。此组包含其布局、端口设置、内容等。
- en: After enabling staging, Liferay invokes a background process, which copies layouts,
    portlet preferences, and specific content to the staging group (with a new `groupId`).
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 启用预览后，Liferay 会调用一个后台进程，该进程将布局、端口设置和特定内容复制到预览组（带有新的 `groupId`）。
- en: Note
  id: totrans-284
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'This process can be quite long, so Liferay gives the following information:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 此过程可能相当耗时，因此 Liferay 提供以下信息：
- en: '**An initial staging publication is in progress. The status of the publication
    can be checked on the publish screen.**'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '**初始预览发布正在进行中。发布状态可以在发布屏幕上检查。**'
- en: 'Additionally, Liferay stores information about staging in the `Group_.typeSettings`
    column:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，Liferay 还在 `Group_.typeSettings` 列中存储有关预览的信息：
- en: '[PRE4]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: After enabling staging, Liferay duplicates a lot of data in the database. If
    you have a large amount of data, be careful and track database performance.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 启用预览后，Liferay 会将大量数据复制到数据库中。如果您有大量数据，请小心操作并跟踪数据库性能。
- en: See also
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: If you want to configure remote live staging, refer to the next recipe. For
    information on how to enable page versioning, refer to the *Enabling page versioning*
    recipe
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想配置远程实时预览，请参阅下一道菜谱。有关启用页面版本的信息，请参阅 *启用页面版本* 菜谱
- en: Enabling remote live staging
  id: totrans-292
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用远程实时预览
- en: Liferay provides remote live staging for separate testing areas and production
    environments. In the local server, we can configure and test a new layout or a
    whole site after publish event changes are propagated into the production environment.
    To achieve this, both servers have to know about themselves.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay 为单独的测试区域和生产环境提供远程实时预览。在本地服务器上，我们可以在发布事件更改传播到生产环境后配置和测试新的布局或整个站点。为了实现这一点，两个服务器都必须了解彼此。
- en: How to do it…
  id: totrans-294
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: Let's assume that the local server for the test environment is called `STAGING_SERVER`
    and the server machine for the production environment is `PRODUCTION_SERVER`.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 假设测试环境的本地服务器名为 `STAGING_SERVER`，生产环境的服务器机器为 `PRODUCTION_SERVER`。
- en: 'To properly configure remote live staging, go through following steps:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 要正确配置远程实时预览，请按照以下步骤操作：
- en: 'On the local server (`STAGING_SERVER`) in `portal-ext.properties`, set the
    following properties:'
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在本地服务器（`STAGING_SERVER`）的 `portal-ext.properties` 中，设置以下属性：
- en: '[PRE5]'
  id: totrans-298
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'On the remote server (`PRODUCTION_SERVER`) in `portal-ext.properties`, set
    the following properties:'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在远程服务器（`PRODUCTION_SERVER`）的 `portal-ext.properties` 中，设置以下属性：
- en: '[PRE6]'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Note
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Make sure that the `SHARED_SECRET` phrase has 16, 32, or 64 characters.
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 确保共享密钥 `SHARED_SECRET` 由 16、32 或 64 个字符组成。
- en: Restart both servers.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启两个服务器。
- en: On the local (`STAGING_SERVER`) server, go to **Admin** | **Site Administration**
    | **Configuration** and open the **Staging** tab from the right menu.
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在本地（`STAGING_SERVER`）服务器上，转到 **管理** | **站点管理** | **配置** 并从右侧菜单打开 **预览** 选项卡。
- en: Choose the **Remote Live** radio button.
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **远程实时** 单选按钮。
- en: 'Fill in the following inputs on the form:'
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表单中填写以下输入：
- en: '**Remote Host/IP**: IP address of `PRODUCTION_SERVER`'
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程主机/IP**: `PRODUCTION_SERVER` 的 IP 地址'
- en: '**Remote Port**: Port number of `PRODUCTION_SERVER`'
  id: totrans-308
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程端口**: `PRODUCTION_SERVER` 的端口号'
- en: '**Remote Path Context**: Context name of Liferay instance (if it is the root
    (`/`) context, leave blank)'
  id: totrans-309
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程路径上下文**：Liferay实例的上下文名称（如果它是根（`/`）上下文，则留空）'
- en: '**Remote Site ID**: A site identifier (`groupId`) of the site that our configuration
    will install. If the site doesn''t exist, create it.'
  id: totrans-310
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**远程站点ID**：我们配置将要安装的站点的标识符（`groupId`）。如果该站点不存在，则创建它。'
- en: Tip
  id: totrans-311
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: The `groupId` number can be found by going to **Site** | **Administration**
    | **Configuration** | **Site Settings** | **Site ID**.
  id: totrans-312
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以通过转到**站点** | **管理** | **配置** | **站点设置** | **站点ID**来找到`groupId`编号。
- en: Click on the **Save** button.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: After successful configuration in the dockbar area, we should have the following
    view:![How to do it…](img/image00323.jpeg)
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在停靠栏区域成功配置后，我们应该看到以下视图：![如何操作…](img/image00323.jpeg)
- en: How it works…
  id: totrans-315
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'Remote staging is a more difficult process than the local one. Liferay Portal
    uses two out-of-the-box mechanisms:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 远程预览比本地预览更复杂。Liferay Portal使用两种开箱即用的机制：
- en: Export layouts to the LAR file on a local server and import it on a remote server
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将布局导出到本地服务器的LAR文件，并在远程服务器上导入
- en: Transfer file by soap API using the `StagingServiceHttp` class
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过使用`StagingServiceHttp`类使用SOAP API传输文件
- en: 'Properties that we set in `portal-ext.properties` allow us to invoke the portal
    API by an external client. In order to allow it, we set `PRODUCTION_SERVER_IP`
    and `LOCAL_SERVER_IP`. There is another property called: `tunneling.servlet.shared.secret`,
    which is used to create an authorization context (permission checker) to help
    secure the remote publication process.'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 在`portal-ext.properties`中设置的属性允许我们通过外部客户端调用门户API。为了允许这样做，我们设置了`PRODUCTION_SERVER_IP`和`LOCAL_SERVER_IP`。还有一个名为`tunneling.servlet.shared.secret`的属性，它用于创建一个授权上下文（权限检查器），以帮助确保远程发布过程的安全。
- en: After establishing a connection between servers, the system exports all the
    setting into the LAR file (a special file called Liferay Archive File) and transfers
    it by invoking `updateStagingRequest`. The entire process is implemented in the
    `com.liferay.portal.lar.backgroundtask.LayoutRemoteStagingBackgroundTaskExecutor`
    class.
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 在建立服务器之间的连接后，系统将所有设置导出到LAR文件（一个称为Liferay存档文件的特殊文件）并通过调用`updateStagingRequest`进行传输。整个过程在`com.liferay.portal.lar.backgroundtask.LayoutRemoteStagingBackgroundTaskExecutor`类中实现。
- en: 'Information about remote staging is kept in the `Group_.typeSettings` database
    column with the following properties:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 远程预览的信息保存在`Group_.typeSettings`数据库列中，具有以下属性：
- en: '[PRE7]'
  id: totrans-322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Note
  id: totrans-323
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Users in the local instance and remote instance must be the same, with the same
    credentials as well as roles and permissions.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 本地实例和远程实例中的用户必须相同，包括相同的凭据以及角色和权限。
- en: Enabling page versioning
  id: totrans-325
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用页面版本控制
- en: 'Page versioning works only if staging is enabled. This functionality has two
    main advantages:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 页面版本控制仅在启用预览时才有效。这个功能有两个主要优点：
- en: Allows users to work in a parallel way on a different version of the page
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许用户以并行方式在不同的页面版本上工作
- en: Keeps a history of the page and gives users a backup point
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保留页面历史记录并为用户提供备份点
- en: How to do it…
  id: totrans-329
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Enabling page versioning is a simple process. Perform the following steps:'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 启用页面版本控制是一个简单的过程。执行以下步骤：
- en: Login as an administrator, go to **Admin** | **Site Administration** | **Configuration**
    and open the **Staging** tab.
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录，转到**管理** | **站点管理** | **配置**并打开**预览**选项卡。
- en: Select **Enabled On Public Pages** in the **Versioning** section.
  id: totrans-332
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**版本控制**部分选择**在公共页面上启用**。
- en: Confirm by clicking on the **Save** button.
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击**保存**按钮进行确认。
- en: After enabling versioning, the dockbar should present the following information:![How
    to do it…](img/image00324.jpeg)
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用版本控制后，停靠栏应显示以下信息：![如何操作…](img/image00324.jpeg)
- en: How it works…
  id: totrans-335
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Working with page versioning is similar to working with code repositories such
    as Git or Subversion. This mechanism is connected with all sites (`LayoutSet`)
    and with specific pages (`Layout`). This means that it is possible to version
    the entire site or a single page. Moreover, Liferay provides a feature to branch
    changes. This functionality will be useful if a user wants to reorganize the whole
    site. The next important button is the undo/redo arrow in the top-right corner
    of the dockbar.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 使用页面版本控制与使用代码仓库（如Git或Subversion）类似。此机制与所有站点（`LayoutSet`）和特定页面（`Layout`）相关联。这意味着可以版本化整个站点或单个页面。此外，Liferay提供了一个分支更改的功能。如果用户想要重新组织整个站点，此功能将非常有用。下一个重要的按钮是停靠栏右上角的撤销/重做箭头。
- en: 'From a technical point of view, Liferay defines another table that keeps branches
    and versions:'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 从技术角度来看，Liferay 定义了另一个表来保存分支和版本：
- en: '`LayoutSetBranch`: Stores site branches'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LayoutSetBranch`：存储站点分支'
- en: '`LayoutBranch`: Stores layouts (pages) branches'
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LayoutBranch`：存储布局（页面）分支'
- en: '`LayoutRevision`: Stores layout (page) revision—undo/redo and versioning functionality'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`LayoutRevision`：存储布局（页面）修订——撤销/重做和版本控制功能'
- en: See also
  id: totrans-341
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: If you want to configure staging, refer to the *Enabling local live staging*
    and *Enabling remote live staging* recipes.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想配置预发布，请参考 *启用本地实时预发布* 和 *启用远程实时预发布* 的配方。
