- en: Chapter 7. Working with Content
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章. 与内容协作
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Managing and displaying web contents
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理和显示网页内容
- en: Creating a new structure
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建新结构
- en: Creating a new template
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建新模板
- en: Introduction
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: As was described in the previous chapter, Liferay provides a whole set of tools
    that allows us to manage files that store data exchanged between the employees
    of the company. However, in many cases, it is not quite convenient for end users
    to operate on the information stored in files. For example, it is much easier
    to navigate through the content available directly on the web page than in a file
    while reading the news or browsing the corporate knowledge base. Information such
    as news, project descriptions, procedures, and so on can be provided using web
    content. The web content can be displayed on a page using some specific portlets,
    such as the Web Content Display portlet or the Asset Publisher portlet.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 如前一章所述，Liferay提供了一套完整的工具，使我们能够管理存储公司员工之间交换数据的文件。然而，在许多情况下，对于最终用户来说，在文件中操作存储的信息并不太方便。例如，在阅读新闻或浏览企业知识库时，在网页上直接导航内容比在文件中更容易。新闻、项目描述、程序等信息可以使用网页内容提供。可以使用一些特定的端口，如网页内容显示端口或资产发布端口，在页面上显示网页内容。
- en: Managing and displaying web contents
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理和显示网页内容
- en: Each site in Liferay has its own separate set of web contents, which can be
    accessed by going to **Admin** | **Site Administration** | **Content** | **Web
    Content**. All the web contents stored in the **Web Content** section can be organized
    in a tree-like folder structure. The web content can contain text, graphics, tables,
    lists, and links to other web contents, documents, or pages. Additionally, every
    web content can be tagged and categorized or provided with the list of assets
    related to it. This list will be listed in the related assets section under the
    main content of the web content. It is also possible to define permissions that
    specify which actions can be performed on web contents by users assigned to different
    roles.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay中的每个站点都有自己的独立网页内容集，可以通过访问**管理** | **站点管理** | **内容** | **网页内容**来访问。所有存储在**网页内容**部分的内容都可以组织成树状文件夹结构。网页内容可以包含文本、图形、表格、列表以及指向其他网页内容、文档或页面的链接。此外，每个网页内容都可以被标记和分类，或者提供与其相关的资产列表。此列表将在网页内容的主要内容下的相关资产部分列出。还可以定义权限，指定不同角色的用户可以对网页内容执行哪些操作。
- en: How to do it…
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: This recipe will cover all the basic actions that can be performed in order
    to manage web contents within a site.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本菜谱将涵盖所有基本操作，以便在站点内管理网页内容。
- en: Creating a new folder
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建新文件夹
- en: 'To add a new folder, perform these steps:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加一个新文件夹，请执行以下步骤：
- en: Log in as an administrator and go to **Admin | Site Administration | Content
    | Web Content**.
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理 | 站点管理 | 内容 | 网页内容**。
- en: Click on the **Add** button.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮。
- en: Select the **Folder** option (if you add a folder inside one that is already
    created, the **Subfolder** option will be available instead).![Creating a new
    folder](img/image00343.jpeg)
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文件夹**选项（如果您在已创建的文件夹内添加文件夹，则将可用**子文件夹**选项）。![创建新文件夹](img/image00343.jpeg)
- en: Enter the **Name (Required)** of the folder.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入文件夹的**名称（必填**）。
- en: Enter the **Description** of the folder.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入文件夹的**描述**。
- en: Determine **Permissions** for the folder by setting all actions that may be
    performed by specific roles (you can find more permissions after clicking on the
    **More Options** link).
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过设置特定角色可能执行的所有操作来确定文件夹的**权限**（您可以在点击**更多选项**链接后找到更多权限）。
- en: Click on the **Save** button.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Tip
  id: totrans-20
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**Downloading the example code**'
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**下载示例代码**'
- en: You can download the example code files from your account at [http://www.packtpub.com](http://www.packtpub.com)
    for all the Packt Publishing books you have purchased. If you purchased this book
    elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以从您在[http://www.packtpub.com](http://www.packtpub.com)的账户下载示例代码文件，以获取您购买的所有Packt
    Publishing书籍。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: Editing a folder
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 编辑文件夹
- en: 'To edit a folder, follow these steps:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 要编辑一个文件夹，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **网页内容**。
- en: Find the folder that you want to edit.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到你想要编辑的文件夹。
- en: Click on its actions icon (the down-arrow icon visible when hovering on the
    folder miniature).![Editing a folder](img/image00344.jpeg)
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击其操作图标（当悬停在文件夹缩略图上时可见的向下箭头图标）。![编辑文件夹](img/image00344.jpeg)
- en: Click on the **Edit** button.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**编辑**按钮。
- en: Provide a new **Name (required)** for the folder.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为文件夹提供新的**名称（必填）**。
- en: Enter a new **Description** of the folder.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入文件夹的新**描述**。
- en: Determine new **Permissions** for the folder by setting all actions that may
    be performed by specific roles.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过设置特定角色可能执行的所有操作来确定文件夹的新**权限**。
- en: Leave the **Merge with Parent Folder** option unchecked.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保持**与父文件夹合并**选项未选中。
- en: Click on the **Save** button.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Creating a new web content
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建新的网页内容
- en: 'To create a new basic web content, perform these roles:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建新的基本网页内容，请执行以下操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **网页内容**。
- en: Click on the **Add** button.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮。
- en: Choose the **Basic web content** option.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**基本网页内容**选项。
- en: Provide the **Title (Required)** and **Content**.![Creating a new web content](img/image00345.jpeg)
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供必要的**标题（必填）**和**内容**。![创建新的网页内容](img/image00345.jpeg)
- en: Navigate to the **Abstract** tab.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**摘要**标签页。
- en: Provide a **Summary**.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供一个**摘要**。
- en: Set the small image by providing a URL or by uploading it from your computer
    drive. Then, select the **Use Small Image** option.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过提供URL或从你的电脑驱动器上传它来设置小图像。然后，选择**使用小图像**选项。
- en: Navigate to the **Categorization** tab.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**分类**标签页。
- en: Choose **Type** from the type drop-down list, for example, **News**.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从类型下拉列表中选择**类型**，例如，**新闻**。
- en: Choose **Categories** from the available category dictionaries (represented
    by a name and a related **Select** button) by clicking on the button beside the
    dictionary and marking the categories.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击字典旁边的按钮并标记分类来从可用的分类字典（由名称和相关**选择**按钮表示）中选择**分类**。
- en: Tip
  id: totrans-46
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: If there are no visible categories that can be assigned to the document, it
    means that either the categories for the specific site have not been created or
    the account user, who is working on it, does not have access to the existing category's
    dictionaries.
  id: totrans-47
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果没有可见的分类可以分配给文档，这意味着要么特定站点的分类尚未创建，要么正在工作的账户用户没有访问现有分类字典的权限。
- en: Provide **Tags** by adding new tags. You can choose them from the list of existing
    tags or use the suggestions function.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过添加新标签来提供**标签**。你可以从现有标签列表中选择它们或使用建议功能。
- en: Navigate to the **Schedule** tab.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**计划**标签页。
- en: Set the **Display date**, **Review date**, and **Expiration date** functions
    (or enable the **Never expire** and **Never review** functions).
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置**显示日期**、**审核日期**和**过期日期**功能（或启用**永不过期**和**永不审核**功能）。
- en: Navigate to the **Display Page** tab.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**显示页面**标签页。
- en: Choose the page on which you want the web content to be displayed in full.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你想要完整显示网页内容的页面。
- en: Note
  id: totrans-53
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The display page will be available if there is at least one page containing
    the Asset Publisher portlet with the **Set as the Default Asset Publisher for
    This Page** option enabled. Page names without an Asset Publisher portlet are
    shown in gray instead of black. For more information, refer to the *Asset Publisher
    as a search-based tool for content presentation* recipe from [Chapter 8](part0059.xhtml#aid-1O8H61
    "Chapter 8. Search and Content Presentation Tools"), *Search and Content Presentation
    Tools*.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果至少有一个包含启用**将此页面设置为默认资产发布者**选项的资产发布器小部件的页面，则显示页面将可用。没有资产发布器小部件的页面名称以灰色显示而不是黑色。有关更多信息，请参阅第8章中关于*资产发布器作为基于搜索的内容展示工具*的配方，*搜索和内容展示工具*。
- en: Navigate to the **Related Assets** tab.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**相关资产**标签页。
- en: Choose **Related Assets**, which should be listed under the full text of your
    web content.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**相关资产**，它应该列在你的网页内容的全文下方。
- en: Click on the **Publish** button.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮。
- en: Tip
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: It is possible to preview web content before publishing it using the basic preview
    option. This option becomes available after saving the first draft of the web
    content. However, the basic preview function does not allow us to preview web
    content in a theme context. Instead, it is presented in default view.
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在发布之前，可以使用基本预览选项预览网页内容。此选项在保存网页内容的第一稿后可用。然而，基本预览功能不允许我们在主题上下文中预览网页内容。相反，它以默认视图呈现。
- en: Displaying web content in the Web Content Display portlet
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在网页内容显示组件中显示网页内容
- en: 'In order to display web content in the Web Content Display portlet, perform
    these steps:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在网页内容显示组件中显示网页内容，请执行以下步骤：
- en: Go to the page on which you want to display the web content.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往您想要显示网页内容的页面。
- en: Click on the add icon (this is a **+** sign on the left-hand side).
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加图标（这是左侧的**+**号）。
- en: Click on the **Applications** tab.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**应用程序**标签。
- en: Find the **Web Content Display** portlet using the search feature or by browsing
    the list of available portlets.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用搜索功能或浏览可用组件列表来查找**网页内容显示**组件。
- en: Click on the **Add** link located next to it or drag and drop it on the page
    you want.![Displaying web content in the Web Content Display portlet](img/image00346.jpeg)
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击它旁边的**添加**链接或将其拖放到您想要的页面上。[在网页内容显示组件中显示网页内容](img/image00346.jpeg)
- en: Click on the added portlet options icon (this will be a gear icon in the top-right
    corner of the portlet).
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加的组件选项图标（这将在组件右上角显示为一个齿轮图标）。
- en: Choose the **Configuration** option.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**配置**选项。
- en: From the list, choose the web content (by clicking on its name) that you want
    to display in a portlet.![Displaying web content in the Web Content Display portlet](img/image00347.jpeg)
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从列表中选择您想要在组件中显示的网页内容（通过点击其名称）。![在网页内容显示组件中显示网页内容](img/image00347.jpeg)
- en: Choose the list of additional functionalities that should be available in a
    portlet (for example, the **Enable Print** or **Enable Comments** option).
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择应在组件中可用的附加功能列表（例如，**启用打印**或**启用评论**选项）。
- en: Click on the **Save** button.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Editing web content
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 编辑网页内容
- en: 'In order to modify existing web content, follow these steps:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 为了修改现有网页内容，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **网页内容**。
- en: From the list of available web contents, choose the one you want to modify.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用网页内容列表中选择您想要修改的网页内容。
- en: Click on the name of the chosen web content or choose the **Edit** action from
    its **Actions** menu.![Editing web content](img/image00348.jpeg)
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选网页内容的名称，或从其**操作**菜单中选择**编辑**操作。[编辑网页内容](img/image00348.jpeg)
- en: When the form opens, edit the field you want to change.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当表单打开时，编辑您想要更改的字段。
- en: Click on the **Publish** button.
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮。
- en: Adding translation to an existing web content
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 向现有网页内容添加翻译
- en: 'To add a translation to an existing web content, perform these steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 要向现有网页内容添加翻译，请执行以下步骤：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **网页内容**。
- en: From the list of available web contents, choose the one you want to define a
    translation for.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用网页内容列表中选择您想要定义翻译的网页内容。
- en: Click on the name of the chosen web content or choose the **Edit** action from
    its actions menu.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选网页内容的名称或从其操作菜单中选择**编辑**操作。
- en: Click on the **Add Translation** button.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加翻译**按钮。
- en: Choose the language you want to create a translation for (if you want, change
    the available languages by referring to *The language properties hook* recipe
    from [Chapter 11](part0080.xhtml#aid-2C9D01 "Chapter 11. Quick Tricks and Advanced
    Knowledge"), *Quick Tricks and Advanced Knowledge*).![Adding translation to an
    existing web content](img/image00349.jpeg)
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您想要为其创建翻译的语言（如果您愿意，可以通过参考[第11章](part0080.xhtml#aid-2C9D01 "第11章。快速技巧和高级知识")中的*语言属性钩子*配方，*快速技巧和高级知识*来更改可用语言）。![向现有网页内容添加翻译](img/image00349.jpeg)
- en: Provide a **Title**, **Content**, and **Summary** for this language.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为此语言提供**标题**、**内容**和**摘要**。
- en: Click on the **Save** button.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Note
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: All the available translations are listed in the available translations section
    placed just after the **Add Translation** button in the edit content page. It
    is possible to manage (including removing) the translation using a form that can
    be accessed after clicking on the translation name in this section.
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 所有可用的翻译都列在编辑内容页面中**添加翻译**按钮之后放置的可用翻译部分。您可以通过在此部分点击翻译名称后访问的表单来管理（包括删除）翻译。
- en: Click on the **Publish** button.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮。
- en: Expiring web content
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 过期网页内容
- en: 'There are two ways of expiring web content. The first way, described previously,
    is to set the expiration date while adding or editing a web content. The second
    option is to use the expire action available in the **Web Content** actions menu.
    Go through the following steps to follow this option of expiring web content:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种使网页内容过期的方法。第一种方法，如前所述，是在添加或编辑网页内容时设置过期日期。第二种选项是使用**网页内容**操作菜单中可用的过期操作。按照以下步骤执行此过期网页内容的选项：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **网页内容**。
- en: From the list of available web contents, choose the one you want to modify.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用的网页内容列表中选择您想要修改的内容。
- en: Click on the **Actions** menu of the chosen web content.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击所选网页内容的**操作**菜单。
- en: Tip
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Choose the **Expire** action. To make the expired web content available for
    users, it is required that you edit and publish it again.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 选择**过期**操作。为了使过期的网页内容对用户可用，您需要再次编辑和发布它。
- en: Removing folders and web content
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 删除文件夹和网页内容
- en: Each folder and web content can be temporarily or permanently removed. Both
    temporary and permanent removal are done through the **Recycle Bin** mechanism.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 每个文件夹和网页内容都可以临时或永久删除。临时和永久删除都通过**回收站**机制完成。
- en: 'To temporarily remove a folder or web content, follow these steps:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 要临时删除文件夹或网页内容，请按照以下步骤操作：
- en: Go to the folder or web content that needs to be deleted.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往需要删除的文件夹或网页内容。
- en: Click on its actions icon.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击其操作图标。
- en: Click on the **Move to the Recycle Bin** action.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**移动到回收站**操作。
- en: Note
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can undo this action by clicking on the **Undo** button that will appear
    just after moving a web content to the trash.
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以通过点击将网页内容移动到回收站后出现的**撤销**按钮来撤销此操作。
- en: 'To permanently remove a folder or web content, follow these steps:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 要永久删除文件夹或网页内容，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Recycle Bin**.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **站点管理** | **内容** | **回收站**。
- en: Click on the **Actions** button, which is located near the name of the web content
    or folder you want to delete:![Removing folders and web content](img/image00350.jpeg)
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于您要删除的网页内容或文件夹名称附近的**操作**按钮：![删除文件夹和网页内容](img/image00350.jpeg)
- en: Click on the **Delete** action and confirm your choice by clicking on **OK**.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**删除**操作，并通过点击**确定**来确认您的选择。
- en: Note
  id: totrans-110
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Note that when you remove a folder, its entire content is also removed. By default,
    the trash is enabled and keeps removed items for 30 days. The trash availability
    for the particular site and the maximum age of trash entries can be changed by
    going to **Admin** | **Site Administration** | **Configurations** | **Site Settings**
    | **Recycle Bin**.
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，当您删除文件夹时，其全部内容也会被删除。默认情况下，回收站已启用，并保留删除的项目30天。可以通过转到**管理** | **站点管理** | **配置**
    | **站点设置** | **回收站**来更改特定站点的回收站可用性和回收站条目的最大年龄。
- en: It is also possible to restore the web content or web content folder using the
    **Restore** action available in the **Actions** menu.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用**操作**菜单中可用的**恢复**操作来恢复网页内容或网页内容文件夹。
- en: How it works…
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The **Web Content** section allows us to create a tree-like folder structure
    to organize web contents stored within a site. It is possible to create or move
    a web content to a default folder (`Home`) or to one of the folders defined by
    users. It is also possible to merge one folder (and its content) with another.
    While creating or editing a web content, the user has a choice to save it as a
    draft or publish it. Draft versions of web content can be accessed by going to
    **Admin** | **Site Administration** | **Content** | **Web Content** for authorized
    users only. Published versions can be seen by end users. Each time a web content
    is published, its version increases. All versions are available in the web content
    history, which can be accessed from the web content editing form.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**网页内容**部分允许我们创建树状文件夹结构来组织存储在站点内的网页内容。可以创建或移动网页内容到默认文件夹（“首页”）或用户定义的文件夹之一。还可以将一个文件夹（及其内容）与另一个文件夹合并。在创建或编辑网页内容时，用户可以选择将其保存为草稿或发布。只有授权用户可以通过访问**管理**
    | **站点管理** | **内容** | **网页内容**来访问网页内容的草稿版本。已发布的版本可供最终用户查看。每次发布网页内容时，其版本号都会增加。所有版本都可在网页内容历史记录中查看，这可以通过网页内容编辑表单访问。'
- en: If there is a need to hide the previously published web content from end users
    but keep it within the system, the expire action should be used. As was shown
    previously, it is possible to schedule a time of publication and expiration of
    the web content.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要隐藏之前发布的网页内容以供最终用户查看，但保留在系统中，应使用过期操作。如前所述，可以安排网页内容的发布和过期时间。
- en: 'Each web content has a unique ID, title, status, and version number. There
    are three available statuses:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 每个网页内容都有一个唯一的ID、标题、状态和版本号。有三种可用的状态：
- en: '**Approved**: This is dedicated for published web contents, which can be placed
    in a portlet on a page and is available for end users'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**已批准**: 这是为了已发布的网页内容，可以放置在页面上的端口中，并对最终用户可用'
- en: '**Drafts**: They are reserved for web content where the newest version has
    not been published yet'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**草稿**: 这些是为尚未发布的最新版本内容保留的网页内容'
- en: '**Expired**: This marks all the web contents that have been expired and are
    not available for end users'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**过期**: 这标记了所有已过期的网页内容，对最终用户不可用'
- en: Permissions
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 权限
- en: Each folder and web content has its own permissions set, which defines the list
    of actions that can be performed on it by users assigned to different roles. For
    example, it is possible to set such permissions so that users with a specific
    role will be able to provide commentaries on one particular web content, but won't
    be permitted to do the same with some other web content.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 每个文件夹和网页内容都有自己的权限设置，这定义了分配给不同角色的用户可以对其执行的操作列表。例如，可以设置这样的权限，使得具有特定角色的用户可以对某个特定的网页内容提供评论，但不会允许他们对其他网页内容执行相同的操作。
- en: Categorization
  id: totrans-122
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 分类
- en: The **Categorization** tab in the web content adding and editing forms allows
    us to define the type, categories, and tags of the web content. Categories and
    tags provide an additional mechanism to mark, list, and search web content and
    allow their subsequent selection with the help of dedicated portlets such as Category
    Navigation, Asset Publisher, or Tag Cloud. Categories can create a tree-like structure.
    Each category is placed in the dictionary and can have subcategories. Tags, on
    the contrary, are not stored in dictionaries and create a flat structure. It is
    possible to assign a web content to one or more categories and tags. Types are
    used to search the web content within the **Web Content** section.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 在网页内容添加和编辑表单中的**分类**选项卡允许我们定义网页内容的类型、类别和标签。类别和标签提供了一种额外的机制来标记、列出和搜索网页内容，并允许通过专门的端口（如分类导航、资产发布者或标签云）进行后续选择。类别可以创建树状结构。每个类别都位于字典中，可以具有子类别。标签则相反，不存储在字典中，创建平面结构。可以将网页内容分配给一个或多个类别和标签。类型用于在**网页内容**部分内搜索网页内容。
- en: Related assets
  id: totrans-124
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 相关资产
- en: In Liferay, an asset is a piece of content that can be shown on a page, such
    as a document, web content, blog entry, and so on. Each web content can be connected
    to another web content, document, or different types of assets, such as commentaries,
    blog entries, and so on. These web contents will be listed by portlets such as
    Asset Publisher.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在Liferay中，资产是指可以显示在页面上的内容片段，例如文档、网页内容、博客条目等。每个网页内容都可以连接到另一个网页内容、文档或不同类型的资产，例如评论、博客条目等。这些网页内容将由资产发布者等端口列出。
- en: Placing web content on a page
  id: totrans-126
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 在页面上放置网页内容
- en: As was shown previously, the web content section allows us to organize web contents
    in a structure of folders that help us manage web contents within the site. However,
    this structure doesn't have any influence on the information architecture of the
    site. In order to place a web content on a page, it is required that you use dedicated
    portlets, such as the Web Content Display or Asset Publisher portlet. The Web
    Content Display portlet allows us to show the full content of exactly one web
    content at a time. The Asset Publisher portlet (described in the following chapter)
    is much more complex and enables us to create a different list of contents. It
    also allows us to display the web content in full-content view.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，Web内容部分允许我们以文件夹结构组织Web内容，帮助我们管理网站内的Web内容。然而，这种结构对网站的信息架构没有任何影响。为了将Web内容放置在页面上，您需要使用专用的小部件，例如Web内容显示或资产发布器小部件。Web内容显示小部件允许我们一次显示一个Web内容的全部内容。资产发布器小部件（在第以下章节中描述）要复杂得多，并允许我们创建不同的内容列表。它还允许我们以全文视图显示Web内容。
- en: Display page
  id: totrans-128
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 显示页面
- en: The Display page parameter allows us to decide on which page a particular web
    content will be shown in full-content view within the Asset Publisher portlet.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 显示页面参数允许我们决定在资产发布器小部件中哪个页面将以全文视图显示特定的Web内容。
- en: See also
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: For more information on how to present web content on a page, refer to the *Tagging
    and categorizing content* and *Asset Publisher as a search-based tool for content
    presentation* recipes from [Chapter 8](part0059.xhtml#aid-1O8H61 "Chapter 8. Search
    and Content Presentation Tools"), *Search and Content Presentation Tools*
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于如何在页面上展示Web内容的更多信息，请参阅[第8章](part0059.xhtml#aid-1O8H61 "第8章。搜索和内容展示工具")的“标记和分类内容”和“资产发布器作为基于搜索的内容展示工具”食谱，*搜索和内容展示工具*
- en: 'For more information about permissions, refer to the following recipes:'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于权限的更多信息，请参阅以下食谱：
- en: '*Creating and configuring roles* from [Chapter 5](part0045.xhtml#aid-1AT9A1
    "Chapter 5. Roles and Permissions"), *Roles and Permissions*'
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建和配置角色* 来自 [第5章](part0045.xhtml#aid-1AT9A1 "第5章。角色和权限")，*角色和权限*'
- en: '*Kaleo Web installation* and *The* *Single Approver workflow for the user creation
    process* from [Chapter 9](part0065.xhtml#aid-1TVKI1 "Chapter 9. Liferay Workflow
    Capability"), *Liferay Workflow Capability*'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Kaleo Web安装* 和 *用户创建过程的单一审批者工作流* 来自 [第9章](part0065.xhtml#aid-1TVKI1 "第9章。Liferay工作流能力")，*Liferay工作流能力*'
- en: For more information on Web Content, refer to the *Creating a new structure*
    and the *Creating a new template* recipes from this chapter
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 关于Web内容的更多信息，请参阅本章的“创建新结构”和“创建新模板”食谱。
- en: Creating a new structure
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建新结构
- en: 'Liferay gives users interesting features: structures and templates. Structures
    provide information about possible fields in our content, and templates are responsible
    for rendering these fields as an article in a frontend (for instance, in the Asset
    Publisher or Web Content Display portlet).'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay为用户提供有趣的功能：结构和模板。结构提供有关我们内容中可能字段的详细信息，而模板负责将这些字段作为前端（例如，在资产发布器或Web内容显示小部件）中的文章进行渲染。
- en: 'Let''s assume that our goal is to define a new structure and template called
    *Internal publication*. This structure consists of the following fields:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们的目标是定义一个名为 *内部发布* 的新结构和模板。此结构包含以下字段：
- en: '| Name | Type | Required | Repeatable |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| 名称 | 类型 | 必需 | 可重复 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Author | Text | Yes | No |'
  id: totrans-141
  prefs: []
  type: TYPE_TB
  zh: '| 作者 | 文本 | 是 | 否 |'
- en: '| Department | Select | Yes | No |'
  id: totrans-142
  prefs: []
  type: TYPE_TB
  zh: '| 部门 | 选择 | 是 | 否 |'
- en: '| Project | Text Box | No | No |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 项目 | 文本框 | 否 | 否 |'
- en: '| Client | Text | Yes | No |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| 客户 | 文本 | 是 | 否 |'
- en: '| Content | HTML | No | No |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| 内容 | HTML | 否 | 否 |'
- en: '| Attachment | Documents and Media | No | Yes |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| 附件 | 文档和媒体 | 否 | 是 |'
- en: How to do it…
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'In order to define a new structure, it is required that you log in as a user
    with the **Add Structure** permission in the **Web Content** section. To achieve
    this goal, go through the following steps:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 为了定义一个新的结构，您需要在**Web内容**部分的**添加结构**权限的用户身份登录。为了实现这一目标，请按照以下步骤操作：
- en: Log in as an administrator.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录。
- en: Go to **Admin** | **Site Administration** | **Content** | **Web Content**.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**管理** | **站点管理** | **内容** | **Web内容**。
- en: Click on the **Manage** option and choose **Structures**.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**管理**选项并选择**结构**。
- en: Click on the **Add** button.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮。
- en: Type the name of the structure, which is `Internal publication`.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入结构的名称，该名称为`内部发布`。
- en: It is possible to choose the default language and add some description. We will
    leave it as default.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以选择默认语言并添加一些描述。我们将保持默认设置。
- en: Go to the section where there is a drag-and-drop functionality to define fields.
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往具有拖放功能以定义字段的区域。
- en: Choose the **Text** field and drag and drop this field into the gray section.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文本**字段，并将其拖放到灰色区域。
- en: 'Click on the added element, go to the **Settings** tab, and set the following
    properties:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加的元素，转到**设置**选项卡，并设置以下属性：
- en: '**Field** label as **Author**'
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**字段**标签作为**作者**'
- en: '**Required** as **Yes**'
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**必填**作为**是**'
- en: '**Indexable** as **Indexable – keywords**'
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可索引**作为**可索引 - 关键字**'
- en: '**Repeatable** as **No**'
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**不可重复**作为**否**'
- en: Click on the **Close** button to save information and go back to the **Fields**
    tab.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**关闭**按钮以保存信息并返回到**字段**选项卡。
- en: Repeat steps 8 and 9 to define all the necessary fields that were described
    in our assumptions. The result should look like this:![How to do it…](img/image00351.jpeg)
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤 8 和 9 以定义所有必要的字段，这些字段已在我们的假设中描述。结果应如下所示：![如何操作…](img/image00351.jpeg)
- en: Click on the **Save** button.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: To check out the newly created structure, go to **Web Content** | **Add** |
    **Internal publication**.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看新创建的结构，请转到**网页内容** | **添加** | **内部发布**。
- en: How it works…
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'The structure is an XML definition of the web content form. It gives users
    the following thirteen predefined types:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 结构是网页内容表单的 XML 定义。它为用户提供以下十三种预定义类型：
- en: '**Boolean**: This adds a checkbox onto our structure with true/false values'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**布尔值**：在结构中添加一个带有真/假值的复选框'
- en: '**Date**: Adds an input text with a calendar (date picker)'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**日期**：添加一个带有日历（日期选择器）的输入文本'
- en: '**Decimal**: Adds an input that accepts only numbers and decimal point'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**小数**：添加一个只接受数字和小数点的输入'
- en: '**Documents and Media**: Adds an existing uploaded document to attach to the
    structure'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文档和媒体**：将现有上传的文档附加到结构'
- en: '**HTML**: Adds a WYSIWYG editor'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HTML**：添加一个所见即所得编辑器'
- en: '**Image**: Adds a browse-image application'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图像**：添加一个浏览图像应用程序'
- en: '**Integer**: Adds an input that accepts only numbers'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**整数**：添加一个只接受数字的输入'
- en: '**Link to page**: Adds a select list to select links to another page'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**链接到页面**：添加一个选择列表以选择链接到另一个页面'
- en: '**Number**: Similar to Integer and allows only numbers'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数字**：类似于整数，只允许数字'
- en: '**Radio**: Adds a radio button'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**单选按钮**：添加单选按钮'
- en: '**Select**: Add a select list with options'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择**：添加一个带有选项的选择列表'
- en: '**Text**: Adds an input text'
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本**：添加一个输入文本'
- en: '**Text Box**: Adds a text area component'
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文本框**：添加一个文本区域组件'
- en: 'In the background, each definition is stored as an XML node called `<dynamic-element>`.
    It is possible to look at how the definition is built by clicking on the **Source**
    tab from the edit mode of the structure. Here is an example of our `Author` definition:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在后台，每个定义都存储为一个名为 `<dynamic-element>` 的 XML 节点。可以通过点击结构编辑模式中的**源**选项卡来查看定义是如何构建的。以下是我们
    `Author` 定义的示例：
- en: '[PRE0]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This definition describes all the fields that we set, such as `dataType: string`,
    `indexType: keyword`, `name: Author`, and so on.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '这个定义描述了我们设置的所有字段，例如 `dataType: string`、`indexType: keyword`、`name: Author`
    等等。'
- en: 'Each row has many attributes, such as `predefinedValue`, `tip`, `required`,
    and so on. The following table shows the most important attributes:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 每一行都有许多属性，例如 `predefinedValue`、`tip`、`required` 等。以下表格显示了最重要的属性：
- en: '| Property name | Value | Description |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| 属性名称 | 值 | 描述 |'
- en: '| --- | --- | --- |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| Type | Predefined field type | Type of the field definition |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| 类型 | 预定义字段类型 | 字段定义的类型 |'
- en: '| Field label | String | Label of the field |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| 字段标签 | 字符串 | 字段的标签 |'
- en: '| Show label | Yes/No | Determines label visibility |'
  id: totrans-189
  prefs: []
  type: TYPE_TB
  zh: '| 显示标签 | 是/否 | 决定标签的可见性 |'
- en: '| Required | Yes/No | Sets field as required field |'
  id: totrans-190
  prefs: []
  type: TYPE_TB
  zh: '| 必填 | 是/否 | 将字段设置为必填字段 |'
- en: '| Name | String | Name of the field, usually the same as label |'
  id: totrans-191
  prefs: []
  type: TYPE_TB
  zh: '| 名称 | 字符串 | 字段的名称，通常与标签相同 |'
- en: '| Predefined value | String | Sets the default value |'
  id: totrans-192
  prefs: []
  type: TYPE_TB
  zh: '| 预定义值 | 字符串 | 设置默认值 |'
- en: '| Tip | String | A tip (description) of the field |'
  id: totrans-193
  prefs: []
  type: TYPE_TB
  zh: '| 提示 | 字符串 | 字段的提示（描述） |'
- en: '| Indexable | Not indexable / Indexable—Keyword / Indexable—Text | Defines
    an indexer type and indicates which type of search indexer will be used |'
  id: totrans-194
  prefs: []
  type: TYPE_TB
  zh: '| 可索引 | 不可索引 / 可索引—关键字 / 可索引—文本 | 定义索引器类型并指示将使用哪种类型的搜索索引器 |'
- en: '| Repeatable | Yes/No | Allows us to set the field as repeatable |'
  id: totrans-195
  prefs: []
  type: TYPE_TB
  zh: '| 可重复 | 是/否 | 允许我们将字段设置为可重复字段 |'
- en: '| Width | Small/Medium/Large | Allows us to define the width of the field |'
  id: totrans-196
  prefs: []
  type: TYPE_TB
  zh: '| 宽度 | 小/中/大 | 允许我们定义字段的宽度 |'
- en: There is more…
  id: totrans-197
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: The journal structure provides interesting functionalities to set default values
    for articles that will be created from this structure. One of the possibilities
    is to set a predefined value on the edit structure screen. However, Liferay also
    gives us an option called **Edit Default Values**. This setting is really interesting
    when our requirement is that every article that will be generated from this structure
    should have a predefined specific category, tag, display page, and so on. In the
    background, this is an article that has a specific setting in the database in
    order to prevent it from it being chosen or found by Asset Publisher, Web Content
    Display, or even searches.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 期刊结构提供了设置从该结构创建的文章默认值的有趣功能。其中一种可能性是在编辑结构屏幕上设置预定义值。然而，Liferay 也提供了一个名为 **编辑默认值**
    的选项。当我们的需求是每个从这个结构生成的文章都应该有一个预定义的特定类别、标签、显示页面等时，这个设置非常有意思。在后台，这是一篇在数据库中有特定设置的文章，以防止它被资产发布者、网页内容显示或甚至搜索选中或找到。
- en: 'To set the default values, follows these steps:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置默认值，请遵循以下步骤：
- en: Log in as an administrator.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录。
- en: Go to **Admin** | **Site Administration** | **Content**.
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 **管理** | **站点管理** | **内容**。
- en: Click on the **Manage** option and choose **Structures**.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **管理** 选项并选择 **结构**。
- en: In the selected structure, such as **Internal Publication**, go to **Actions**
    | **Edit default values**.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所选结构中，例如 **内部发布**，转到 **操作** | **编辑默认值**。
- en: Fill in the default values and click on the **Save** button.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 填写默认值并点击 **保存** 按钮。
- en: Creating a new template
  id: totrans-205
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建新模板
- en: This recipe requires basic programming skills. In general, a template is a pattern
    to render values from an article with a specific structure. In accordance with
    this fact, a template is relative to the structure, so a structure and template
    are a pair of definitions that can't exist alone. Structures define how the form
    looks; templates determine how the journal article will be rendered and arranged.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 此配方需要基本的编程技能。一般来说，模板是一个从具有特定结构的文章中渲染值的模式。根据这一事实，模板相对于结构，因此结构和模板是一对定义，不能单独存在。结构定义了表单的外观；模板确定期刊文章的渲染和排列方式。
- en: Getting ready…
  id: totrans-207
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作…
- en: Prepare a structure called **Internal publication**. To see how to achieve this,
    refer to the previous recipe.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 准备一个名为 **内部发布** 的结构。要了解如何实现，请参考之前的配方。
- en: 'Let''s assume that our template is divided into four parts:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们的模板分为四个部分：
- en: Metadata definition that contains *Author* and *Department*
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包含 *作者* 和 *部门* 的元数据定义
- en: Metric definition with *Client* and *Project* information
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有 *客户端* 和 *项目* 信息的度量定义
- en: Description part with *Content*
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有 *内容* 的描述部分
- en: '*Attachments* section'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*附件* 部分'
- en: How to do it…
  id: totrans-214
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Liferay gives users three languages to write a template: Velocity (.vm), FreeMarker
    (.ftl), and Extensible Stylesheet Language (.xsl). Regardless of the language
    definition, the process of creating a new template consists of the same rules.
    In order to create a new template, follow these steps:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay 为用户提供了三种语言来编写模板：Velocity (.vm)，FreeMarker (.ftl) 和可扩展样式表语言 (.xsl)。无论语言定义如何，创建新模板的过程都遵循相同的规则。为了创建一个新模板，请按照以下步骤操作：
- en: Log in as an administrator.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录。
- en: Go to **Admin** | **Site Administration** | **Content** | **Web Content**.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 **管理** | **站点管理** | **内容** | **网页内容**。
- en: Click on the **Manage** option and choose **Templates**.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **管理** 选项并选择 **模板**。
- en: Click on the **Add** button.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加** 按钮。
- en: 'Fill in the form with the following values:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下值填写表格：
- en: '**Name**: Type `Internal Publication`'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**: 输入 `内部发布`'
- en: '**Structure**: Choose **Internal Publication**'
  id: totrans-222
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**结构**: 选择 **内部发布**'
- en: '**Language**: Choose **Velocity (.vm)**'
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言**: 选择 **Velocity (.vm**)'
- en: 'Write a script that renders our assumptions as follows:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编写一个脚本，将我们的假设渲染如下：
- en: '[PRE1]'
  id: totrans-225
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Click on the **Save** button.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **保存** 按钮。
- en: How it works…
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'As we mentioned at the beginning, Liferay gives users three ways (languages)
    to write an article''s template: Velocity (.vm), FreeMarker (.ftl), and Extensible
    Stylesheet Language (.xls). In this recipe, we chose Velocity macro, which allows
    us to mix logic (macros) with HTML and CSS. If we open an editor, we can see that
    on the left-hand side, there is a menu with **General Variables**, **Fields**,
    and **Util**, as shown in the following screenshot:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们一开始提到的，Liferay 为用户提供了三种（语言）编写文章模板的方式：Velocity (.vm)、FreeMarker (.ftl) 和可扩展样式表语言
    (.xls)。在这个菜谱中，我们选择了 Velocity 宏，这允许我们将逻辑（宏）与 HTML 和 CSS 混合。如果我们打开一个编辑器，我们可以看到左侧有一个菜单，包括**通用变量**、**字段**和**工具**，如下面的截图所示：
- en: '![How it works…](img/image00352.jpeg)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![如何工作…](img/image00352.jpeg)'
- en: Variables
  id: totrans-230
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 变量
- en: 'The **General Variables** section contains variables that can be used in the
    script. As a matter of fact, these definitions are used rarely and only in sophisticated
    VM or FTL scripts. The following variables are available:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**通用变量**部分包含可以在脚本中使用的变量。实际上，这些定义很少使用，并且仅在复杂的 VM 或 FTL 脚本中使用。以下变量可用：'
- en: '| Name | Variable | Liferay Class | Description |'
  id: totrans-232
  prefs: []
  type: TYPE_TB
  zh: '| 名称 | 变量 | Liferay 类 | 描述 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-233
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Portal instance | `$company` | Company | Object that represents the current
    portal instance |'
  id: totrans-234
  prefs: []
  type: TYPE_TB
  zh: '| 门户实例 | `$company` | 公司 | 代表当前门户实例的对象 |'
- en: '| Portal instance identifier | `$companyId` | Long | Identifier of the current
    portal instance |'
  id: totrans-235
  prefs: []
  type: TYPE_TB
  zh: '| 门户实例标识符 | `$companyId` | Long | 当前门户实例的标识符 |'
- en: '| Device | `$device` | Device | Object that represents the device currently
    used to access the site |'
  id: totrans-236
  prefs: []
  type: TYPE_TB
  zh: '| 设备 | `$device` | 设备 | 代表当前用于访问站点的设备的对象 |'
- en: '| Site ID | `$groupId` | Long | The identifier of the current site |'
  id: totrans-237
  prefs: []
  type: TYPE_TB
  zh: '| 站点 ID | `$groupId` | Long | 当前站点的标识符 |'
- en: '| View mode | `$viewMode` | String | The desired view mode for the content;
    the value will be `print` for print mode |'
  id: totrans-238
  prefs: []
  type: TYPE_TB
  zh: '| 视图模式 | `$viewMode` | String | 内容期望的视图模式；打印模式下的值将是 `print` |'
- en: Fields
  id: totrans-239
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 字段
- en: 'These objects can be used in our scripts. For instance, the `$Content.getData()`
    invocation prints a value from the `Content` field of the structure. As shown
    in the preceding code, we used this invocation for the following fields:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 这些对象可以在我们的脚本中使用。例如，`$Content.getData()` 调用会从结构的 `Content` 字段打印一个值。正如前面的代码所示，我们使用了此调用以下字段：
- en: '[PRE2]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The next useful invocation is `$Attachment.getSiblings()`. This method is used
    when our field is repeatable and contains many values. In our example, the `Attachment`
    field has two siblings.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个有用的调用是 `$Attachment.getSiblings()`。当我们的字段是可重复的并且包含多个值时，使用此方法。在我们的例子中，`Attachment`
    字段有两个兄弟。
- en: To iterate over siblings, we used the `foreach` macro, which is very similar
    to the well-known `foreach` construction from the Java language.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 要遍历兄弟节点，我们使用了 `foreach` 宏，这与 Java 语言中著名的 `foreach` 构造非常相似。
- en: 'Considering the preceding code, fields have other methods, such as the following
    ones:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到前面的代码，字段还有其他方法，例如以下这些：
- en: '`$field.getName()`: This prints the field''s name'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`$field.getName()`: 这将打印字段的名称'
- en: '`$field.getType()`: This returns field''s type, which is defined in the structure'
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`$field.getType()`: 这将返回字段类型，该类型在结构中定义'
- en: '`$field.getChildren()`: This is used when a field has nested fields'
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`$field.getChildren()`: 当字段有嵌套字段时使用'
- en: Utils
  id: totrans-248
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 工具
- en: 'The most powerful tools that are available in the script are utils. In fact,
    there are real Java-based classes that offer a huge range of functionalities.
    In our example, we used one to print a display date of the article:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在脚本中可用的最强大的工具是 utils。实际上，这里有一些基于 Java 的真实类，提供了广泛的功能。在我们的例子中，我们使用了一个来打印文章的显示日期：
- en: '[PRE3]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The full list of available services is placed in the following Java classes:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 可用服务的完整列表放在以下 Java 类中：
- en: '`com.liferay.portal.template.TemplateContextHelper`'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`com.liferay.portal.template.TemplateContextHelper`'
- en: '`com.liferay.portal.velocity.VelocityTemplateContextHelper` (for Velocity)'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`com.liferay.portal.velocity.VelocityTemplateContextHelper`（用于 Velocity）'
- en: '`com.liferay.portal.freemarker.FreeMarkerTemplateContextHelper` (for FreeMarker)'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`com.liferay.portal.freemarker.FreeMarkerTemplateContextHelper`（用于 FreeMarker）'
- en: Reserved variables
  id: totrans-255
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 保留变量
- en: 'The preceding code has a special invocation: `$reserved-article-display-date.getData()`.
    This is a reserved variable that is globally available in every template. In our
    example, it displays `display date` for the article. Liferay offers many reserved
    variables, such as `reserved-article-title`, `reserved-article-type`, `reserved-article-version`,
    and so on.'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码有一个特殊的调用：`$reserved-article-display-date.getData()`。这是一个全局可用的保留变量，在每一个模板中都可以访问。在我们的例子中，它显示文章的`display
    date`。Liferay提供了许多保留变量，例如`reserved-article-title`、`reserved-article-type`、`reserved-article-version`等等。
- en: The full list of these variables is defined in the `com.liferay.portlet.journal.model.JournalStructureConstants`
    class.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 这些变量的完整列表定义在`com.liferay.portlet.journal.model.JournalStructureConstants`类中。
