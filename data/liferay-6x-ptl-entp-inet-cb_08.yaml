- en: Chapter 8. Search and Content Presentation Tools
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章。搜索和内容展示工具
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Tagging and categorizing content
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标记和分类内容
- en: Asset Publisher as a search-based tool for content presentation
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资产发布者作为基于搜索的内容展示工具
- en: Defining application display templates for Asset Publisher
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为资产发布者定义应用显示模板
- en: Search portlet – basic configuration
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 搜索端口的基本配置
- en: Solr installation and configuration
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Solr的安装和配置
- en: Introduction
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: 'Liferay provides a powerful built-in tool that allows us to search for content.
    This is one of the most important functionalities in Liferay. Why? The answer
    is simple: searching is needed everywhere. It is not possible to find or locate
    an article, wiki, or document in the tangle of content without a good search engine.
    Liferay architecture provides a useful tool to index, search, and display such
    documents as faceted results. Faceted means grouped by a specific thematic category,
    grouped by a specific entity type, or other such criteria.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay提供了一个强大的内置工具，允许我们搜索内容。这是Liferay最重要的功能之一。为什么？答案很简单：搜索无处不在是必需的。没有好的搜索引擎，在内容混乱中无法找到或定位文章、维基或文档。Liferay架构提供了一个有用的工具来索引、搜索和显示此类文档作为分面结果。分面意味着按特定的主题类别分组，按特定的实体类型分组，或其他此类标准。
- en: In fact, there is a whole bunch of search functionalities in Liferay. It is
    possible to find entities using SQL queries as well as using a dedicated search
    engine called Apache Lucene ([http://lucene.apache.org](http://lucene.apache.org)).
    In many places (especially in the configuration or in the control panel), Liferay
    finds entities using SQL queries. On the other hand, Portal provides a dedicated
    portlet called Search Portlet, which allows us to search using the Lucene engine.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，Liferay中有一系列搜索功能。可以使用SQL查询以及使用称为Apache Lucene的专用搜索引擎来查找实体（[http://lucene.apache.org](http://lucene.apache.org)）。在许多地方（尤其是在配置或控制面板中），Liferay使用SQL查询查找实体。另一方面，门户提供了一个称为搜索端口的专用端口，允许我们使用Lucene引擎进行搜索。
- en: Tagging and categorizing content
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 标记和分类内容
- en: 'Categories and tags provide a powerful mechanism to mark, list, and search
    different assets and allow their subsequent selection with the help of dedicated
    portlets such as Category Navigation, Asset Publisher, or Tag Cloud. The mechanism
    is very simple: tags and categories are assigned to web contents, documents, or
    other types of assets. Then, it is possible to set portlets to present only those
    assets with a specific category and/or tags. It is possible to assign one or more
    categories and/or tags to an asset.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 类别和标签提供了一种强大的机制来标记、列出和搜索不同的资产，并允许通过专门的端口如类别导航、资产发布者或标签云等来帮助后续选择。该机制非常简单：标签和类别被分配给网络内容、文档或其他类型的资产。然后，可以设置端口来仅显示具有特定类别和/或标签的资产。可以为资产分配一个或多个类别和/或标签。
- en: How to do it…
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: Categories and tags can be assigned to any asset while adding or editing this
    asset. For instance, as was shown in the previous chapters ([Chapter 6](part0050.xhtml#aid-1FLS41
    "Chapter 6. Documents and Media in Liferay"), *Documents and Media in Liferay*
    and [Chapter 7](part0055.xhtml#aid-1KEEU1 "Chapter 7. Working with Content"),
    *Working with Content*), a new (and edited) web content or a new (and edited)
    document form provides a categorization section. This section allows us to choose
    the set of categories and define the list of tags that will be assigned to a document
    or web content after submitting the form. However, what is important to know is
    that the process of assigning is different for categories and tags. Tags can be
    defined directly in the content adding form, while categories must be created
    in site administration to make it available for assigning.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在添加或编辑此资产时，可以为任何资产分配类别和标签。例如，如前几章所示（[第6章](part0050.xhtml#aid-1FLS41 "第6章。Liferay中的文档和媒体")，*Liferay中的文档和媒体*和[第7章](part0055.xhtml#aid-1KEEU1
    "第7章。内容处理")，*内容处理*），新的（和编辑过的）网络内容或新的（和编辑过的）文档表单提供了一个分类部分。此部分允许我们选择类别集并定义在提交表单后将分配给文档或网络内容的标签列表。然而，重要的是要知道，分配类别和标签的过程是不同的。标签可以直接在内容添加表单中定义，而类别必须在站点管理中创建，以便可供分配。
- en: 'Categories are stored in vocabularies. In order to create a category, you have
    to first create a vocabulary using the following steps:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 类别存储在词汇表中。为了创建类别，您必须首先使用以下步骤创建一个词汇表：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Categories**.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **类别**。
- en: Click on the **Add Vocabulary** button.![How to do it…](img/image00353.jpeg)
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加词汇**按钮。![如何操作…](img/image00353.jpeg)
- en: Provide a **Name** and **Description** for a new vocabulary.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为新词汇提供**名称**和**描述**。
- en: Enable the **Allow Multiple Categories** option.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**允许多个类别**选项。
- en: Set **All Asset Types** in the **Choose Asset Type** drop-down list.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**选择资产类型**下拉列表中设置**所有资产类型**。
- en: Enable the **Required** option.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**必需**选项。
- en: Determine **Permissions** for the vocabulary by setting all actions that may
    be performed by specific roles (you can find more permissions after clicking on
    the **More Options** link).
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过设置特定角色可能执行的所有操作来确定词汇的**权限**（点击**更多选项**链接后可以找到更多权限）。
- en: Click on the **Save** button.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'When **Vocabulary** is ready, it is possible to fill it with **Categories**.
    To add a category, follow these steps:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 当**词汇**准备就绪时，可以填充**类别**。要添加类别，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Categories**.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **类别**。
- en: Click on the **Add Category** button.![How to do it…](img/image00354.jpeg)
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加类别**按钮。![如何操作…](img/image00354.jpeg)
- en: Provide a **Name** and **Description** for the new category.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为新类别提供**名称**和**描述**。
- en: From the **To Vocabulary** drop-down list, choose the vocabulary you want to
    create a category in.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**到词汇**下拉列表中选择您想要创建类别的词汇。
- en: Determine **Permissions** for the category by setting all actions that may be
    performed by specific roles (you can find more permissions after clicking on the
    **More Options** link).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过设置特定角色可能执行的所有操作来确定该类别的**权限**（点击**更多选项**链接后可以找到更多权限）。
- en: Click on the **Save** button.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'After creating a category, it is possible to assign it to the asset. Let''s
    assign the previously created category to an existing web content using the following
    steps:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 创建类别后，可以将其分配给资产。以下是如何使用以下步骤将之前创建的类别分配给现有网页内容的步骤：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **网页内容**。
- en: Click on the name of one already existing web content.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击一个已存在的网页内容的名称。
- en: Navigate to the **Categorization** tab.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**分类**选项卡。
- en: Click on the **Select** button located near the name of the vocabulary you want
    to assign a category from.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于您想要分配类别的词汇名称附近的位置的**选择**按钮。
- en: Mark the category or categories you want to choose and close the window.![How
    to do it…](img/image00355.jpeg)
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标记您想要选择的类别或类别，然后关闭窗口。![如何操作…](img/image00355.jpeg)
- en: Click on the **Publish** button to save the changes of the web content.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮以保存网页内容的更改。
- en: 'Unlike categories, tags do not require to be created before entering the **Categorization**
    section of the add/edit asset form. You can create a tag and assign it in one
    task using the following steps:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 与类别不同，标签不需要在进入添加/编辑资产表单的**分类**部分之前创建。您可以使用以下步骤在单个任务中创建一个标签并将其分配：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **网页内容**。
- en: Click on the name of one already existing web content.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击一个已存在的网页内容的名称。
- en: Navigate to the **Categorization** tab.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**分类**选项卡。
- en: Type a tag in the **Tags** field.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**标签**字段中输入标签。
- en: Click on the **+Add** button or press the *Enter* button.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**+添加**按钮或按*Enter*键。
- en: Note
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 备注
- en: You can add more than one tag by typing the whole list of tags in the **Tags**
    field and separating them by commas.
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以在**标签**字段中输入所有标签的完整列表，并通过逗号分隔它们来添加多个标签。
- en: '![How to do it…](img/image00356.jpeg)'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作…](img/image00356.jpeg)'
- en: Click on the **Publish** button to save the changes of the web content.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮以保存网页内容的更改。
- en: 'It is also possible to define a list of tags in the **Site Administration**
    section to make it available for later use to users who create web contents, documents,
    and other types of assets. To define a tag, follow these steps:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以在**网站管理**部分定义标签列表，以便供创建网页内容、文档和其他类型资产的用户稍后使用。要定义标签，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Tags**.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **标签**。
- en: Click on the **Add Tag** button.![How to do it…](img/image00357.jpeg)
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加标签**按钮。![如何做…](img/image00357.jpeg)
- en: Provide a **Name** for the tag.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为标签提供一个**名称**。
- en: Click on the **Save** button.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: 'To assign an already existing tag, follow these steps:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 要分配一个已存在的标签，请按照以下步骤操作：
- en: Log in as an administrator and go to **Admin** | **Site Administration** | **Content**
    | **Web Content**.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并转到**管理** | **网站管理** | **内容** | **网页内容**。
- en: Click on the name of one already existing web content.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击一个已存在的网页内容的名称。
- en: Navigate to the **Categorization** tab.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**分类**选项卡。
- en: Click on the **Select** button located under the **Tags** field.![How to do
    it…](img/image00358.jpeg)
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**标签**字段下方的**选择**按钮。![如何做…](img/image00358.jpeg)
- en: Mark the tag or tags you want to choose.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标记您想要选择的标签或标签。
- en: Note
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can also choose an existing tag by typing its name (the autocomplete function
    will help find existing tags) and pressing the *Enter* button.
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您也可以通过输入其名称（自动完成功能将帮助找到现有标签）并按*Enter*按钮来选择一个现有的标签。
- en: Click on the **Publish** button to save the changes of the web content.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**发布**按钮以保存网页内容的更改。
- en: How it works…
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Both categories and tags are managed using tools available in the **Site Administration**
    section and assigned to assets using assets add/edit forms (a new web content
    form, an edit web content form, a new document form, edit document form, and so
    on). When provided with categories and/or tags, each asset can be chosen by a
    specific portlet (such as Asset Publisher) and displayed on a page.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 类别和标签都使用**网站管理**部分中提供的工具进行管理，并通过资产添加/编辑表单（新的网页内容表单、编辑网页内容表单、新的文档表单、编辑文档表单等）分配给资产。当提供了类别和/或标签时，每个资产都可以通过特定的组件（如资产发布者）进行选择并在页面上显示。
- en: Categories
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 类别
- en: Categories are stored in vocabularies, and they form a tree-like structure—each
    category can have subcategories. All the categories available within the site
    can be managed by going to **Admin** | **Site Administration** | **Content** |
    **Categories**. This section allows us to create, edit, and delete vocabularies
    and categories.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 类别存储在词汇表中，并形成一个树状结构——每个类别可以有子类别。可以通过访问**管理** | **网站管理** | **内容** | **类别**来管理网站内所有可用的类别。此部分允许我们创建、编辑和删除词汇和类别。
- en: Each vocabulary is identified by its name, and it can be provided with a description.
    Vocabularies can be set to work with all or just one specific asset (choose the
    **Asset Type** option). For instance, it is possible to create a vocabulary where
    categories can be assigned to web content only. Such vocabulary will not be available
    in other assets adding and editing forms.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 每个词汇都通过其名称来识别，并且可以提供描述。词汇可以设置为与所有或仅与一个特定资产一起工作（选择**资产类型**选项）。例如，可以创建一个只能将类别分配给网页内容的词汇。这样的词汇将不会在其他资产的添加和编辑表单中可用。
- en: While creating vocabulary, we can decide whether, while assigning categories
    to an asset, users have to assign at least one of its categories (the **Required**
    option) or whether they may use more than one category from this particular vocabulary
    (the **Allow Multiple Categories** option).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建词汇时，我们可以决定在分配类别给资产时，用户是否必须至少分配其一个类别（**必需**选项）或者他们是否可以使用此特定词汇中的多个类别（**允许多个类别**选项）。
- en: Categories are identified by their names, and they can be provided with descriptions.
    It is also possible to set permissions for both vocabularies and categories.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 类别通过其名称来识别，并且可以提供描述。还可以为词汇和类别设置权限。
- en: Tags
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 标签
- en: Tags, on the contrary, are not stored in vocabularies, but they build a flat
    structure. All the tags assigned to assets within the site can be accessed by
    going to **Admin** | **Site Administration** | **Content** | **Tags**. The **Tags**
    section allows us to add, edit, delete, or merge tags. Unlike categories, tags
    can be created while assigning them to the asset.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，标签不存储在词汇表中，但它们构建了一个平面结构。可以通过访问**管理** | **网站管理** | **内容** | **标签**来访问网站内分配给资产的标签。**标签**部分允许我们添加、编辑、删除或合并标签。与类别不同，标签在分配给资产时可以创建。
- en: See also
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For information about managing web content and files, refer to the following
    recipes:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 有关管理网页内容和文件的信息，请参阅以下食谱：
- en: The *Managing files in Liferay using Documents and Media portlet* recipe in
    [Chapter 6](part0050.xhtml#aid-1FLS41 "Chapter 6. Documents and Media in Liferay"),
    *Documents and Media in Liferay*
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[第6章](part0050.xhtml#aid-1FLS41 "第6章。Liferay中的文档和媒体")的*使用文档和媒体组件管理Liferay中的文件*食谱中，*Liferay中的文档和媒体*
- en: The *Managing and displaying web content* recipe in [Chapter 7](part0055.xhtml#aid-1KEEU1
    "Chapter 7. Working with Content"), *Working with Content*
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[第7章](part0055.xhtml#aid-1KEEU1 "第7章。与内容一起工作")的*管理和显示网络内容*配方中，*与内容一起工作*
- en: Asset Publisher as a search-based tool for content presentation
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 资产发布者作为基于搜索的内容展示工具
- en: Asset Publisher is a very complex and highly configurable portlet that allows
    us to present web content folders, web contents, document folders, documents,
    message board messages, bookmark folders, bookmark entries, blog entries, calendar
    events, and wiki pages on the page. Assets that are presented by a specific Asset
    Publisher may be chosen manually by authorized users or automatically based on
    the configured rules.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 资产发布者是一个非常复杂且高度可配置的组件，它允许我们在页面上展示网络内容文件夹、网络内容、文档文件夹、文档、留言板消息、书签文件夹、书签条目、博客条目、日历事件和维基页面。由特定资产发布者展示的资产可以是授权用户手动选择，也可以根据配置的规则自动选择。
- en: In this recipe, we will show you how to configure Asset Publisher to present
    web content using both manual and dynamic asset selection variants.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在本配方中，我们将向您展示如何配置资产发布者，以使用手动和动态资产选择变体展示网络内容。
- en: Getting ready
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To step through this recipe, you will have to add a vocabulary containing News
    category and create a web content.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 要逐步完成此配方，您需要添加包含新闻类别的词汇表并创建网络内容。
- en: How to do it…
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Let''s assume that each week, on the main page of our intranet, we have to
    publish up to five of the most important news items chosen by employees responsible
    for news publishing. Such news can be displayed by the Asset Publisher portlet
    that is configured to list manually chosen web content articles. To configure
    such an Asset Publisher portlet, follow these steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们每周都需要在我们的内网主页上发布由负责新闻发布的员工选择的前五条最重要的新闻条目。这些新闻可以通过配置为列出手动选择的网络内容文章的资产发布者组件来显示。要配置此类资产发布者组件，请按照以下步骤操作：
- en: Log in as an administrator and go to the page on which you want to configure
    a new **Asset Publisher**.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录并前往您想要配置新**资产发布者**的页面。
- en: Click on the add icon (this is a **+** sign on the left side).
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击添加图标（这是左侧的**+**符号）。
- en: Click on the **Applications** tab.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**应用程序**标签。
- en: Find the **Asset Publisher** portlet using the search feature or by browsing
    the list of available portlets.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用搜索功能或通过浏览可用组件列表查找**资产发布者**组件。
- en: Click on the **Add** link located next to the Asset Publisher (the link appears
    when you hover over the portlet name).
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击位于资产发布者旁边的**添加**链接（当您将鼠标悬停在组件名称上时，该链接会出现）。
- en: Click on the options icon of the newly added portlet (this will be a gear icon
    in the top-right corner of the portlet).
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击新添加组件的选项图标（这将是组件右上角的齿轮图标）。
- en: Choose the **Configuration** option.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**配置**选项。
- en: Choose the **Manual** option from the **Asset Selection** section.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**资产选择**部分选择**手动**选项。
- en: Click on the **Select** button in the **Asset Entries** section.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**资产条目**部分的**选择**按钮。
- en: Choose the **Web Content Article** option.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**网络内容文章**选项。
- en: Click on the **Choose** button next to the web content you want to choose.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击您想要选择的网络内容旁边的**选择**按钮。
- en: Note
  id: totrans-92
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 备注
- en: Repeat steps 9–11 as many times as needed to create the desired list of news.
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 根据需要重复步骤9-11，以创建所需的新闻列表。
- en: '![How to do it…](img/image00359.jpeg)'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作…](img/image00359.jpeg)'
- en: Click on the **Save** button.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Close the pop-up window by clicking on the **x** button. The Asset Publisher
    portlet you have just configured will present only the list of chosen web contents.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击**x**按钮关闭弹出窗口。您刚刚配置的资产发布者组件将仅展示所选网络内容的列表。
- en: It is also possible to set Asset Publisher to automatically choose news articles
    based on a specified category (in our example, we will use the **News** category).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以将资产发布者设置为根据指定的类别自动选择新闻文章（在我们的示例中，我们将使用**新闻**类别）。
- en: 'In order to change the Asset Publisher configuration to present only web content
    articles with the **News** category, follow these steps:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将资产发布者配置为仅展示具有**新闻**类别的网络内容文章，请按照以下步骤操作：
- en: Click on the options icon of the previously added portlet.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击之前添加组件的选项图标。
- en: Choose the **Configuration** option.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**配置**选项。
- en: Choose the **Dynamic** option from the **Asset Selection** section.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**资产选择**部分选择**动态**选项。
- en: Choose the **Web Content Article** option from the **Asset Type** list.
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**资产类型**列表中选择**网络内容文章**选项。
- en: Set the **Contain any of the following categories** rule in the **Filters**
    section.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**过滤器**部分设置**包含以下任一类别**规则。
- en: Click on the **Select** button.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**选择**按钮。
- en: Mark the **News** category and close the window.![How to do it…](img/image00360.jpeg)
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 标记**新闻**类别并关闭窗口。![如何操作…](img/image00360.jpeg)
- en: Set **Order by fields** to **Publish Date** and **Descending**.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**按字段排序**设置为**发布日期**和**降序**。
- en: Click on the **Save** button. Close the pop-up window by clicking on the **x**
    button. The Asset Publisher portlet you have just configured will present only
    a list of web contents that contain the **News** category.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。通过点击**x**按钮关闭弹出窗口。您刚刚配置的资产发布器小部件将仅显示包含**新闻**类别的网络内容列表。
- en: How it works…
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Assets that are displayed by the portlet can be chosen manually by the user
    (**Manual Asset Selection**) or automatically, based on the set of rules (**Dynamic
    Asset Selection**). As was shown in the first part of the recipe, **Manual Asset
    Selection** allows us to select any assets corresponding to the type set in the
    **Asset Type** field and available within the scope that the Asset Publisher is
    working in (defined in the **Scope** field).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 用户可以通过手动选择（**手动资产选择**）或根据一组规则自动选择（**动态资产选择**）来选择小部件显示的资产。正如配方的第一部分所示，**手动资产选择**允许我们在**资产类型**字段中设置的类型以及资产发布器工作范围内的可用范围内选择任何资产（在**范围**字段中定义）。
- en: The scope is a very important parameter, because it defines the place of origin
    of the asset that is displayed by Asset Publisher. Asset Publisher can present
    assets created within **Current Site**, **Global** scope, or any other site chosen
    from the **Other Site** list.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 范围是一个非常重要的参数，因为它定义了资产发布器显示的资产的原产地。资产发布器可以展示在**当前站点**、**全局**范围或从**其他站点**列表中选择的任何其他站点内创建的资产。
- en: The second part of the recipe provides an example of **Dynamic Asset Selection**,
    where Asset Publisher chooses, from a defined **Scope**, all the assets that comply
    with the defined **Asset Type** and are assigned to categories or tags specified
    in the **Filter** section. It is possible to specify that Asset Publisher should
    list only these assets with an assigned (or without an assigned) category, a set
    of categories, a tag, or set of tags. Additionally, the **Filter** section allows
    us to specify whether the asset must be assigned to all the categories from the
    set (the **All** option) or whether it is enough if at least one category from
    the set is assigned (the **Any** option). For instance, if we would like the Asset
    Publisher portlet to present only the assets that have both News and Sport categories,
    we have to set the **Contains All Categories** rule and choose both News and Sport
    categories from the list. If we would like to list all the assets, except these
    with News category assigned, we have to use the **Does not Contain Any Categories**
    rule and choose the News category from the list.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 配方的第二部分提供了一个**动态资产选择**的示例，其中资产发布器从定义的**范围**中选择所有符合定义的**资产类型**并且分配到**过滤器**部分中指定的类别或标签的资产。可以指定资产发布器应仅列出具有分配（或未分配）的类别、一组类别、一个标签或一组标签的资产。此外，**过滤器**部分允许我们指定资产是否必须分配到集合中的所有类别（**所有**选项）或者是否只需至少分配集合中的一个类别即可（**任何**选项）。例如，如果我们希望资产发布器小部件仅展示同时具有新闻和体育类别的资产，我们必须设置**包含所有类别**规则并从列表中选择新闻和体育类别。如果我们希望列出所有资产，除了那些分配了新闻类别的资产，我们必须使用**不包含任何类别**规则并从列表中选择新闻类别。
- en: 'The Asset Publisher portlet provides many configuration options that allow
    us to customize its appearance and available functions. The configuration options
    can be accessed by going to **Asset Publisher** | **Configuration** | **Setup**
    | **Display Settings**. Here is a description of the most important options:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 资产发布器小部件提供了许多配置选项，允许我们自定义其外观和可用功能。可以通过访问**资产发布器** | **配置** | **设置** | **显示设置**来访问配置选项。以下是最重要的选项的描述：
- en: The **Display Template** option allows us to choose how the asset should be
    displayed (as a Title List, Full Content, Abstract, and so on).
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示模板**选项允许我们选择资产应该如何显示（如标题列表、完整内容、摘要等）。'
- en: '**Abstract Length** allows defining the number of characters of text that will
    be displayed as an abstract.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**摘要长度**允许定义将显示为摘要的文本字符数。'
- en: The **Asset Link Behaviour** defines whether, after clicking the title presented
    on the list, the full content should be displayed.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资产链接行为**定义了在点击列表中显示的标题后，是否应显示完整内容。'
- en: The **Number of Items to Display** option defines how many assets will be displayed
    by the Asset Publisher portlet.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示项目数量**选项定义了资产发布器小部件将显示多少资产。'
- en: '**Pagination Type** allows us to choose whether, and what type of, pagination
    should be displayed to organize a long lists of assets.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分页类型**允许我们选择是否以及显示何种类型的分页来组织长列表的资产。'
- en: The **Set as the Default Asset Publisher for This Page** option allows us to
    set this particular Asset Publisher as the one that will be used to present content
    associated to this page. The page with Asset Publisher set as default will be
    available to choose as a display page while adding a new web content.
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**将此页面设置为默认资产发布器**选项允许我们将此特定的资产发布器设置为用于展示与此页面相关的内容。将资产发布器设置为默认的页面将在添加新网页内容时可供选择作为显示页面。'
- en: The **Enable Print** option enables the print version of the web content.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用打印**选项启用网页内容的打印版本。'
- en: The **Enable Flags** option enables the flags functionality, which provides
    a contact form that notifies any irregularities.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用标志**选项启用标志功能，该功能提供了一种通知任何不规则性的联系表单。'
- en: The **Enable Related Assets** option enables the related assets functionality,
    which lists all the assets defined as related in the adding/editing asset form.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用相关资产**选项启用相关资产功能，该功能列出了在添加/编辑资产表单中定义为相关的所有资产。'
- en: The **Enable Ratings** option enables the functionality that allows us to rate
    the content shown by Asset Publisher.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用评分**选项启用允许我们评分资产发布器显示的内容的功能。'
- en: The **Enable Comments** option allows us to comment on the assets shown by Asset
    Publisher.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用评论**选项允许我们对资产发布器显示的资产进行评论。'
- en: The **Enable Social Bookmarks** option displays the Google+, Facebook, and Twitter
    sharing buttons.
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启用社交书签**选项显示Google+、Facebook和Twitter分享按钮。'
- en: The **Choose metadata** option allows us to choose the metadata information
    shown for each asset displayed by the Asset Publisher portlet.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选择元数据**选项允许我们选择资产发布器小部件显示的每个资产的元数据信息。'
- en: See also
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For information about managing web content and files, refer to the following
    recipes:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 关于管理网页内容和文件的信息，请参阅以下配方：
- en: The *Managing files in Liferay using Documents and Media portlet* recipe in
    [Chapter 6](part0050.xhtml#aid-1FLS41 "Chapter 6. Documents and Media in Liferay"),
    *Documents and Media in Liferay*
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[第6章](part0050.xhtml#aid-1FLS41 "第6章。Liferay中的文档和媒体")的*使用文档和媒体小部件管理Liferay中的文件*配方中，*Liferay中的文档和媒体*
- en: The *Managing and displaying web contents* recipe in [Chapter 7](part0055.xhtml#aid-1KEEU1
    "Chapter 7. Working with Content"), *Working with Content*
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[第7章](part0055.xhtml#aid-1KEEU1 "第7章。与内容一起工作")的*管理和显示网页内容*配方中，*与内容一起工作*
- en: Defining application display templates for Asset Publisher
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定义资产发布器的应用程序显示模板
- en: Since Liferay Version 6.2 is the available option, it allows us to set a new
    display template for Asset Publisher. In real-world applications, it is quite
    a useful and powerful tool that helps define custom display templates for assets,
    such as journal article, blog entry, message board, and so on. For example, you
    may want to display only an asset's descriptions or add selected categories and
    tags.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Liferay版本6.2是可用的选项，它允许我们为资产发布器设置一个新的显示模板。在实际应用中，这是一个非常有用且强大的工具，有助于定义资产的自定义显示模板，例如期刊文章、博客条目、论坛等。例如，您可能只想显示资产描述或添加选定的分类和标签。
- en: 'Let''s assume that we have a use case that describes Asset Publisher view requirements
    as follows:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个用例，该用例描述了资产发布器视图需求如下：
- en: Display title
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示标题
- en: Display description
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示描述
- en: Display selected tags and categories
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示选定的标签和分类
- en: Display asset links
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示资产链接
- en: Display Read more link
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示“阅读更多”链接
- en: How to do it…
  id: totrans-138
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'In order to define a new display template, log in as an administrator and follow
    these steps:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 为了定义一个新的显示模板，以管理员身份登录并按照以下步骤操作：
- en: Log in as an administrator. Go to **Admin** | **Configuration** and choose **Application
    Display Templates** from the left menu.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录。转到**管理** | **配置**并从左侧菜单中选择**应用程序显示模板**。
- en: Click on the **Add** button and choose **Asset Publisher Template**.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮并选择**资产发布器模板**。
- en: Fill in the form by typing **Name** with the **Intranet template** value and
    choose the **Velocity (.vm)** language.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在表单中输入**名称**为**内网模板**的值，并选择**Velocity (.vm**)语言。
- en: 'In the script area, write the following code:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在脚本区域，编写以下代码：
- en: '[PRE0]'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Click on the **Save** button.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Create a new page and put the Asset Publisher portlet (see the *Asset Publisher
    as a search-based tool for content presentation* recipe from this chapter).
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新页面，并放置资产发布者组件（参见本章的*将资产发布者作为基于搜索的内容展示工具*配方）。
- en: Go to Asset Publisher configuration and choose the **Display Setting** tab.
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往资产发布者配置，并选择**显示设置**选项卡。
- en: In the **Display Template** field, choose the **Intranet** template and click
    on the **Save** button.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**显示模板**字段中，选择**内网**模板，然后点击**保存**按钮。
- en: Close the configuration popup. In Asset Publisher view, you should see the new
    template.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭配置弹出窗口。在资产发布者视图中，你应该看到新的模板。
- en: How it works…
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: In previous Liferay versions, it was not possible to add a new display template
    for Asset Publisher from Control Panel. The only way was to add a new Java Server
    Pages file in the hook plugin. In Liferay 6.2 it is possible to define views as
    a Velocity or Freemarker script under Control Panel. Liferay developers implement
    a powerful editor that helps in creating new templates. Editor specifies the possible
    fields, displays hints, and provides an excellent autocomplete option.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在之前的Liferay版本中，无法从控制面板中为资产发布者添加新的显示模板。唯一的方法是在钩子插件中添加新的Java服务器页面文件。在Liferay 6.2中，可以在控制面板下定义视图为Velocity或Freemarker脚本。Liferay开发者实现了一个强大的编辑器，有助于创建新模板。编辑器指定可能的字段，显示提示，并提供出色的自动完成选项。
- en: Let's try to understand our script. The first line checks whether there are
    any elements in the entries collection. The `$entries` object is a collection
    of Asset Entry elements, which are selected by a specific criteria from the portlet
    configuration.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试理解我们的脚本。第一行检查条目集合中是否有任何元素。`$entries`对象是一个资产条目元素的集合，这些元素是根据组件配置中的特定标准选择的。
- en: The next line iterates over the entries collection and assigns elements to the
    `$curEntry` variable.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 下一行遍历条目集合，并将元素分配给`$curEntry`变量。
- en: The next section displays the title and description. The next three sections
    display tags, categories, and related assets. The last one renders the **Read
    more** option.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个部分显示标题和描述。接下来的三个部分显示标签、类别和相关的资产。最后一个部分显示**阅读更多**选项。
- en: The most difficult thing in this process is understanding how each helper and
    util works, which parameters are required, and which ones are not required. Unfortunately,
    there is no easy way to understand it. The only way is to search for help in Liferay
    sources or examples.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个过程中最困难的事情是理解每个助手和工具的工作方式，哪些参数是必需的，哪些不是必需的。不幸的是，没有简单的方法来理解它。唯一的方法是在Liferay源代码或示例中搜索帮助。
- en: See also
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: In order to learn more about templates, refer to the *Creating a new template*
    recipe in [Chapter 7](part0055.xhtml#aid-1KEEU1 "Chapter 7. Working with Content"),
    *Working with Content*
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解更多关于模板的信息，请参阅[第7章](part0055.xhtml#aid-1KEEU1 "第7章。处理内容")中的*创建新模板*配方，*处理内容*。
- en: Search portlet – basic configuration
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 搜索组件 – 基本配置
- en: 'Let''s assume that our intranet contains only articles and files that are distributed
    between many folders. Our goal is to configure the Search portlet in order to
    find only this content. However, our search should display the following facets:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们的内网只包含分布在多个文件夹中的文章和文件。我们的目标是配置搜索组件，以便只查找这些内容。然而，我们的搜索结果应显示以下方面：
- en: Asset type facet
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资产类型方面
- en: Asset tag and asset category facet
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资产标签和资产类别方面
- en: User facet
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户方面
- en: Time facet
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间方面
- en: Getting ready…
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作…
- en: To start our journey with searching, our Liferay instance should have some content,
    such as journal articles, files and folders, users, and so on.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始我们的搜索之旅，我们的Liferay实例应该有一些内容，例如期刊文章、文件和文件夹、用户等。
- en: How to do it…
  id: totrans-166
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In order to properly configure the Search portlet using a basic configuration,
    follow these steps:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用基本配置正确配置搜索组件，请按照以下步骤操作：
- en: Log in as an administrator.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录。
- en: Create the search page with one column template.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用单列模板创建搜索页面。
- en: Go to the **Search** page.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往**搜索**页面。
- en: Click on the **Applications** tab on the left site.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击左侧的**应用程序**选项卡。
- en: Find the **Search** portlet by scrolling or writing inside the text search field.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过滚动或输入文本搜索字段来查找**搜索**组件。
- en: Click on the **Add** button or drag and drop the portlet in the correct place
    on the layout.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加**按钮或将端口件拖放到布局的正确位置。
- en: Go to the **Configuration** mode of the portlet.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入端口件的**配置**模式。
- en: 'Make sure the following options are selected:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保选择以下选项：
- en: '**Basic Display Settings**'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本显示设置**'
- en: '**Display Asset Type facet**'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示资产类型方面**'
- en: '**Display Asset Tags facet**'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示资产标签方面**'
- en: '**Display Asset Categories facet**'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示资产类别方面**'
- en: '**Display folder facet**'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示文件夹方面**'
- en: '**View in context** in the **Other Settings** section'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**其他设置**部分中的**在上下文中查看**'
- en: Leave the **Spell check** settings as the default configuration.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**拼写检查**设置保留为默认配置。
- en: Click on the **Save** button and close the popup.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮并关闭弹出窗口。
- en: Try typing your keyword in the search form and press *Enter*. Liferay should
    display the following results:![How to do it…](img/image00361.jpeg)
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索表单中输入您的关键词并按*Enter*键。Liferay应该显示以下结果：![如何做…](img/image00361.jpeg)
- en: How it works…
  id: totrans-185
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: Liferay provides a built-in search system based on Lucene. Every entity in Liferay
    (for instance, web content, document library file entry, blog, message board,
    and so on) has its own `Indexer` class. This class is responsible for parsing
    contents and putting them into the search index. When a user uses the search portlet
    and types a specific keyword, the search engine looks for results in the index.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: Liferay提供了一个基于Lucene的内置搜索系统。Liferay中的每个实体（例如，网页内容、文档库文件条目、博客、论坛等）都有自己的`Indexer`类。这个类负责解析内容并将它们放入搜索索引。当用户使用搜索端口并输入特定的关键词时，搜索引擎会在索引中查找结果。
- en: The Lucene engine has its own query syntax to query its indexes. Accordingly,
    the Lucene index looks like a map with keys and values. If users ask about a specific
    keyword, a query is generated in the background. To browse the Lucene index, there
    is a tool called Luke ([https://code.google.com/p/luke](https://code.google.com/p/luke)).
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: Lucene引擎有自己的查询语法来查询其索引。相应地，Lucene索引看起来像带有键和值的映射。如果用户询问特定的关键词，后台会生成一个查询。要浏览Lucene索引，有一个名为Luke的工具([https://code.google.com/p/luke](https://code.google.com/p/luke))。
- en: There's more…
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'When we analyze results that the Search Portlet displays, we notice that there
    are many unnecessary entries, such as users, message boards, and so on. Our assumption
    was to present web content and document library entities only. Furthermore, we
    want to disable unused facets such as folder facets. To achieve this result, it
    is required that you change the faceting configuration. Follow these steps to
    modify the faceted search:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们分析搜索端口显示的结果时，我们注意到有许多不必要的条目，例如用户、论坛等。我们的假设是只展示网页内容和文档库实体。此外，我们还想禁用未使用的方面，如文件夹方面。要实现这一结果，需要更改分面配置。按照以下步骤修改分面搜索：
- en: Go to the configuration mode of the search portlet.
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入搜索端口件的配置模式。
- en: Check on the **Advanced** option in the **Display Settings** section.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**显示设置**部分的**高级**选项上勾选。
- en: 'Modify the JSON search configuration. Change the value node using the following
    lines:'
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改JSON搜索配置。使用以下行更改值节点：
- en: '[PRE1]'
  id: totrans-193
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Remove any unnecessary facets:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除任何不必要的方面：
- en: '[PRE2]'
  id: totrans-195
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Click on the **Save** button.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**保存**按钮。
- en: Close the popup, perform the same search you did earlier, and look out for the
    differences.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭弹出窗口，执行之前所做的相同搜索，并注意差异。
- en: See also
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: 'For information about managing web content and files, refer to the following
    recipes:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 关于管理网页内容和文件的信息，请参考以下菜谱：
- en: The *Managing files in Liferay using Documents and Media portlet* recipe in
    [Chapter 6](part0050.xhtml#aid-1FLS41 "Chapter 6. Documents and Media in Liferay"),
    *Documents and Media in Liferay*
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第6章](part0050.xhtml#aid-1FLS41 "第6章。Liferay中的文档和媒体")中的*使用文档和媒体端口件管理Liferay中的文件*菜谱，*Liferay中的文档和媒体*'
- en: The *Managing and displaying web contents* recipe in [Chapter 7](part0055.xhtml#aid-1KEEU1
    "Chapter 7. Working with Content"), *Working with Content*
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第7章](part0055.xhtml#aid-1KEEU1 "第7章。处理内容")中的*管理和显示网页内容*菜谱，*处理内容*'
- en: For information about tagging and categorizing, refer to the *Tagging and categorizing
    content* recipe in this chapter
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 关于标记和分类的信息，请参阅本章中的*标记和分类内容*菜谱
- en: Solr installation and configuration
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Solr安装和配置
- en: Apache Solr ([http://lucene.apache.org/solr](http://lucene.apache.org/solr))
    is a powerful search engine built on Apache Lucene. In fact, Apache Solr is a
    standalone enterprise search server with a REST API. The main advantage of this
    solution is that it can be easily installed as a cloud. Apache Solr has many other
    advantages, such as high traffic volume optimization, administration interfaces,
    easy monitoring, high scalability and fault tolerance, and more. Refer to the
    official site at [http://lucene.apache.org/solr/features.html](http://lucene.apache.org/solr/features.html)
    to read about these features.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Solr ([http://lucene.apache.org/solr](http://lucene.apache.org/solr))
    是建立在 Apache Lucene 之上的功能强大的搜索引擎。实际上，Apache Solr 是一个具有 REST API 的独立企业级搜索引擎。此解决方案的主要优势是它可以轻松地作为云服务安装。Apache
    Solr 有许多其他优势，例如高流量优化、管理界面、易于监控、高可扩展性和容错性，等等。有关这些功能的更多信息，请参阅官方站点 [http://lucene.apache.org/solr/features.html](http://lucene.apache.org/solr/features.html)。
- en: Apache Solr supports both a schema mode as well as a schema-free one. The schema
    is a place where you build an index and define fields that consist of it. The
    schema-free mode allows users to rapidly construct an effective schema by simply
    indexing sample data, without having to manually edit the schema. The Liferay
    plugin called `solr4-web` provides schema and Solr configuration. Thus, we will
    use this configuration to run Solr in a defined schema mode.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Solr 支持模式模式和无模式模式。模式是一个构建索引并定义由其组成的字段的地方。无模式模式允许用户通过简单地索引样本数据来快速构建一个有效的模式，而无需手动编辑模式。名为
    `solr4-web` 的 Liferay 插件提供模式和 Solr 配置。因此，我们将使用此配置在定义的模式模式下运行 Solr。
- en: How to do it…
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: In this recipe, we will show you the simplest way to install and run the Solr
    server with Liferay.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将向您展示安装和运行带有 Liferay 的 Solr 服务器的最简单方法。
- en: 'First, we need to install Apache Solr 4\. The newest Solr 4 version is 4.10.4\.
    Follow these steps to run Solr with the Liferay schema and configuration:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要安装 Apache Solr 4。最新的 Solr 4 版本是 4.10.4。按照以下步骤使用 Liferay 模式和配置运行 Solr：
- en: Download the Apache Solr 4 version (4.10.4) bundled with Jetty from the official
    site at [http://archive.apache.org/dist/lucene/solr/](http://archive.apache.org/dist/lucene/solr/).
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从官方站点 [http://archive.apache.org/dist/lucene/solr/](http://archive.apache.org/dist/lucene/solr/)
    下载捆绑了 Jetty 的 Apache Solr 4 版本（4.10.4）。
- en: 'Unpack `solr-4.10.4.tgz` on your local machine:'
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的本地机器上解压缩 `solr-4.10.4.tgz`：
- en: '[PRE3]'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Download `solrconfig.xml` and `schema.xml` from the official Liferay repository
    at [https://github.com/liferay/liferay-plugins/tree/6.2.x/webs/solr4-web/docroot/WEB-INF/conf](https://github.com/liferay/liferay-plugins/tree/6.2.x/webs/solr4-web/docroot/WEB-INF/conf).
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从官方 Liferay 仓库 [https://github.com/liferay/liferay-plugins/tree/6.2.x/webs/solr4-web/docroot/WEB-INF/conf](https://github.com/liferay/liferay-plugins/tree/6.2.x/webs/solr4-web/docroot/WEB-INF/conf)
    下载 `solrconfig.xml` 和 `schema.xml`。
- en: Copy `solrconfig.xml` and `schema xml` to `solr-4.10.3/example/solr/collection1/conf`.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `solrconfig.xml` 和 `schema xml` 复制到 `solr-4.10.3/example/solr/collection1/conf`。
- en: 'Run Apache Solr:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行 Apache Solr：
- en: '[PRE4]'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Solr should print the following message:'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: Solr 应该打印以下消息：
- en: '`Waiting to see Solr listening on port 8983 [/]`'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`等待看到 Solr 在端口 8983 上监听 [/]`'
- en: '`Started Solr server on port 8983 (pid=2821). Happy searching!`'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '`在端口 8983 上启动 Solr 服务器（pid=2821）。祝您搜索愉快！`'
- en: In the Liferay instance, install the `solr4-web` plugin from the marketplace.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Liferay 实例中，从市场安装 `solr4-web` 插件。
- en: 'Edit the `tomcat-7.0.42/webapps/solr4-web/WEB-INF/classes/META-INF/solr-spring.xml`
    file and change the `url` property in the `com.liferay.portal.search.solr.server.BasicAuthSolrServer`
    bean:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编辑 `tomcat-7.0.42/webapps/solr4-web/WEB-INF/classes/META-INF/solr-spring.xml`
    文件，并更改 `com.liferay.portal.search.solr.server.BasicAuthSolrServer` 实例中的 `url`
    属性：
- en: '[PRE5]'
  id: totrans-221
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Restart the Liferay instance.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重启 Liferay 实例。
- en: Log in as administrator to the Liferay Portal.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份登录到 Liferay 门户。
- en: Go to **Admin** | **Control Panel** | **Server Administration** and click on
    the **Execute** button in the **Reindex all search indexes** section.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往 **管理** | **控制面板** | **服务器管理**，然后在 **重新索引所有搜索索引** 部分的 **执行** 按钮上单击。
- en: In the frontend, add the **Search** page with the **Search** portlet.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在前端，添加带有 **搜索** 小部件的 **搜索** 页面。
- en: Find your data by typing keywords in the **Search** portlet.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **搜索** 小部件中输入关键词以查找您的数据。
- en: How it works…
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'Apache Solr is a powerful search engine with many configuration files. In order
    to run Apache Solr and Liferay, we need to override two files: `schema.xml` and
    `solrconfig.xml`.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Solr 是一个功能强大的搜索引擎，拥有许多配置文件。为了运行 Apache Solr 和 Liferay，我们需要覆盖两个文件：`schema.xml`
    和 `solrconfig.xml`。
- en: 'The first file defines fields and field types that are available in Liferay.
    The `schema.xml` file has two sections: `types` and `fields`.'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个文件定义了 Liferay 中可用的字段和字段类型。`schema.xml` 文件有两个部分：`types` 和 `fields`。
- en: '`The Types` section defines all the possible field types, for instance, Boolean,
    integer, float, double, and so on. The most important field is text, which is
    defined as follows:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '`The Types` 部分定义了所有可能的字段类型，例如布尔值、整数、浮点数、双精度浮点数等。最重要的字段是文本，其定义如下：'
- en: '[PRE6]'
  id: totrans-231
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Let''s try analyzing this definition:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试分析这个定义：
- en: The first line of this definition contains the name of the field type called
    `text` with the `solr.TextField` implementing class. The `solr.` prefix is shorthand
    for `org.apache.solr.schema` in this case. The `PositionIncrementGap` attribute
    specifies the distance between multiple values, which prevents spurious phrase
    matches.
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这一定义的第一行包含了一个名为 `text` 的字段类型名称，以及实现该类型的 `solr.TextField` 类。在这个例子中，`solr.` 前缀代表
    `org.apache.solr.schema`。`PositionIncrementGap` 属性指定了多个值之间的距离，这可以防止虚假的短语匹配。
- en: The next couple of lines are `index analyzer` and `query analyzer` definitions.
    The `index` type means that data is analyzed when it is added to the index. The
    `query` type specifies analyzers in the query time (searching).
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 接下来的几行是 `index analyzer` 和 `query analyzer` 的定义。`index` 类型表示数据在添加到索引时进行分析。`query`
    类型指定了查询时间（搜索）中的分析器。
- en: 'Now, let''s try and look at the other terms used in the code:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们尝试查看代码中使用的其他术语：
- en: '`solr.WhitespaceTokenizerFactory`: This splits the text stream on whitespace.
    Here is an example:'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`solr.WhitespaceTokenizerFactory`：这会在空白处分割文本流。以下是一个示例：'
- en: 'Input: `This is an example`'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输入：`This is an example`
- en: 'Output: `"This", "is", "an", "example"`'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出：`"This", "is", "an", "example"`
- en: '`solr.LowerCaseFilterFactory`: This converts any uppercase letters in a token
    to the equivalent lowercase token. Here is an example:'
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`solr.LowerCaseFilterFactory`：这会将标记中的任何大写字母转换为等效的小写字母。以下是一个示例：'
- en: 'Input: `"This", "is", "an", "example"`'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输入：`"This", "is", "an", "example"`
- en: 'Output: `"this", "is", "an", "example"`'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出：`"this", "is", "an", "example"`
- en: '`solr.RemoveDuplicatesTokenFilterFactory`: This removes duplicate tokens in
    the stream. Here is an example:'
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`solr.RemoveDuplicatesTokenFilterFactory`：这会从流中移除重复的标记。以下是一个示例：'
- en: 'Input: `"one", "two", "two", "three"`'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输入：`"one", "two", "two", "three"`
- en: 'Output: `"one", "two", "three"`'
  id: totrans-244
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出：`"one", "two", "three"`
- en: '`solr.StopFilterFactory`: This removes tokens that are on the given stopwords
    list.'
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`solr.StopFilterFactory`：这会移除给定停用词列表中的标记。'
- en: '`stopwords.txt` has words such as `hate`, `love`. Here is an example:'
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stopwords.txt` 包含诸如 `hate`、`love` 等单词。以下是一个示例：'
- en: 'Input: `"I", "hate", "my", "job"`'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输入：`"I", "hate", "my", "job"`
- en: 'Output: `"I", "my", "job"`'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 输出：`"I", "my", "job"`
- en: '`solr.WordDelimiterFilterFactory`: This splits tokens with specific rules.
    Refer to the official Solr documentation at [https://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.WordDelimiterFilterFactory](https://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.WordDelimiterFilterFactory)
    to learn about the possible configuration.'
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`solr.WordDelimiterFilterFactory`：这会根据特定规则分割标记。请参阅官方 Solr 文档[https://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.WordDelimiterFilterFactory](https://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.WordDelimiterFilterFactory)，了解可能的配置。'
- en: 'The next part of `schema.xml` is the fields section. It contains all field
    definitions. In general, Apache Solr provides three types of fields:'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`schema.xml` 的下一部分是字段部分。它包含所有字段定义。通常，Apache Solr 提供三种类型的字段：'
- en: '`defining fields`: This is a typical, declarative field definition. Every definition
    has the following attributes:'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`defining fields`：这是一个典型的声明性字段定义。每个定义都有以下属性：'
- en: '[PRE7]'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '`copying fields`: This is the mechanism for making copies of fields with different
    analyzers or filters. It is not used in our `schema.xml` file.'
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`copying fields`：这是制作具有不同分析器或过滤器的字段副本的机制。在我们的 `schema.xml` 文件中未使用。'
- en: '`dynamic fields`: This allows us to define fields without any explicit definition.
    In our `schema.xml`, it is used for multilanguage fields:'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dynamic fields`：这允许我们定义没有明确定义的字段。在我们的 `schema.xml` 中，它用于多语言字段：'
- en: '[PRE8]'
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Every field definition can contain the following attributes:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 每个字段定义都可以包含以下属性：
- en: '`name`: The name of the field'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name`：字段的名称'
- en: '`type`: A reference for the field types that are defined in a `<types>` section'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`type`：一个引用，指向在 `<types>` 部分中定义的字段类型'
- en: '`default`: A default value that will be added automatically to any document
    that does not have a value'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`default`：一个默认值，将自动添加到任何没有值的文档中'
- en: Other attributes are optional. The full list of optional attributes is available
    in the official Apache Solr documentation at [https://cwiki.apache.org/confluence/display/solr/Defining+Fields](https://cwiki.apache.org/confluence/display/solr/Defining+Fields).
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 其他属性是可选的。官方Apache Solr文档中提供了可选属性的完整列表，请参阅[https://cwiki.apache.org/confluence/display/solr/Defining+Fields](https://cwiki.apache.org/confluence/display/solr/Defining+Fields)。
- en: The next file called `solrconfig.xml` is the most important configuration file
    in the Solr search engine.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个文件名为`solrconfig.xml`的是Solr搜索引擎中最重要的配置文件。
- en: 'The more commonly used elements in `solrconfig.xml` are:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 在`solrconfig.xml`中更常用的元素包括：
- en: Data directory location specifying a location for index data with the `<datadir>`
    parameter
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`<datadir>`参数指定索引数据目录的位置
- en: Query and cache settings configured in child elements of the `<query>` tag
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在`<query>`标签的子元素中配置的查询和缓存设置
- en: Request handler `<requestHandle>` sections that process requests coming to Solr
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处理发送到Solr的请求的`<requestHandle>`部分
- en: Search component `<searchComponent>` sections define the logic that is used
    by `SearchHandler` to perform queries for users
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<searchComponent>`部分定义了`SearchHandler`用于执行用户查询的逻辑'
- en: 'All documentation is available on the official Apache Solr site: [https://cwiki.apache.org/confluence/display/solr/Configuring+solrconfig.xml](https://cwiki.apache.org/confluence/display/solr/Configuring+solrconfig.xml).'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 所有文档均可在官方Apache Solr网站上找到：[https://cwiki.apache.org/confluence/display/solr/Configuring+solrconfig.xml](https://cwiki.apache.org/confluence/display/solr/Configuring+solrconfig.xml)。
