<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;7.&#xA0;Manipulating Fonts with Less"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07" class="calibre1"/>Chapter 7. Manipulating Fonts with Less</h1></div></div></div><p class="calibre7">We explored how to use the various elements of Less, created a basic page to use Less, and covered how to migrate a site to use Less….so, what's next?</p><p class="calibre7">Ah yes, working with text or to be more specific, fonts!</p><p class="calibre7">It goes without saying that content is king on any website—part of achieving the right impact is the careful selection of fonts that should be used on your site. We wouldn't use a script-based font if we were designing a news site, as the text should be clean and easy to read. However, a script font would be perfect to represent the flowing lines associated with dresses sold at a dressmaker's outfit.</p><p class="calibre7">It's all about selecting the right style; Less is perfect to help us manage the styles, colors, and sizes of any font we decide to use in our pages. Throughout this chapter, you'll see how you can use some simple principles to make managing fonts a cinch with Less. We will cover the following topics:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Creating font mixins</li><li class="listitem">Using variables to determine sizes dynamically</li><li class="listitem">Using prebuilt libraries</li><li class="listitem">Catering for the <code class="email">@media</code> and <code class="email">@font-face</code> support in Less</li></ul></div><p class="calibre7">Are you ready to have some fun with fonts? Let's get started!</p></div>

<div class="book" title="Chapter&#xA0;7.&#xA0;Manipulating Fonts with Less">
<div class="book" title="Creating simple font mixins"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch07lvl1sec60" class="calibre1"/>Creating simple font mixins</h1></div></div></div><p class="calibre7">The key <a id="id468" class="calibre1"/>to working with fonts is to start simple and then build it up—there is no better place to start than to create a simple mixin in order to manage attributes such as font names. Let's create a simple example where we can see this in action; here's what our mixin will produce:</p><div class="mediaobject"><img src="../images/00065.jpeg" alt="Creating simple font mixins" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Okay, let's start <a id="id469" class="calibre1"/>creating our mixin; we'll begin by preparing the markup for our demo:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open a copy of the <code class="email">project.html</code> file we created in <a class="calibre1" title="Chapter 3. Getting Started with Less" href="part0031_split_000.html#page">Chapter 3</a>, <span class="strong"><em class="calibre9">Getting Started with Less</em></span>, and then modify it as shown:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">    &lt;title&gt;Demo: Creating simple font mixins&lt;/title&gt;</strong></span>
<span class="strong"><strong class="calibre8">    &lt;link href='http://fonts.googleapis.com/css?family=Kite+One' rel='stylesheet' type='text/css'&gt;</strong></span>
<span class="strong"><strong class="calibre8">    &lt;link rel="stylesheet/less" href="css/basicfonts.less"&gt;</strong></span>
    &lt;script src="js/less.min.js"&gt;&lt;/script&gt;</pre></div></li><li class="listitem" value="2">Next, add the following markup to the <code class="email">&lt;body&gt;</code> section:<div class="informalexample"><pre class="programlisting">    &lt;h1&gt;H1 - The cat sat on the mat&lt;/h1&gt;
    &lt;h2&gt;H2 - The cat sat on the mat&lt;/h2&gt;
    &lt;h3&gt;H3 - The cat sat on the mat&lt;/h3&gt;
    &lt;h4&gt;H4 - The cat sat on the mat&lt;/h4&gt;
    &lt;h5&gt;H5 - The cat sat on the mat&lt;/h5&gt;
    &lt;h6&gt;H6 - The cat sat on the mat&lt;/h6&gt;</pre></div></li><li class="listitem" value="3">Save the file as <code class="email">basicfonts.html</code>. In a separate file, add the following Less styles:<div class="informalexample"><pre class="programlisting">.fontfamily() { font-family: 'Kite One', Arial, sans-serif; }

h1 { .fontfamily; color: #808080; }
h2 { .fontfamily; color: #ff0000; }
h3 { .fontfamily; color: #008000; }
h4 { .fontfamily; color: #ffa500; }
h5 { .fontfamily; color: #800080; }
h6 { .fontfamily; color: #000000; }</pre></div></li><li class="listitem" value="4">Save this as <code class="email">basicfonts.less</code>. If you preview the results in a browser, you will see the six statements appear in decreasing font sizes.</li></ol><div class="calibre14"/></div><p class="calibre7">So, let's take<a id="id470" class="calibre1"/> a moment to consider what's happened here: we created a simple mixin that replaced <code class="email">.fontfamily</code> with <code class="email">'Kite One', Arial, sans-serif;</code> as the font family for the statements on the page. Once the Less file has been compiled, each <code class="email">H</code> style will use Kite One as the base font (in various sizes), falling back to use Arial or sans-serif, if Kite One is not available.</p></div></div>

<div class="book" title="Chapter&#xA0;7.&#xA0;Manipulating Fonts with Less">
<div class="book" title="Creating simple font mixins">
<div class="book" title="Extending the mixin"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch07lvl2sec58" class="calibre1"/>Extending the mixin</h2></div></div></div><p class="calibre7">In the <a id="id471" class="calibre1"/>preceding instance, we could stop here—after all, the mixin we've produced works perfectly well. However, it's not the best we can do; if we create similar mixins throughout our code, it will soon become a real handful to ensure that all are updated, should the font names need to change.</p><p class="calibre7">Instead, we can make a simple change and use a variable name. To see what this means, open <code class="email">basicfonts.less</code> and then add these two lines at the start:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">@font-family-sans-serif: "Helvetica Neue", Helvetica, Arial, sans-serif;</strong></span>
<span class="strong"><strong class="calibre8">.fontfamily() { font-family:  @font-family-sans-serif }</strong></span>
h1 { .fontfamily; color: #808080; }</pre></div><p class="calibre7">You might ask, why make this kind of a change? The answer is easy: this reduces the number of instances where the code has to be updated if a change is made. If you change the fonts being referenced as part of the <code class="email">@font-family-sans-serif</code> variable, then Less will automatically take care of updating the code—meaning, one less job to do! Here, we only needed to change one instance; had there been many instances in our code, then Less would have updated them automatically at the point of compiling our code.</p><p class="calibre7">Let's move on and turn our attention to changing the size of the fonts that we use—after all, things would be boring if everything was of the same size, right?</p></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using @font-face with Less"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec61" class="calibre1"/>Using @font-face with Less</h1></div></div></div><p class="calibre7">A<a id="id472" class="calibre1"/> downside of using fonts in web pages is that they must exist on your end user's PC or laptop. Naturally, with the mix of PC, laptop, and mobile devices now available in the market, it would be almost impossible to guarantee that the font will exist!</p><p class="calibre7">I say impossible; there are fonts that we can use on a PC or laptop, such as Arial, Times New Roman, or Verdana; they are not bad fonts, but they are overused and not particularly special. We could, of course, use an external service, such as Google Fonts—as we did in the <span class="strong"><em class="calibre9">Creating simple font mixins</em></span> section earlier in this chapter.</p><p class="calibre7">However, we can do better than this by using <code class="email">@font-face</code> to embed any font in our pages. I say any, but the license for the font must allow embedding in a page. Thankfully, if we use a site such as Font Squirrel (as we will do in the next exercise), we can easily check and eliminate any fonts that fall outside this criteria, when choosing a font.</p><p class="calibre7">Enough <a id="id473" class="calibre1"/>of the talking; let's turn our attention to using <code class="email">@font-face</code> so that we can see how it works. We're going to use it in a very simple demo; while it might not show much, it perfectly illustrates how you can use <code class="email">@font-face</code> with Less.</p></div>

<div class="book" title="Using @font-face with Less">
<div class="book" title="Downloading the font files"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch07lvl2sec59" class="calibre1"/>Downloading the font files</h2></div></div></div><p class="calibre7">Before <a id="id474" class="calibre1"/>we get stuck in with writing code, we need to <a id="id475" class="calibre1"/>download an appropriate font—after all, using something such as Arial or Times New Roman won't do the demo justice! Perform the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">For this <a id="id476" class="calibre1"/>demo, we'll use a font from the Font Squirrel site (<a class="calibre1" href="http://www.fontsquirrel.com">http://www.fontsquirrel.com</a>). Let's start by browsing to the Font Squirrel site and downloading the PT Sans font, which we will use in our demo. We can download it from <a class="calibre1" href="http://www.fontsquirrel.com/fonts/PT-Sans">http://www.fontsquirrel.com/fonts/PT-Sans</a>. Here, we can also check the details of the license and see the samples of the font displayed on the screen.</li><li class="listitem" value="2">Click on the <span class="strong"><strong class="calibre8">Webfont Kit</strong></span> tab and then on the <span class="strong"><strong class="calibre8">Download @Font-Face Kit</strong></span> button to download the font; save the compressed archive in the project folder as <code class="email">PT-Sans-fontfacekit.zip</code>.</li><li class="listitem" value="3">For now, open up the <code class="email">ptsans_regular_macroman</code> folder, extract the four Webfont files from within, and place them in a subfolder called <code class="email">fonts</code> within our project folder.</li></ol><div class="calibre14"/></div><p class="calibre7">We will be revisiting this font in the <span class="strong"><em class="calibre9">Handling different weights</em></span> section, later in this chapter.</p></div></div>

<div class="book" title="Using @font-face with Less">
<div class="book" title="Embedding the font into our demo"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch07lvl2sec60" class="calibre1"/>Embedding the font into our demo</h2></div></div></div><p class="calibre7">Okay, now<a id="id477" class="calibre1"/> that we have the font files in place, let's<a id="id478" class="calibre1"/> make a start with the code:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Crank up the editor of your choice—I assume that, for the purpose of this exercise, it is Sublime Text.</li><li class="listitem" value="2">Open up a copy of <code class="email">projects.html</code>, which we created at the start of the book, and then modify it as shown:<div class="informalexample"><pre class="programlisting">    &lt;meta charset="utf-8"&gt;
<span class="strong"><strong class="calibre8">    </strong></span>
<span class="strong"><strong class="calibre8">&lt;title&gt;Demo: Using @font-face&lt;/title&gt;</strong></span>
<span class="strong"><strong class="calibre8">    &lt;link rel="stylesheet/less" href="css/fontface.less"&gt;</strong></span>
    &lt;script src="js/less.min.js"&gt;&lt;/script&gt;</pre></div></li><li class="listitem" value="3">Add<a id="id479" class="calibre1"/> the following markup to the <code class="email">&lt;body&gt;</code> section:<div class="informalexample"><pre class="programlisting">    &lt;h1&gt;H1 - The cat sat on the mat&lt;/h1&gt;
    &lt;h2&gt;H2 - The cat sat on the mat&lt;/h2&gt;
    &lt;h3&gt;H3 - The cat sat on the mat&lt;/h3&gt;
    &lt;h4&gt;H4 - The cat sat on the mat&lt;/h4&gt;
    &lt;h5&gt;H5 - The cat sat on the mat&lt;/h5&gt;
    &lt;h6&gt;H6 - The cat sat on the mat&lt;/h6&gt;</pre></div></li><li class="listitem" value="4">Save it as <code class="email">fontface.html</code>. As we can clearly see, it's a very simple demo—enough to<a id="id480" class="calibre1"/> show off how to use <code class="email">@font-face</code>—it was never meant to be complicated! It isn't complete without the all-important styling; so, go ahead and add the following to a new file, saving it as <code class="email">fontface.less</code>:<div class="informalexample"><pre class="programlisting">.font-face(@family, @filename: @family) {
  font-family: "@{family}";

  @font-face {
    font-family: "@{family}";
    @file: "../fonts/@{filename}";
    src: url("@{file}.eot");
    src: url("@{file}.eot?#iefix") format("eot"),
         url("@{file}.woff") format("woff"),
         url("@{file}.ttf") format("truetype"),
         url("@{file}.svg#webfont") format("svg");
  }
}

@name: PTS55F-webfont;
@family: "PT Sans";
 
h1 { .font-face(@family, @name); color: #808080; }
h2 { .font-face(@family, @name); color: #ff0000; }
h3 { .font-face(@family, @name); color: #008000; }
h4 { .font-face(@family, @name); color: #ffa500; }
h5 { .font-face(@family, @name); color: #800080; }
h6 { .font-face(@family, @name); color: #000000; }</pre></div></li><li class="listitem" value="5">If you preview the results in a browser, you can expect to see something akin to this screenshot:<div class="mediaobject"><img src="../images/00066.jpeg" alt="Embedding the font into our demo" class="calibre10"/></div><p class="calibre13"> </p></li></ol><div class="calibre14"/></div><p class="calibre7">This is<a id="id481" class="calibre1"/> a simple way to show you how to use <code class="email">@font-face</code> with Less; here, we've displayed a simple sentence using the PT Sans font, styled <a id="id482" class="calibre1"/>with different colors for each font size. In each call to the <code class="email">.font-face</code> mixin, we pass the name of the font and the color to be used; the mixin selects the most appropriate format of the font based on the browser being used:</p><div class="informalexample"><table border="1" class="calibre15"><colgroup class="calibre16"><col class="calibre17"/><col class="calibre17"/></colgroup><thead class="calibre18"><tr class="calibre19"><th valign="bottom" class="calibre20">
<p class="calibre21">Font format</p>
</th><th valign="bottom" class="calibre20">
<p class="calibre21">Browser(s) supporting the format</p>
</th></tr></thead><tbody class="calibre22"><tr class="calibre19"><td valign="top" class="calibre23">
<p class="calibre21">
<code class="literal">TTF</code>
</p>
</td><td valign="top" class="calibre23">
<p class="calibre21">This <a id="id483" class="indexterm"/>works in most browsers, except IE and iPhone</p>
</td></tr><tr class="calibre19"><td valign="top" class="calibre23">
<p class="calibre21">
<code class="literal">EOT</code>
</p>
</td><td valign="top" class="calibre23">
<p class="calibre21">This<a id="id484" class="indexterm"/> is a proprietary font format for use in IE only—it is currently not a W3C-recommended standard</p>
</td></tr><tr class="calibre19"><td valign="top" class="calibre23">
<p class="calibre21">
<code class="literal">WOFF</code>
</p>
</td><td valign="top" class="calibre23">
<p class="calibre21">This<a id="id485" class="indexterm"/> is a compressed, emerging standard—currently supported by most browsers except Opera Mini</p>
</td></tr><tr class="calibre19"><td valign="top" class="calibre23">
<p class="calibre21">
<code class="literal">SVG</code>
</p>
</td><td valign="top" class="calibre23">
<p class="calibre21">For <a id="id486" class="indexterm"/>use in iPhone/iPad only</p>
</td></tr></tbody></table></div><p class="calibre7">If you only have access to one format, then WOFF is the best one to choose; otherwise, try to include fonts in all the four formats where possible.</p></div></div>
<div class="book" title="Using a prebuilt library to handle fonts"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec62" class="calibre1"/>Using a prebuilt library to handle fonts</h1></div></div></div><p class="calibre7">In the <a id="id487" class="calibre1"/>previous example, we used <code class="email">@font-face</code> to <a id="id488" class="calibre1"/>embed a custom font into our pages; this removes any constraint on the fonts that we can use, as we can download and use suitably licensed fonts. This is great, but we can do better—one of the precepts of Less is the DRY principle, which we introduced earlier in the book; this is a perfect opportunity to practice what we preach!</p><p class="calibre7">Instead of having to create new mixins to handle <code class="email">@font-face</code>, we can use a prebuilt library to handle the <code class="email">@font-face</code> mixin for us. This means we can remove a good chunk of our code, as we will use the mixin from the prebuilt library—let's take a look at this in action:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open up a copy of <code class="email">fontface.html</code> and alter the link to the Less file, as follows:<div class="informalexample"><pre class="programlisting">  &lt;title&gt;Demo: Using @font-face&lt;/title&gt;
<span class="strong"><strong class="calibre8">  </strong></span>
<span class="strong"><strong class="calibre8">&lt;link rel="stylesheet/less" href="css/fontface-ml.less"&gt;</strong></span>
  &lt;script src="js/less.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;</pre></div></li><li class="listitem" value="2">Save this as <code class="email">fontface-ml.html</code>. In a new file, add the following code:<div class="informalexample"><pre class="programlisting">@import "lesshat.less";
@my-font-name: 'pt_sansregular';
@fontfile: '../fonts/PTS55F-webfont';

@font-face {
  .font-face(@my-font-name, @fontfile);
}

.myfont() {
  font-family: @my-font-name, arial;
}

h1 { .myfont; color: #808080; }
h2 { .myfont; color: #ff0000; }
h3 { .myfont; color: #008000; }
h4 { .myfont; color: #ffa500; }
h5 { .myfont; color: #800080; }
h6 { .myfont; color: #000000; }</pre></div></li><li class="listitem" value="3">This will be our Less style sheet—go ahead and save it as <code class="email">fontface-ml.less</code>.</li></ol><div class="calibre14"/></div><p class="calibre7">If you preview the results in a browser, you should see little or no difference in the output, when compared to the results from the previous exercise. So, what's different? I hear you ask: Why use a prebuilt library?</p><p class="calibre7">The answer is easy: you're forgetting the one key principle—when using Less, it doesn't matter how big the library is as Less only incorporates those styles that are <span class="strong"><em class="calibre9">directly referenced in the code during compilation</em></span>.</p><p class="calibre7">If you<a id="id489" class="calibre1"/> take a look through the library, you <a id="id490" class="calibre1"/>will see the <code class="email">@font-face</code> mixin at or around line <code class="email">1362</code>:</p><div class="informalexample"><pre class="programlisting">.font-face(@fontname, @fontfile, @fontweight: normal, @fontstyle: normal) {
  font-family: "@{fontname}";
  src: url("@{fontfile}.eot");
  src: url("@{fontfile}.eot?#iefix") format("embedded-opentype"),
       url("@{fontfile}.woff") format("woff"),
       url("@{fontfile}.ttf") format("truetype"),
       url("@{fontfile}.svg#@{fontname}") format("svg");
  font-weight: @fontweight;
  font-style: @fontstyle;
}</pre></div><p class="calibre7">In this instance, this is all that is being used—we can prove this using a DOM Inspector, such as Firebug, to view the compiled CSS styles, as shown in this screenshot:</p><div class="mediaobject"><img src="../images/00067.jpeg" alt="Using a prebuilt library to handle fonts" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">In a small example such as ours, the benefits may not be immediately apparent—once this scales up to a much larger site, this will significantly reduce the amount of code that you have to write. The key to using a prebuilt library in such an instance comes down to choosing the right library—the more we can use from one prebuilt library, the better!</p><p class="calibre7">Okay, we now have the right fonts in place; we need to ensure that they can be sized as appropriate on our pages. Thankfully, Less contains some useful functionality that helps make sizing fonts a cinch—let's take a look at how we can use the library to help set font sizes<a id="id491" class="calibre1"/> in<a id="id492" class="calibre1"/> our pages.</p></div>

<div id="page" style="height:0pt"/><div class="book" title="Using variables to calculate sizes"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec63" class="calibre1"/>Using variables to calculate sizes</h1></div></div></div><p class="calibre7">Now<a id="id493" class="calibre1"/> that we have chosen the fonts we want to use, we <a id="id494" class="calibre1"/>need to ensure that we can set the right size for the occasion; thankfully, Less has a number of techniques that we can use to create our CSS styles.</p><p class="calibre7">The simplest technique is to assign a font size to a set variable and then reference this variable throughout your code:</p><div class="informalexample"><pre class="programlisting">@font-size-base: 14px;</pre></div><p class="calibre7">Once the initial variable is set, we can then create a range of font sizes automatically, by multiplying the base value with a graduated set of numbers:</p><div class="informalexample"><pre class="programlisting">@font-size-large: @font-size-base * 1.25;
@font-size-small: @font-size-base * 0.85;
@font-size-mini: @font-size-base * 0.75;</pre></div><p class="calibre7">When compiled using a precompiler, Less will convert these into valid CSS font sizes as shown in this screenshot:</p><div class="mediaobject"><img src="../images/00068.jpeg" alt="Using variables to calculate sizes" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">This is a very simple way of defining font sizes; if we need to change the font sizes, all we need to do is change the value of <code class="email">@font-size-base</code> and Less will take care of updating<a id="id495" class="calibre1"/> the others <a id="id496" class="calibre1"/>automatically.</p></div>

<div class="book" title="Using variables to calculate sizes">
<div class="book" title="Moving with the times"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch07lvl2sec61" class="calibre1"/>Moving with the times</h2></div></div></div><p class="calibre7">Working with <a id="id497" class="calibre1"/>pixels is a consistent, reliable way of defining font sizes—if you specify a value of <code class="email">14px</code> for an element, that element will be sized at <code class="email">14px</code>. However, for those using IE, sizes do not cascade well when the zoom function is used.</p><p class="calibre7">Instead, we can use the <code class="email">rem</code> unit—this maintains its value relative to the root (HTML) element, instead of its parent. You might notice that I've skipped over the use of <code class="email">em</code> as an option. The <code class="email">em</code> value is <a id="id498" class="calibre1"/>set relative to the parent, which means elements will not resize well if your visitor decides to use the zooming function in IE!</p><div class="informalexample" title="Note"><h3 class="title2"><a id="note35" class="calibre1"/>Note</h3><p class="calibre7">For a good discussion on the pros and cons of using <code class="email">rem</code>, <code class="email">em</code>, and <code class="email">px</code> as font size formats, take a look at an article by Jonathan Snook—although it is a few years old, it still contains some useful details—at <a class="calibre1" href="http://snook.ca/archives/html_and_css/font-size-with-rem">http://snook.ca/archives/html_and_css/font-size-with-rem</a>.</p></div><p class="calibre7">Support for <code class="email">rem</code> is good within modern browsers, so we just need to provide fallback support for any version of IE older than Version 8.</p><p class="calibre7">With this in mind, we can create a mixin such as the following to handle sizing values using the <code class="email">rem</code> values, but with a pixel fallback for those who still need to use IE8 or below:</p><div class="informalexample"><pre class="programlisting">.font-size(@sizeValue){
  @remValue: @sizeValue/10;
  @pxValue: @sizeValue;
  font-size: unit(@pxValue,px);
  font-size: unit(@remValue,rem);
}

p { .font-size(13); }</pre></div><p class="calibre7">When compiled, this produces the following CSS:</p><div class="informalexample"><pre class="programlisting">html { font-size: 62.5%; }
p { font-size: 13px; font-size: 1.3rem; }</pre></div><p class="calibre7">Most modern browsers will support the use of the <code class="email">rem</code> element without issues or will fall back to use<a id="id499" class="calibre1"/> the pixel equivalent, if appropriate. Perfect! We <a id="id500" class="calibre1"/>now have our fonts sized properly; we're good to go, right? Or, are we…?</p></div></div>
<div class="book" title="Handling different weights"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec64" class="calibre1"/>Handling different weights</h1></div></div></div><p class="calibre7">Well, perhaps<a id="id501" class="calibre1"/> not; what if we're using multiple variations of a particular font? This isn't a problem when using Less—we can reference our font in the normal way and use the Less namespacing facility to pick and choose which font styles to use for each HTML element. Let's take a look at what this means in practice.</p><p class="calibre7">Let's start by downloading a copy of the code that accompanies this book; from the code download, extract the <code class="email">weights.html</code> file that contains our basic text and HTML markup. Save a copy of the file within the project folder.</p><p class="calibre7">Next, go ahead and add the following to a new document, saving it as <code class="email">weights.less</code>:</p><div class="informalexample"><pre class="programlisting">@Alegreya-Sans: "Alegreya Sans",sans-serif;

#SansFont() {
  &amp;.light { font-family: @Alegreya-Sans; font-weight: 300; }
  &amp;.bold { font-family: @Alegreya-Sans; font-weight: 500; }
  &amp;.extrabold { font-family: @Alegreya-Sans; font-weight: 800; }
}

.para1 { #SansFont &gt; .light; }
.para2 { #SansFont &gt; .bold; }
h1 { #SansFont &gt; .extrabold; }

section { 
  background-color: #ffc; border-radius: 5px;padding: 5px; 
  border: 1px solid black; width: 400px;
  box-shadow: 3px 3px 5px 0px rgba(50, 50, 50, 0.75);
  h1 { background-color: #c00; margin-top: 0px; color: #fff; border-top-left-radius: 4px; border-top-right-radius: 4px; padding: 3px; }
}</pre></div><p class="calibre7">If you preview the results in a browser, you will see something akin to this screenshot:</p><div class="mediaobject"><img src="../images/00069.jpeg" alt="Handling different weights" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Using the Less namespace functionality is a great way to work with fonts. In this example, we've touched<a id="id502" class="calibre1"/> again on a technique that we covered in <a class="calibre1" title="Chapter 5. Inheritance, Overriding, and Nesting in Less" href="part0050_split_000.html#page">Chapter 5</a>, <span class="strong"><em class="calibre9">Inheritance, Overriding, and Nesting in Less</em></span>, where we can pick and choose the styles we want Less to compile into valid CSS.</p><p class="calibre7">In this instance, we're pulling in one of Google's Web Fonts to create three styles as a nested block before calling each of them from within <code class="email">.para1</code>, <code class="email">.para2</code>, and <code class="email">h1</code>. It's a great technique to help group common styles together—the real benefit of using it is to help better organize your Less styles; Less will convert the calling styles (that is, <code class="email">.para1</code>, <code class="email">.para2</code>, and <code class="email">h1</code>) into valid CSS.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip12" class="calibre1"/>Tip</h3><p class="calibre7">Don't forget to include the <code class="email">()</code> in your namespace block, to prevent Less from compiling it as a valid CSS block.</p></div><p class="calibre7">Now that we've covered the basics of using Less to help manage our fonts, let's move on and take a look at some more examples of using fonts with Less, beginning with creating the <code class="email">@media</code> queries for a responsive design.</p></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with @media in Less"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec65" class="calibre1"/>Working with @media in Less</h1></div></div></div><p class="calibre7">In the age<a id="id503" class="calibre1"/> of using mobile devices and responsive design, a key element in building sites is to allow their use on mobile devices, such as iPads or smartphones.</p><p class="calibre7">The key to responsive design is the <code class="email">@media</code> rule—we can use this to define the style at particular breakpoints or sizes of screen estate for different devices. To illustrate how this works when using Less, we'll use a simplified example created by Eric Rasch as a basis for an example web page:</p><div class="mediaobject"><img src="../images/00070.jpeg" alt="Working with @media in Less" class="calibre10"/></div><p class="calibre11"> </p><div class="informalexample" title="Note"><h3 class="title2"><a id="note36" class="calibre1"/>Note</h3><p class="calibre7">Eric's original<a id="id504" class="calibre1"/> example is available at <a class="calibre1" href="http://codepen.io/ericrasch/HzoEx">http://codepen.io/ericrasch/HzoEx</a>.</p></div><p class="calibre7">For<a id="id505" class="calibre1"/> this demonstration, we'll break the convention and use the copies of the <code class="email">media.html</code> and <code class="email">media.less</code> files that are available in the code download that accompanies this book. I recommend that you run the demo in a browser that has a DOM inspector installed, so you can see the different styles in use as we resize the browser.</p><p class="calibre7">The <code class="email">media.html</code> file <a id="id506" class="calibre1"/>contains some simple text generated using<a id="id507" class="calibre1"/> the <span class="strong"><strong class="calibre8">Lorem Ipsum</strong></span> <a id="id508" class="calibre1"/>generator at <a class="calibre1" href="http://www.lipsum.com">http://www.lipsum.com</a>; this is to represent a standard web page.</p><p class="calibre7">For reasons of space, we'll work through the important elements of the <code class="email">media.less</code> file—the rest of the Less markup in this file is purely to make the page look attractive.</p></div>

<div class="book" title="Working with @media in Less">
<div class="book" title="Creating a basic media query"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch07lvl2sec62" class="calibre1"/>Creating a basic media query</h2></div></div></div><p class="calibre7">Before <a id="id509" class="calibre1"/>we take a look at the Less file in detail, let's just<a id="id510" class="calibre1"/> remind ourselves of how a basic <code class="email">@media</code> query looks:</p><div class="informalexample"><pre class="programlisting">@media all and (max-width: 699px) and (min-width: 520px) {
  body { background: #ccc; }
}</pre></div><p class="calibre7">This translates to setting the background color to <code class="email">#ccc</code> (light gray), when the screen size is between 520 px and 699 px.</p></div></div>

<div class="book" title="Working with @media in Less">
<div class="book" title="Examining the Less file"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch07lvl2sec63" class="calibre1"/>Examining the Less file</h2></div></div></div><p class="calibre7">This is a <a id="id511" class="calibre1"/>simple enough media query, right? Let's apply<a id="id512" class="calibre1"/> this to what we have in our Less file.</p><p class="calibre7">In <code class="email">media.less</code>, we can see several sections—the first section declares a number of variables; these include each of the breakpoints we will use, and the font sizes that we will apply to the text in our page:</p><div class="informalexample"><pre class="programlisting">@mobile: ~"only screen and (max-width: 529px)";
@tablet: ~"only screen and (min-width: 530px) and (max-width: 949px)";
@desktop: ~"only screen and (min-width: 950px) and (max-width: 1128px)";
@desktop-xl: ~"only screen and (min-width: 1129px)";

@font-size-base:  14px;
@font-size-large: @font-size-base * 1.25; 
@font-size-small: @font-size-base * 0.85; 
@font-size-mini:  @font-size-base * 0.75; </pre></div><p class="calibre7">Did you notice the <code class="email">@tablet</code> variable and how similar it is to our example query? Granted, ours will not be for as large a device as this tablet, but the format stays the same, irrespective of the sizes defined.</p><p class="calibre7">Next comes the mixin that will apply styles to each <code class="email">@media</code> rule. The <code class="email">body:after</code> statement changes the label at the top-left of our screen to display which breakpoint is being used at a particular screen size. The section rule determines the width and font size to be used for the <code class="email">&lt;section&gt;</code> block:</p><div class="informalexample"><pre class="programlisting">.mediaMixin(@background, @content, @width, @fontsize) {
  body:after { background: @background; content: @content; }
  section { width: @width; font-size: @fontsize;  }
}</pre></div><p class="calibre7">We finish with the most important part—this ties together all of the mixins and variables we've defined to arrive at the <code class="email">@media</code> CSS rules we will have in our compiled style sheet:</p><div class="informalexample"><pre class="programlisting">@media @mobile { .mediaMixin( orange; "mobile"; 85%; @font-size-mini ); }
@media @tablet { .mediaMixin( purple; "tablet"; 37%; @font-size-small ); }
@media @desktop { .mediaMixin( green; "desktop"; 40%; @font-size-base ); }
@media @desktop-xl { .mediaMixin( blue; "desktop xl"; 45%; @font-size-large );</pre></div><p class="calibre7">If we run the example from the code download and resize the screen to its maximum (that is, greater<a id="id513" class="calibre1"/> than <code class="email">1129px</code> for this example), we can see <a id="id514" class="calibre1"/>that the breakpoint in use is <span class="strong"><strong class="calibre8">desktop xl</strong></span>:</p><div class="mediaobject"><img src="../images/00071.jpeg" alt="Examining the Less file" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">How does our example work? It's easy; we've used a combination of variables and a mixin to reproduce the code required for each <code class="email">@media</code> query. Although we can change each breakpoint to match those devices we want to cater for, the ranges used here should cover most devices.</p><p class="calibre7">In each statement, we call the <code class="email">.mediaMixin</code> mixin and pass to it the desired background, content (to describe which breakpoint we are using), width of the <code class="email">&lt;section&gt;</code> containing the content, and font size. Less compiles each instance into a valid CSS rule, which is then interpreted by the browser as appropriate. We will take a more in-depth look at using <code class="email">@media</code> in <a class="calibre1" title="Chapter 8. Media Queries with Less" href="part0074_split_000.html#page">Chapter 8</a>, <span class="strong"><em class="calibre9">Media Queries with Less</em></span>.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip13" class="calibre1"/>Tip</h3><p class="calibre7">If you have Firefox installed, try pressing <span class="strong"><em class="calibre9">Ctrl</em></span> + <span class="strong"><em class="calibre9">Shift</em></span> + <span class="strong"><em class="calibre9">M</em></span> to activate the Responsive Design Mode when viewing this demo—it shows off the demo to a great effect!</p></div><p class="calibre7">We've almost come to the end of our journey through using fonts with Less; before we move on, let's take a moment to have a little bit of relief and see some of the effects you can create<a id="id515" class="calibre1"/> when using Less.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Creating special effects using Less"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec66" class="calibre1"/>Creating special effects using Less</h1></div></div></div><p class="calibre7">The<a id="id516" class="calibre1"/> beauty of Less is that if you've created valid Less<a id="id517" class="calibre1"/> code, it will compile to valid CSS—this means we can use it to great effect to produce some interesting effects when working with fonts.</p><p class="calibre7">If you spend a little time searching on the Internet for CSS3-type effects, you will no doubt come across some good examples—to show you what I mean, let's take a moment to try reworking two effects using Less: letterpress and emboss. For this demo, we'll use a copy of the <code class="email">weights.html</code> page we created earlier in this chapter, and alter the title to give it some more emphasis.</p><p class="calibre7">Let's start by opening up a copy of <code class="email">weights.html</code>, which we used in the previous demo, and saving it again as <code class="email">sfx.html</code>.</p><p class="calibre7">Next, open up a copy of <code class="email">weights.less</code> and add the mixins as highlighted:</p><div class="informalexample"><pre class="programlisting">@Alegreya-Sans: "Alegreya Sans",sans-serif;

<span class="strong"><strong class="calibre8">.letterpress() { text-shadow: 0px 1px 0px rgba(0, 0, 0, 0.5); }</strong></span>
<span class="strong"><strong class="calibre8">.emboss() { box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.5); }</strong></span>
</pre></div><p class="calibre7">The mixins won't be used unless we call them from our Less statements; so, go ahead and modify the <code class="email">h1</code> block as shown:</p><div class="informalexample"><pre class="programlisting">h1 { 
<span class="strong"><strong class="calibre8">  .emboss;</strong></span>
<span class="strong"><strong class="calibre8">  .letterpress;</strong></span>
  background-color: #c00;</pre></div><p class="calibre7">Save the file as <code class="email">sfx.less</code>. If you preview the results in a browser, you should see that the title has more emphasis, as shown in this screenshot:</p><div class="mediaobject"><img src="../images/00072.jpeg" alt="Creating special effects using Less" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">The great thing about Less is that we can easily apply a similar effect to any text—all it takes is a little care and planning.</p><p class="calibre7">In this example, we've used <code class="email">text-shadow</code> and <code class="email">box-shadow</code>, to which we've passed the right combination of values to produce the letterpress and emboss effects used in the title. It is worth running the demo for this example to see the effect in full color—reproducing it in print doesn't quite do it justice!</p><p class="calibre7">It should <a id="id518" class="calibre1"/>not be used as an excuse to laden your sites <a id="id519" class="calibre1"/>with lots of different text effects—this will more likely put your visitors off. With a little care, text effects such as the two we've used here can add real emphasis to our page, without the use of images.</p></div>

<div class="book" title="Creating special effects using Less">
<div class="book" title="Taking effects further"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch07lvl2sec64" class="calibre1"/>Taking effects further</h2></div></div></div><p class="calibre7">Wait—surely, we don't need to do anything more, except plan which effects we're going to use, right? Wrong, here's where the planning comes in: if we're careful about choosing any external mixin libraries we use, we can save ourselves even more work.</p><p class="calibre7">For example, we used <code class="email">text-shadow</code> here to produce the letterpress example; this is available in at least <a id="id520" class="calibre1"/>one external mixin library, namely LESS Elements (which we introduced in <a class="calibre1" title="Chapter 6. Migrating Your Site to Less" href="part0057_split_000.html#page">Chapter 6</a>, <span class="strong"><em class="calibre9">Migrating Your Site to Less</em></span>), and is available at <a class="calibre1" href="http://www.lesselements.com">http://www.lesselements.com</a>.</p><p class="calibre7">Assuming that you are already using LESS Elements in your project, all we need to do is include our calling statement—the mixin will already be part of the LESS Elements library. Yes, while it means that we don't necessarily reduce the overall code in our project, it does mean we have less to write, which must be a good thing!</p></div></div>
<div class="book" title="Summary"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch07lvl1sec67" class="calibre1"/>Summary</h1></div></div></div><p class="calibre7">Phew, what a tour! We covered a lot of content on using fonts when working with Less; let's take a moment to recap what we have learned in this chapter.</p><p class="calibre7">We began our journey by learning how to create a simple mixin that helps with setting the font family and color to use; we then saw how we could extend the mixin to store our font choices as variables. Next, we explored how to use <code class="email">@font-face</code> when working with Less, and that this removes any constraint on the fonts we can use within our pages.</p><p class="calibre7">We also saw how we can use a prebuilt library in our code, which helps save time on writing mixins, as they can be referenced from libraries such as LESS Hat. We then moved on to take a look at the various means available to manage font sizes, including using <code class="email">rem</code> and why using <code class="email">ems</code> is not always as good as it might appear.</p><p class="calibre7">We then moved on to take a look at using Less to create the <code class="email">@media</code> queries as part of responsive design, before rounding up the chapter with a brief look at some of the special effects you can create with fonts when using Less.</p><p class="calibre7">In the next chapter, we're going to explore in more detail, a vital technique when building sites for multiple devices—namely, how we can use the <code class="email">@media</code> rule when working with Less.</p></div></body></html>