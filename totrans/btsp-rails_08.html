<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch08"/>Chapter 8. Working with Bootstrap Modals</h1></div></div></div><p>Every developer has used an alert/prompt window when dealing with web development. They are generally used to display important messages, accept information from the user, display warning messages, and for many different purposes. The problem with these traditional dialog windows is that they have become outdated, and our visitors probably hate them. It's no longer recommended to use dialog windows from a better user experience perspective.</p><p>To solve this problem, web developers discovered another better way to replace pop-up windows. They used a hidden HTML element inside the same web page. Whenever needed, this hidden element was displayed with the help of some JavaScript code and CSS styling. Bootstrap's modal does exactly the same. It is a flexible dialog prompt with minimum required functionality. It has got its own Bootstrap styling and animation.</p><p>In this chapter, we will learn how to create a Bootstrap modal and its various types and functionalities. We will also integrate a modal component in our Rails application.</p><div><div><div><div><h1 class="title"><a id="ch08lvl1sec43"/>Getting started with modals</h1></div></div></div><p>First, we will create a static<a id="id307" class="indexterm"/> application to create and test various types of Bootstrap modals. Once we are done with the basics of modals, we will proceed to integrate it in our<a id="id308" class="indexterm"/> existing <code class="literal">Online Shopping Rails</code> application.</p><p>Create a new folder called <code class="literal">Bootstrap Modals</code> in your system. Now, create a new file called <code class="literal">index.html</code> and paste the following starter template in it:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
  &lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;title&gt;Bootstrap Modals&lt;/title&gt;
    &lt;!-- Bootstrap --&gt;
    &lt;link rel="stylesheet"href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;
    &lt;script src="img/jquery.min.js"&gt;&lt;/script&gt;
    &lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;
    &lt;script src="img/bootstrap.min.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div><p>Let's delete the <code class="literal">Hello World</code> tag from the preceding template and insert the markup needed for a modal. To create a modal, we need to define a <code class="literal">&lt;div&gt;</code> element with a <code class="literal">.modal</code> class:</p><div><pre class="programlisting">&lt;div class="modal"&gt;
&lt;/div&gt;</pre></div><p>Optionally, you can also add the <code class="literal">.fade</code> class to apply the <code class="literal">.fade-in</code> animation to the modal:</p><div><pre class="programlisting">&lt;div class="modal fade"&gt;
&lt;/div&gt;</pre></div><p>The <code class="literal">.modal</code> class creates a<a id="id309" class="indexterm"/> wrapper for the modal component. It hides<a id="id310" class="indexterm"/> the HTML web page's scrolling attribute by setting the CSS <code class="literal">overflow</code> property to <code class="literal">hidden</code>. It also creates an HTML area with <code class="literal">fixed</code> positioning on top of all the HTML elements present on the same page.</p><p>Next, we will add a markup for placing contents inside the modal. The procedure goes as follows:</p><div><pre class="programlisting">&lt;div class="modal fade"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>The classes <code class="literal">.modal-dialog</code> <a id="id311" class="indexterm"/>and <code class="literal">.modal-content</code> are, together, responsible for properly centering a white-colored content area in a modal component.</p><p>Let's<a id="id312" class="indexterm"/> proceed to create the modal's body area for placing the HTML contents inside a modal:</p><div><pre class="programlisting">&lt;div class="modal fade"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;The content goes here.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>You can place any HTML element, as per your requirement, inside this <code class="literal">.modal-body</code> div. You can use it to display a long <code class="literal">Terms &amp; Conditions</code> text, a <code class="literal">login</code> form, a warning text, and so on.</p><p>We are ready with our first basic modal. If you load this HTML page inside the browser, you will find a blank page. It's because we have created a modal, but didn't create any element which will trigger this modal. Modals are hidden components in Bootstrap.</p><p>Let's create a Bootstrap button to trigger the preceding modal when clicked on:</p><div><pre class="programlisting">&lt;button class="btn btn-primary" data-toggle="modal" data-target="#myFirstModal"&gt;
  Show Modal
&lt;/button&gt;</pre></div><p>This button<a id="id313" class="indexterm"/> should have two very important custom attributes to trigger a modal: <code class="literal">data-toggle</code> and<a id="id314" class="indexterm"/> <code class="literal">data-target</code>. The first attribute tells Bootstrap's JavaScript which component it's concerned with, while the second attribute specifies which particular <a id="id315" class="indexterm"/>modal to open. The second attribute holds the ID of the modal you want to open. Let's also apply this ID to our preceding modal. Hence, the final markup for our modal should look like the following:</p><div><pre class="programlisting">&lt;div class="modal fade" id="myFirstModal"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;The content goes here.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>You should get a modal that looks like the one shown in the following screenshot:</p><div><img src="img/7269OS_08_01.jpg" alt="Getting started with modals"/></div><p>A modal component also has a header and footer area, apart from the <code class="literal">.modal-body</code> area. They are created<a id="id316" class="indexterm"/> using the <code class="literal">.modal-header</code> and <code class="literal">.modal-footer</code> classes. We can apply a header and footer by adding code, as follows:</p><div><pre class="programlisting">&lt;div class="modal fade" id="myFirstModal"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;h4 class="modal-title"&gt;This is a modal&lt;/h4&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;The content goes here.&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="modal-footer"&gt;
        &lt;p&gt;This is the footer.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>It is recommended that you use an <code class="literal">&lt;h4&gt;</code> tag with a <code class="literal">.modal-title</code> class inside <code class="literal">.modal-header</code>. All the default elements inside the modal's footer will appear right, aligned, as per Bootstrap's CSS. You can modify it by overriding its CSS property:</p><div><pre class="programlisting"> .modal-footer{

text-align: left;
}</pre></div><p>The preceding modal a with a header and footer should look like this:</p><div><img src="img/7269OS_08_02.jpg" alt="Getting started with modals"/></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec44"/>Changing Bootstrap's modal size</h1></div></div></div><p>Bootstrap's modals also come<a id="id317" class="indexterm"/> in various sizes: large, normal, and small. You need to use the following classes to change the size of the modal:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">.modal-lg</code>: This is for<a id="id318" class="indexterm"/> larger modals</li><li class="listitem" style="list-style-type: disc"> No class: This is for<a id="id319" class="indexterm"/> normal sized modals</li><li class="listitem" style="list-style-type: disc"><code class="literal">.modal-sm</code>: This is for <a id="id320" class="indexterm"/>smaller modals</li></ul></div><p>You have to add the preceding classes to the <code class="literal">.modal-dialog</code> element in the modal's markup. Take the following code as an example:</p><div><pre class="programlisting">&lt;div class="modal fade" id="myFirstModal"&gt;
  &lt;div class="modal-dialog modal-lg"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;h4 class="modal-title"&gt;This is a modal&lt;/h4&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;The content goes here.&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="modal-footer"&gt;
        &lt;p&gt;This is the footer.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>The preceding markup<a id="id321" class="indexterm"/> will create a larger modal, as shown in the following screenshot:</p><div><img src="img/7269OS_08_03.jpg" alt="Changing Bootstrap's modal size"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec45"/>Additional Bootstrap modal features</h1></div></div></div><p>Bootstrap provides <a id="id322" class="indexterm"/>many features for the modal component. These features are generally provided as <code class="literal">JSON</code> properties, while triggering the modal component. Alternatively, you can use these features by using custom <code class="literal">data-*</code> attributes in the <code class="literal">.modal</code> element. Bootstrap's additional features are:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">data-backdrop</code>: This attribute<a id="id323" class="indexterm"/> accepts <code class="literal">static</code> or <code class="literal">true</code> values. When set to <code class="literal">static</code>, it disables the closing of the modal when clicked outside the modal body.</li><li class="listitem" style="list-style-type: disc"><code class="literal">data-keyboard</code>: This accepts Boolean <a id="id324" class="indexterm"/>values and is set to <code class="literal">true</code> by default. When <code class="literal">true</code>, features of <code class="literal">data-keyboard</code> closes the modal when the <em>Esc</em> key is pressed.</li><li class="listitem" style="list-style-type: disc"><code class="literal">data-show</code>: This accepts<a id="id325" class="indexterm"/> Boolean values and is set to <code class="literal">false</code> by <a id="id326" class="indexterm"/>default. When <code class="literal">true</code>, <code class="literal">data-shows</code> the modal when it was initialized.</li></ul></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec46"/>Fetching remote content from a Bootstrap modal</h1></div></div></div><p>Here, <code class="literal">data-remote</code> is a<a id="id327" class="indexterm"/> special data attribute in Bootstrap's modal component. It is used to load a remote web page inside a modal, when <a id="id328" class="indexterm"/>data is triggered. This feature is only available from Bootstrap v 3.0 to v 3.2.0; I believe it is really very useful!</p><p>Let's check out an example of how to use it.</p><p>Let's create a new HTML page named <code class="literal">page2.html</code> inside the same Bootstrap Model project folder. Place the following basic HTML inside it:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Page 2&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class="container"&gt;
      &lt;h1&gt;Hello World from Page 2&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div><p>This page should look like the following in a browser:</p><div><img src="img/7269OS_08_04.jpg" alt="Fetching remote content from a Bootstrap modal"/></div><p>We will now load this<a id="id329" class="indexterm"/> page inside our<a id="id330" class="indexterm"/> previous modal, whenever it is triggered. Modify the previously created modal markup, as follows:</p><div><pre class="programlisting">&lt;div class="modal fade" id="myFirstModal" data-remote="page2.html"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;h4 class="modal-title"&gt;This is a modal&lt;/h4&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;The content goes here.&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="modal-footer"&gt;
        &lt;p&gt;This is the footer.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Note that this time we have added an additional attribute <code class="literal">data-remote</code>, and the path to <code class="literal">page2.html</code> as the value. Let's refresh the browser and trigger the modal. This time, you should see <code class="literal">page2.html</code> loaded inside the modal instead of the default content. The screenshot is as follows:</p><div><img src="img/7269OS_08_05.jpg" alt="Fetching remote content from a Bootstrap modal"/></div><div><div><h3 class="title"><a id="note04"/>Note</h3><p>You should be <a id="id331" class="indexterm"/>very careful while<a id="id332" class="indexterm"/> using cross-domain links as remote content. Many browsers might not allow that.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec47"/>Using Bootstrap's modal in a Rails application</h1></div></div></div><p>In our <code class="literal">Demo Shopping</code> Application, created in previous chapters, we had all the products listed in a single page. We <a id="id333" class="indexterm"/>will add an additional button, named <strong>Buy,</strong> beside the <strong>Show</strong> button in each product. When a user clicks on the <strong>Buy</strong> button, the browser will <a id="id334" class="indexterm"/>display a modal confirming his/her action to add the particular product to the cart. The modal will have an <strong>Add to cart</strong> button, which will simulate the behavior of the product that is being added to the cart and then will close the modal. We won't be creating a real shopping cart in this book. It's up to you to decide which method you would like to use to create a shopping cart.</p><p>Open the <code class="literal">application.html.erb</code> file present in the <code class="literal">layouts</code> folder by navigating to <strong>app</strong> | <strong>views</strong> | <strong>layouts</strong>. We will create a global modal in this file. This modal will get triggered whenever the <strong>Buy</strong> button is clicked. The markup for this modal is as follows:</p><div><pre class="programlisting">&lt;div class="modal fade" id="buyModal"&gt;
  &lt;div class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-body"&gt;
        &lt;p&gt;Are you sure you want to buy this?&lt;/p&gt;
        &lt;button class="btn btn-success"&gt;
          &lt;i class="glyphicon glyphicon-plus"&gt;&lt;/i&gt; Add to cart
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Make sure that you place this modal markup outside the entire markup that was previously created. Bootstrap<a id="id335" class="indexterm"/> recommends you to always place a modal's markup in the topmost level.</p><p>Now, we are done<a id="id336" class="indexterm"/> with placing a dummy modal. Let's proceed to create a <strong>Buy</strong> button.</p><p>Open the <code class="literal">index.html.erb</code> file present inside the <code class="literal">products</code> folder by navigating to <strong>app</strong> | <strong>views</strong> | <strong>products</strong>. Search for the previously created <strong>Show</strong> button, which had the following code:</p><div><pre class="programlisting">&lt;%= link_to 'Show', product, :class=&gt;"btn btn-primary" %&gt;</pre></div><p>We will place another button with no <code class="literal">href</code> attribute and add custom data attributes to trigger the modal:</p><div><pre class="programlisting">&lt;%= link_to 'Buy', '#', :class=&gt;"btn btn-success" %&gt;</pre></div><p>This will create a new <strong>Buy</strong> button beside each <strong>Show</strong> button.</p><div><img src="img/7269OS_08_06.jpg" alt="Using Bootstrap's modal in a Rails application"/></div><p>Let's add custom<a id="id337" class="indexterm"/> data attributes to trigger the modal <a id="id338" class="indexterm"/>component. Modify the <strong>Buy</strong> button, as follows:</p><div><pre class="programlisting">&lt;%= link_to 'Buy', '#', :class=&gt;"btn btn-success", :data=&gt; { :toggle =&gt;'modal', :target=&gt;'#buyModal' } %&gt;</pre></div><p>Here, the <code class="literal">data-target</code> attribute will hold the <code class="literal">#buyModal</code> value, which is also the ID of our modal.</p><p>Now, if you click on the <strong>Buy</strong> button, it will display the modal, as shown in the following screenshot:</p><div><img src="img/7269OS_08_07.jpg" alt="Using Bootstrap's modal in a Rails application"/></div><p>Let's add a functionality <a id="id339" class="indexterm"/>which will dismiss the modal when we click on the <code class="literal">Add to cart</code> button. For this, we need to again edit the <code class="literal">application.html.erb</code> file. We have to add an extra data attribute <code class="literal">data-dismiss</code> with the value as <code class="literal">modal</code> to<a id="id340" class="indexterm"/> the <strong>Add to cart</strong> button. Let's add the data attribute:</p><div><pre class="programlisting">&lt;button class="btn btn-success" data-dismiss="modal"&gt;&lt;i class="glyphicon glyphicon-plus"&gt;&lt;/i&gt; Add to cart&lt;/button&gt;</pre></div><p>Adding the preceding data attribute will let Bootstrap's JavaScript know which component to close.</p></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec48"/>Summary</h1></div></div></div><p>I hope you enjoyed learning how to create a flexible Bootstrap modal component. Through this chapter, we learnt how to create a basic modal in a static project. We then moved on to add extra functionalities to it. We also saw how to create modals of different sizes by using additional classes such as <code class="literal">.modal-lg</code> and <code class="literal">.modal-sm</code>. Finally, we integrated a modal component to our shopping application. We learnt how to simulate the <code class="literal">Add to cart</code> functionality through the dummy confirm modal. The field is now open for you to experiment more with modals.</p><p>In the next chapter, we are going to understand one of the most interesting Bootstrap components, Carousels. We will see how we can use the carousel component and create beautiful image slideshows.</p></div></body></html>