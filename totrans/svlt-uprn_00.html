<html><head></head><body>
<div><h1 id="_idParaDest-5"><a id="_idTextAnchor004"/>Preface</h1>
<p>Hello, and welcome to <em class="italic">SvelteKit Up and Running</em>! This book aims to be an easy-to-read guide introducing you to the core concepts of the refreshingly simple <strong class="bold">JavaScript</strong> (<strong class="bold">JS</strong>) framework known as SvelteKit. It was written to highlight what I felt were the core concepts of the framework. Because the JS landscape changes so frequently, this text should not be considered an authority on SvelteKit. Rather, the intention behind this book is to provide a resource that I wish was available to me when I was learning this promising new framework. As I often find myself wanting to learn high-level concepts first and then move on to finer details, so this book will too. However, before we begin, we must cover a few high-level concepts.</p>
<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>What is SvelteKit?</h1>
<p>SvelteKit is an all-in-one solution to develop web applications using Svelte components. If you’re familiar with React, then you’ve likely heard of <strong class="bold">Create React App</strong>. While both Svelte and React are useful to create reusable components built with JS, each is more useful when given a means of utilizing those components.</p>
<p>Out of the box, SvelteKit provides mechanisms to handle routing; <strong class="bold">server-side rendering</strong> (<strong class="bold">SSR</strong>) supports TypeScript and enriches the development experience with features such as <strong class="bold">Hot Module Replacement</strong> (<strong class="bold">HMR</strong>), which automatically refreshes the browser when changes are detected in an application. This feature, and many others, are made possible by the tight coupling of SvelteKit with Vite.</p>
<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>How does Vite simplify development?</h1>
<p>SvelteKit, and features such as HMR, wouldn’t be possible without Vite, which itself wouldn’t be possible without <strong class="bold">Rollup</strong> and <strong class="bold">esbuild</strong>. Vite differentiates itself from other bundling tools by providing a lightning-fast development server that leverages native <strong class="bold">ECMAScript Module</strong> (<strong class="bold">ESM</strong>) availability in modern web browsers. Vite accomplishes this by breaking application code into two parts – dependencies and source code.</p>
<h2 id="_idParaDest-8"><a id="_idTextAnchor007"/>Dependencies</h2>
<p>Vite can provide a fast development server by pre-bundling each dependency from a project into its own ES module with esbuild. Whether those dependencies are in <strong class="bold">CommonJS</strong>, <strong class="bold">Universal Module Definition</strong> (<strong class="bold">UMD</strong>), or ESM formats is irrelevant to Vite, as it will convert them all to ESM on the initial application build. Doing this means the browser only has to make a single HTTP request for each dependency instead of a request for each import statement. This can greatly improve the performance of the development server, especially considering how quickly requests can add up in dependency-heavy applications.</p>
<h2 id="_idParaDest-9"><a id="_idTextAnchor008"/>Source code</h2>
<p>Unlike dependencies, source code changes often during development. To keep the developers (you) of this source code happy, Vite utilizes a couple of clever approaches. Because modern browsers support native ES modules, Vite can offload the work of bundling to the browser and only needs to transform the source code into a native ES module before serving it to the browser. The appropriate source code is then only loaded by the browser when necessary – that is, if it is used on the currently displayed screen.</p>
<p>To avoid the inefficiency of re-bundling an entire application each time the source code changes, Vite supports HMR. Essentially, HMR is the practice of replacing only the ES module that was changed. This keeps the development server fast, whether the application consists of a single page or thousands.</p>
<p>So far, we’ve discussed Vite and its usage of esbuild, but how does <strong class="bold">Rollup</strong> fit in with it all? Vite utilizes Rollup during the build process – that is, instead of shipping the source code as is, our Svelte components are transformed into pure JS, which is then easily read by browsers. Rollup manages the potentially thousands of modules included in a project with features such as tree-shaking (only including parts of modules that are used), code splitting (breaking code up into chunks), and lazy loading (only loading resources when they are needed). The usage of these features leads to smaller, and therefore, better-performing web applications.</p>
<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/>Who is this book for?</h1>
<p><em class="italic">SvelteKit Up and Running</em> is intended for web developers looking to advance their skill set by learning the next popular JS-based framework. Whether you’re deciding which JS framework should be the first you learn, or you want to set yourself apart from other job applicants by adding yet another popular technology to your résumé, this book will help provide you with all of the essentials to begin your journey to becoming a SvelteKit master! A working knowledge of HTML, CSS, JS, and Svelte will be required to maximize the value of this material.</p>
<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/>What does this book cover?</h1>
<p><a href="B19024_01_Final_AM.xhtml#_idTextAnchor019"><em class="italic">Chapter 1</em></a>, <em class="italic">Initial Setup and Project Structure</em>, explains how to install a new SvelteKit project and set up a development environment. It also covers how SvelteKit projects are logically structured and the best practices to organize source code.</p>
<p><a href="B19024_02_Final_AM.xhtml#_idTextAnchor032"><em class="italic">Chapter 2</em></a>, <em class="italic">Configurations and Options</em>, covers how to customize an application via the options available within SvelteKit and Vite configurations.</p>
<p><a href="B19024_03_Final_AM.xhtml#_idTextAnchor051"><em class="italic">Chapter 3</em></a>, <em class="italic">Compatibility with Existing Standards</em>, goes into detail about how SvelteKit works with modern web standards such as the Fetch, FormData, and URL <strong class="bold">Application Programming </strong><strong class="bold">Interfaces</strong> (<strong class="bold">APIs</strong>).</p>
<p><a href="B19024_04_Final_AM.xhtml#_idTextAnchor060"><em class="italic">Chapter 4</em></a>, <em class="italic">Effective Routing Techniques</em>, discusses basic routing techniques. These techniques are essential to creating everything, from the simplest of pages and API endpoints to dynamic URLs that change with the content. It also covers how to create a cohesive user interface for applications using layouts.</p>
<p><a href="B19024_05_Final_AM.xhtml#_idTextAnchor072"><em class="italic">Chapter 5</em></a>, <em class="italic">Deep Dive into Data Loading</em>, explains in detail how to get data onto our pages and into components through the use of SvelteKit’s <code>load()</code> function. It also breaks down the data available to developers within that same function.</p>
<p><a href="B19024_06_Final_AM.xhtml#_idTextAnchor080"><em class="italic">Chapter 6</em></a>, <em class="italic">Forms and Data Submission</em>, covers how developers can receive data from users through the use of HTML form elements. From there, it explains how actions can be used to break up logic pertaining to forms and how those forms may be enhanced to reduce the friction often experienced by users.</p>
<p><a href="B19024_07_Final_AM.xhtml#_idTextAnchor093"><em class="italic">Chapter 7</em></a>, <em class="italic">Advanced Routing Techniques</em>, discusses the details behind some of the lesser-used yet more powerful features of SvelteKit’s routing mechanism. It covers how developers can work with optional parameters in routes, handle routes with an unknown number of parameters, as well as the precedence of routes when conflicts are encountered.</p>
<p><a href="B19024_08_Final_AM.xhtml#_idTextAnchor106"><em class="italic">Chapter 8</em></a>, <em class="italic">Builds and Adapters</em>, explains how developers can prepare an application for different environments. It provides examples to prepare a SvelteKit application for deployment to Cloudflare Pages, a Node.js environment, and even static hosting solutions.</p>
<p><a href="B19024_09_Final_AM.xhtml#_idTextAnchor116"><em class="italic">Chapter 9</em></a>, <em class="italic">Hooks and Error Handling</em>, covers the differences between server hooks and shared hooks, as well as how they can be used to manipulate data flowing into and out of an application. Along with this, it explains how developers can manage errors that are expected and what to do about those that were never anticipated.</p>
<p><a href="B19024_10_Final_MA.xhtml#_idTextAnchor125"><em class="italic">Chapter 10</em></a>, <em class="italic">Managing Static Assets</em>, goes into detail as to how to best manage assets such as images or global CSS files. It explains how Vite is central to this process and the best practices.</p>
<p><a href="B19024_11_Final_AM.xhtml#_idTextAnchor137"><em class="italic">Chapter 11</em></a>, <em class="italic">Modules and Secrets</em>, discusses a few of the modules not covered throughout the rest of the book. It gives you a general overview of some of the other tools and functionality that come bundled with SvelteKit. It also covers the modules responsible for managing secrets such as API keys or database passwords.</p>
<p><a href="B19024_12_Final_AM.xhtml#_idTextAnchor154"><em class="italic">Chapter 12</em></a>, <em class="italic">Enhancing Accessibility and Optimizing SEO</em>, will showcase how simple it is to make applications available to a wider audience. Not only does incorporating these practices make applications more compatible with technologies such as screen readers, but it also provides the added benefit of enhancing rankings within search engine providers.</p>
<p><a href="B19024_13_Final_AM.xhtml#_idTextAnchor163"><em class="italic">Appendix</em></a>: <em class="italic">Examples and Support</em>, gives you access to both official and unofficial community-maintained resources. The examples given of how to integrate other front-end technologies with SvelteKit show just how easy it is to do, especially when community projects are leveraged to speed up the development process. The resources provided in this section are invaluable for troubleshooting issues and making friends within the SvelteKit community.</p>
<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/>To get the most out of this book</h1>
<p>To get the most out of this book and ensure the information provided is retained, it is recommended to work alongside the material as you read it. Type the commands and code on your device, but also feel free to experiment and play with the code as you go. You will need a working knowledge of Svelte, JS, HTML, and CSS to get the most out of this book, as it focuses solely on SvelteKit.</p>
<table class="No-Table-Style _idGenTablePara-1" id="table001">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p><strong class="bold">Software/hardware covered in </strong><strong class="bold">the book</strong></p>
</td>
<td class="No-Table-Style">
<p><strong class="bold">Operating </strong><strong class="bold">system requirements</strong></p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>SvelteKit 1.16.3 or higher</p>
</td>
<td class="No-Table-Style">
<p>Windows, macOS, or Linux</p>
</td>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>JS</p>
</td>
<td class="No-Table-Style"/>
</tr>
<tr class="No-Table-Style">
<td class="No-Table-Style">
<p>HTML and CSS</p>
</td>
<td class="No-Table-Style"/>
</tr>
</tbody>
</table>
<p><strong class="bold">If you are using the digital version of this book, we advise you to type the code yourself or access the code from the book’s GitHub repository (a link is available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting </strong><strong class="bold">of code.</strong></p>
<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/>Download the example code files</h1>
<p>You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/SvelteKit-Up-and-Running">https://github.com/PacktPublishing/SvelteKit-Up-and-Running</a>. If there’s an update to the code, it will be updated in the GitHub repository.</p>
<p>We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p>
<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Download the color images</h1>
<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it here: <a href="https://packt.link/1zRGE">https://packt.link/1zRGE</a>.</p>
<h1 id="_idParaDest-15"><a id="_idTextAnchor014"/>Conventions used</h1>
<p>There are a number of text conventions used throughout this book.</p>
<p><code>Code in text</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: “In this new version, we still import the <code>bcrypt</code> module, but we’ve also added the import of <code>user.json</code>.”</p>
<p>A block of code is set as follows:</p>
<pre class="source-code">
import bcrypt from 'bcrypt';
export const actions = {
  login: async ({request}) =&gt; {
    const form = await request.formData();
    const hash = bcrypt.hashSync(form.get('password'), 10);
    console.log(hash);
    console.log(crypto.randomUUID());
  }
}</pre>
<p>Any command-line input or output is written as follows:</p>
<pre class="console">
npm install bcrypt</pre>
<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see on screen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: “In Firefox, you can find it under <strong class="bold">Storage</strong> | <strong class="bold">Session Storage</strong>.”</p>
<p class="callout-heading">Tips or important notes</p>
<p class="callout">Appear like this.</p>
<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Get in touch</h1>
<p>Feedback from our readers is always welcome.</p>
<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at <a href="mailto:customercare%40packtpub.com?subject=">customercare@packtpub.com</a> and mention the book title in the subject of your message.</p>
<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
<p><code>copyright@packt.com</code> with a link to the material.</p>
<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com">authors.packtpub.com</a>.</p>
<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/>Share Your Thoughts</h1>
<p>Once you’ve read <em class="italic">SvelteKit Up and Running</em>, we’d love to hear your thoughts! Please <a href="">click here to go straight to the Amazon review page</a> for this book and share your feedback.</p>
<p>Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</p>
<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/>Download a free PDF copy of this book</h1>
<p>Thanks for purchasing this book!</p>
<p>Do you like to read on the go but are unable to carry your print books everywhere?</p>
<p>Is your eBook purchase not compatible with the device of your choice?</p>
<p>Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
<p>Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application. </p>
<p>The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily</p>
<p>Follow these simple steps to get the benefits:</p>
<ol>
<li>Scan the QR code or visit the link below</li>
</ol>
<div><div><img alt="" src="img/QR_Code.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a href="https://packt.link/free-ebook/9781804615485">https://packt.link/free-ebook/9781804615485</a></p>
<ol>
<li value="2">Submit your proof of purchase</li>
<li>That’s it! We’ll send your free PDF and other benefits to your email directly</li>
</ol>
</div>


<div><h1 id="_idParaDest-19"><a id="_idTextAnchor018"/>Part 1 – Getting Started with SvelteKit</h1>
<p>In this part, we’ll introduce you to SvelteKit with a quick installation, followed up with the standard <em class="italic">Hello, World!</em> example we’ve all come to love and appreciate. This will help familiarize you with the project structure. We’ll then go on to explore the various configuration options available to further customize a SvelteKit application. From there, we’ll look at how SvelteKit leverages existing standards to deliver a small yet powerful framework.</p>
<p>This part has the following chapters:</p>
<ul>
<li><a href="B19024_01_Final_AM.xhtml#_idTextAnchor019"><em class="italic">Chapter 1</em></a>, <em class="italic">Initial Setup and Project Structure</em></li>
<li><a href="B19024_02_Final_AM.xhtml#_idTextAnchor032"><em class="italic">Chapter 2</em></a>, <em class="italic">Configurations and Options</em></li>
<li><a href="B19024_03_Final_AM.xhtml#_idTextAnchor051"><em class="italic">Chapter 3</em></a>, <em class="italic">Compatibility with Existing Standards</em></li>
</ul>
</div>
<div><div></div>
</div>
<div><div></div>
</div>
</body></html>