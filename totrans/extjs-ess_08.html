<html><head></head><body><div class="chapter" title="Chapter&#xA0;8.&#xA0;Creating a Unique Look and Feel with SASS"><div class="titlepage"><div><div><h1 class="title"><a id="ch08"/>Chapter 8. Creating a Unique Look and Feel with SASS</h1></div></div></div><p>Ext JS has come a long way since its beginning in terms of its design and the ease with which a new design can be applied to the framework.</p><p>Its original blue theme was something that made it very appealing to developers but has since become dated and overused. Ext JS 5 now includes six themes and a host of options to customize them and to create your own.</p><p>In this chapter, we will discuss how to:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Apply different themes to your application</li><li class="listitem" style="list-style-type: disc">Create your own custom theme</li><li class="listitem" style="list-style-type: disc">Customize basic application visuals with SASS variables</li><li class="listitem" style="list-style-type: disc">Create custom component UIs</li></ul></div><div class="section" title="Applying themes to your application"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec62"/>Applying themes to your application</h1></div></div></div><p>When <a id="id359" class="indexterm"/>you generate a new Ext JS application with<a id="id360" class="indexterm"/> Sencha Cmd, it will automatically use the Neptune theme. This is one of the newest themes and looks very clean and modern:</p><div class="mediaobject"><img src="graphics/3717_08_01.jpg" alt="Applying themes to your application"/></div><p>As mentioned, there are a total of six themes packaged with Ext JS, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Neptune</li><li class="listitem" style="list-style-type: disc">Neptune<a id="id361" class="indexterm"/> Touch (touch-friendly version <a id="id362" class="indexterm"/>of Neptune)</li><li class="listitem" style="list-style-type: disc">Crisp</li><li class="listitem" style="list-style-type: disc">Crisp Touch (touch-friendly version of Crisp)</li><li class="listitem" style="list-style-type: disc">Classic</li><li class="listitem" style="list-style-type: disc">Gray</li></ul></div><p>Have a look at these themes in the following screenshot:</p><div class="mediaobject"><img src="graphics/3717_08_02.jpg" alt="Applying themes to your application"/></div><p>If you navigate to the <code class="literal">ext</code> directory in your project and have a peek into the <code class="literal">packages</code> folder, you <a id="id363" class="indexterm"/>will see all of the theme packages that <a id="id364" class="indexterm"/>are available.</p><div class="section" title="Configuring a new theme"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec98"/>Configuring a new theme</h2></div></div></div><p>You <a id="id365" class="indexterm"/>can change the theme your application uses easily, with only one configuration change. In your application's folder, open the <code class="literal">app.json</code> file. This file is used to configure different aspects of your application and how it is loaded and built.</p><p>You should see an item named <code class="literal">theme</code> near the top of the file. We will edit the value of this property and change it to <code class="literal">ext-theme-crisp</code>:</p><div class="informalexample"><pre class="programlisting">"theme": "ext-theme-crisp"</pre></div><p>For this change to take effect, we must rebuild the application using the following command from the <code class="literal">BizDash</code> folder:</p><div class="informalexample"><pre class="programlisting">sencha app build</pre></div><p>This regenerates the CSS file for the application and includes the new theme's styles in it.</p><p>Refreshing the application in the browser should now show it with the Crisp theme applied:</p><div class="mediaobject"><img src="graphics/3717_08_03.jpg" alt="Configuring a new theme"/></div></div></div></div>
<div class="section" title="Creating a custom theme"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec63"/>Creating a custom theme</h1></div></div></div><p>Now that <a id="id366" class="indexterm"/>we know how to switch our application's theme, we will move on to creating our own custom theme.</p><div class="section" title="Theme architecture"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec99"/>Theme architecture</h2></div></div></div><p>As you <a id="id367" class="indexterm"/>may have noticed from our foray into Ext JS' packages folder, themes are architected as packages in the same way that Sencha Core and Sencha Charts are. This means they are portable between applications and sit in isolation from our app's code.</p><p>Theme packages are also built with an inheritance hierarchy where they build upon common theme packages. The following diagram shows how each package relates to the others and <a id="id368" class="indexterm"/>how the basic styling is shared among each one:</p><div class="mediaobject"><img src="graphics/3717_08_04.jpg" alt="Theme architecture"/></div></div><div class="section" title="Generating a theme package"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec100"/>Generating a theme package</h2></div></div></div><p>First, we<a id="id369" class="indexterm"/> must generate a blank theme package using Sencha Cmd. To do this, we open the terminal and navigate to our <code class="literal">BizDash</code> project folder.</p><p>Next, we run the following command to generate a basic new theme:</p><div class="informalexample"><pre class="programlisting">sencha generate theme bizdash-theme</pre></div><p>We use the <code class="literal">generate</code> command, which you may remember from earlier in the book, but this time we tell it to generate a theme called bizdash-theme.</p><p>Once <a id="id370" class="indexterm"/>executed, we should see a new folder in our workspace's packages folder:</p><div class="mediaobject"><img src="graphics/3717_08_05.jpg" alt="Generating a theme package"/></div></div><div class="section" title="Anatomy of a theme"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec101"/>Anatomy of a theme</h2></div></div></div><p>Within<a id="id371" class="indexterm"/> our new theme package, there should be all of the files and folders you expect in a regular code package. The main ones we are interested in dealing with are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">package.json</code>: This is where all the package's details and configurations are defined</li><li class="listitem" style="list-style-type: disc"><code class="literal">sass/var</code>: This will be where we put all of our SASS variable overrides</li><li class="listitem" style="list-style-type: disc"><code class="literal">sass/src</code>: This is where we define styling for individual components</li><li class="listitem" style="list-style-type: disc"><code class="literal">sass/etc</code>: This <a id="id372" class="indexterm"/>is where any miscellaneous SASS files, which don't tie directly to a component file, can be placed</li></ul></div></div><div class="section" title="Cross-browser styling"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec102"/>Cross-browser styling</h2></div></div></div><p>One <a id="id373" class="indexterm"/>of the great benefits of Ext JS is its legacy browser support. So, how do our shiny new themes cope with these older browsers? Ext JS is very clever when rendering in different browsers and uses different styling for browsers that don't support CSS3 properties (such as gradients and rounded corners). These older browsers are given image sprites to display these design features, so the exact same design is replicated across all browsers.</p><p>During the Sencha Cmd build process, a sample page, which contains all of the framework's components, is rendered in a headless browser and a snapshot of it is taken. This snapshot is then sliced up into the required sprites and used as needed.</p></div><div class="section" title="Theme inheritance"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec103"/>Theme inheritance</h2></div></div></div><p>As we<a id="id374" class="indexterm"/> mentioned before, themes extend other themes and build upon the styling each level defines. By default, our new theme will extend the ext-theme-classic theme and will look identical to it.</p><p>We can change our new theme's base theme by opening the package's <code class="literal">package.json</code> file in our IDE. In this file, we can update the <code class="literal">extend</code> property with the name of the theme we want to extend. We can change it to extend the Crisp theme:</p><div class="informalexample"><pre class="programlisting">"extend": "ext-theme-crisp"</pre></div><div class="section" title="Applying the new theme"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl3sec61"/>Applying the new theme</h3></div></div></div><p>Now that<a id="id375" class="indexterm"/> we have a basic theme in place, we can apply it to our application in the same way that we applied one of the built-in themes. We modify our application's <code class="literal">app.json</code> file and change the included theme name to bizdash-theme:</p><div class="informalexample"><pre class="programlisting">"theme": "bizdash-theme"</pre></div><p>After rebuilding the application and refreshing the browser, we will see our application displaying our new theme (although at the moment it will look just like the Crisp theme).</p></div></div></div>
<div class="section" title="Basic theme customizations"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec64"/>Basic theme customizations</h1></div></div></div><p>Now <a id="id376" class="indexterm"/>that we have a custom theme in place, we want to start making it our own and moving away from the defaults inherited from the base theme.</p><div class="section" title="Theme variables"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec104"/>Theme variables</h2></div></div></div><p>Ext JS themes<a id="id377" class="indexterm"/> are created with SASS and they place a lot of design control in the hands of SASS variables. By modifying these variables, we can make fundamental alterations to our theme very easily.</p><p>SASS is a CSS preprocessor that introduces a more terse and functional way of writing CSS. It introduces concepts such as variables, nested rules, selector inheritance, and mixin, which are extremely useful when writing CSS for large applications.</p><p>Each component in the framework has its own set of variables that will modify the look of that particular component. We can find a list of variables in the documentation alongside the methods, configs, and events that that component defines.</p><div class="mediaobject"><img src="graphics/3717_08_06.jpg" alt="Theme variables"/></div><p>To define one of these variables in our theme, we must create a new SCSS file in the <code class="literal">sass/var</code> folder of our theme package. These SCSS files should match the structure of our JavaScript files. For example, defining variables for the <code class="literal">Ext.button.Button</code> class should be placed in a file named <code class="literal">sass/var/button/Button.scss</code>. This pattern should be followed when creating new styles in the <code class="literal">sass/src</code> folder.</p><p>We will<a id="id378" class="indexterm"/> now demonstrate how we can customize some areas of the UI with SASS variables.</p></div><div class="section" title="Changing the main color"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec105"/>Changing the main color</h2></div></div></div><p>A <a id="id379" class="indexterm"/>common scenario is that we want to change the main color of our theme to match our corporate colors. This can be done easily with the <code class="literal">$base-color</code> variable, which can be assigned any valid HTML color code.</p><p>This variable forms part of the <code class="literal">Ext.Component</code> class, so it must be defined in the file named <code class="literal">sass/var/Component.scss</code>. To change the base color to red, we include the following code in the file:</p><div class="informalexample"><pre class="programlisting">$base-color: #FF0000 !default;</pre></div><p>The <code class="literal">!default</code> suffix will allow the variable to be overridden in themes that extend this one.</p><p>If we rebuild our application and refresh the browser, we will see the effect this has on our application:</p><div class="mediaobject"><img src="graphics/3717_08_07.jpg" alt="Changing the main color"/></div></div><div class="section" title="Changing the font size"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec106"/>Changing the font size</h2></div></div></div><p>We <a id="id380" class="indexterm"/>can also quickly change the font size used throughout the application by including the <code class="literal">$font-size</code> variable with a new size value. We increase the font size to 16 px with the following code:</p><div class="informalexample"><pre class="programlisting">$font-size: 16px !default;</pre></div></div><div class="section" title="Changing a button's color"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec107"/>Changing a button's color</h2></div></div></div><p>We<a id="id381" class="indexterm"/> have seen that changing the <code class="literal">$base-color</code> variable resulted in our buttons rendering with that new color. We can select a different color for the buttons by overriding the <code class="literal">$button-default-background-color</code> variable.</p><p>We create a new SCSS file named <code class="literal">sass/var/button/Button.scss</code> and add the following<a id="id382" class="indexterm"/> code to change the color:</p><div class="informalexample"><pre class="programlisting">$button-default-background-color: #0000FF !default;</pre></div><div class="mediaobject"><img src="graphics/3717_08_08.jpg" alt="Changing a button's color"/></div></div></div>
<div class="section" title="Custom component UIs"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec65"/>Custom component UIs</h1></div></div></div><p>Ext JS <a id="id383" class="indexterm"/>components can be individually customized by providing a different <code class="literal">ui</code> configuration when they are created. This alters the CSS classes that are added to the components giving them a different look, in isolation from other components of that type. For example, you might want an action button to be green and a cancel button to be gray, but all the other buttons to be the default color.</p><div class="section" title="Defining UIs"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec108"/>Defining UIs</h2></div></div></div><p>We define <a id="id384" class="indexterm"/>a UI by including a SASS mixin and configuring it with our required colors and settings. A SASS mixin is a set of style rules that are grouped together, so they can be reused in multiple places and customized by passing parameter values to them.</p><p>We will create the two UIs we mentioned earlier in this chapter for the <code class="literal">save</code> and <code class="literal">cancel</code> buttons of our <code class="literal">ProductForm</code>.</p><p>We start by creating a <code class="literal">Button.scss</code> file in a <code class="literal">sass/src/button</code> folder within our <code class="literal">bizdash-theme</code> package folder. This folder structure mirrors the <code class="literal">Ext.button.Button</code> component class and so will be picked up and compiled during a <code class="literal">sencha app build</code> process.</p><p>In this file, we include the <code class="literal">extjs-button-small-ui</code> mixin:</p><div class="informalexample"><pre class="programlisting">@include extjs-button-small-ui( );</pre></div><p>We then define the name of the UI, which will be used to apply the styling to a button. We use the <code class="literal">$ui</code> parameter name and give it the name <code class="literal">action</code>:</p><div class="informalexample"><pre class="programlisting">@include extjs-button-small-ui(
  $ui: 'action'
);</pre></div><p>Next, we define the button's background color, its text color, and its border color:</p><div class="informalexample"><pre class="programlisting">@include extjs-button-small-ui(
  $ui: 'action',
  $background-color: #008000,
  $color: #FFFFFF,
  $border-color: transparent
);</pre></div><p>We can repeat<a id="id385" class="indexterm"/> this for the <code class="literal">cancel</code> button and add a similar mixin to the <code class="literal">Button.scss</code> file:</p><div class="informalexample"><pre class="programlisting">@include extjs-button-small-ui(
  $ui: 'cancel',
  $background-color: #EBEBEB,
  $color: #000000,
  $border-color: transparent
);</pre></div><p>Now that these are in place, we rebuild the application using the <code class="literal">sencha app build</code> command within the <code class="literal">BizDash</code> folder.</p></div><div class="section" title="Applying UIs"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec109"/>Applying UIs</h2></div></div></div><p>We now <a id="id386" class="indexterm"/>have two UI styles ready to apply to buttons within our application. To apply these, we use the <code class="literal">ui</code> configuration option. When added, this option adds a new CSS class, which was generated by our mixins in the previous step, to the components:</p><p>In the <code class="literal">ProductForm</code> class our <code class="literal">button</code> configs become:</p><div class="informalexample"><pre class="programlisting">...
  bbar : [
    {
      xtype    : 'button',
      text     : 'Save',
      ui       : 'action',
      listeners: {
        click: 'onSave'
      }
    },
    {
      xtype    : 'button',
      text     : 'Cancel',
      ui       : 'cancel',
      listeners: {
        click: 'onCancel'
      }
    }
  ]
  ...</pre></div><p>Upon refreshing the application in our browser, we can see the new button styling in place. Inspecting the DOM shows the new CSS classes added to each of the buttons:</p><div class="mediaobject"><img src="graphics/3717_08_09.jpg" alt="Applying UIs"/></div><p>The following screenshot shows the new CSS classes:</p><div class="mediaobject"><img src="graphics/3717_08_10.jpg" alt="Applying UIs"/></div></div></div>
<div class="section" title="Other UIs"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec66"/>Other UIs</h1></div></div></div><p>Most <a id="id387" class="indexterm"/>components within the framework have mixins that allow us to define a different component style. We will now demonstrate how to create an alternative UI for an <code class="literal">Ext.Panel</code> component.</p><p>If you find the <code class="literal">Ext.Panel</code> in the Ext JS documentation, you will see one item under the <span class="strong"><strong>CSS Mixins</strong></span> dropdown. We will use this to define our own UI, we first 'create' a <code class="literal">Panel.scss</code> file in a folder <code class="literal">sass/src/panel/Panel</code>.</p><div class="mediaobject"><img src="graphics/3717_08_11.jpg" alt="Other UIs"/></div><p>We include this in our <code class="literal">Panel.scss</code> file and start to configure the styling we want. You can see all of the available options in the documentation, but we will customize the header background color, border color, and border radius, as follows:</p><div class="informalexample"><pre class="programlisting">@include extjs-panel-ui(
  $ui: 'product',
  $ui-border-color: #78CCFC,
  $ui-border-radius: 5px,
  $ui-header-background-color: #78CCFC
);</pre></div><p>This UI option can be added to the <code class="literal">ProductForm</code> in exactly the same way as we did with the buttons, using the <code class="literal">ui</code> config:</p><div class="informalexample"><pre class="programlisting">...
    ui: 'product',
...</pre></div><div class="mediaobject"><img src="graphics/3717_08_12.jpg" alt="Other UIs"/></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec67"/>Summary</h1></div></div></div><p>In this chapter, we have looked at how we can customize the look and feel of our Ext JS applications through the use of custom themes. We have looked at how themes are constructed and how they inherit from each other.</p><p>We have also demonstrated how to create and customize a new theme through the use of global SASS variables and component mixins.</p><p>The next chapter will focus on visualizing data within our applications through the use of charts.</p></div></body></html>