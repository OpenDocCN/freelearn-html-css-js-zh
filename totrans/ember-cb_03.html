<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;3.&#xA0;Ember Templates" id="SJGS1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03" class="calibre1"/>Chapter 3. Ember Templates</h1></div></div></div><p class="calibre8">In this chapter, we will cover the following recipes:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Defining an application template</li><li class="listitem">Working with conditionals in templates</li><li class="listitem">Displaying a list of items</li><li class="listitem">Binding with element attributes and classes</li><li class="listitem">Working with HTML links inside templates</li><li class="listitem">Handling HTML actions</li><li class="listitem">Using template input helpers</li><li class="listitem">Using development helpers</li></ul></div></div>

<div class="book" title="Chapter&#xA0;3.&#xA0;Ember Templates" id="SJGS1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch03lvl1sec24" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre8">Ember applications use a templating engine to display HTML and dynamic content to the user. In Ember, this is done via the Handlebars templating library. This library takes Handlebars expressions and renders them to the screen using data binding.</p><p class="calibre8"><span class="strong"><strong class="calibre9">HTMLbars</strong></span> is a variant of <a id="id116" class="calibre1"/>Handlebars that Ember uses as well. It has better performance and handles building the DOM in a more efficient manner. Keep in mind that for this chapter, we'll be using HTMLbars and Handlebars interchangeably as they essentially do the same thing.</p><p class="calibre8">In this chapter, we'll be going over how to use templates in our applications.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Defining an application template"><div class="book" id="TI1E2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec25" class="calibre1"/>Defining an application template</h1></div></div></div><p class="calibre8">To work with <a id="id117" class="calibre1"/>templates, we need to understand the basics on how properties bind with controllers and components. Here are a few recipes that go over how to accomplish this.</p></div>

<div class="book" title="Defining an application template">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec43" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre8">Before we get started, we'll need to generate a template.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">We'll first create a new application using Ember CLI:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember new HelloWorldApp</strong></span>
<span class="strong"><strong class="calibre9">$ cd HelloWorldApp</strong></span>
</pre></div><p class="calibre14">This command will generate a new application that we can use for this recipe.</p></li><li class="listitem" value="2">Next, create a <a id="id118" class="calibre1"/>new route that will add a new template:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g route helloworld</strong></span>
</pre></div><p class="calibre14">This command will generate the template and routes file as well as unit tests. The template file is called <code class="email">helloworld.hbs</code> and will be generated in the <code class="email">app/templates</code> folder. The route file is called <code class="email">helloworld.js</code> and is located in the <code class="email">app/routes</code> folder. The <code class="email">route.js</code> file will also get modified with the new <code class="email">helloworld</code> route. We'll discuss more about routes in <a class="calibre1" title="Chapter 4. Ember Router" href="part0039_split_000.html#1565U1-d21a6ad8148a415181fa52c0043435bb">Chapter 4</a>, <span class="strong"><em class="calibre13">Ember Router</em></span>.</p></li><li class="listitem" value="3">After this, we'll need to generate a <code class="email">controller</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller helloworld</strong></span>
</pre></div><p class="calibre14">This will generate a new file called <code class="email">helloworld.js</code> in the <code class="email">app/controller</code> folder and a unit test in <code class="email">tests/unit/controllers</code>. We are now ready to continue.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Defining an application template">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec44" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">Let's take a look at adding properties to our new template file.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Begin by editing the <code class="email">helloworld.hbs</code> file. For this simple example, we'll create a string with the first and last name properties as follows:<div class="informalexample"><pre class="programlisting">// app/templates/helloworld.hbs
Hello World! My name is {{firstName}} {{lastName}}.
{{outlet}}</pre></div><p class="calibre14">Handlebar expressions are surrounded by double curly braces <code class="email">{{ }}</code> and backed by a context. A context is an object from which Handlebar expressions read their properties. In this example, the context is the controller. The <code class="email">{{outlet}}</code> will render the template of any nested routes, which will be discussed in more detail later.</p></li><li class="listitem" value="2">The controller will need to have the <code class="email">firstName</code> and <code class="email">lastName</code> properties so that they can be displayed in the template:<div class="informalexample"><pre class="programlisting">// app/controllers/helloworld.js
import Ember from 'ember';

export default Ember.Controller.extend({
    firstName: 'Erik',
    lastName: 'Hanchett'
});</pre></div><p class="calibre14">The controller <a id="id119" class="calibre1"/>has the same name as the template. The template, by convention, will retrieve the properties from the controller of the same name. Each of them is bound to each other. If any changes occur to the data, the other values will change.</p></li></ol><div class="calibre15"/></div><div class="book" title="Using templates with components"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec33" class="calibre1"/>Using templates with components</h3></div></div></div><p class="calibre8">Similar to <a id="id120" class="calibre1"/>controllers, we can create a <a id="id121" class="calibre1"/>component that can act as a context for the template. In the component, we can set up properties that can be accessed by the template later.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To create a new component, use the <code class="email">generate component</code> command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g component hello-world</strong></span>
</pre></div><p class="calibre14">All components must have a dash in their names. This command will create the <code class="email">hello-world.js</code> file in the <code class="email">app/components/hello-world.js</code> folder, a template file in the <code class="email">app/components/hello-world.hbs</code> file, and an integration test file at <code class="email">tests/integration/components/hello-world-test.js</code>.</p></li><li class="listitem" value="2">Edit the <code class="email">hello-world.hbs</code> file and add the hello world string:<div class="informalexample"><pre class="programlisting">// app/templates/components/hello-world.hbs
Hello World! My name is {{firstName}} {{lastName}}.
{{yield}}</pre></div><p class="calibre14">The <code class="email">firstName</code> and <code class="email">lastName</code> parameters are retrieved from the component. The <code class="email">yield</code> expression is used when the component is in the block form. We'll talk more about this in <a class="calibre1" title="Chapter 6. Ember Components" href="part0053_split_000.html#1IHDQ1-d21a6ad8148a415181fa52c0043435bb">Chapter 6</a>, <span class="strong"><em class="calibre13">Ember Components</em></span>.</p></li><li class="listitem" value="3">Add two properties to the component file, <code class="email">hello-world.js</code>, the first one being <code class="email">firstName</code> and the last one being <code class="email">lastName</code>:<div class="informalexample"><pre class="programlisting">// components/hello-world.js
import Ember from 'ember';

export default Ember.Component.extend({
    firstName: 'John',
    lastName: 'Smith'
});</pre></div></li><li class="listitem" value="4">For the <a id="id122" class="calibre1"/>last part, all we need to do <a id="id123" class="calibre1"/>is add the component that we just created to one of our <code class="email">application.hbs</code> files:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{hello-world}}
{{outlet}}</pre></div><p class="calibre14">The <code class="email">{{hello-world}}</code> Handlebar expression adds the component to the <code class="email">application.hbs</code> file. The <code class="email">hello-world</code> template will then be rendered here. The <code class="email">{{outlet}}</code> template will render the nested routes under the <code class="email">application</code> route.</p></li><li class="listitem" value="5">Start the Ember server and navigate to <code class="email">http://localhost:4200</code>.</li><li class="listitem" value="6">After the Ember server is started, open a web browser at localhost port 4200. The message on the screen will show <span class="strong"><strong class="calibre9">Hello World! My name is John Smith</strong></span>.</li><li class="listitem" value="7">Navigate to <code class="email">http://localhost:4200/helloworld</code> and you'll be greeted with two messages. The message on the screen will show <span class="strong"><strong class="calibre9">Hello World! My name is John Smith</strong></span>. <span class="strong"><strong class="calibre9">Hello World! My name is Erik Hanchett</strong></span>.</li><li class="listitem" value="8">When the <code class="email">helloworld</code> route is loaded, the application template is displayed. The <code class="email">{{outlet}}</code> template then gets rendered with the contents of the <code class="email">helloworld</code> template file. This is why both messages are displayed. Remember that all routes are nested under the <code class="email">application</code> route.</li></ol><div class="calibre15"/></div></div></div></div>

<div class="book" title="Defining an application template">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch03lvl2sec45" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Ember.js uses the Handlebars templating library. This library provides you with a way to do data binding between the component or controller, also known as a context, and the template. This data binding occurs in both directions. In other words, changes to the data in the component or controller will be reflected in the template. Changes in the template to the data will be reflected in the controller or component.</p><p class="calibre8">In the previous simple example, the <code class="email">firstName</code> and <code class="email">lastName</code> properties in the component were accessed in the template with double curly braces <code class="email">{{}}</code>. This is known as a Handlebars expression. The template is just regular HTML with embedded Handlebar <a id="id124" class="calibre1"/>expressions. Ember compiles these <a id="id125" class="calibre1"/>templates later on during the build process.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with conditionals in templates"><div class="book" id="UGI02-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec26" class="calibre1"/>Working with conditionals in templates</h1></div></div></div><p class="calibre8">Using <a id="id126" class="calibre1"/>conditionals is fundamental to using Ember's templating engine. In the following recipes, we'll take a look at conditionals and how they work with templates.</p></div>

<div class="book" title="Working with conditionals in templates">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec46" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">Let's take a look at a simple example that displays text if some property is true.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new project and generate a new controller called <code class="email">conditional</code>. Run this command in the root of the <code class="email">application</code> folder to create <code class="email">controller</code> and <code class="email">template</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller conditional</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template conditional</strong></span>
</pre></div><p class="calibre14">This will create the conditional controller.</p></li><li class="listitem" value="2">Update the <code class="email">router.js</code> file with the new <code class="email">conditional</code> route:<div class="informalexample"><pre class="programlisting">// app/router.js
…
Router.map(function() {
  this.route('conditional');
});</pre></div><p class="calibre14">This will add a new <code class="email">conditional</code> route. To access this route using the Ember server, open a web browser and navigate to <code class="email">http://localhost:4200/conditional</code>.</p></li><li class="listitem" value="3">Update the <code class="email">conditional</code> controller with the <code class="email">isHomeworkDone</code> property:<div class="informalexample"><pre class="programlisting">// app/controllers/conditional.js
import Ember from 'ember';

export default Ember.Controller.extend({
    isHomeworkDone: true});</pre></div><p class="calibre14">This will create a new <code class="email">isHomeworkDone</code> property and default it to <code class="email">true</code>.</p></li><li class="listitem" value="4">Update the conditional template so that it will display one message if <code class="email">isHomeworkDone</code> is <code class="email">true</code> and another message if it isn't:<div class="informalexample"><pre class="programlisting">// app/templates/conditional.hbs
Hello!
{{#if isHomeworkDone}}
 Thanks for finishing the homework!
{{else}}
 Please finish the homework
{{/if}}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="note05" class="calibre1"/>Note</h3><p class="calibre8">The <code class="email">{{if}}</code> statement is a helper and must be surrounded by curly braces <code class="email">{{}}</code> like any other Handlebar expression. It begins with a <code class="email">#</code> sign, which indicates that it's a form of a block invocation. The <code class="email">{{/if}}</code> statement closes the statement.</p></div><p class="calibre14">The <a id="id127" class="calibre1"/>preceding example shows two statements, <code class="email">{{if}}</code> and <code class="email">{{else}}</code>, both in the block form. Only the statement that is true will be displayed.</p></li><li class="listitem" value="5">As we know from the controller earlier, if <code class="email">isHomeworkDone</code> is <code class="email">true</code>, the statement <code class="email">Thanks for finishing the homework!</code> will be displayed after the template is rendered. On the other hand, if <code class="email">isHomeworkDone</code> was <code class="email">false</code>, the statement <code class="email">Please finish the homework</code> will be displayed.</li><li class="listitem" value="6">To test this example, navigate to the <code class="email">http://localhost:4200/conditional</code> route. The <code class="email">{{outlet}}</code> in <code class="email">application.hbs</code> will render the <code class="email">conditional</code> template inside of it.</li></ol><div class="calibre15"/></div><div class="book" title="Using inline invocation with templates"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec34" class="calibre1"/>Using inline invocation with templates</h3></div></div></div><p class="calibre8">Inline <a id="id128" class="calibre1"/>invocation can be used to display data with <code class="email">if</code> <a id="id129" class="calibre1"/>statements, all within one line of code.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">We'll take the previous example and recreate it using inline invocation. Edit the <code class="email">condtional.hbs</code> file in the <code class="email">app/templates</code> folder with the new <code class="email">if</code> statement using inline invocation:<div class="informalexample"><pre class="programlisting">// app/templates/conditional.hbs
Hello

{{if isHomeworkDone 'Thanks for finishing the homework!' 'Please finish the homework'}}</pre></div></li><li class="listitem" value="2">When using inline invocation, you don't need to use the pound sign <code class="email">#</code> or end the <code class="email">if</code> block with <code class="email">{{/if}}</code>. Everything can be written in one expression.</li><li class="listitem" value="3">The first argument of the helper after <code class="email">isHomeworkDone</code>, <code class="email">Thanks for finishing </code><a id="id130" class="calibre1"/><code class="email">the homework!</code>, will <a id="id131" class="calibre1"/>be shown only if <code class="email">isHomeworkDone</code> is <code class="email">true</code>. The second argument, <code class="email">Please finish the homework</code>, will be displayed if <code class="email">isHomeworkDone</code> is <code class="email">false</code>.</li></ol><div class="calibre15"/></div></div><div class="book" title="Working on nested invocation with templates"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec35" class="calibre1"/>Working on nested invocation with templates</h3></div></div></div><p class="calibre8">Nested invocations <a id="id132" class="calibre1"/>are inline, which means that <a id="id133" class="calibre1"/>they return a single value. They can also accept multiple nested <code class="email">if</code> statements in the inline helper.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In the <code class="email">conditional</code> controller, add a couple of properties called <code class="email">isHomeworkDone</code> and <code class="email">isChoresDone</code>:<div class="informalexample"><pre class="programlisting">// app/controllers/conditional.js
import Ember from 'ember';

export default Ember.Controller.extend({
  isHomeworkDone: true,
  isChoresDone: true});</pre></div><p class="calibre14">Both of these are defaulted to <code class="email">true</code>.</p></li><li class="listitem" value="2">Let's use nested invocation to display a message only if both <code class="email">isHomeworkDone</code> and <code class="email">isChoresDone</code> are <code class="email">true</code>. Edit the <code class="email">condtional.hbs</code> file with the new nested <code class="email">if</code> statement:<div class="informalexample"><pre class="programlisting">// app/templates/conditional.hbs
Hello

{{if isHomeworkDone (if isChoresDone 'Thanks for finishing the homework!' )}}</pre></div><p class="calibre14">The <code class="email">Thanks for finishing the homework</code> string will display only if both <code class="email">isChoresDone</code> and <code class="email">isHomeworkDone</code> are <code class="email">true</code>. Otherwise, nothing is displayed. As the controller has both values set to <code class="email">true</code>, the message will display <span class="strong"><strong class="calibre9">Thanks for finishing the homework!</strong></span> after the template is rendered.</p></li></ol><div class="calibre15"/></div></div><div class="book" title="The opposite of if is unless"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec36" class="calibre1"/>The opposite of if is unless</h3></div></div></div><p class="calibre8">Another useful <a id="id134" class="calibre1"/>helper is <code class="email">unless</code>. It works exactly the opposite of the <code class="email">if</code> helper. It can work with all three invocation styles—inline, block, and nested.</p><p class="calibre8">We'll create the <code class="email">unless</code> block that will display a string if it's not true in our <code class="email">conditional.hbs</code> file:</p><div class="informalexample"><pre class="programlisting">// app/templates/conditional.hbs
Hello

{{#unless isHomeworkDone}}
  Please finish the homework
{{else}}
  Thanks for finishing the homework!
{{/unless}}</pre></div><p class="calibre8">In this block, the <code class="email">unless</code> helper will display <code class="email">Please finish the homework</code> only if <code class="email">isHomeworkDone</code> is <code class="email">false</code>. On the other hand, the message <code class="email">Thanks for finishing the homework!</code> will be displayed if <code class="email">isHomeworkDone</code> is <code class="email">true</code>. This is essentially the opposite of the <code class="email">if</code> helper.</p><p class="calibre8">In this example, assuming <a id="id135" class="calibre1"/>that <code class="email">isHomeworkDone</code> is <code class="email">true</code>, the <code class="email">Thanks for finishing the homework!</code> string will be displayed in the template after it's rendered.</p></div></div></div>

<div class="book" title="Working with conditionals in templates">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec47" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">if</code> and <code class="email">unless</code> conditionals are built-in helpers that are made available to us from the Handlebars templating engine. They are surrounded by curly braces <code class="email">{{}}</code>, which tell Handlebars to interpret them. The <code class="email">{{if}}</code> statement checks whether the property is <code class="email">true</code>. JavaScript values such as <code class="email">undefined</code>, <code class="email">null</code>, <code class="email">''</code> , <code class="email">[]</code>, and numeric <code class="email">0</code> will return as <code class="email">false</code>.</p><p class="calibre8">There are three different ways in which these conditional helpers can be invoked—block, nested, or inline. All three will work with <code class="email">if</code> and <code class="email">unless</code> helpers.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Displaying a list of items" id="VF2I1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec27" class="calibre1"/>Displaying a list of items</h1></div></div></div><p class="calibre8">Often, you'll have a <a id="id136" class="calibre1"/>list of items that you'll need to iterate over. We can iterate through these items with the <code class="email">each</code> helper. This recipe will go over how to do this.</p></div>

<div class="book" title="Displaying a list of items" id="VF2I1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec48" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">Let's say that we have a list of students and want to display them in our template. We'll use the <code class="email">each</code> helper to accomplish this.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new project, generate <code class="email">student</code> <code class="email">controller</code> and <code class="email">template</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g template student</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller student</strong></span>
</pre></div><p class="calibre14">This will create the necessary files needed for our example.</p></li><li class="listitem" value="2">Update the <code class="email">router.js</code> file with the new <code class="email">student</code> route:<div class="informalexample"><pre class="programlisting">// app/router.js
…
Router.map(function() {
  this.route('student');
});</pre></div><p class="calibre14">This will add a <a id="id137" class="calibre1"/>new <code class="email">conditional</code> route. To access this route using the Ember server, open a web browser and navigate to <code class="email">http://localhost:4200/student</code>.</p></li><li class="listitem" value="3">Update our student controller with an array of <code class="email">students</code> as a property:<div class="informalexample"><pre class="programlisting">// app/controllers/students.js
import Ember from 'ember';

export default Ember.Controller.extend({
  students: [ {name: 'Erik'}, {name: 'Jim'}, {name: 'Jane'}]
});</pre></div><p class="calibre14">This array has three student objects.</p></li><li class="listitem" value="4">In our <code class="email">student.hbs</code> template, we'll iterate through the <code class="email">students</code> array using the <code class="email">each</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/student.hbs

{{#each students as |student|}}
  {{student.name}}&lt;br&gt;
{{/each}}</pre></div><p class="calibre14">The first argument to the <code class="email">each</code> helper is the array to be iterated over. In this case, this is the <code class="email">students</code> array that was declared in the <code class="email">student</code> controller. The <code class="email">|student|</code> block <code class="email">param</code> is what we'll use to iterate over the array.</p><p class="calibre14">The <code class="email">each</code> helper must be in the block form. In this example, each value of the student will be displayed with an HTML break afterward.</p></li><li class="listitem" value="5">The output will look like this after being rendered:<div class="informalexample"><pre class="programlisting">Erik&lt;br&gt;
Jim&lt;br&gt;
Jane&lt;br&gt;</pre></div><p class="calibre14">If, by chance, the array was empty, you can use <code class="email">{{else}}</code>.</p></li><li class="listitem" value="6">Add a new array to the template. This array can be empty or may not even exist:<div class="informalexample"><pre class="programlisting">// app/templates/student.hbs

{{#each emptyArray as |item|}}
  {{item}}
{{else}}
  Empty Array
{{/each}}</pre></div><p class="calibre14">The <code class="email">else</code> block <a id="id138" class="calibre1"/>will be rendered only if the array is empty or doesn't exist.</p></li></ol><div class="calibre15"/></div><div class="book" title="Finding the index of the array"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec37" class="calibre1"/>Finding the index of the array</h3></div></div></div><p class="calibre8">If needed, you can also <a id="id139" class="calibre1"/>access <code class="email">index</code> of the array in the <a id="id140" class="calibre1"/>second block <code class="email">param</code>.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new array and add the <code class="email">index</code> block <code class="email">param</code>:<div class="informalexample"><pre class="programlisting">// app/templates/student.hbs

{{#each students as |student index|}}
Student {{student.name}} is at index {{index}}&lt;br&gt;
{{/each}}</pre></div><p class="calibre14">After each iteration, <code class="email">name</code> and <code class="email">index</code> is displayed with an HTML break element. The index can be accessed using the double curly braces <code class="email">{{index}}</code>.</p></li><li class="listitem" value="2">Assuming that we are using the same student array from earlier in this chapter, the rendered output will look as follows:<div class="informalexample"><pre class="programlisting">Student Erik is at index 0&lt;br&gt;
Student Jim is at index 1&lt;br&gt;
Student Jane is at index 2&lt;br&gt;</pre></div><p class="calibre14">Keep in mind that <code class="email">index</code> starts at <code class="email">0</code> and not <code class="email">1</code>.</p></li></ol><div class="calibre15"/></div></div></div></div>

<div class="book" title="Displaying a list of items" id="VF2I1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec49" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">each</code> helper uses block params to iterate through arrays. The <code class="email">each</code> helper takes an array argument and the block <code class="email">param</code> is used to iterate each individual item on the list. If the array doesn't exist or is empty, you can use <code class="email">else</code> to display a message instead.</p><p class="calibre8">In the recipes in this chapter, the <code class="email">students</code> array was declared in <code class="email">controller</code>. It had several student <a id="id141" class="calibre1"/>objects that could be accessed by the template. The <a id="id142" class="calibre1"/>template used this array and iterated over it with the <code class="email">each</code> helper.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Binding with element attributes and classes" id="10DJ41-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec28" class="calibre1"/>Binding with element attributes and classes</h1></div></div></div><p class="calibre8">A very <a id="id143" class="calibre1"/>useful feature of HTMLBars is binding elements to attributes in your HTML.</p></div>

<div class="book" title="Binding with element attributes and classes" id="10DJ41-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec50" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">A very simple example would be binding an element to an <code class="email">img src</code> tag.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new project, generate <code class="email">index template</code> and <code class="email">index controller</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller index</strong></span>
</pre></div><p class="calibre14">This will generate the files needed for this example.</p></li><li class="listitem" value="2">Create a new <code class="email">index controller</code> file with <code class="email">url</code>, <code class="email">sideClass</code>, and <code class="email">secondClass</code> as its properties:<div class="informalexample"><pre class="programlisting">// app/controllers/index.js
import Ember from 'ember';
export default Ember.Controller.extend({
  url: 'http://placehold.it/350x200',
  sideClass: 'cc',
  secondClass: 'dd'
  
});</pre></div><p class="calibre14">We get the <code class="email">index</code> route and controller without having to create a specific route for them. It works like the application route, which all other routes inherit from.</p></li><li class="listitem" value="3">Create a new template and add an <code class="email">img</code> tag. The <code class="email">url</code> element will be displayed:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs

&lt;img src="{{url}}"/&gt;</pre></div><p class="calibre14">This will be rendered as if the <code class="email">url</code> property is in the <code class="email">src</code> attribute for the <code class="email">img</code> tag.</p></li><li class="listitem" value="4">The template will be rendered with the <code class="email">url</code> property as follows:<div class="informalexample"><pre class="programlisting">&lt;img src="http://placehold.it/350x200"/&gt;</pre></div><p class="calibre14">We can essentially add this to any tag we like.</p></li><li class="listitem" value="5">Let's create <a id="id144" class="calibre1"/>a <code class="email">div</code> tag in our template with a couple of properties added for the class:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs

&lt;div id="side" class="{{sideClass}} {{secondClass}}"&gt;Info&lt;/div&gt;</pre></div><p class="calibre14">Both <code class="email">sideClass</code> and <code class="email">secondClass</code> will be added to the class attribute. As these properties are bound, they act like any other property in Ember. They can be dynamically changed and the template will render accordingly.</p><div class="note" title="Note"><h3 class="title2"><a id="tip16" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Content security policy</strong></span></p><p class="calibre8">When running examples in this book, you might occasionally see messages in the console warning you about content security violations. They'll usually appear in big red text in your console. The Ember team put this in place to help remind developers about potential security issues that your application might have. For the purpose of this book, these warnings can be ignored. On the other hand, you can fix these warnings by editing the <code class="email">config/environment.js</code> file and the <code class="email">contentSecurityPolicy</code> section. You can find examples on how content security works at <a class="calibre1" href="http://content-security-policy.com/">http://content-security-policy.com/</a>.</p></div></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Binding with element attributes and classes" id="10DJ41-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec51" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Binding elements in attributes is done by the HTMLBars templating library, which is based on the Handlebars library. It looks at every attribute with a property and renders it on the screen. These attributes are bound to properties that can be accessed in the controller or component.</p><p class="calibre8">We can bind any property to any attribute. The only exception being view helpers. We'll discuss this more in a later part of the chapter.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with HTML links inside templates"><div class="book" id="11C3M2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec29" class="calibre1"/>Working with HTML links inside templates</h1></div></div></div><p class="calibre8">One of the <a id="id145" class="calibre1"/>most useful helpers that Ember.js provides <a id="id146" class="calibre1"/>is the link-to helper. We'll discuss how to use this helpful feature in this recipe.</p></div>

<div class="book" title="Working with HTML links inside templates">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec52" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">The link-to helper is used to navigate an Ember application. The first argument is always the name of the route. The second is the dynamic segment. We'll discuss dynamic segments a little later.</p><p class="calibre8">One of the simplest ways to use the link-to helper is to use it inline.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new student application and route. Run this command in the root of the <code class="email">project</code> directory:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g route students</strong></span>
</pre></div><p class="calibre14">Ember CLI will generate a new route called students. This will update the <code class="email">router.js</code> file as well as add the template and route files.</p></li><li class="listitem" value="2">Open the <code class="email">students.hbs</code> file in the <code class="email">app/templates</code> folder and add this string to it:<div class="informalexample"><pre class="programlisting">// app/templates/students.hbs
Hi from the students route
{{outlet}}</pre></div><p class="calibre14">This message will be displayed after navigating to the <code class="email">students </code>route.</p></li><li class="listitem" value="3">Open the <code class="email">application.hbs</code> file. Let's add a <code class="email">link-to</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
{{#link-to 'students'}}Students{{/link-to}}&lt;br&gt;
{{outlet}}</pre></div><p class="calibre14">The <code class="email">link-to</code> helper's first argument is <code class="email">students</code>. This is the <code class="email">students</code> route that we created earlier. This will render an HTML hyperlink with the name of <code class="email">Students</code> linked to the <code class="email">students</code> route. The <code class="email">{{outlet}}</code> tells the Handlebars templating library where to render the output of the route.</p></li><li class="listitem" value="4">The output of <code class="email">link-to</code> will show an HTML link. When this is clicked, the link will display the <code class="email">students</code> route message that we created earlier in the <code class="email">students.hbs</code> file. This is rendered by <code class="email">{{outlet}}</code>:<div class="informalexample"><pre class="programlisting">Students
Hi from the students route</pre></div><p class="calibre14"><code class="email">Students</code> is a hyperlink to the route, <code class="email">/students</code>.</p><p class="calibre14">Ember.js is smart enough to remember the history of a link after it's clicked. Therefore, if by chance a user clicks back on the web browser, it will return to the previous route.</p></li><li class="listitem" value="5">You can <a id="id147" class="calibre1"/>override this behavior, if <a id="id148" class="calibre1"/>needed, by adding the <code class="email">replace=true</code> option to the <code class="email">link-to</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
{{#link-to 'students' replace=true}}Students{{/link-to}}&lt;br&gt;
{{outlet}}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip17" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Adding data attributes to view helpers</strong></span></p><p class="calibre8">Unfortunately, data view helpers such as <code class="email">link-to</code> and <code class="email">input</code> don't allow custom data attributes. In other words, if you're using <code class="email">link-to</code>, you can't add <code class="email">data-toggle='dropdown'</code> to the end of the <code class="email">link-to</code> helper. Normal attributes such as class will work, however.</p><p class="calibre8">One way to add custom attributes is to reopen <code class="email">Ember.LinkComponent</code> for <code class="email">link-to</code> or <code class="email">Ember.TextField</code> for the <code class="email">input</code> helper. Reopening a class was discussed in <a class="calibre1" title="Chapter 2. The Ember.Object Model" href="part0023_split_000.html#LTSU1-d21a6ad8148a415181fa52c0043435bb">Chapter 2</a>, <span class="strong"><em class="calibre13">The Ember.Object Model</em></span>, so check there first. After reopening the class, you can add an <code class="email">attributeBindings</code> property array. Each element in the array is a data attribute that you want available to your <code class="email">link-to</code> or <code class="email">input</code> helper. For example, to add <code class="email">data-toggle</code> as an attribute to your <code class="email">link-to</code> helper, it would look like <code class="email">attributeBindings: ['data-toggle']</code>. We'll discuss more about <code class="email">input</code> helpers in the next section.</p><p class="calibre8">Alternatively, you can create a component that extends from <code class="email">LinkComponent</code> instead of the normal simple component. You can then add attributes to it. Make sure to name it something other than <code class="email">link-to</code>.</p></div></li></ol><div class="calibre15"/></div><div class="book" title="Using link-to helpers with dynamic segments"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec38" class="calibre1"/>Using link-to helpers with dynamic segments</h3></div></div></div><p class="calibre8">Link-to <a id="id149" class="calibre1"/>helpers can be used to link dynamic <a id="id150" class="calibre1"/>segments. The dynamic segment is added to the second argument in the <code class="email">link-to</code> helper. In this recipe, we'll create a <code class="email">students</code> route with a dynamic segment.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Run this command from the project root to create <code class="email">resource</code> for <code class="email">students</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g resource students</strong></span>
</pre></div><p class="calibre14">This will create the model, route, and templates needed for our new <code class="email">students</code> route.</p></li><li class="listitem" value="2">Next, we'll <a id="id151" class="calibre1"/>need to update the <a id="id152" class="calibre1"/><code class="email">router.js</code> file and add a simple dynamic segment:<div class="informalexample"><pre class="programlisting">// app/router.js
import Ember from 'ember';
import config from './config/environment';

var Router = Ember.Router.extend({
  location: config.locationType
});

Router.map(function() {
  this.route('students',{path: '/students/:student_id'});
});

export default Router;</pre></div><p class="calibre14">The most important thing to realize here is the path. This is called a dynamic segment and is represented by :<code class="email">student_id</code>. By convention, the <code class="email">students</code> route will retrieve information from the student model. If the user navigates to <code class="email">/students/5</code>, the route will retrieve the student model with the ID of 5. Look for more information on dynamic segments and routes in the <a class="calibre1" title="Chapter 4. Ember Router" href="part0039_split_000.html#1565U1-d21a6ad8148a415181fa52c0043435bb">Chapter 4</a>, <span class="strong"><em class="calibre13">Ember Router</em></span>.</p></li><li class="listitem" value="3">Create a new <code class="email">application.js</code> file in the <code class="email">app/routes</code> folder. For the sake of simplicity, we'll have the application route return an array of student objects that we can then retrieve in our template:<div class="informalexample"><pre class="programlisting">// app/routes/application.js

import Ember from 'ember';

export default Ember.Route.extend({
  model(){
    return [{id: 1,name: 'Erik Hanchett', age: 16, location: 'Reno'},{id: 2,name: 'Jeff Smith', age: 17, location: 'San Francisco'},{id: 3,name: 'Kate Smith',age: 19, location: 'Sparks'}];
  }
});</pre></div><p class="calibre14">The <code class="email">application</code> route is on top and is inherited by all other routes. For this example, we returned a list of objects with a number of properties. This model will be able to be accessed in our students template.</p></li><li class="listitem" value="4">Update the <a id="id153" class="calibre1"/>students template in <a id="id154" class="calibre1"/>the <code class="email">app/templates</code> folder:<div class="informalexample"><pre class="programlisting">// app/templates/students.hbs
Student Route&lt;br&gt;
{{model.name}}&lt;br&gt;
{{model.age}}&lt;br&gt;
{{model.location}}&lt;br&gt;</pre></div><p class="calibre14">This template will display <code class="email">name</code>, <code class="email">age</code>, and <code class="email">location</code> of the model passed to it. Make sure to prefix all the values with <code class="email">model</code>.</p></li><li class="listitem" value="5">We'll then update the <code class="email">application.hbs</code> file with a <code class="email">{{each}}</code> helper and <code class="email">link-to</code>:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;&lt;br&gt;
&lt;br&gt;
{{#each model as |student|}}
  {{#link-to 'students' student}}{{student.name}}{{/link-to}} &lt;br&gt;
{{/each}}
{{outlet}}
&lt;br&gt;
&lt;br&gt;</pre></div><p class="calibre14">In this example, we have an <code class="email">each</code> helper that iterates through the model. The <code class="email">link-to</code> helper has two arguments. The first is the route, which is <code class="email">students</code>. The second is the dynamic segment, <code class="email">student</code>. Ember will replace each segment with the value of the corresponding object ID's property. If, for some reason, no model exists, you can explicitly set the value instead:</p><div class="informalexample"><pre class="programlisting">{{#link-to 'students' 1}}Some Student{{/link-to}}</pre></div><p class="calibre14">This will link the student's route with a dynamic segment with an ID of <code class="email">1</code>.</p><div class="note" title="Note"><h3 class="title2"><a id="tip18" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Multiple segments</strong></span></p><p class="calibre8">There might be times where you have nested routes with multiple segments. For example, a blog might have blog posts and each blog post might have comments. In this case, you can specify multiple segments in the <code class="email">link-to</code> helper. All you need to do is separate them with a space. For instance, a blog with multiple comments might look like <code class="email">{{#link-to 'blog.comment' 1 comment}}Comment{{/link-to}}</code>. The <code class="email">1</code> is the first dynamic segment and the comment is the second dynamic segment.</p></div></li><li class="listitem" value="6">After being <a id="id155" class="calibre1"/>rendered, three links <a id="id156" class="calibre1"/>will be displayed as follows:<div class="informalexample"><pre class="programlisting">&lt;a href="/students/1"&gt;Erik Hanchett&lt;/a&gt;
&lt;a href="/students/2"&gt;Jeff Smith&lt;/a&gt;
&lt;a href="/students/3"&gt;Kate Smith&lt;/a&gt;</pre></div></li><li class="listitem" value="7">Clicking on any link will navigate to the student's route with that ID. The template will then display the student's information on the screen as follows:<div class="mediaobject"><img src="../images/00005.jpeg" alt="Using link-to helpers with dynamic segments" class="calibre10"/></div><p class="calibre26"> </p></li></ol><div class="calibre15"/></div></div></div></div>

<div class="book" title="Working with HTML links inside templates">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec53" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">link-to</code> helper is used by the templating engine to route a customer throughout an application. It's only used for internal links, not external.</p><p class="calibre8">The <code class="email">link-to</code> <a id="id157" class="calibre1"/>helper takes two or more arguments. The first <a id="id158" class="calibre1"/>is the name of the route. The second is used for dynamic segments.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Handling HTML actions"><div class="book" id="12AK82-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec30" class="calibre1"/>Handling HTML actions</h1></div></div></div><p class="calibre8">Often, in an <a id="id159" class="calibre1"/>application, we'll need to allow interaction with controls that affect the application state. To accomplish this, we'll use actions.</p></div>

<div class="book" title="Handling HTML actions">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec54" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">The <code class="email">{{action}}</code> helper is used on HTML elements to send actions back to the template's corresponding controller or component when the user clicks on an element. Let's take a look at an example of this.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new project, navigate to the root of the <code class="email">application</code> directory, and type this command to generate a new component:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g component action-component</strong></span>
</pre></div><p class="calibre14">Keep in mind that all components must have a dash in their names. This will generate the component template, JavaScript files, and test files.</p></li><li class="listitem" value="2">Edit the <code class="email">action-component.js</code> file in the <code class="email">components</code> folder. We'll add the action, <code class="email">toggleTex</code>t:<div class="informalexample"><pre class="programlisting">// app/components/action-component.js
import Ember from 'ember';

export default Ember.Component.extend({
  showText: true,
  actions: {
    toggleText(){
      this.toggleProperty('showText');
    }
  }
});</pre></div><p class="calibre14">In this example, we have a <code class="email">showText</code> property that's defaulted to <code class="email">true</code>. When the action, <code class="email">toggleText</code>, is triggered, it toggles the <code class="email">showText</code> property. The <code class="email">toggleProperty</code> method sets the opposite value of its current property.</p></li><li class="listitem" value="3">The <code class="email">toggleText</code> <a id="id160" class="calibre1"/>action is now ready to be added to the template. The next step is to add the action to the component template using the <code class="email">{{action}}</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/components/action-component.hbs
{{#if showText}}
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean dui est, auctor sit amet augue vel, mattis maximus libero. Praesent feugiat ex justo, vitae convallis nulla venenatis quis.
{{/if}}&lt;br&gt;
&lt;button {{action 'toggleText'}}&gt;{{if showText 'Hide Text' 'Show Text'}}&lt;/button&gt;
{{yield}}</pre></div><p class="calibre14">The <code class="email">if</code> helper will display text only if the <code class="email">showText</code> property is <code class="email">true</code>. The button at the bottom has an action called <code class="email">toggleText</code> attached to it. Whenever this button is pressed, the <code class="email">toggleText</code> action will be invoked by the corresponding <code class="email">action-component</code> component. To keep things clear, the button text will show <code class="email">Hide Text</code> if the text is shown and <code class="email">Show Text</code> if it's hidden.</p><p class="calibre14">The <code class="email">action</code> helper can be added to any HTML element. As soon as the element is clicked, the action will be triggered.</p></li><li class="listitem" value="4">It's good to know that you can attach an action to any HTML element but not all will respond. Some browsers may ignore the click event. In this case, you can use this <code class="email">css</code> trick as a workaround:<div class="informalexample"><pre class="programlisting">[data-ember-action] {
  cursor: pointer;
}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip19" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Specifying the type of event</strong></span></p><p class="calibre8">By default, all actions listen for click events. When a click occurs, that action is triggered in the context, component, or controller. You can specify an alternative to the click event with the <code class="email">on</code> option. For example, a button with a double-click action would look like <code class="email">&lt;button {{action 'toggleText' on='doubleClick'}}Show Text&lt;/button&gt;</code>. All event names must be camel-cased and lowercase when assigned to <code class="email">on</code>.</p></div></li><li class="listitem" value="5">We now need to <a id="id161" class="calibre1"/>add the component to the <code class="email">application</code> template file so that it can be displayed:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{action-component}}
{{outlet}}
&lt;br&gt;</pre></div><p class="calibre14">This will add our action component to our <code class="email">application</code> template.</p></li><li class="listitem" value="6">After loading the application with the Ember server, it will look as follows:<div class="mediaobject"><img src="../images/00006.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Pressing the <a id="id162" class="calibre1"/>
<span class="strong"><strong class="calibre9">Hide Text</strong></span> button will hide the text. Pressing it again will show the text.</p><div class="note" title="Note"><h3 class="title2"><a id="tip20" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Allowing modifier keys</strong></span></p><p class="calibre8">By default, the <code class="email">action</code> helper will ignore click events when modifier keys such as <span class="strong"><em class="calibre13">Alt</em></span> or <span class="strong"><em class="calibre13">Ctrl</em></span> are pressed at the same time. If needed, you can specify an <code class="email">allowedKeys</code> option. For example, a button with an allowed key <span class="strong"><em class="calibre13">Alt</em></span> would look like<code class="email"> &lt;button {{action 'toggleText' allowedKeys='alt'}}Show Text&lt;/button&gt;</code>.</p></div></li></ol><div class="calibre15"/></div><div class="book" title="Adding a parameter to an action event"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec39" class="calibre1"/>Adding a parameter to an action event</h3></div></div></div><p class="calibre8">You can have <a id="id163" class="calibre1"/>arguments in an action handler that will be passed back to the context. Anything after the action name of the <code class="email">action</code> helper will be passed as an argument to the component or controller.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To begin, we'll create a new component. After the project is created, run this command in the root of the <code class="email">project</code> folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g component param-component</strong></span>
</pre></div><p class="calibre14">This will generate the necessary component files for our new <code class="email">param-component</code>.</p></li><li class="listitem" value="2">Edit the <a id="id164" class="calibre1"/><code class="email">param-component.js</code> file and add a new action called <code class="email">pressed</code>:<div class="informalexample"><pre class="programlisting">// app/components/param-component.js
import Ember from 'ember';

export default Ember.Component.extend({
  actions: {
    pressed(text){
      alert(text);
    }
  }
});</pre></div><p class="calibre14">In this simple example, the <code class="email">pressed</code> action has only one parameter. When the action is triggered, an <code class="email">alert</code> box is displayed with the passed in parameter text.</p></li><li class="listitem" value="3">The next step is to edit the template and add the action:<div class="informalexample"><pre class="programlisting">// app/templates/components/param-component.hbs
{{input text='text' value=hello}}
&lt;button {{action 'pressed' hello}}&gt;Press Me&lt;/button&gt;
{{yield}}</pre></div><p class="calibre14">In this template, we have an <code class="email">input</code> helper. The <code class="email">input</code> helper will be discussed in more detail in the <span class="strong"><em class="calibre13">Using template input helpers</em></span> recipe. The button press triggers the <code class="email">pressed</code> action and passes the <code class="email">hello</code> text from the input helper to the action.</p><div class="note" title="Note"><h3 class="title2"><a id="note06" class="calibre1"/>Note</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Allowing default browser action</strong></span></p><p class="calibre8">The action helper, by default, prevents the default browser action of the DOM event. In other words, when a user clicks on a link or button that might otherwise reload the page, Ember prevents this. If needed, you can turn this behavior off using <code class="email">preventDefault=false</code>. For example, we can add an action event to a link and have it redirected to a page as well as trigger an event <code class="email">&lt;a href="thispage.htm" {{action 'pressed' preventDefault=false}}&gt;Press Me&lt;/a&gt;</code>.</p></div></li><li class="listitem" value="4">The next step is to add <code class="email">param-component</code> to the application:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{param-component}}

{{outlet}}
&lt;br&gt;</pre></div><p class="calibre14">In this <a id="id165" class="calibre1"/>code, we added <code class="email">param-component</code> to the <code class="email">application</code> template.</p></li><li class="listitem" value="5">After starting the server, a textbox will be displayed. Pressing the <span class="strong"><strong class="calibre9">Press Me</strong></span> button will display the text in an alert box. It should look as follows:<div class="mediaobject"><img src="../images/00007.jpeg" alt="Adding a parameter to an action event" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="6">In some cases, we may not be using an <code class="email">input</code> helper. Let's say that we want to have an action event trigger <code class="email">onblur</code>. We can specify a <code class="email">value</code> option in our <code class="email">action</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/components/param-component.hbs
&lt;input type="text" value={{hello}} onblur={{action 'pressed' value='target.value'}} /&gt;</pre></div><p class="calibre14">The input <code class="email">text</code> field has <code class="email">value</code> equal to the <code class="email">hello</code> property. The <code class="email">onblur</code> event is raised whenever the element loses focus. By default, the action handler receives the first parameter of the event listener. In this case, it would be <code class="email">Event {}</code>. We must specify the <code class="email">value</code> option to specify the target value using <code class="email">target.value</code>.</p></li></ol><div class="calibre15"/></div><p class="calibre8">Unfortunately, due <a id="id166" class="calibre1"/>to the way Ember binds values, we cannot simply just send the <code class="email">hello</code> property as a parameter to the action. This is why we must use the <code class="email">value</code> option.</p><p class="calibre8">You can test this by entering text in the textbox and clicking outside the box so that it loses focus. It should show the correct text in the alert popup.</p></div></div></div>

<div class="book" title="Handling HTML actions">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec55" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">action</code> helper attaches to HTML elements in order to allow user interaction. It sends named events to the template's corresponding context, component, or controller.</p><p class="calibre8">The <code class="email">action</code> helper by default sends the first parameter of the event listener. You can send any parameter that you want after the <code class="email">action</code> event. If needed, you can specify the <code class="email">value</code> option and use <code class="email">value.target</code>, which will send the target of the event.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using template input helpers"><div class="book" id="1394Q2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec31" class="calibre1"/>Using template input helpers</h1></div></div></div><p class="calibre8">To create <a id="id167" class="calibre1"/>common form controls, <code class="email">input</code> helpers can be used. This recipe will go over how to use them in our Ember applications.</p></div>

<div class="book" title="Using template input helpers">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec56" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">The most common <code class="email">input</code> helper is <code class="email">{{input}}</code>. It wraps around the <code class="email">Ember.TextField</code> view and is almost identical to the traditional <code class="email">&lt;input&gt;</code> HTML element.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new project. In the <code class="email">app/templates</code> folder, open the <code class="email">application.hbs</code> file and add an <code class="email">input</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{input value='Hello World'}}</pre></div><p class="calibre14">This <code class="email">input</code> helper is very simple; all it does is set the value of the textbox to <code class="email">hello world</code>. It is surrounded by double curly braces and supports the normal input attributes.</p></li><li class="listitem" value="2">When rendered, it will look as follows:<div class="informalexample"><pre class="programlisting">&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
&lt;input type="text" value="Hello World"/&gt;</pre></div><p class="calibre14">If needed, we can assign properties to the <code class="email">input</code> helper.</p></li><li class="listitem" value="3">Create a <a id="id168" class="calibre1"/>new <code class="email">application</code> controller. Run this command in the root <code class="email">application</code> folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller application</strong></span>
</pre></div><p class="calibre14">This will generate a new controller that the application can access.</p></li><li class="listitem" value="4">Open the controller and add a new property. We'll call this <code class="email">helloText</code>:<div class="informalexample"><pre class="programlisting">// app/controllers/application.js
import Ember from 'ember';

export default Ember.Controller.extend({
    helloText: 'Hello World'
});</pre></div></li><li class="listitem" value="5">Edit the <code class="email">application.hbs</code> file again and set <code class="email">value</code> to the property:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{input value=helloText}}</pre></div><p class="calibre14">The <code class="email">helloText</code> property is now bound to the input value. Attributes that have quoted values will be set directly to the element. If left unquoted, these values will be bound to the property on the template's current rendering context. In this case, this is the controller.</p></li><li class="listitem" value="6">Let's add a simple action to the <code class="email">input</code> helper. This can be done using the dasherized event name as an attribute to the <code class="email">input</code> helper:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{input value=helloText key-press='pressed'}}</pre></div><p class="calibre14">Whenever a key is pressed, the action pressed will be triggered in the component or controller.</p></li><li class="listitem" value="7">As we <a id="id169" class="calibre1"/>haven't created a key press, we'll add it to our controller:<div class="informalexample"><pre class="programlisting">// app/controllers/application.js
…
  actions: {
    pressed(){
      console.log('pressed');
    }
  }</pre></div><p class="calibre14">Whenever a key is pressed in the textbox, a message will be logged to the console.</p></li></ol><div class="calibre15"/></div><div class="book" title="How to use checkbox helpers"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec40" class="calibre1"/>How to use checkbox helpers</h3></div></div></div><p class="calibre8">In the previous <a id="id170" class="calibre1"/>example, we created a simple input textbox. We can also create a checkbox in the same way. This uses the <code class="email">Ember.Checkbox</code> view.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new project, open the <code class="email">application.hbs</code> file in the <code class="email">app/templates</code> folder. Let's add a new checkbox:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{input type='checkbox' checked=isChecked}}</pre></div><p class="calibre14">This is very similar to the input textbox.</p></li><li class="listitem" value="2">Generate an <code class="email">application</code> controller. This will be used to store our <code class="email">isChecked</code> property:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller application</strong></span>
</pre></div></li><li class="listitem" value="3">Update the controller with the new <code class="email">isChecked</code> property. Set it to <code class="email">true</code>:<div class="informalexample"><pre class="programlisting">// app/controllers/application.js
import Ember from 'ember';

export default Ember.Controller.extend({
    isChecked: true
});</pre></div><p class="calibre14">This controller has only a Boolean property, <code class="email">isChecked</code>.</p></li><li class="listitem" value="4">The <code class="email">isChecked</code> property is bound to the checkbox. After it's rendered, it should <a id="id171" class="calibre1"/>look as follows:<div class="informalexample"><pre class="programlisting">…
&lt;input type="checkbox" checked="true"/&gt;</pre></div></li></ol><div class="calibre15"/></div></div><div class="book" title="How to use text areas"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch03lvl3sec41" class="calibre1"/>How to use text areas</h3></div></div></div><p class="calibre8">To create a <a id="id172" class="calibre1"/>
<code class="email">textarea</code> element, we can use the <code class="email">textarea</code> helper. This wraps the <code class="email">Ember.TextArea</code> view.</p><p class="calibre8">Create a new project and edit the <code class="email">application.hbs</code> file in the <code class="email">app/templates</code> folder. Add a <code class="email">textarea</code> helper:</p><div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{textarea value='hello world' cols='20' rows='10'}}</pre></div><p class="calibre8">The text area box will be displayed with <code class="email">20</code> columns and <code class="email">10</code> rows. It will look like this after being rendered:</p><div class="informalexample"><pre class="programlisting">…
&lt;textarea rows="6" cols="80"&gt;Hello World&lt;/textarea&gt;</pre></div><p class="calibre8">Adding actions and attributes work in the same way as the <code class="email">input</code> and <code class="email">checkbox</code> helpers.</p></div></div></div>

<div class="book" title="Using template input helpers">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec57" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The input, textarea, and checkbox are all helpers that make it easier to work with common form controls. They wrap around <code class="email">Ember.TextField</code>, <code class="email">Ember.Checkbox</code>, and <code class="email">Ember.TextArea</code>.</p><p class="calibre8">With these helpers, we <a id="id173" class="calibre1"/>can easily bind elements and actions to them.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using development helpers" id="147LC1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec32" class="calibre1"/>Using development helpers</h1></div></div></div><p class="calibre8">Debugging <a id="id174" class="calibre1"/>your template is a task that you'll often use. Here are the steps to do this.</p></div>

<div class="book" title="Using development helpers" id="147LC1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec58" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">The most basic way of debugging Ember templates is to use <code class="email">{{log}}</code> and <code class="email">{{debugger}}</code>.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Create a new Ember application. Create a new component called <code class="email">log-example</code>. Run this command in the root <code class="email">application</code> folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g component log-example</strong></span>
</pre></div><p class="calibre14">This will create a new component template and JavaScript files.</p></li><li class="listitem" value="2">Open the <a id="id175" class="calibre1"/><code class="email">log-example.js</code> file in the <code class="email">app/components</code> folder and a new property called <code class="email">helloText</code>:<div class="informalexample"><pre class="programlisting">// app/components/log-example.js
import Ember from 'ember';

export default Ember.Component.extend({
    helloText: 'Hello World'
});</pre></div><p class="calibre14">This is a simple component with just one property.</p></li><li class="listitem" value="3">Open the <code class="email">log-example.hbs</code> file in the <code class="email">app/templates/components</code> directory. Add <code class="email">log</code> to it:<div class="informalexample"><pre class="programlisting">// app/templates/components/log-example.hbs
{{log 'Hello text is' helloText}}</pre></div><p class="calibre14">This will display a string in the browser's console window.</p></li><li class="listitem" value="4">Now we can add this new component to our <code class="email">application.hbs</code> file:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
&lt;br&gt;
&lt;br&gt;
{{log-example}}</pre></div><p class="calibre14">After being rendered, the text <span class="strong"><strong class="calibre9">Hello text is Hello World</strong></span> will be displayed in the console.</p></li><li class="listitem" value="5">In this same example, let's add <code class="email">{{debugger}}</code>. Edit the <code class="email">log-example.hbs</code> file and add it at the bottom:<div class="informalexample"><pre class="programlisting">// app/templates/components/log-example.hbs
{{log 'Hello text is' helloText}}
{{debugger}}
hi</pre></div><p class="calibre14">The debugger is the equivalent of JavaScript's debugger keyword. It will halt the execution of code and allow the inspection of the current rendering context.</p></li><li class="listitem" value="6">If we start the server and load the web page, the browser will halt on the debug statement while loading. At this point, we can open the browser's console window and use the <code class="email">get</code> function to find the current value of <code class="email">helloText</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; get('helloText')</strong></span>
<span class="strong"><strong class="calibre9">&gt; "Hello World"</strong></span>
</pre></div><p class="calibre14">The <code class="email">get</code> command can retrieve any value from the context. In other words, it can retrieve any value from the component or controller. This works the same if the debug statement was in a <code class="email">{{each}}</code> loop.</p></li><li class="listitem" value="7">You can get the context of the view as well in the console debugger:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">&gt; context</strong></span>
</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip21" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Ember Inspector</strong></span></p><p class="calibre8">The Ember Inspector is a plugin for Chrome and Firefox web browsers. It makes it easy to debug and understand your Ember application. When you are using the plugin, you can see all sorts of information on your application, including routes, models, templates, controllers, and components. You can download it from the Firefox or Chrome plugin store for free.</p></div></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Using development helpers" id="147LC1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec59" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The Handlebars library <a id="id176" class="calibre1"/>has made it easy to debug your templates. They are helpers that interact with the web browser to log information to the console or stop the execution of it.</p><p class="calibre8">The Ember's <code class="email">{{debugger}}</code> equivalent in JavaScript is the debugger. Both work very much in the same way.</p></div></div></body></html>