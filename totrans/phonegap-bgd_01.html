<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Introduction to PhoneGap"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Introduction to PhoneGap</h1></div></div></div><p>
<span class="emphasis"><em>PhoneGap is a hybrid application framework that enables you to build native applications using HTML and JavaScript. Developers can write code once and deploy their application across multiple mobile operating systems. PhoneGap provides a JavaScript programming interface that allows you to access features related to the operating system with plain JavaScript. This chapter covers information about PhoneGap and setting up your development environment.</em></span>
</p><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Understanding what PhoneGap is all about</li><li class="listitem" style="list-style-type: disc">Get an overview of the history of Apache Cordova/PhoneGap</li><li class="listitem" style="list-style-type: disc">The evolution of PhoneGap and Cordova</li><li class="listitem" style="list-style-type: disc">Learn the differences between the mobile web and mobile app</li><li class="listitem" style="list-style-type: disc">Learn how to configure your development environment and all the dependencies</li><li class="listitem" style="list-style-type: disc">Learn how to create a new project using JBoss, Xcode, and Visual Studio</li></ul></div><div class="section" title="About PhoneGap"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>About PhoneGap</h1></div></div></div><p>PhoneGap, also <a id="id0" class="indexterm"/>called Apache Cordova, is an open source hybrid mobile application development framework. It uses <a id="id1" class="indexterm"/>standard and well-known web technologies such as HTML, <span class="strong"><strong>Cascading Style Sheets</strong></span> (<span class="strong"><strong>CSS</strong></span>), and JavaScript to create cross-platform mobile applications without using native development languages.</p><p>If you want to develop a native Android application, you should know APIs related to Java and Android SDK. For an iPhone app, you need to know Objective-C or Apple's new Swift language. Similarly, for all other mobile platforms, you need to know their respective programming languages. The code you write for one platform does not work for another platform. To overcome these difficulties, we now have a hybrid mobile development <a id="id2" class="indexterm"/>framework called PhoneGap. The applications that you develop using PhoneGap can be deployed on several other platforms. It's a write-once-deploy-everywhere kind of framework.</p><p>The following is the list of <a id="id3" class="indexterm"/>mobile platforms currently supported by PhoneGap:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Android</li><li class="listitem" style="list-style-type: disc">iOS</li><li class="listitem" style="list-style-type: disc">Amazon FireOS</li><li class="listitem" style="list-style-type: disc">Blackberry 10</li><li class="listitem" style="list-style-type: disc">Firefox OS</li><li class="listitem" style="list-style-type: disc">Ubuntu</li><li class="listitem" style="list-style-type: disc">Windows Phone 8</li><li class="listitem" style="list-style-type: disc">Windows 8</li><li class="listitem" style="list-style-type: disc">Tizen</li><li class="listitem" style="list-style-type: disc">Windows 7</li><li class="listitem" style="list-style-type: disc">Browser</li></ul></div><p>The framework enables developers to access all the hardware-dependent features using simple JavaScript. Developers will be able to access device contacts, location, files, device information, and much more, with simple functions. Note that a new platform called "browser" is now supported. Sound interesting? It is left up to you to increase your curiosity.</p></div></div>
<div class="section" title="PhoneGap and Apache Cordova"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>PhoneGap and Apache Cordova</h1></div></div></div><p>
<span class="strong"><strong>PhoneGap</strong></span> was originally <a id="id4" class="indexterm"/>developed by Nitobi and the company was later acquired by Adobe in 2011. After it was acquired, Adobe donated the PhoneGap code base to the <span class="strong"><strong>Apache Software Foundation</strong></span> (<span class="strong"><strong>ASF</strong></span>) <a id="id5" class="indexterm"/>under the project name <a id="id6" class="indexterm"/>
<span class="strong"><strong>Cordova</strong></span>, which is the name of the street in Vancouver where Nitobi's offices were located and where the company created the first version of PhoneGap.</p><p>One of the biggest advantages of moving the code base to the ASF is that anyone can easily contribute to the project. Many companies are not only comfortable with the Apache-flavored licenses but already have a Contributor License Agreement with Apache. For developers who are interested in contributing to a vibrant open source project, Apache Cordova is a great opportunity.</p><p>PhoneGap<a id="id7" class="indexterm"/> is a free and open licensed distribution of Apache Cordova. Picture Cordova as the engine on which PhoneGap and its related services (debug, emulate, and build services) are built. Adobe provides an integrated platform to build applications for multiple platforms with a single click. If you don't want to use Adobe's build features, you have to manually build applications for each mobile platform. Apart from these, for both PhoneGap and Cordova developers, nothing has changed.</p><p>Adobe continues to play a major role in the project, investing in its ongoing development, and the company decided to keep the PhoneGap name to describe its own distribution of the Cordova project. Other contributors to the Apache Cordova project include Google, RIM, Microsoft, IBM, Nokia, Intel, and Hewlett-Packard. For more details about Cordova and PhoneGap, refer to the following online resources. They have several useful bits of information<a id="id8" class="indexterm"/> and tutorials<a id="id9" class="indexterm"/> for a beginner to start with development:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://cordova.apache.org/">http://cordova.apache.org/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://phonegap.com/">http://phonegap.com/</a></li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>We will be using the terms PhoneGap and Cordova throughout this book and technically both are the same. You can replace Cordova and PhoneGap with each other.</p></div></div><div class="section" title="The evolution of PhoneGap and Cordova"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>The evolution of PhoneGap and Cordova</h2></div></div></div><p>PhoneGap has<a id="id10" class="indexterm"/> evolved very quickly since January 2012, with multiple releases every year. Apache Cordova uses <a id="id11" class="indexterm"/>
<span class="strong"><strong>Semantic Versioning</strong></span> specification (more information is available at <a class="ulink" href="http://semver.org">http://semver.org</a>). It's a very good <a id="id12" class="indexterm"/>practice that tells developers whether a release has major or minor improvements.</p><p>Since the 1.4 release, the <a id="id13" class="indexterm"/>project has been known as Apache Cordova. This release is generally considered the first stable release of the framework, with a fairly complete and up-to-date documentation. The 1.5 release fixed a long list of bugs, but the initial reaction of the community was not very favorable because the documentation was outdated and some changes to the main files caused broken build issues to apps developed with earlier releases.</p><p>The 1.6 release brought some improvements to the plugin architecture, the Camera and Compass APIs, and the project template files. As is often the case with a maturing community, the release was not perfect but there was a significant improvement in the overall quality compared to the previous release. The 1.7 and 1.8 releases were bug fixes and added support for Bada 2.0. The community reaction was also positive because of the speed of the releases. The 1.9 release addressed even more bug fixes and added support for the new features of the iOS and Android platforms.</p><p>Apache Cordova 2.x added the following <a id="id14" class="indexterm"/>features and support:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The definition of a unique JavaScript file to use across all platforms thanks to the unification of the JavaScript layer of the Cordova application framework</li><li class="listitem" style="list-style-type: disc">The introduction of a command-line tool (CLI) through which common operations, such as project creation, debug, and emulation, could be performed in a standard way (Android, iOS, and BlackBerry)</li><li class="listitem" style="list-style-type: disc">The capability to embed PhoneGap applications into larger native iOS and Android applications using Cordova WebView</li><li class="listitem" style="list-style-type: disc">Support for the Windows phone platform</li><li class="listitem" style="list-style-type: disc">The porting of the <a id="id15" class="indexterm"/><span class="strong"><strong>Web Inspector Remote</strong></span> (<span class="strong"><strong>Weinre</strong></span>) to Node.js and the introduction of a node module that facilitates installation using <a id="id16" class="indexterm"/><span class="strong"><strong>Node package manager</strong></span> (<span class="strong"><strong>npm</strong></span>)</li><li class="listitem" style="list-style-type: disc">Improved plugin documentation</li><li class="listitem" style="list-style-type: disc">Several improvements to the process of creating iOS apps</li><li class="listitem" style="list-style-type: disc">The standardization of the commands available for each platform (that is, <code class="literal">build</code>, <code class="literal">run</code>, and so on)</li></ul></div><p>With the 2.x release, Apache Cordova and PhoneGap has become a mature, stable, and powerful tool in the mobile developer's toolkit.</p><p>Since the introduction of version 3.0 in September 2013, PhoneGap has used a new plugin architecture to keep the application core small and fast performing. Plugins can be installed and uninstalled using the updated<a id="id17" class="indexterm"/> Cordova <span class="strong"><strong>command line interface</strong></span> (<span class="strong"><strong>CLI</strong></span>). PhoneGap 3.0 also introduced several new command-line tools; for instance, users can now install PhoneGap easily using npm without downloading ZIP files. Two new APIs, namely InAppBrowser (earlier known as ChildBrowser) and Globalization API were also released with the PhoneGap 3.0 release. They also started discussions about dropping support for webOS, Symbian, Blackberry (BB7 and earlier versions), and Windows Phone 7.</p><p>With PhoneGap 3.1.0, basic support for FirefoxOS and Windows 8 were provided along with other bug fixes and platform enhancements. PhoneGap 3.2.0, released in November 2013, was focused on stability and several bug fixes. In December 2013, PhoneGap 3.3.0 was released with support for Android KitKat (v4.4).</p><p>With the release of PhoneGap 3.4.0, advanced support for FirefoxOS was added. PhoneGap 3.5.0 is the last version supporting Windows 7. With PhoneGap 3.6.3, commands supported by Cordova were added. There are several new features deployed to PhoneGap with every new release. At the time of authoring this book, we have PhoneGap 5.1.1, which provides advanced support for the PhoneGap Desktop App and Mobile App.</p></div></div>
<div class="section" title="Choosing an operating system for development"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Choosing an operating system for development</h1></div></div></div><p>PhoneGap plays <a id="id18" class="indexterm"/>by the rules. If a vendor releases an SDK for a single operating system only, then you will have to use that OS to build and deploy your applications.</p><p>In detail, for each PhoneGap platform:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You can develop <span class="strong"><strong>Android</strong></span> apps<a id="id19" class="indexterm"/> on any of the major desktop operating systems—Windows, Mac OS X, or Linux</li><li class="listitem" style="list-style-type: disc">You can develop <span class="strong"><strong>Symbian Web Runtime</strong></span> apps<a id="id20" class="indexterm"/> on any OS but you can only run the simulator from Windows</li><li class="listitem" style="list-style-type: disc">You can develop <a id="id21" class="indexterm"/>apps for <span class="strong"><strong>BlackBerry</strong></span> on any of the major desktop operating systems—the SDK can be installed on Windows or Mac OS X (to run the emulator, you need to install the virtual machine distributed with the SDK)</li><li class="listitem" style="list-style-type: disc">The <span class="strong"><strong>Windows Phone 8</strong></span> SDK<a id="id22" class="indexterm"/> runs on Windows 8 or Windows 8 Pro</li><li class="listitem" style="list-style-type: disc">The <a id="id23" class="indexterm"/><span class="strong"><strong>iOS</strong></span> SDK requires OS X 10.7 or later (and, according to the OS X EULA, a Mac computer as well)</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>You can emulate apps<a id="id24" class="indexterm"/> in the desktop browser with Ripple (a Chrome extension that is currently incubated in the Apache Software Foundation <a class="ulink" href="http://incubator.apache.org/projects/ripple.html">http://incubator.apache.org/projects/ripple.html</a>) or with the online<a id="id25" class="indexterm"/> emulation service available at <a class="ulink" href="http://emulate.phonegap.com">http://emulate.phonegap.com</a>.</p></div></div><p>Practically speaking, your best bet for mobile development is to get a Mac and install Windows on a separate partition that you can boot into, or run it in a virtual environment using <a id="id26" class="indexterm"/>
<span class="strong"><strong>Parallels</strong></span> or <a id="id27" class="indexterm"/>
<span class="strong"><strong>VMWare Fusion</strong></span>. According to Apple's legal terms, you cannot run Mac OS X on non-Apple hardware; if you stick with a Windows PC, you will be able to build for every platform except iOS. However, you can still use OS X by using VirtualBox and running OS X from a Windows PC.</p><p>Anyway, with the new CLI utilities, it is getting to be pretty easy to build an app for all major mobile platforms. Mobile developers are well aware of the problems involved in building cross-platform apps; not surprisingly, the <a class="ulink" href="http://build.phonegap.com">http://build.phonegap.com</a> service is starting to become pretty popular due to the fact that it lets the developer use his/her favorite operating system. After registering with this service, it's possible to build a <a id="id28" class="indexterm"/>cross-platform app starting from a common code base. You can upload <a id="id29" class="indexterm"/>the code base or pull it from a GitHub repository. At the end of this book, I have included a section dealing with the distribution process for mobile applications.</p></div>
<div class="section" title="Mobile web versus mobile app"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Mobile web versus mobile app</h1></div></div></div><p>There are lots <a id="id30" class="indexterm"/>of discussions that are centered around deciding what kind of development should be done: mobile-responsive websites or a native app. Some popular websites, such as Gmail, have mobile-friendly websites, as well as native apps. To understand this better, let's see what these are:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Responsive websites</p>
</th><th style="text-align: left" valign="bottom">
<p>Mobile app</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Responsive websites work across all kinds of devices, starting from mobile devices to desktop computers. This way of design is often called <span class="strong"><strong>Responsive Web Design</strong></span> (<span class="strong"><strong>RWD</strong></span>).</p>
</td><td style="text-align: left" valign="top">
<p>Applications are designed for mobile devices. They are not meant for desktop computers.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Responsive designs provide a better viewing experience to the users on all devices. </p>
</td><td style="text-align: left" valign="top">
<p>A mobile application gives a typical mobile experience with the entire interface designed with mobile devices in mind.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>RWD involves some development concepts such as fluid grid, CSS media queries, responsive tables, and images.</p>
</td><td style="text-align: left" valign="top">
<p>Mobile-related design patterns are used.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Responsive sites adapt well to the device's screen size, which makes reading the content easier.</p>
</td><td style="text-align: left" valign="top">
<p>Content is usually designed for mobile screen sizes. Readability is always better.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Mobile web is a normal website, which adapts to mobile devices.</p>
</td><td style="text-align: left" valign="top">
<p>Mobile apps have the power of doing more than a simple website.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Responsive design is a cost-effective alternative to mobile applications.</p>
</td><td style="text-align: left" valign="top">
<p>Dedicated development and time needs to be invested for application development.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>As with any other website, they are restricted to the features of browser.</p>
</td><td style="text-align: left" valign="top">
<p>Provides rich user experience by using several device-related APIs such as Camera, Accelerometer, and so on.</p>
</td></tr></tbody></table></div><p>For more information about RWD and the design principles behind it, please read the fundamentals at <a class="ulink" href="https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/">https://developers.google.com/web/fundamentals/layouts/rwd-fundamentals/</a>.</p><p>To summarize, both RWD and mobile apps have advantages and disadvantages. It's the goal of your business or requirement that decides which one you are going to develop. If you are going to develop mobile applications, you should be targeting multiple mobile platforms and it's <a id="id31" class="indexterm"/>not quite possible to code for all platforms within a short time frame. Here comes the power of hybrid mobile applications developed using PhoneGap.</p></div>
<div class="section" title="Installing dependencies"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Installing dependencies</h1></div></div></div><p>In <a id="id32" class="indexterm"/>order to be ready to build a PhoneGap app, it's mandatory <a id="id33" class="indexterm"/>to download and install the latest SDKs for each target <a id="id34" class="indexterm"/>platform of the app from the respective <a id="id35" class="indexterm"/>official websites:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Android</strong></span>: <a class="ulink" href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>BlackBerry 10</strong></span>: <a class="ulink" href="https://developer.blackberry.com/html5/downloads/#blackberry10">https://developer.blackberry.com/html5/downloads/#blackberry10</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Firefox OS</strong></span>: No special SDKs are required</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>iOS</strong></span>: <a class="ulink" href="https://developer.apple.com/devcenter/ios/index.action">https://developer.apple.com/devcenter/ios/index.action</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Windows 8 Phone</strong></span>: <a class="ulink" href="http://www.microsoft.com/en-in/download/details.aspx?id=35471">http://www.microsoft.com/en-in/download/details.aspx?id=35471</a></li></ul></div><p>Each<a id="id36" class="indexterm"/> of the <a id="id37" class="indexterm"/>preceding<a id="id38" class="indexterm"/> platform SDKs have their own <a id="id39" class="indexterm"/>setup<a id="id40" class="indexterm"/> configuration and it's advised to refer to <a id="id41" class="indexterm"/>the respective websites for updated information. To<a id="id42" class="indexterm"/> use several IDEs, such as NetBeans, Eclipse, or JBoss <a id="id43" class="indexterm"/>Developer Studio, we need Java to be available.</p><div class="section" title="Java JDK"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Java JDK</h2></div></div></div><p>You <a id="id44" class="indexterm"/>need to install the most recent <span class="strong"><strong>Java JDK</strong></span> (not just the JRE). Next, create <a id="id45" class="indexterm"/>an environment variable for <code class="literal">JAVA_HOME</code>, pointing to the root folder where the Java JDK was installed. For example, if your installation path is <code class="literal">C:\Program Files\Java\jdk7</code>, set <code class="literal">JAVA_HOME</code> to be this path. After that, add the JDK's <code class="literal">bin</code> directory (<code class="literal">C:\Program Files\Java\jdk7\bin</code>) to the <code class="literal">PATH</code> variable as well.</p></div><div class="section" title="Apache Ant"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Apache Ant</h2></div></div></div><p>We<a id="id46" class="indexterm"/> need <a id="id47" class="indexterm"/>
<span class="strong"><strong>Apache Ant</strong></span> to be installed and configured. Update your <code class="literal">PATH</code> to include the <code class="literal">bin</code> folder in the installation folder. For <a id="id48" class="indexterm"/>advanced configuration details, visit <a class="ulink" href="http://ant.apache.org/manual/index.html">http://ant.apache.org/manual/index.html</a>.</p><p>Due to the latest changes in the PhoneGap framework, it's always suggested to use the command-line interface to create a new project, update the framework, or install plugins. To work with the command line, we will need the<a id="id49" class="indexterm"/> <span class="strong"><strong>Node.js</strong></span> application. To start with, download and install Node.js from <a class="ulink" href="http://nodejs.org">http://nodejs.org</a>. Once you have done this, you should be able to verify the installation by invoking <code class="literal">npm</code> or <code class="literal">node</code> on your command line. You may need to add the <code class="literal">npm</code> directory to your system <code class="literal">PATH</code> in order to invoke globally-installed npm modules.</p><p>At the end of every installation, you should be able to verify the installations of each package with the following commands:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>android list sdk</strong></span>
<span class="strong"><strong>javac –version</strong></span>
<span class="strong"><strong>ant –version</strong></span>
<span class="strong"><strong>node -v</strong></span>
</pre></div><p>If any of the preceding command lines don't work as required, you might need to revisit your system <code class="literal">PATH</code> settings. For example, PhoneGap and Cordova require the <code class="literal">ANDROID_HOME</code> environment variable to be set in <code class="literal">PATH</code>. This should point to the <code class="literal">[ANDROID_SDK_DIR]\android-sdk</code> directory (for example, <code class="literal">c:\android\android-sdk</code>).</p><p>Next, update your <code class="literal">PATH</code> to include the <code class="literal">tools/</code> and <code class="literal">platform-tools/</code> folders. So, using <code class="literal">ANDROID_HOME</code>, you would add both <code class="literal">%ANDROID_HOME%\tools</code> and <code class="literal">%ANDROID_HOME%\platform-tools</code>.</p><p>For OS X users, it is also important to install ios-sim. The ios-sim tool is a command-line utility that launches an iOS app on the simulator. To install the tool, you can again use npm, as shown here:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>npm install –g ios-sim</strong></span>
</pre></div><p>Depending on your privileges, you may have to run the <code class="literal">npm</code> command as an administrator (that is, adding <code class="literal">sudo</code> before the <code class="literal">npm</code> command).</p><p>Once the SDKs are installed, it's recommended that you also install the client for GitHub. GitHub is a social coding platform where you can find most of the cool open source projects (such as Apache Cordova), including access to the latest patches, builds, and sources. You can easily build your project for multiple platforms using PhoneGap's free online build service from a public GitHub repository.</p></div></div>
<div class="section" title="Installing PhoneGap"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Installing PhoneGap</h1></div></div></div><p>Starting <a id="id50" class="indexterm"/>from Apache Cordova 2.0, the installation process and the setting up of your development environment has become much easier. Before the era of 2.0, the installation process of PhoneGap had been confusing because there were a lot of dependencies. These dependencies were due to the fact that, in order to compile an app for different platforms, you not only had to have the platform-specific SDKs but also the platform-specific tools; for example, in order to build for Android, Eclipse, IntelliJ, or Android Studio were required; to build for iOS, Xcode was required; and so on.</p><p>You can now use a set of command-line tools shipped with Cordova, which makes it easier to develop cross-platform applications. Installing Cordova and PhoneGap is now as easy as issuing a few commands. Please note that we can use CLI commands related to Cordova or PhoneGap. The <a id="id51" class="indexterm"/>PhoneGap CLI offers more added features than its Cordova counterpart such as support for PhoneGap Desktop and Mobile app.</p><p>To kick-start the development, let's create a new project. We will use the npm utility Node.js to automatically download the latest framework code.</p><p>In the Windows environment, issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>C:\&gt;npm install -g phonegap</strong></span>
</pre></div><p>On Linux and OS X, issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ sudo npm install -g phonegap</strong></span>
</pre></div><p>By using the <code class="literal">-g</code> flag in the preceding command, we instruct npm to install PhoneGap globally; otherwise, it will be installed in the current directory. Once the installation process is done, verify the installation by issuing the following command in the command-line terminal. This should return the latest version number of PhoneGap.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>phonegap --version</strong></span>
</pre></div><p>Once we have verified the Cordova installation, we can create a new app project by using the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>phonegap create hello</strong></span>
</pre></div><p>It may take some time for this command to complete. This is the minimal syntax required to create a project where <code class="literal">hello</code> is the project name. A new folder named <code class="literal">hello</code> will be created in the current working directory. The directory content will be as shown here:</p><div class="informalexample"><pre class="programlisting">├── hooks
├── merges
├── platforms
├── plugins
├── www
|   └── css
|   └── img
|   └── js
|   └── index.html
├── config.xml</pre></div><p>In the <code class="literal">www</code> folder, you'll<a id="id52" class="indexterm"/> find the HTML/JS/CSS files needed to run the sample PhoneGap app bundled with the binary of the distribution.</p></div>
<div class="section" title="Setting up your development environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Setting up your development environment</h1></div></div></div><p>This section <a id="id53" class="indexterm"/>provides a detailed guide to setting up the Android, iOS, and Windows Phone development environments. In order to set up a development environment based on a simple text editor, it suffices to run a few commands using the command-line tool.</p></div>
<div class="section" title="Time for action &#x2013; setting up Android using PhoneGap 3.x"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Time for action – setting up Android using PhoneGap 3.x</h1></div></div></div><p>Get <a id="id54" class="indexterm"/>ready to set up the Android development environment and create a PhoneGap app using Android as the target platform. In the previous section, we saw how to create a new project. Now it's time to add the desired platform to the project. As usual, use Terminal on OS X or DOS Prompt on Windows to run these commands.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Launch a command-line tool (DOS or Terminal) and change the directory to the directory where we just downloaded the Cordova/PhoneGap distribution, as shown here:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cd hello</strong></span>
</pre></div></li><li class="listitem">In order to create a PhoneGap project for Android, all you have to do is run the command to add a platform to the project:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap platform add android</strong></span>
</pre></div></li></ol></div><p>The command tells Cordova to add support for the Android platform. After the successful execution of the command, you can see a new directory named <code class="literal">android</code> created inside the platform directory. This contains all the platform-dependent files.</p><p>Now it's time to run the project in the emulator. The following command will take some time to complete:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap emulate android</strong></span>
</pre></div><p>The tool will check whether some virtual devices are already defined and prompt the user to define one if not. If there is more than one device already defined, the tool will ask which one to use.</p><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You created a PhoneGap project and emulated the app in one of the testing devices configured within your Android SDK.</p></div><div class="section" title="Working with other platforms"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Working with other platforms</h2></div></div></div><p>To<a id="id55" class="indexterm"/> work with different platforms such as iOS, Windows Phone, and others, you have to follow the same process that we did for Android. The list of platforms that you can add to your project depends on the platform name. Before you add the platforms, you should ensure that you have the required SDKs installed on your machine.</p><p>On a Windows machine, you can run any of the following commands provided you have the required SDKs installed for each platform. You will not see the iOS platform here as we need a Mac machine to work on iOS:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>C:\hello&gt; phonegap platform add wp7</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add wp8</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add windows8</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add amazon-fireos</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add android</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add blackberry10</strong></span>
<span class="strong"><strong>C:\hello&gt; phonegap platform add firefoxos</strong></span>
</pre></div><p>In the preceding commands, <code class="literal">wp7</code> and <code class="literal">wp8</code> denote Windows Phone 7 and 8, respectively.</p><p>On a Mac machine, you can develop on the following platforms after installing the corresponding platform SDKs. You will not see the Windows Phone platform here as we need the Windows operating system to install the Windows Phone SDK:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap platform add ios</strong></span>
<span class="strong"><strong>$ phonegap platform add amazon-fireos</strong></span>
<span class="strong"><strong>$ phonegap platform add android</strong></span>
<span class="strong"><strong>$ phonegap platform add blackberry10</strong></span>
<span class="strong"><strong>$ phonegap platform add firefoxos</strong></span>
</pre></div></div></div>
<div class="section" title="Getting started with Android and JBoss"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Getting started with Android and JBoss</h1></div></div></div><p>There are <a id="id56" class="indexterm"/>several IDEs for<a id="id57" class="indexterm"/> Java and a few of them are <a id="id58" class="indexterm"/>
<span class="strong"><strong>IntelliJ IDEA</strong></span>, <span class="strong"><strong>Eclipse</strong></span>, <span class="strong"><strong>NetBeans</strong></span>, and <span class="strong"><strong>JBoss Developer Studio</strong></span>. Android Studio <a id="id59" class="indexterm"/>is the most recommended and commonly used IDE for Android development. However, it does not provide support for Cordova/PhoneGap development. When compared to others, JBoss Developer Studio <a id="id60" class="indexterm"/>provides a very easy and convenient way of creating and working with the PhoneGap project. You can download the latest version from the <a id="id61" class="indexterm"/>JBoss website at <a class="ulink" href="https://www.jboss.org/products/devstudio/download/">https://www.jboss.org/products/devstudio/download/</a>. In order to run a sample application based on Apache Cordova/PhoneGap, you need to install the Android SDK, and add the <a id="id62" class="indexterm"/>
<span class="strong"><strong>JBoss Hybrid Mobile Tools</strong></span> plugin to your JBoss install. This tool extends the capabilities of JBoss to let you quickly set up new Cordova projects, add Cordova plugins, debug applications, and even export signed (or unsigned) APK files in order to distribute the application.</p></div>
<div class="section" title="Time for action &#x2013; using JBoss Developer Studio"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Time for action – using JBoss Developer Studio</h1></div></div></div><p>In order to<a id="id63" class="indexterm"/> install Hybrid Mobile Tools into JBoss, it's enough to perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Start JBoss Developer Studio and then navigate to <span class="strong"><strong>Help</strong></span> | <span class="strong"><strong>JBoss Central</strong></span>.</li><li class="listitem">Click on the <span class="strong"><strong>Software/Update</strong></span> tab in JBoss Developer Central.</li><li class="listitem">Type <code class="literal">JBoss Hybrid Mobile Tools</code> or scroll through the list to locate <span class="strong"><strong>JBoss Hybrid Mobile Tools + CordovaSim</strong></span>.</li><li class="listitem">Select the corresponding checkbox and click on <span class="strong"><strong>Install</strong></span>.</li><li class="listitem">When prompted to restart the IDE after installation, click on <span class="strong"><strong>Yes</strong></span> to restart JBoss Developer Studio.</li></ol></div><p>Once the JBoss Hybrid Mobile Tools installation is properly configured, it's possible to create a new project using the appropriate wizard.</p><p>Go to <span class="strong"><strong>JBoss Hybrid Mobile Tools</strong></span> | <span class="strong"><strong>New</strong></span> | <span class="strong"><strong>Other</strong></span>. Next, select <span class="strong"><strong>Hybrid Mobile (Cordova) Application Project</strong></span> in the <span class="strong"><strong>Mobile</strong></span> section. Click on <span class="strong"><strong>Next</strong></span>:</p><div class="mediaobject"><img src="graphics/B03476_01_01.jpg" alt="Time for action – using JBoss Developer Studio"/></div><p>Enter the values <a id="id64" class="indexterm"/>for <span class="strong"><strong>Project name</strong></span>, <span class="strong"><strong>Name</strong></span>, and <span class="strong"><strong>ID</strong></span>. We will use <code class="literal">example</code> for <span class="strong"><strong>Name</strong></span> and <code class="literal">org.example</code> for <span class="strong"><strong>ID</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B03476_01_02.jpg" alt="Time for action – using JBoss Developer Studio"/></div><p>Click on <span class="strong"><strong>Next</strong></span>
<a id="id65" class="indexterm"/> to see the options to select which Cordova version to use. Let's always go with the latest version:</p><div class="mediaobject"><img src="graphics/B03476_01_03.jpg" alt="Time for action – using JBoss Developer Studio"/></div><p>Clicking on <span class="strong"><strong>Next</strong></span> <a id="id66" class="indexterm"/>again will present the option to install some plugins. For this tutorial, we don't need any plugins to be installed. So we don't select anything.</p><p>Click on <span class="strong"><strong>Finish</strong></span> to exit the wizard.</p><p>At the end of the wizard, a default application will be created for you. Now let's build the created application and see how it looks on the emulator. Click on the <span class="strong"><strong>Run As</strong></span> toolbar icon and select the <span class="strong"><strong>Run with CordovaSim</strong></span> option to open the simulator:</p><div class="mediaobject"><img src="graphics/B03476_01_04.jpg" alt="Time for action – using JBoss Developer Studio"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>Once the build process is done, you will see an emulator on the screen. With this, we are now able to create a new project and emulate it successfully:</p><div class="mediaobject"><img src="graphics/B03476_01_05.jpg" alt="What just happened?"/></div></div></div>
<div class="section" title="Getting started with iOS and Xcode"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec20"/>Getting started with iOS and Xcode</h1></div></div></div><p>In order to start <a id="id67" class="indexterm"/>developing apps for iOS devices, it's mandatory to have a Mac and download the iOS SDK (Xcode), available on the Apple Developer Center at <a class="ulink" href="http://developer.apple.com">http://developer.apple.com</a>. Complete the following steps to install Xcode:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Install <a id="id68" class="indexterm"/>Xcode from the App Store.</li><li class="listitem">Install the Xcode command-line tools (<span class="strong"><strong>Xcode Preferences</strong></span> | <span class="strong"><strong>Downloads</strong></span> | <span class="strong"><strong>Components</strong></span> | <span class="strong"><strong>Command Line Tools</strong></span> | <span class="strong"><strong>Install</strong></span>).</li></ol></div><p>Now, let's create an iOS <a id="id69" class="indexterm"/>project using the command-line tools, as shown here:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap create hello</strong></span>
<span class="strong"><strong>$ cd hello</strong></span>
<span class="strong"><strong>$ phonegap platform add ios</strong></span>
<span class="strong"><strong>$ phonegap build</strong></span>
</pre></div><p>Once the preceding commands are executed, you will have the Xcode project created. You can see the <code class="literal">hello/platforms/ios/hello.xcodeproj</code> file and you can double-click on it to open it. With this, our project is already set up and ready to be debugged and deployed.</p><p>In order to <a id="id70" class="indexterm"/>deploy the app, change <span class="strong"><strong>Target</strong></span> in the <span class="strong"><strong>Scheme</strong></span> drop-down menu on the toolbar to <span class="strong"><strong>Hello</strong></span> (or the current project name) and change <span class="strong"><strong>Active SDK</strong></span> in the <span class="strong"><strong>Scheme</strong></span> drop-down menu on the toolbar to <span class="strong"><strong>iOS [version] Simulator</strong></span>. Once you have done this, click on the <span class="strong"><strong>Run</strong></span> button.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>If you are searching for a tool for Objective-C with advanced refactoring features, better code completion, great support for unit tests, and powerful code inspection tools, you should consider buying <a id="id71" class="indexterm"/>
<span class="strong"><strong>AppCode</strong></span> from <span class="strong"><strong>JetBrains</strong></span>. More<a id="id72" class="indexterm"/> information is available at <a class="ulink" href="http://www.jetbrains.com/objc/">http://www.jetbrains.com/objc/</a>.</p></div></div></div>
<div class="section" title="Getting started with Windows Phone and Visual Studio"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec21"/>Getting started with Windows Phone and Visual Studio</h1></div></div></div><p>Microsoft<a id="id73" class="indexterm"/> Visual Studio now has plugins for multi-device hybrid apps, including Cordova, which<a id="id74" class="indexterm"/> allows you to run and debug apps on an Android/Windows Phone. If you want to debug the app on a real device, you have to create a developer account at <a class="ulink" href="https://dev.windowsphone.com/en-us/account">https://dev.windowsphone.com/en-us/account</a> in order to unlock the option to debug a real device.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec22"/>Summary</h1></div></div></div><p>In this chapter, you learned how to set up your development environment using the CLI tools included in Apache Cordova and working with several platforms. The next chapter will help you choose a development environment and show you how to debug your first app on multiple platforms.</p></div></body></html>