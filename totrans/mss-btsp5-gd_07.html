<html><head></head><body>
<div><div><h1 id="_idParaDest-128"><em class="italic"><a id="_idTextAnchor130"/>Chapter 6</em>: Understanding and Using the Bootstrap 5 Utility API</h1>
<p>In this chapter, we will learn how to use the <strong class="bold">utility API</strong> to generate and add new simple and complex utilities as well as overwrite, modify, and remove existing utilities.</p>
<p>It’s useful to know how to use the utility API when you need to make small adjustments to your components or general layout, for example, to control the spacing or sizing of elements, add contextual color, change the border, or create a layout based on <strong class="bold">flexbox</strong>.</p>
<p>In this chapter, we’re going to cover the following topics:</p>
<ul>
<li>About the utility API</li>
<li>Understanding the utility API syntax</li>
<li>Using the utility API</li>
</ul>
<p>For the two last sections, there will be plenty of code examples to help understand the powerful utility API.</p>
<h1 id="_idParaDest-129"><a id="_idTextAnchor131"/>Technical requirements</h1>
<ul>
<li>To preview the examples, you will need a code editor and a browser. The source code for all code examples can be found here: <a href="https://github.com/PacktPublishing/The-Missing-Bootstrap-5-Guide">https://github.com/PacktPublishing/The-Missing-Bootstrap-5-Guide</a>.</li>
<li>You will need a Sass compiler to compile the Sass files to CSS. Please see <a href="B17143_02_epub.xhtml#_idTextAnchor033"><em class="italic">Chapter 2</em></a>, <em class="italic">Using and Compiling Sass</em>, for different ways to do this.</li>
</ul>
<h1 id="_idParaDest-130"><a id="_idTextAnchor132"/>About the utility API</h1>
<p>Bootstrap 5 <a id="_idIndexMarker328"/>features <a id="_idIndexMarker329"/>a so-called utility API, which is used to <a id="_idIndexMarker330"/>generate the different utility classes and/or CSS custom properties (also referred to as CSS variables). It <a id="_idIndexMarker331"/>works in the following way:</p>
<ul>
<li>The <code>_utilities.scss</code> file contains the <code>$utilities</code> variable, which is a Sass map containing various settings used by the utility API. It’s actually multiple maps that are merged into one single map with nested maps using the <code>map-merge()</code> Sass function. There are 83 groups of utility classes, which are grouped by their name. Their settings and values differ in each of them, but some of them share some of the values (such as some of the flex utilities sharing the <code>flex</code> class prefix).</li>
<li>The <code>$utilities</code> variable is used in the <code>utilities/_api.scss</code> file, which is imported after all the other Bootstrap 5 elements.</li>
<li>In the <code>utilities/_api.scss</code> file, the <code>$utilities</code> variable is passed as an argument to a <code>generate-utility()</code> mixin, which is located in the <code>mixins/_utilities.scss</code> file.</li>
<li>The <code>generate-utility()</code> mixin is the largest and most advanced of Bootstrap 5’s various mixins found in the <code>mixin</code> subfolder. This is where the real magic happens when a Sass map with the required and optional values is passed to it.</li>
</ul>
<p>We won’t learn how the Sass code in the utility API works in detail, but instead, we will learn its syntax and see different examples of how we can use it to generate and add both simple and complex new utilities as well as overwrite, modify, and remove existing utilities.</p>
<h1 id="_idParaDest-131"><a id="_idTextAnchor133"/>Understanding the utility API syntax</h1>
<p>Let’s now take <a id="_idIndexMarker332"/>a look at the syntax of the utility API. First is an overview of the syntax with all the options: one line of comment above each line of code per option. In the comments, you can see the name and, in brackets, whether the option is required <a id="_idIndexMarker333"/>or optional, and in the line of code, you can see the name followed by the type of values accepted in square brackets as well as the default value (if any) in brackets:</p>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  // Name (required)</pre>
<pre class="source-code">  "[String]": (</pre>
<pre class="source-code">    // Property (required)</pre>
<pre class="source-code">    property: [name],</pre>
<pre class="source-code">    // Values (required)</pre>
<pre class="source-code">    values: [space-separated list or map],</pre>
<pre class="source-code">    // Class (optional)</pre>
<pre class="source-code">    class: [name (null)],</pre>
<pre class="source-code">    // CSS variable utilities (optional)</pre>
<pre class="source-code">    css-var: [Boolean (false)],</pre>
<pre class="source-code">    // CSS variable name (optional)</pre>
<pre class="source-code">    css-variable-name: [name (null)],</pre>
<pre class="source-code">    // Local CSS variables (optional)</pre>
<pre class="source-code">    local-vars: [map (null)],</pre>
<pre class="source-code">    // State (optional)</pre>
<pre class="source-code">    state: [space-separated list (null)],</pre>
<pre class="source-code">    // Responsive (optional)</pre>
<pre class="source-code">    responsive: [Boolean (false)],</pre>
<pre class="source-code">    // RFS (optional)</pre>
<pre class="source-code">    rfs: [Boolean (false)],</pre>
<pre class="source-code">    // Print (optional),</pre>
<pre class="source-code">    print: [Boolean (false)],</pre>
<pre class="source-code">    // RTL,</pre>
<pre class="source-code">    rtl: [Boolean (true)]</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<p>We will go<a id="_idIndexMarker334"/> through each of these options and see what they do together with some examples.</p>
<h2 id="_idParaDest-132"><a id="_idTextAnchor134"/>About the code examples</h2>
<p>For<a id="_idIndexMarker335"/> all code examples in this chapter, the Bootstrap 5 imports have been reduced to include just the necessary ones when working with the utility API. For the examples in this section related to the utility API syntax, the required imports in the top of the SCSS files are as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">style.scss</p>
<pre class="source-code">// Required</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/functions";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/variables";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/maps";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/mixins";</pre>
<p>For the other examples related to using the utility API, the required imports in the top of the SCSS files are as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">style.scss</p>
<pre class="source-code">// Required</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/functions";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/variables";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/maps";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/mixins";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/root";</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/reboot";</pre>
<p>After the<a id="_idIndexMarker336"/> required imports, we import the default utilities, add our own custom code, and finally, import the utilities API. It looks something like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">style.scss</p>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/utilities";</pre>
<pre class="source-code">// Custom code here</pre>
<pre class="source-code">// Utilities API</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/utilities/api";</pre>
<p>Now that we have seen the structure of the SCSS files for this chapter, we can omit the code that’s simply importing the Bootstrap 5 partials and focus on the custom code. The HTML examples have also been reduced to show only the necessary code. Remember, for each code example, there are file references to the full example with all the imports in place.</p>
<h2 id="_idParaDest-133"><a id="_idTextAnchor135"/>Name</h2>
<p>This is <a id="_idIndexMarker337"/>the name of the utility, which should be a string in quotes. It’s not used in the generated CSS, so it’s more a way of organizing the code:</p>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Utility name": (</pre>
<pre class="source-code">    // Options defined here</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<h2 id="_idParaDest-134"><a id="_idTextAnchor136"/>CSS property</h2>
<p>The CSS property <a id="_idIndexMarker338"/>should be written without any quotes and must be a valid CSS property. It can be one CSS property (most common) or a space-separated list of CSS properties. It’s used for the CSS rule and is also the default class name if the <code>class</code> key is not defined.</p>
<h3>One CSS property</h3>
<p>Here’s an example <a id="_idIndexMarker339"/>with one CSS property:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-single/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-single/css/style.css</p>
<pre class="source-code">.font-weight-300 { font-weight: 300 !important }</pre>
<pre class="source-code">.font-weight-400 { font-weight: 400 !important }</pre>
<pre class="source-code">.font-weight-700 { font-weight: 700 !important }</pre>
<p>We can now see<a id="_idIndexMarker340"/> the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-single/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-700"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>To see this in action, open the HTML file in a browser.</p>
<h3>Multiple CSS properties</h3>
<p>Here’s an example <a id="_idIndexMarker341"/>with multiple CSS properties:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-multiple/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Spacing": (</pre>
<pre class="source-code">    property: margin padding,</pre>
<pre class="source-code">    values: $spacers,</pre>
<pre class="source-code">    class: spacing</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles to<a id="_idIndexMarker342"/> the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-multiple/css/style.css</p>
<pre class="source-code">.spacing-0 {</pre>
<pre class="source-code">  margin: 0 !important;</pre>
<pre class="source-code">  padding: 0 !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.spacing-1 {</pre>
<pre class="source-code">  margin: .25rem !important;</pre>
<pre class="source-code">  padding: .25rem !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.spacing-2 {</pre>
<pre class="source-code">  margin: .5rem !important;</pre>
<pre class="source-code">  padding: .5rem !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.spacing-3 {</pre>
<pre class="source-code">  margin: 1rem !important;</pre>
<pre class="source-code">  padding: 1rem !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.spacing-4 {</pre>
<pre class="source-code">  margin: 1.5rem !important;</pre>
<pre class="source-code">  padding: 1.5rem !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.spacing-5 {</pre>
<pre class="source-code">  margin: 3rem !important;</pre>
<pre class="source-code">  padding: 3rem !important</pre>
<pre class="source-code">}</pre>
<p>We can now<a id="_idIndexMarker343"/> see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-property-multiple/index.xhtml</p>
<pre class="source-code">&lt;div style="margin: 1rem; padding: 1rem;" </pre>
<pre class="source-code">  class="spacing-0"&gt;.spacing-0&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="spacing-1"&gt;.spacing-1&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="spacing-2"&gt;.spacing-2&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="spacing-3"&gt;.spacing-3&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="spacing-4"&gt;.spacing-4&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="spacing-5"&gt;.spacing-5&lt;/div&gt;</pre>
<p>To see this in action, open the HTML file in a browser.</p>
<h2 id="_idParaDest-135"><a id="_idTextAnchor137"/>Values</h2>
<p>This <a id="_idIndexMarker344"/>specifies the values for the specified CSS property, which are used when generating the class names and CSS rules.</p>
<p>It can be a space-separated list of values to use both in the class name and CSS rule:</p>
<pre class="source-code">values: 300 400 700</pre>
<p>Or, you can use a map if you don’t want the class name to be the same as the value:</p>
<pre class="source-code">values: (</pre>
<pre class="source-code">  light: 300,</pre>
<pre class="source-code">  normal: 400,</pre>
<pre class="source-code">  bold: 700</pre>
<pre class="source-code">)</pre>
<p>Let’s use our first example with one CSS property again and change the values from a list to a map:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/values/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: (</pre>
<pre class="source-code">      light: 300,</pre>
<pre class="source-code">      normal: 400,</pre>
<pre class="source-code">      bold: 700</pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This <a id="_idIndexMarker345"/>compiles to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/values/css/style.css</p>
<pre class="source-code">.font-weight-light { font-weight: 300 !important }</pre>
<pre class="source-code">.font-weight-normal { font-weight: 400 !important }</pre>
<pre class="source-code">.font-weight-bold { font-weight: 700 !important }</pre>
<p>It’s also possible to refer to a Sass variable that stores the list or map:</p>
<pre class="source-code">values: $font-weights</pre>
<p>We can now see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/values/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-light"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-normal"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-bold"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>To see this in action, open<a id="_idIndexMarker346"/> the HTML file in a browser.</p>
<h2 id="_idParaDest-136"><a id="_idTextAnchor138"/>Class</h2>
<p>This <a id="_idIndexMarker347"/>option is used to change the <code>class</code> prefix used in the compiled CSS. This is optional, and the prefix should be written without quotes. Consider our first example from before:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/class/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    class: fw</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/class/css/style.css</p>
<pre class="source-code">.fw-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">.fw-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">.fw-700 { font-weight: 700 !important; }</pre>
<p>We can<a id="_idIndexMarker348"/> now see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/class/index.xhtml</p>
<pre class="source-code">&lt;p class="fw-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="fw-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="fw-700"&gt;Lorem ipsum...p&gt;</pre>
<p>To see this in action, open the HTML file in a browser.</p>
<h2 id="_idParaDest-137"><a id="_idTextAnchor139"/>CSS variable utilities</h2>
<p>This is a<a id="_idIndexMarker349"/> Boolean option that can be used to generate CSS variables for the selector instead of regular CSS rules.</p>
<p>Let’s change our first example to generate CSS variables instead of regular CSS rules:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-variable-utilities/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    css-variable-name: fw,</pre>
<pre class="source-code">    css-var: true</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This <a id="_idIndexMarker350"/>compiles to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-variable-utilities/css/style.css</p>
<pre class="source-code">.font-weight-300 { --bs-fw: 300 }</pre>
<pre class="source-code">.font-weight-400 { --bs-fw: 400 }</pre>
<pre class="source-code">.font-weight-700 { --bs-fw: 700 }</pre>
<p>We can now see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-variable-utilities/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-700"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>This HTML must be combined with the following CSS, which is located in the <code>&lt;style&gt;</code> tag of the HTML file in our example:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/css-variable-utilities/index.xhtml</p>
<pre class="source-code">p[class^="font-weight"] { font-weight: var(--bs-fw); }</pre>
<p>The CSS selector targets all the paragraph elements on the page that have a class starting with <code>font-weight</code>, and it then sets the font weight using the <code>--bs-fw</code> variable stored together with the various class names.</p>
<p>To see this in action, open the HTML file in a browser.</p>
<h2 id="_idParaDest-138"><a id="_idTextAnchor140"/>CSS variable name</h2>
<p>This option <a id="_idIndexMarker351"/>defines the prefix for the CSS variable utilities coming after the default <code>--bs-</code> prefix, which we used together with <code>css-var: true</code> in the previous example like this: <code>css-variable-name: fw</code>. The full prefix, as we saw, then became <code>--bs-fw</code>.</p>
<h2 id="_idParaDest-139"><a id="_idTextAnchor141"/>Local CSS variables</h2>
<p>Using <a id="_idIndexMarker352"/>this Boolean option, the utility API will still generate CSS rules, but also local CSS variables within these rules. You must specify a Sass map as the value, where the keys of the map are the CSS variable names, and the values of the map are the CSS variable values.</p>
<p>Let's change our first example to also generate local CSS variables:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/local-css-variables/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    local-vars: (</pre>
<pre class="source-code">      font-weight-opacity: 0.5 </pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/local-css-variables/css/style.css</p>
<pre class="source-code">.font-weight-300 {</pre>
<pre class="source-code">  --bs-font-weight-opacity: .5;</pre>
<pre class="source-code">  font-weight: 300 !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.font-weight-400 {</pre>
<pre class="source-code">  --bs-font-weight-opacity: .5;</pre>
<pre class="source-code">  font-weight: 400 !important</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.font-weight-700 {</pre>
<pre class="source-code">  --bs-font-weight-opacity: .5;</pre>
<pre class="source-code">  font-weight: 700 !important</pre>
<pre class="source-code">}</pre>
<p>We can now <a id="_idIndexMarker353"/>see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/local-css-variables/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-700"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>This HTML must be combined with the following CSS, which is located in the <code>&lt;style&gt;</code> tag of the HTML file in our example:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/local-css-variables/index.xhtml</p>
<pre class="source-code">p[class^="font-weight"] {</pre>
<pre class="source-code">  opacity: var(--bs-font-weight-opacity);</pre>
<pre class="source-code">}</pre>
<p>The CSS selector targets <a id="_idIndexMarker354"/>all the paragraph elements on the page that have a class starting with <code>font-weight</code>, and it then sets the font weight using the <code>--bs-font-weight-opacity</code> variable stored together with the various class names.</p>
<p>To see this in action, open the HTML file in a browser.</p>
<h2 id="_idParaDest-140"><a id="_idTextAnchor142"/>State</h2>
<p>This option is <a id="_idIndexMarker355"/>used to generate pseudo-class variations in addition to the normal utility classes. You can specify a single pseudo-class or a space-separated list of pseudo-classes. When using the <code>state</code> option, the utility API will generate class names for that pseudo-class, and the name of the pseudo-class will be appended to the class names.</p>
<p>Let’s change our first example yet again:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/state/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    state: hover</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles<a id="_idIndexMarker356"/> to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/state/css/style.css</p>
<pre class="source-code">.font-weight-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">.font-weight-300-hover:hover { font-weight: 300 !important; }</pre>
<pre class="source-code">.font-weight-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">.font-weight-400-hover:hover { font-weight: 400 !important; }</pre>
<pre class="source-code">.font-weight-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">.font-weight-700-hover:hover { font-weight: 700 !important; }</pre>
<p>We can now see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/state/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-300-hover"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-400-hover"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-700-hover"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>To see this in action, open the HTML file in a browser and hover over the paragraphs.</p>
<h2 id="_idParaDest-141"><a id="_idTextAnchor143"/>Responsive</h2>
<p>This Boolean option<a id="_idIndexMarker357"/> is used to generate responsive utilities across all breakpoints. It will insert the device abbreviations as an infix to the class names.</p>
<p>Let’s make our example responsive:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/responsive/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    responsive: true</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles<a id="_idIndexMarker358"/> to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/responsive/css/style.css</p>
<pre class="source-code">.font-weight-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">.font-weight-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">.font-weight-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">@media (min-width: 576px) {</pre>
<pre class="source-code">  .font-weight-sm-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">  .font-weight-sm-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">  .font-weight-sm-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@media (min-width: 768px) {</pre>
<pre class="source-code">  .font-weight-md-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">  .font-weight-md-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">  .font-weight-md-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">// and so on...</pre>
<p>We can now<a id="_idIndexMarker359"/> see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/responsive/index.xhtml</p>
<pre class="source-code">&lt;h3&gt;All breakpoints&lt;/h3&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-700"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;h3&gt;Breakpoint sm&lt;/h3&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-sm-300"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-sm-400"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-sm-700"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">// and so on...</pre>
<p>To see this in action, open the HTML file in a browser and resize the browser window.</p>
<h2 id="_idParaDest-142"><a id="_idTextAnchor144"/>RFS</h2>
<p>This<a id="_idIndexMarker360"/> Boolean option will enable fluid rescaling with the RFS Sass plugin. You will learn more about this plugin in <a href="B17143_10_epub.xhtml#_idTextAnchor227"><em class="italic">Chapter 10</em></a><em class="italic">, Using Bootstrap 5 with Advanced Sass and CSS Features</em>.</p>
<h2 id="_idParaDest-143"><a id="_idTextAnchor145"/>Print</h2>
<p>This <a id="_idIndexMarker361"/>Boolean option will, in addition to the normal utility classes, generate utility classes for print as well.</p>
<p>Let’s use our example one last time:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/print/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">$utilities: (</pre>
<pre class="source-code">  "Font weight": (</pre>
<pre class="source-code">    property: font-weight,</pre>
<pre class="source-code">    values: 300 400 700,</pre>
<pre class="source-code">    print: true</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This compiles<a id="_idIndexMarker362"/> to the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/print/css/style.css</p>
<pre class="source-code">.font-weight-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">.font-weight-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">.font-weight-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">@media print {</pre>
<pre class="source-code">  .font-weight-print-300 { font-weight: 300 !important; }</pre>
<pre class="source-code">  .font-weight-print-400 { font-weight: 400 !important; }</pre>
<pre class="source-code">  .font-weight-print-700 { font-weight: 700 !important; }</pre>
<pre class="source-code">}</pre>
<p>We can now see the effect of this utility by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/api-syntax/print/index.xhtml</p>
<pre class="source-code">&lt;p class="font-weight-print-300 "&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-print-400 "&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="font-weight-print-700 "&gt;Lorem ipsum...&lt;/p&gt;</pre>
<p>To see this<a id="_idIndexMarker363"/> in action, open the HTML file in a browser and then select <strong class="bold">Print</strong> in your browser’s menu. This will open a <strong class="bold">Print</strong> dialog where you can see a preview of the page with the print styles applied.</p>
<h2 id="_idParaDest-144"><a id="_idTextAnchor146"/>RTL</h2>
<p>This <a id="_idIndexMarker364"/>Boolean option specifies whether the utility should be included in the RTL version of the compiled stylesheet. This is a version of Bootstrap 5 with support for right-to-left text across layout, components, and utilities.</p>
<h2 id="_idParaDest-145"><a id="_idTextAnchor147"/>!important</h2>
<p>All utility classes <a id="_idIndexMarker365"/>generated with the utility API have <code>!important</code> added to be sure they overwrite styling for components and modifier classes. This can be disabled by setting the <code>$enable-important-utilities</code> option to <code>false</code>, which we saw earlier in <a href="B17143_04_epub.xhtml#_idTextAnchor079"><em class="italic">Chapter 4</em></a>, <em class="italic">Bootstrap 5 Global Options and Colors</em>.</p>
<h2 id="_idParaDest-146"><a id="_idTextAnchor148"/>More examples of the syntax</h2>
<p>To see more <a id="_idIndexMarker366"/>examples of the syntax for the utility API, you can go through the <code>_utilities.scss</code> file in Bootstrap 5. Here, you will see the syntax being used to generate all the default utility classes found in Bootstrap 5.</p>
<h1 id="_idParaDest-147"><a id="_idTextAnchor149"/>Using the utility API</h1>
<p>We have<a id="_idIndexMarker367"/> seen what the syntax of the utility API looks like, and we will now see some examples of how to use it for different purposes. First, we will see examples of how to generate and add both simple and complex new utilities, and then we will see examples of how to overwrite, modify, and remove existing utilities. To do this, we’re going <a id="_idIndexMarker368"/>to use the following two Sass functions: <code>map-merge()</code> (to merge existing maps) and <code>map-get()</code> (to get a value associated with a key from a specified Sass map).</p>
<h2 id="_idParaDest-148"><a id="_idTextAnchor150"/>Adding a simple utility</h2>
<p>First, we will <a id="_idIndexMarker369"/>generate and add a simple cursor utility, which can be used to change the cursor when hovering over specific elements. We’re specifying the name of the utility (<code>"cursor"</code>), the CSS property to use (<code>cursor</code>), and the values to use for that CSS property (<code>auto context-menu copy grab help pointer wait</code>). These are the minimum required options to specify when using the utility API.</p>
<p>Before using the syntax of the utility API, we’re merging the existing utility settings in the <code>$utilities</code> variable with this new utility using the <code>map-merge()</code> Sass function. This is done to avoid overwriting the <code>$utilities</code> variable and losing all the default utilities.</p>
<p>The code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-simple-utility/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">// Generate simple cursor utilities</pre>
<pre class="source-code">$utilities: map-merge(</pre>
<pre class="source-code">  $utilities,</pre>
<pre class="source-code">  (</pre>
<pre class="source-code">    "cursor": (</pre>
<pre class="source-code">      property: cursor,</pre>
<pre class="source-code">      values: auto context-menu copy grab help pointer wait</pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This will <a id="_idIndexMarker370"/>compile all the default utilities, as well as the following new utilities:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-simple-utility/css/style.css</p>
<pre class="source-code">.cursor-auto { cursor: auto !important; }</pre>
<pre class="source-code">.cursor-context-menu { cursor: context-menu !important; }</pre>
<pre class="source-code">.cursor-copy { cursor: copy !important; }</pre>
<pre class="source-code">.cursor-grab { cursor: grab !important; }</pre>
<pre class="source-code">.cursor-help { cursor: help !important; }</pre>
<pre class="source-code">.cursor-pointer { cursor: pointer !important; }</pre>
<pre class="source-code">.cursor-wait{ cursor: wait !important; }</pre>
<p>We can now see the effect of these utilities by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-simple-utility/index.xhtml</p>
<pre class="source-code">&lt;p class="cursor-auto"&gt;.cursor-auto&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-context-menu"&gt;.cursor-context-menu&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-copy"&gt;.cursor-copy&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-grab"&gt;.cursor-grab&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-help"&gt;.cursor-help&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-pointer"&gt;.cursor-pointer&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="cursor-wait"&gt;.cursor-wait&lt;/p&gt;</pre>
<p>To see this in action, open the HTML file in a browser and hover with the mouse on the different elements.</p>
<h2 id="_idParaDest-149"><a id="_idTextAnchor151"/>Adding a complex utility</h2>
<p>Now, here’s<a id="_idIndexMarker371"/> an example of how to generate and add a complex opacity utility with a lot of the options being used. We’re specifying the name of the utility (<code>"opacity"</code>), the CSS property to use (<code>opacity</code>), the values to use for that CSS property as a Sass map (so that the class names can be different from the CSS values), the class prefix to use (<code>o</code>), and the state to make this utility work on <code>hover</code>, and we enable the <code>responsive</code> and <code>print</code> options.</p>
<p>Once again, we’re merging the existing utilities with this new one using the <code>map-merge()</code> function.</p>
<p>The code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-complex-utility/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">// Generate complex opacity utilities</pre>
<pre class="source-code">$utilities: map-merge(</pre>
<pre class="source-code">  $utilities,</pre>
<pre class="source-code">  (</pre>
<pre class="source-code">    "opacity": (</pre>
<pre class="source-code">      property: opacity,</pre>
<pre class="source-code">      values: (</pre>
<pre class="source-code">        0: 0,</pre>
<pre class="source-code">        25: .25,</pre>
<pre class="source-code">        50: .5,</pre>
<pre class="source-code">        75: .75,</pre>
<pre class="source-code">        100: 1,</pre>
<pre class="source-code">      ),</pre>
<pre class="source-code">      class: o,</pre>
<pre class="source-code">      state: hover,</pre>
<pre class="source-code">      responsive: true,</pre>
<pre class="source-code">      print: true</pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This will <a id="_idIndexMarker372"/>compile all the default utilities, as well as the following new utilities:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-complex-utility/css/style.css</p>
<pre class="source-code">.o-0 { opacity: 0 !important }</pre>
<pre class="source-code">.o-0-hover:hover { opacity: 0 !important }</pre>
<pre class="source-code">.o-25 { opacity: .25 !important }</pre>
<pre class="source-code">.o-25-hover:hover { opacity: .25 !important }</pre>
<pre class="source-code">.o-50 { opacity: .5 !important }</pre>
<pre class="source-code">.o-50-hover:hover { opacity: .5 !important }</pre>
<pre class="source-code">.o-75 { opacity: .75 !important }</pre>
<pre class="source-code">.o-75-hover:hover { opacity: .75 !important }</pre>
<pre class="source-code">.o-100 { opacity: 1 !important }</pre>
<pre class="source-code">.o-100-hover:hover { opacity: 1 !important }</pre>
<pre class="source-code">@media (min-width: 576px) {</pre>
<pre class="source-code">  .o-sm-0 { opacity: 0 !important }</pre>
<pre class="source-code">  .o-sm-0-hover:hover { opacity: 0 !important }</pre>
<pre class="source-code">  .o-sm-25 { opacity: .25 !important }</pre>
<pre class="source-code">  .o-sm-25-hover:hover { opacity: .25 !important }</pre>
<pre class="source-code">  .o-sm-50 { opacity: .5 !important }</pre>
<pre class="source-code">  .o-sm-50-hover:hover { opacity: .5 !important }</pre>
<pre class="source-code">  .o-sm-75 { opacity: .75 !important }</pre>
<pre class="source-code">  .o-sm-75-hover:hover { opacity: .75 !important }</pre>
<pre class="source-code">  .o-sm-100 { opacity: 1 !important }</pre>
<pre class="source-code">  .o-sm-100-hover:hover { opacity: 1 !important }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">// and so on…</pre>
<p>We can<a id="_idIndexMarker373"/> now see the effect of these utilities by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/add-complex-utility/index.xhtml</p>
<pre class="source-code">&lt;h3&gt;All breakpoints&lt;/h3&gt;</pre>
<pre class="source-code">&lt;p class="o-0"&gt;.o-0&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-0-hover"&gt;.o-0-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-25"&gt;.o-25&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-25-hover"&gt;.o-25-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-50"&gt;.o-50&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-50-hover"&gt;.o-50-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-75"&gt;.o-75&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-75-hover"&gt;.o-75-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p style="opacity: 0;" class="o-100"&gt;.o-100&lt;/p&gt;</pre>
<pre class="source-code">&lt;p style="opacity: 0;" class="o-100-hover"&gt;.o-100-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;h3&gt;Breakpoint sm&lt;/h3&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-0"&gt;.o-sm-0&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-0-hover"&gt;.o-sm-0-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-25"&gt;.o-sm-25&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-25-hover"&gt;.o-sm-25-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-50"&gt;.o-sm-50&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-50-hover"&gt;.o-sm-50-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-75"&gt;.o-sm-75&lt;/p&gt;</pre>
<pre class="source-code">&lt;p class="o-sm-75-hover"&gt;.o-sm-75-hover&lt;/p&gt;</pre>
<pre class="source-code">&lt;p style="opacity: 0;" class="o-sm-100"&gt;.o-sm-100&lt;/p&gt;</pre>
<pre class="source-code">&lt;p style="opacity: 0;" class="o-sm-100-hover"&gt;</pre>
<pre class="source-code"> .o-sm-100-hover&lt;/p&gt;</pre>
<pre class="source-code">// and so on...</pre>
<p>To see this in <a id="_idIndexMarker374"/>action, open the HTML file in a browser and hover with the mouse on the different elements.</p>
<h2 id="_idParaDest-150"><a id="_idTextAnchor152"/>Overwriting a utility</h2>
<p>You can<a id="_idIndexMarker375"/> overwrite an existing utility by using the same name. This method can be used to modify a utility as well, but you must be careful then and use all of the same options.</p>
<p>Here’s an example of how to overwrite the sizing utility for <code>"width"</code> with a new <code>"width"</code> utility that has many more values specified:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">Part-1/chapter-6/examples/overwrite-utility/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">// Overwrite sizing utility for width</pre>
<pre class="source-code">$utilities: map-merge(</pre>
<pre class="source-code">  $utilities,</pre>
<pre class="source-code">  (</pre>
<pre class="source-code">    "width": (</pre>
<pre class="source-code">      property: width,</pre>
<pre class="source-code">      class: w,</pre>
<pre class="source-code">      values: (</pre>
<pre class="source-code">        10: 10%,</pre>
<pre class="source-code">        20: 20%,</pre>
<pre class="source-code">        30: 30%,</pre>
<pre class="source-code">        40: 40%,</pre>
<pre class="source-code">        50: 50%,</pre>
<pre class="source-code">        60: 60%,</pre>
<pre class="source-code">        70: 70%,</pre>
<pre class="source-code">        80: 80%,</pre>
<pre class="source-code">        90: 90%,</pre>
<pre class="source-code">        100: 100%,</pre>
<pre class="source-code">        auto: auto</pre>
<pre class="source-code">      )</pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This will<a id="_idIndexMarker376"/> compile all the default utilities, as well as the following new utilities:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/overwrite-utility/css/style.css</p>
<pre class="source-code">.w-10 { width: 10% !important }</pre>
<pre class="source-code">.w-20 { width: 20% !important }</pre>
<pre class="source-code">.w-30 { width: 30% !important }</pre>
<pre class="source-code">.w-40 { width: 40% !important }</pre>
<pre class="source-code">.w-50 { width: 50% !important }</pre>
<pre class="source-code">.w-60 { width: 60% !important }</pre>
<pre class="source-code">.w-70 { width: 70% !important }</pre>
<pre class="source-code">.w-80 { width: 80% !important }</pre>
<pre class="source-code">.w-90 { width: 90% !important }</pre>
<pre class="source-code">.w-100 { width: 100% !important }</pre>
<pre class="source-code">.w-auto { width: auto !important }</pre>
<p>We can now see the effect of these utilities by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/overwrite-utility/index.xhtml</p>
<pre class="source-code">&lt;div class="w-10 bg-secondary text-white p-3 mb-2"&gt;.w-10</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-20 bg-secondary text-white p-3 mb-2"&gt;.w-20</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-30 bg-secondary text-white p-3 mb-2"&gt;.w-30</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-40 bg-secondary text-white p-3 mb-2"&gt;.w-40</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-50 bg-secondary text-white p-3 mb-2"&gt;.w-50</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-60 bg-secondary text-white p-3 mb-2"&gt;.w-60</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-70 bg-secondary text-white p-3 mb-2"&gt;.w-70</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-80 bg-secondary text-white p-3 mb-2"&gt;.w-80</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="w-90 bg-secondary text-white p-3 mb-2"&gt;.w-90</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div style="width: 50%;" class="w-100 bg-secondary </pre>
<pre class="source-code">  text-white p-3 mb-2"&gt;.w-100&lt;/div&gt;</pre>
<pre class="source-code">&lt;div style="width: 50%;" class="w-auto bg-secondary</pre>
<pre class="source-code">  text-white p-3"&gt;.w-auto&lt;/div&gt;</pre>
<p>To see this in <a id="_idIndexMarker377"/>action, open the HTML file in a browser.</p>
<h2 id="_idParaDest-151"><a id="_idTextAnchor153"/>Modifying a utility</h2>
<p>It’s <a id="_idIndexMarker378"/>possible to modify an existing utility. In this example, we will rename the <code>class</code> prefix for the <code>"margin-start"</code> utility from <code>.ms-*</code> to <code>.ml-*</code>. This will now be identical to the prefix used in Bootstrap 4. This time, we’re going to use the <code>map-get()</code> function to get the current value of the <code>"margin-start"</code> property from the <code>$utilities</code> variable to be able to merge it with the <code>class: ml</code> property, which will then overwrite the existing <code>class: ms</code> property. The code looks<a id="_idIndexMarker379"/> like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/modify-utility/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">// Rename class for existing utility</pre>
<pre class="source-code">$utilities: map-merge(</pre>
<pre class="source-code">  $utilities, (</pre>
<pre class="source-code">    "margin-start": map-merge(</pre>
<pre class="source-code">      map-get($utilities, "margin-start"),</pre>
<pre class="source-code">      ( class: ml ),</pre>
<pre class="source-code">    )</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This will compile all the default utilities, as well as the following new utilities:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/modify-utility/css/style.css</p>
<pre class="source-code">.ml-0 { margin-left: 0 !important }</pre>
<pre class="source-code">.ml-1 { margin-left: .25rem !important }</pre>
<pre class="source-code">.ml-2 { margin-left: .5rem !important }</pre>
<pre class="source-code">.ml-3 { margin-left: 1rem !important }</pre>
<pre class="source-code">.ml-4 { margin-left: 1.5rem !important }</pre>
<pre class="source-code">.ml-5 { margin-left: 3rem !important }</pre>
<pre class="source-code">.ml-auto { margin-left: auto !important }</pre>
<p>We can now see the <a id="_idIndexMarker380"/>effect of these utilities by using it with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/modify-utility/index.xhtml</p>
<pre class="source-code">&lt;div class="ml-1 bg-secondary text-white p-3 mb-2"&gt;.ml-1</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="ml-2 bg-secondary text-white p-3 mb-2"&gt;.ml-2</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="ml-3 bg-secondary text-white p-3 mb-2"&gt;.ml-3</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="ml-4 bg-secondary text-white p-3 mb-2"&gt;.ml-4</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="ml-5 bg-secondary text-white p-3 mb-2"&gt;.ml-5</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<p>To see this in action, open the HTML file in a browser. The renamed class for the <code>margin-left</code> utility now works.</p>
<h2 id="_idParaDest-152"><a id="_idTextAnchor154"/>Removing a utility</h2>
<p>It’s <a id="_idIndexMarker381"/>possible to remove a utility from the existing set of utilities. Here, you can see how to remove the <code>"user-select"</code> and <code>"pointer-events"</code> interaction utilities by setting their values to <code>null</code>:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/remove-utility/scss/style.scss</p>
<pre class="source-code">// Required imports</pre>
<pre class="source-code">// Utilities</pre>
<pre class="source-code">// Remove interaction utilities</pre>
<pre class="source-code">$utilities: map-merge(</pre>
<pre class="source-code">  $utilities,</pre>
<pre class="source-code">  (</pre>
<pre class="source-code">    "user-select": null,</pre>
<pre class="source-code">    "pointer-events": null</pre>
<pre class="source-code">  )</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Utilities API</pre>
<p>This will <a id="_idIndexMarker382"/>compile all the default utilities except for the <code>"user-select"</code> and <code>"pointer-events"</code> utilities.</p>
<p>We can now see that these utilities have indeed been removed by trying to use them with the following HTML:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-1/chapter-6/examples/remove-utility/index.xhtml</p>
<pre class="source-code">&lt;h3&gt;User select&lt;/h3&gt;</pre>
<pre class="source-code">&lt;h4&gt;All&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p class="user-select-all"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;h4&gt;Auto&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p style="user-select: none;" class="user-select-auto"&gt;</pre>
<pre class="source-code">  Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;h4&gt;None&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p class="user-select-none"&gt;Lorem ipsum...&lt;/p&gt;</pre>
<pre class="source-code">&lt;h3&gt;Pointer events&lt;/h3&gt;</pre>
<pre class="source-code">&lt;h4&gt;None&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p&gt;&lt;a href="#" class="pe-none"&gt;Lorem ipsum dolor sit amet,</pre>
<pre class="source-code">  consectetur adipiscing elit&lt;/a&gt;. In laoreet pellentesque</pre>
<pre class="source-code">  lorem sed elementum. Suspendisse maximus convallis ex.</pre>
<pre class="source-code">  Etiam eleifend velit leo.&lt;/p&gt;</pre>
<pre class="source-code">&lt;h4&gt;Auto&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p&gt;&lt;a href="#" style="pointer-events: none;" </pre>
<pre class="source-code">  class="pe-auto"&gt;Lorem ipsum dolor sit amet, consectetur</pre>
<pre class="source-code">    adipiscing elit&lt;/a&gt;. In laoreet pellentesque lorem sed </pre>
<pre class="source-code">    elementum. Suspendisse maximus convallis ex. Etiam </pre>
<pre class="source-code">    eleifend velit leo.&lt;/p&gt;</pre>
<pre class="source-code">&lt;h4&gt;None for parent, auto for second child&lt;/h4&gt;</pre>
<pre class="source-code">&lt;p class="pe-none"&gt;&lt;a href="#"&gt;Lorem ipsum dolor sit amet,</pre>
<pre class="source-code">  consectetur adipiscing elit&lt;/a&gt;. In laoreet pellentesque </pre>
<pre class="source-code">  lorem sed elementum. Suspendisse maximus convallis ex.</pre>
<pre class="source-code">  &lt;a href="#" class="pe-auto"&gt;Etiam eleifend velit leo&lt;/a&gt;.</pre>
<pre class="source-code">&lt;/p&gt;</pre>
<p>To see this in <a id="_idIndexMarker383"/>action, open the HTML file in a browser. The utilities for <code>"user-select"</code> and <code>"pointer-events"</code> no longer work.</p>
<h1 id="_idParaDest-153"><a id="_idTextAnchor155"/>Summary</h1>
<p>We have now learned all about the utility API, which is a very powerful tool built into Bootstrap 5. This is also the last chapter about customizing Bootstrap 5 and the last in this first part of the book. In the next part of this book, we will see how all of this can be put into practice as we build a complete website and customize it in many different ways using Sass and some custom JavaScript.</p>
</div>
<div><div></div>
</div>
</div>
</body></html>