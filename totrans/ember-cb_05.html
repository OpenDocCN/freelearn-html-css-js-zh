<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;5.&#xA0;Ember Controllers" id="1DOR01-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05" class="calibre1"/>Chapter 5. Ember Controllers</h1></div></div></div><p class="calibre8">In this chapter, we'll cover the following recipes:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Storing application properties</li><li class="listitem">Handling actions in controllers</li><li class="listitem">Working with transitions</li><li class="listitem">Managing dependencies between controllers</li></ul></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;Ember Controllers" id="1DOR01-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch05lvl1sec42" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre8">Controllers in Ember.js are similar to components. They can encapsulate code, handle actions, and have properties. In addition, controllers can transition to different parts of the application and retrieve information from other controllers.</p><p class="calibre8">In the near future, controllers will be completely replaced by components. However, until this happens, it's good to have some basic understanding on how controllers work.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Storing application properties"><div class="book" id="1ENBI2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec43" class="calibre1"/>Storing application properties</h1></div></div></div><p class="calibre8">One advantage of <a id="id240" class="calibre1"/>a controller is storing properties. Controllers have properties that are stored in the application, which is unlike the model where properties are saved to the server. In this recipe, we'll take a look at a few different types of properties and how they can be displayed in a template.</p></div>

<div class="book" title="Storing application properties">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec77" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new application, run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller application</strong></span>
</pre></div><p class="calibre14">In this application, we'll be using the <code class="email">application controller</code> to store all our properties.</p></li><li class="listitem" value="2">Update the <a id="id241" class="calibre1"/>application controller to add a new action and a few properties:<div class="informalexample"><pre class="programlisting">// app/controllers/application.js
import Ember from 'ember';

export default Ember.Controller.extend({
    prop2: 'test',
    prop3: true,
    actions: {
      enter(val){
        alert(this.get('prop1'));
        alert(this.getProperties('prop1','prop2').prop1);
        alert(val);
        this.toggleProperty('prop3');
      }
    }
});</pre></div><p class="calibre14">This controller has two properties. The first property contains a string. The second has a Boolean value of <code class="email">true</code> attached to it. The <code class="email">enter</code> action displays a few alert boxes. Let's take a closer look at the <code class="email">enter</code> action:</p><div class="informalexample"><pre class="programlisting">    alert(this.get('prop1'));
    alert(this.getProperties('prop1','prop2').prop1);
    alert(val);
    this.toggleProperty('prop3');</pre></div><p class="calibre14">When accessing properties in Ember, always use <code class="email">this.get</code> and <code class="email">this.set</code>. This guarantees that the property will be read or set correctly in Ember. In addition, we can use <code class="email">this.getProperties</code>. This allows us to get multiple properties at once. It returns an object of those properties and their values.</p><p class="calibre14">Another useful method is <code class="email">toggleProperty</code>. This will take a Boolean value and toggle it. In other words, a value of <code class="email">false</code> will become <code class="email">true</code> and vice versa.</p><p class="calibre14">Be aware that you don't have to declare each property in the controller definition. Properties can be retrieved directly from the template and be manipulated. In the preceding example, the <code class="email">prop1</code> property is retrieved from the template. It was never defined in the controller. If needed, you can set default property values.</p></li><li class="listitem" value="3">Update the template for the application. Display the properties:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{outlet}}

&lt;input type='text' value={{prop1}}&gt;One way input&lt;br&gt;
Property 1:{{prop1}}&lt;br&gt;
Property 2:{{prop2}}&lt;br&gt;
{{input type='text'  value=prop1}}Two way input helper&lt;br&gt;
&lt;button {{action 'enter' prop1}}&gt;Value of prop1&lt;/button&gt;&lt;br&gt;

Propert 3:{{prop3}}</pre></div><p class="calibre14">The <code class="email">prop1</code> <a id="id242" class="calibre1"/>property is bound to the bracket input and <code class="email">input</code> helper. By default, bracket input tags are one-way. What this means is that the <code class="email">prop1</code> property is retrieved from the controller when the template is rendered. It's copied over, and changes to the property are not reflected back in the controller. On the other hand, <code class="email">input</code> helpers are bound two-way. Any changes to the value in the <code class="email">input</code> helper will be reflected in the controller.</p></li><li class="listitem" value="4">Start the Ember server and update the values in the one-way input:<div class="mediaobject"><img src="../images/00017.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Even though the bracket input tag value is set to <code class="email">prop1</code>, it's not changing the <code class="email">{{prop1}}</code> property elsewhere in the template. This is because the value is set to work only one way. The only way to change the value of <code class="email">prop1</code> in the controller is to send it as an action back to the controller from the template.</p><p class="calibre14">This is the basis <a id="id243" class="calibre1"/>behind data down, actions up. Data is copied down to the template from the controller or component. Any changes to it are then sent back in an action to the parent component or controller. Keep this concept in mind as it is becoming more and more popular in Ember.</p></li><li class="listitem" value="5">Update the values in the two-way input helper box:<div class="mediaobject"><img src="../images/00018.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">The two-way <code class="email">input</code> helper updates all the values in the template because it's linked back to the controller. Any changes to the property in the template are reflected back in the controller because it's two-way bound.</p></li><li class="listitem" value="6">Press the <span class="strong"><strong class="calibre9">Value of prop1</strong></span> button:<div class="mediaobject"><img src="../images/00019.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">When the button is clicked, an action is triggered. It displays three alert boxes. Each alert <a id="id244" class="calibre1"/>box will display the <code class="email">prop1</code> property. It will then toggle the third Boolean property from <code class="email">true</code> to <code class="email">false</code>.</p></li></ol><div class="calibre15"/></div><p class="calibre8">Computed properties, or observers, can be added to controllers as well. To learn more about these, check out <a class="calibre1" title="Chapter 2. The Ember.Object Model" href="part0023_split_000.html#LTSU1-d21a6ad8148a415181fa52c0043435bb">Chapter 2</a>, <span class="strong"><em class="calibre13">The Ember.Object Model</em></span>.</p></div></div>

<div class="book" title="Storing application properties">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec78" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Controllers can use properties to show information to a user. Unlike models, they are not persisted to a server. However, they are persisted in the application state. When working with templates, they can be one-way or two-way bound.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Handling actions in controllers"><div class="book" id="1FLS42-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec44" class="calibre1"/>Handling actions in controllers</h1></div></div></div><p class="calibre8">Actions are <a id="id245" class="calibre1"/>important to controllers. They are triggered <a id="id246" class="calibre1"/>by the user action and can be used to change the application state. In this recipe, we'll create four different types of actions and see how they react to different situations.</p></div>

<div class="book" title="Handling actions in controllers">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec79" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate the following files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g controller application</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route application</strong></span>
</pre></div><p class="calibre14">We'll be using the <code class="email">controller</code> and <code class="email">application</code> to store actions. Some actions will bubble up to the <code class="email">route</code>, and some won't.</p></li><li class="listitem" value="2">Update the <a id="id247" class="calibre1"/>application controller and add three <a id="id248" class="calibre1"/>new actions:<div class="informalexample"><pre class="programlisting">// app/controllers/application.js
import Ember from 'ember';

export default Ember.Controller.extend({
    actions: {
      action1(){
        alert('Application controller action action1');
      },
      action2(){
        alert('Application controller action action2');
        return true;
      },
      action3(val){
        alert(`Value Passed: ${val}`);
      }
    }
});</pre></div><p class="calibre14">Let's take a look at each action:</p><div class="informalexample"><pre class="programlisting">    action1(){
      alert('Application controller action action1');
    },</pre></div><p class="calibre14">This is a normal action. It just displays an alert box:</p><div class="informalexample"><pre class="programlisting">    action2(){
      alert('Application controller action action2');
      return true;
    },</pre></div><p class="calibre14">This action is a little more interesting. By default, all controller actions <code class="email">return false</code> if they exist in the controller. By returning the value to <code class="email">true</code>, this action will bubble up to the <code class="email">application</code> route after the alert box is displayed. The route can then handle the action:</p><div class="informalexample"><pre class="programlisting">    action3(val){
      alert(`Value Passed: ${val}`);
    }</pre></div><p class="calibre14">The action has a value passed to it. It will display this value to the user in an alert box. The text in the alert box is using something called ES6 template strings. This makes it a little easier to display variables in text.</p></li><li class="listitem" value="3">Update the <a id="id249" class="calibre1"/>application route with two more <a id="id250" class="calibre1"/>actions:<div class="informalexample"><pre class="programlisting">// app/routes/application.js
import Ember from 'ember';

export default Ember.Route.extend({
    actions: {
      enter(){
        alert('Application route action enter!');
      },
      action2(){
        alert('Application route action action2!');
      }
    }
});</pre></div><p class="calibre14">Each action displays an alert box. You might have noticed that the <code class="email">enter</code> action was not present in the controller. By convention, template <code class="email">actions</code> will look first in the controller. If the action is not defined in the controller, it will bubble up to the route.</p></li><li class="listitem" value="4">Add four buttons to the application template:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

&lt;button {{action 'action1'}}&gt;Action 1 in controller&lt;/button&gt;
&lt;button {{action 'action2'}}&gt;Action 2 in controller and route&lt;/button&gt;
&lt;button {{action 'action3' 'Hello World'}}&gt;Action 3 Passing Values&lt;/button&gt;
&lt;button {{action 'enter'}}&gt;Action enter only in route&lt;/button&gt;</pre></div><p class="calibre14">Each <code class="email">button</code> has an <code class="email">action</code> bound to it. By default, this is bound to the click event; this can be changed if needed.</p></li><li class="listitem" value="5">Run <code class="email">ember server</code>. Open a web browser to see the following screen:<div class="mediaobject"><img src="../images/00020.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Each button <a id="id251" class="calibre1"/>represents a different type of action.</p></li><li class="listitem" value="6">Click <a id="id252" class="calibre1"/>on the first button:<div class="mediaobject"><img src="../images/00021.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This displays a message from the controller.</p></li><li class="listitem" value="7">Click on the second button:<div class="mediaobject"><img src="../images/00022.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="8">This <a id="id253" class="calibre1"/>alert box is displayed first from the <a id="id254" class="calibre1"/>controller:<div class="mediaobject"><img src="../images/00023.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This <a id="id255" class="calibre1"/>second alert box is displayed from the application route.</p></li><li class="listitem" value="9">Click on the third action:<div class="mediaobject"><img src="../images/00024.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This shows the message from the controller with the value passed.</p></li><li class="listitem" value="10">Click <a id="id256" class="calibre1"/>on the last button:<div class="mediaobject"><img src="../images/00025.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This will show the message from the application route as it was not defined in the controller.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Handling actions in controllers">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec80" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Actions in Ember <a id="id257" class="calibre1"/>bubble up but they are dependent on the user action. They start in the controller and then move to the route. We can add actions to our templates and pass values from the template to our actions.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with transitions" id="1GKCM1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec45" class="calibre1"/>Working with transitions</h1></div></div></div><p class="calibre8">When inside a <a id="id258" class="calibre1"/>route, you can use the controller to transition to another route. We'll look at an example on how to transition from one route to another.</p></div>

<div class="book" title="Working with transitions" id="1GKCM1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec81" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate the following files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g route foo1</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route foo2</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller foo1</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller foo2</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
</pre></div><p class="calibre14">This will generate two different routes for us—the <code class="email">foo1</code> and <code class="email">foo2</code> routes. Each route will have a button that transitions to the other route. Each controller will handle the action logic.</p></li><li class="listitem" value="2">Add an action to the foo1 controller:<div class="informalexample"><pre class="programlisting">// app/controllers/foo1.js
import Ember from 'ember';

export default Ember.Controller.extend({
    actions: {
      enter(){
        this.transitionToRoute('foo2');
      }
    }
});</pre></div><p class="calibre14">This controller has one action called <code class="email">enter</code> that transitions to the route called <code class="email">foo2</code>. The <code class="email">this.transitionToRoute</code> method is used to transition to different routes in the application. It takes two arguments. The first argument is the name of the route. The second argument is optional, and it is where you enter in the model. By default, it will be serialized in the URL if added.</p><p class="calibre14">The <code class="email">trasintionToRoute</code> method can take route paths as well. For example, you might have a <code class="email">foo2</code> nested route called <code class="email">foo3</code>. You can transition to this route by calling <code class="email">this.trasitionToRoute('foo2.foo3')</code>.</p></li><li class="listitem" value="3">Add an action to the foo2 controller:<div class="informalexample"><pre class="programlisting">// app/controllers/foo2.js
import Ember from 'ember';

export default Ember.Controller.extend({
    actions: {
      enter(){
        this.transitionToRoute('foo1');
      }
    }
});</pre></div><p class="calibre14">When the <code class="email">enter</code> action is triggered, it transitions to the <code class="email">foo1</code> route.</p></li><li class="listitem" value="4">Update the <a id="id259" class="calibre1"/>foo1 template:<div class="informalexample"><pre class="programlisting">// app/templates/foo1.hbs
This is Foo1&lt;br&gt;

&lt;button {{action 'enter'}}&gt;Move to route foo2&lt;/button&gt;</pre></div><p class="calibre14">This <code class="email">button</code> triggers the <code class="email">enter</code> <code class="email">action</code> in the <code class="email">foo1</code> controller.</p></li><li class="listitem" value="5">Update the foo2 template:<div class="informalexample"><pre class="programlisting">// app/templates/foo2.hbs
This is Foo2&lt;br&gt;
&lt;button {{action 'enter'}}&gt;Move to route foo1&lt;/button&gt;</pre></div><p class="calibre14">This <code class="email">button</code> triggers the <code class="email">enter</code> <code class="email">action</code> in the <code class="email">foo2</code> controller.</p></li><li class="listitem" value="6">Add a link to both the routes in the index template file:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs
{{link-to 'Foo1 Route' 'foo1'}}&lt;br&gt;
{{link-to 'Foo2 Route' 'foo2'}}&lt;br&gt;</pre></div><p class="calibre14">This uses the <code class="email">link-to</code> helper in a non-block form. The first argument is the name displayed and the second is the name of the route.</p></li><li class="listitem" value="7">Update the application template file:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
{{#link-to 'application'}}&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;{{/link-to}}

{{outlet}}</pre></div><p class="calibre14">The application template file has a link back to the application at the top.</p></li><li class="listitem" value="8">Run <code class="email">ember server</code> and you'll see the following screen after opening a web browser:<div class="mediaobject"><img src="../images/00026.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This displays <a id="id260" class="calibre1"/>a link to each route.</p></li><li class="listitem" value="9">Click on the <span class="strong"><strong class="calibre9">Foo1 Route</strong></span> link. The following page will be displayed:<div class="mediaobject"><img src="../images/00027.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This displays the foo1 route.</p></li><li class="listitem" value="10">Click on the <span class="strong"><strong class="calibre9">Foo2 Route</strong></span> button. The following screen will be displayed:<div class="mediaobject"><img src="../images/00028.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">After the button is clicked, the foo2 route is displayed.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Working with transitions" id="1GKCM1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec82" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">To navigate through an <a id="id261" class="calibre1"/>application, we can use transitions inside a controller. The <code class="email">trasitionToRoute</code> method is used to transition from one route to another. It's a part of the <code class="email">Ember.Controller</code> class.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Managing dependencies between controllers"><div class="book" id="1HIT82-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec46" class="calibre1"/>Managing dependencies between controllers</h1></div></div></div><p class="calibre8">Often, controllers will need to access other controllers' properties and models. This is especially <a id="id262" class="calibre1"/>important when you have nested <a id="id263" class="calibre1"/>resources. In this recipe, we'll take a look at a nested controller that needs access to the parent controller's model and properties.</p></div>

<div class="book" title="Managing dependencies between controllers">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec83" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate a couple of new routes and templates:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g route foo1</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route foo1/foo2</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller foo1</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller foo1/foo2</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
</pre></div><p class="calibre14">This generates the <code class="email">foo1</code> and <code class="email">foo2</code> routes and controllers. The <code class="email">foo2</code> route is a nested route. The index template will contain links.</p></li><li class="listitem" value="2">Verify in the <code class="email">router.js</code> file that all the routes have been created correctly:<div class="informalexample"><pre class="programlisting">// app/router.js
import Ember from 'ember';
import config from './config/environment';

const Router = Ember.Router.extend({
  location: config.locationType
});

Router.map(function() {
  this.route('foo1', function() {
    this.route('foo2');
  });
});

export default Router;</pre></div><p class="calibre14">As we <a id="id264" class="calibre1"/>generated the routes, <code class="email">router.js</code> should already be set up for us. As you can see, the <code class="email">foo2</code> route <a id="id265" class="calibre1"/>is nested under the <code class="email">foo1</code> route. What this means is that we'll have to access the URL at <code class="email">/foo1/foo2</code> to access the <code class="email">foo2</code> route.</p></li><li class="listitem" value="3">Add a new model to the foo1 route:<div class="informalexample"><pre class="programlisting">// app/routes/foo1.js
import Ember from 'ember';

export default Ember.Route.extend({
    model(){
      return ['abc','def','ghi'];
    }
});</pre></div><p class="calibre14">All this route does is return a model with a simple array of letters.</p></li><li class="listitem" value="4">Add a new model to the foo2 route:<div class="informalexample"><pre class="programlisting">// app/routes/foo1/foo2.js
import Ember from 'ember';

export default Ember.Route.extend({
    model(){
      return ['jkl','mno','pqr'];
    }
});</pre></div><p class="calibre14">The nested <code class="email">foo2</code> route also returns a simple array of letters in its <code class="email">model</code> hook.</p></li><li class="listitem" value="5">Add a new property to the foo1 controller:<div class="informalexample"><pre class="programlisting">// app/controlers/foo1.js
import Ember from 'ember';

export default Ember.Controller.extend({
    prop1: 'foo property'
});</pre></div><p class="calibre14">This controller has one string property.</p></li><li class="listitem" value="6">Create <a id="id266" class="calibre1"/>a property in the foo2 <a id="id267" class="calibre1"/>controller that can access the <code class="email">foo1</code> model and properties:<div class="informalexample"><pre class="programlisting">// app/controllers/foo1/foo2.js
import Ember from 'ember';

export default Ember.Controller.extend({
    foo1Controller:Ember.inject.controller('foo1'),
    foo1: Ember.computed.reads('foo1Controller.model')
});</pre></div><p class="calibre14"><code class="email">Ember.inject.controller</code> allows us access to the <code class="email">foo1</code> controller and properties. We can then use the <code class="email">Ember.computed.reads</code> method to set the <code class="email">foo1</code> property. This creates a read-only computed property that we can use in the template.</p></li><li class="listitem" value="7">Update the foo1 template file:<div class="informalexample"><pre class="programlisting">// app/templates/foo1.hbs
&lt;h3&gt;Foo1&lt;/h3&gt;

{{#each model as |letters|}}
    {{letters}}&lt;br&gt;
{{/each}}
{{outlet}}</pre></div><p class="calibre14">All the <code class="email">foo1</code> template does is display the list from the model.</p></li><li class="listitem" value="8">Update the foo2 template file:<div class="informalexample"><pre class="programlisting">// app/templates/foo1/foo2.hbs
&lt;h3&gt;Foo2&lt;/h3&gt;

{{#each model as |letters|}}
    {{letters}}&lt;br&gt;
{{/each}}
&lt;h3&gt;Here is the model injected in from the foo1 controller&lt;/h3&gt;
{{#each foo1 as |letters|}}
    {{letters}}&lt;br&gt;
{{/each}}

&lt;h3&gt;Foo1 property&lt;/h3&gt;
{{foo1Controller.prop1}}</pre></div><p class="calibre14">The <code class="email">foo2</code> <a id="id268" class="calibre1"/>template has access to all the properties of the <code class="email">foo2</code> and <code class="email">foo1</code> controllers. In this example, we can use the <code class="email">each</code> helper to list all the letters in the <code class="email">foo2</code> model. It <a id="id269" class="calibre1"/>can also use the <code class="email">foo1</code> computed property to list all the letters in the <code class="email">foo1</code> controller. We can even access individual properties using <code class="email">foo1Controller</code>.</p></li><li class="listitem" value="9">Add some basic links to the application and index template files:<div class="informalexample"><pre class="programlisting">// app/application.hbs
{{#link-to 'application'}}&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;{{/link-to}}

{{outlet}}</pre></div><p class="calibre14">The application file will have a link at the top:</p><div class="informalexample"><pre class="programlisting">// app/templates/index.hbs
{{link-to 'Foo1 Route' 'foo1'}}&lt;br&gt;
{{link-to 'Foo2 Route' 'foo1.foo2'}}</pre></div><p class="calibre14">The <code class="email">link-to</code> helpers here link to the <code class="email">foo1</code> and <code class="email">foo2</code> routes.</p></li><li class="listitem" value="10">Start the Ember server and you'll see the following screen after you open a web browser:<div class="mediaobject"><img src="../images/00029.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">The index home screen displays a link to each route.</p></li><li class="listitem" value="11">Click <a id="id270" class="calibre1"/>on <span class="strong"><strong class="calibre9">Foo2 Route</strong></span>. The <a id="id271" class="calibre1"/>following window will be displayed:<div class="mediaobject"><img src="../images/00030.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">As you can see, the <code class="email">foo1</code> template is displayed as well as the <code class="email">foo2</code> template. The <a id="id272" class="calibre1"/>
<code class="email">foo2</code> template has access to both the <code class="email">foo2</code> and <code class="email">foo1</code> properties and model.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Managing dependencies between controllers">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec84" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Controllers <a id="id273" class="calibre1"/>can access other controllers using <a id="id274" class="calibre1"/>
<code class="email">Ember.inject.controller</code>. This is known as <span class="strong"><strong class="calibre9">dependency injection</strong></span>. Dependency injection occurs when we take one object and inject it into another. Dependency <a id="id275" class="calibre1"/>injection is covered in more detail in the <span class="strong"><em class="calibre13">Using dependency injection</em></span> recipe of <a class="calibre1" title="Chapter 11. Real-Time Web Applications" href="part0088_split_000.html#2JTHG1-d21a6ad8148a415181fa52c0043435bb">Chapter 11</a>, <span class="strong"><em class="calibre13">Real-Time Web Applications</em></span>.</p></div></div></body></html>