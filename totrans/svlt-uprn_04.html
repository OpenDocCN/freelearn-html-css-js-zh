<html><head></head><body>
<div id="_idContainer018">
<h1 class="chapter-number" id="_idParaDest-60"><a id="_idTextAnchor060"/><span class="koboSpan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-61"><a id="_idTextAnchor061"/><span class="koboSpan" id="kobo.2.1">Effective Routing Techniques</span></h1>
<p><span class="koboSpan" id="kobo.3.1">We’ve spent a lot of time covering background information. </span><span class="koboSpan" id="kobo.3.2">I know those topics aren’t always the most exciting, but now that we’ve covered them, we can get to the real fun. </span><span class="koboSpan" id="kobo.3.3">Up until now, we’ve only briefly touched on adding new routes by creating a directory inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.4.1">src/routes/</span></strong><span class="koboSpan" id="kobo.5.1"> with the desired route name and adding a </span><strong class="source-inline"><span class="koboSpan" id="kobo.6.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.7.1"> file inside of it. </span><span class="koboSpan" id="kobo.7.2">We also briefly looked into creating server pages. </span><span class="koboSpan" id="kobo.7.3">But, of course, routing isn’t always so simple. </span><span class="koboSpan" id="kobo.7.4">How do we build out an </span><strong class="bold"><span class="koboSpan" id="kobo.8.1">application programming interface</span></strong><span class="koboSpan" id="kobo.9.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.10.1">API</span></strong><span class="koboSpan" id="kobo.11.1">)? </span><span class="koboSpan" id="kobo.11.2">How do we create a consistent </span><strong class="bold"><span class="koboSpan" id="kobo.12.1">user interface </span></strong><span class="koboSpan" id="kobo.13.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.14.1">UI</span></strong><span class="koboSpan" id="kobo.15.1">) throughout our application without duplicating styles on each page? </span><span class="koboSpan" id="kobo.15.2">What happens when our application throws </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">an error?</span></span></p>
<p><span class="koboSpan" id="kobo.17.1">In this chapter, we will answer some of those questions by discussing some core points about routing within the context of SvelteKit. </span><span class="koboSpan" id="kobo.17.2">First, we’ll look at how we can create new pages with dynamic content. </span><span class="koboSpan" id="kobo.17.3">Then, we’ll take a closer look at how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.18.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.19.1"> files work. </span><span class="koboSpan" id="kobo.19.2">We’ll then show how to go about creating API endpoints that can accept various types of HTTP requests. </span><span class="koboSpan" id="kobo.19.3">And finally, we’ll cover how to build a consistent UI throughout an application </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">using layouts.</span></span></p>
<p><span class="koboSpan" id="kobo.21.1">In this chapter, we’ll cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.23.1">Creating </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">Dynamic Pages</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Creating </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">Server Pages</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Creating </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">API Endpoints</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.29.1">Creating Layouts</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.30.1">By the end of this chapter, you should have a comfortable understanding of routing concepts for SvelteKit’s file-based </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">routing mechanism.</span></span></p>
<h1 id="_idParaDest-62"><a id="_idTextAnchor062"/><span class="koboSpan" id="kobo.32.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.33.1">The complete code for this chapter is available on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.34.1">at: </span></span><a href="https://github.com/PacktPublishing/SvelteKit-Up-and-Running/tree/main/chapters/chapter04"><span class="No-Break"><span class="koboSpan" id="kobo.35.1">https://github.com/PacktPublishing/SvelteKit-Up-and-Running/tree/main/chapters/chapter04</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.36.1">.</span></span></p>
<h1 id="_idParaDest-63"><a id="_idTextAnchor063"/><span class="koboSpan" id="kobo.37.1">Creating Dynamic Pages</span></h1>
<p><span class="koboSpan" id="kobo.38.1">In </span><a id="_idIndexMarker065"/><span class="koboSpan" id="kobo.39.1">previous chapters, we’ve covered the process of creating a new page. </span><span class="koboSpan" id="kobo.39.2">To refresh your memory, it is as simple as creating a new directory inside </span><strong class="source-inline"><span class="koboSpan" id="kobo.40.1">src/routes/</span></strong><span class="koboSpan" id="kobo.41.1"> with the desired route name. </span><span class="koboSpan" id="kobo.41.2">Inside that directory, we create </span><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.43.1">, which is simply a Svelte component that is then rendered as the page shown in the browser. </span><span class="koboSpan" id="kobo.43.2">An embarrassingly simple </span><strong class="bold"><span class="koboSpan" id="kobo.44.1">About</span></strong><span class="koboSpan" id="kobo.45.1"> page might look </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">like this:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.47.1">src/routes/about/+page.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.48.1">
&lt;div class='wrapper'&gt;
  &lt;h1&gt;About&lt;/h1&gt;
  &lt;p&gt;
    Lorem ipsum dolor sit amet...
</span><span class="koboSpan" id="kobo.48.2">  &lt;/p&gt;
&lt;/div&gt;</span></pre>
<p><span class="koboSpan" id="kobo.49.1">This example illustrates just how simple adding a new page is. </span><span class="koboSpan" id="kobo.49.2">In it, we see a </span><strong class="source-inline"><span class="koboSpan" id="kobo.50.1">div</span></strong><span class="koboSpan" id="kobo.51.1">, an </span><strong class="source-inline"><span class="koboSpan" id="kobo.52.1">h1</span></strong><span class="koboSpan" id="kobo.53.1"> title tag, and a paragraph </span><strong class="source-inline"><span class="koboSpan" id="kobo.54.1">p</span></strong><span class="koboSpan" id="kobo.55.1"> tag with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.56.1">lorem ipsum</span></strong><span class="koboSpan" id="kobo.57.1"> sample text. </span><span class="koboSpan" id="kobo.57.2">Of course, in a real-world scenario, it would have much more content as well as some styles. </span><span class="koboSpan" id="kobo.57.3">This example exists only to show how simple it is to add a new, </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">static page.</span></span></p>
<p><span class="koboSpan" id="kobo.59.1">But what if you needed to create a page where you didn’t know what the content was? </span><span class="koboSpan" id="kobo.59.2">What if we wanted to create a page with a dynamic URL? </span><span class="koboSpan" id="kobo.59.3">For instance, when viewing news articles online, users can typically share a link directly to the article. </span><span class="koboSpan" id="kobo.59.4">This means each article has its own unique URL. </span><span class="koboSpan" id="kobo.59.5">If we wanted to create a single template that showed articles pulled from a database, we would need to find a way to manage the URL to each </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">as well.</span></span></p>
<p><span class="koboSpan" id="kobo.61.1">In instances such as these, SvelteKit’s file-based routing mechanism has a special syntax to use. </span><span class="koboSpan" id="kobo.61.2">When creating the template showing the content, we create it in a directory with the dynamic portion of the route surrounded by square brackets (</span><strong class="source-inline"><span class="koboSpan" id="kobo.62.1">[ ]</span></strong><span class="koboSpan" id="kobo.63.1">). </span><span class="koboSpan" id="kobo.63.2">The name given inside the brackets will then become a parameter that will allow us to load data dynamically. </span><span class="koboSpan" id="kobo.63.3">To make this parameter optional, use double square brackets (</span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">[[ ]]</span></strong><span class="koboSpan" id="kobo.65.1">).</span></p>
<p><span class="koboSpan" id="kobo.66.1">That may</span><a id="_idIndexMarker066"/><span class="koboSpan" id="kobo.67.1"> sound confusing at first, so let’s take a look at an example showcasing how you might manage news articles or blog posts. </span><span class="koboSpan" id="kobo.67.2">We’ll need to create a few files within this example. </span><span class="koboSpan" id="kobo.67.3">Instead of connecting to an actual database, we’ll use a JSON file to store some sample data and pull directly </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">from that:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.69.1">src/lib/articles.json</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.70.1">
{
  "0": {
    "title": "First Post",
    "slug": "first-post",
    "content": "Lorem ipsum dolor…"
  },
  "1": {
    "title": "Effective Routing Techniques",
    "slug": "effective-routing-techniques",
    "content": "Lorem ipsum dolor…"
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.71.1">This file is essentially a single object containing two objects, each of which has the </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">title</span></strong><span class="koboSpan" id="kobo.73.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">slug</span></strong><span class="koboSpan" id="kobo.75.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.76.1">content</span></strong><span class="koboSpan" id="kobo.77.1"> properties. </span><span class="koboSpan" id="kobo.77.2">You can tweak this file however you like or add as many entries as you’d like to see. </span><span class="koboSpan" id="kobo.77.3">Its purpose is to act as a placeholder database to illustrate the </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">following example.</span></span></p>
<p><span class="koboSpan" id="kobo.79.1">Next, a news page usually has a landing page where users can scroll and view the most recent articles. </span><span class="koboSpan" id="kobo.79.2">In accordance with established practices, we’ll create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.81.1"> file to load our data and make it available to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.82.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.83.1"> template that will function as the page rendering </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">the data:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.85.1">src/routes/news/+page.server.js</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.86.1">
import json from '$lib/articles.json';
export function load() {
  return { json };
}</span></pre>
<p><span class="koboSpan" id="kobo.87.1">Because</span><a id="_idIndexMarker067"/><span class="koboSpan" id="kobo.88.1"> it doesn’t contain any environment variables or secrets or make a call to a real database, this file could just as well be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1">+page.js</span></strong><span class="koboSpan" id="kobo.90.1"> file. </span><span class="koboSpan" id="kobo.90.2">It works only to load data from the JSON example file. </span><span class="koboSpan" id="kobo.90.3">Essentially, it imports that file and then returns it as an object in the exported </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">load()</span></strong><span class="koboSpan" id="kobo.92.1"> function, making it available to the Svelte template shown next. </span><span class="koboSpan" id="kobo.92.2">In reality, something so trivial could also be done in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">&lt;script&gt;</span></strong><span class="koboSpan" id="kobo.94.1"> tag of the Svelte template but remember that this example aims to function as a stand-in for a </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">real database.</span></span></p>
<p><span class="koboSpan" id="kobo.96.1">Now that we’ve loaded our articles, we’ll need somewhere to show them, so let’s do that now and create a landing page for our news. </span><span class="koboSpan" id="kobo.96.2">For the sake of brevity, styles have </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">been omitted:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.98.1">src/routes/news/+page.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.99.1">
&lt;script&gt;
  export let data;
&lt;/script&gt;
&lt;h1&gt;
  News
&lt;/h1&gt;
&lt;ul&gt;
  {#each Object.entries(data.json) as [key, value]}
    &lt;li&gt;
      &lt;a href='/news/{value.slug}'&gt;{value.title}&lt;/a&gt;
    &lt;/li&gt;
  {/each}
&lt;/ul&gt;</span></pre>
<p><span class="koboSpan" id="kobo.100.1">This</span><a id="_idIndexMarker068"/><span class="koboSpan" id="kobo.101.1"> Svelte component exports the </span><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">data</span></strong><span class="koboSpan" id="kobo.103.1"> variable, giving us access to the data we previously returned from our faked database in </span><strong class="source-inline"><span class="koboSpan" id="kobo.104.1">load()</span></strong><span class="koboSpan" id="kobo.105.1">. </span><span class="koboSpan" id="kobo.105.2">It then adds an </span><strong class="source-inline"><span class="koboSpan" id="kobo.106.1">h1</span></strong><span class="koboSpan" id="kobo.107.1"> title tag, followed by an unordered list of each of the entries from our fake data. </span><span class="koboSpan" id="kobo.107.2">After which, it makes use of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.108.1">{#each}</span></strong><span class="koboSpan" id="kobo.109.1"> Svelte template syntax to iterate over each of the entries in the array returned from </span><strong class="source-inline"><span class="koboSpan" id="kobo.110.1">Object.entries(data.json)</span></strong><span class="koboSpan" id="kobo.111.1">. </span><span class="koboSpan" id="kobo.111.2">For each of the entries (our two sample objects), we surround them with list item tags and show the </span><strong class="source-inline"><span class="koboSpan" id="kobo.112.1">title</span></strong><span class="koboSpan" id="kobo.113.1"> property inside a </span><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">&lt;a&gt;</span></strong><span class="koboSpan" id="kobo.115.1"> tag linking to the article via the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.116.1">slug</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.117.1"> property.</span></span></p>
<p><span class="koboSpan" id="kobo.118.1">Next, we’ll need to create a page to show the article content but keep in mind we want the route to have a parameter within it, so we’ll use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.119.1">[ ]</span></strong><span class="koboSpan" id="kobo.120.1"> square brackets to surround the </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">article slug:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.122.1">src/routes/news/[slug]/+page.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.123.1">
&lt;script&gt;
  export let data;
&lt;/script&gt;
&lt;h1&gt;News&lt;/h1&gt;
&lt;h2&gt;{data.title}&lt;/h2&gt;
&lt;div class='content'&gt;
  {data.content}
&lt;/div&gt;
&lt;a href='/news'&gt;Back to news&lt;/a&gt;</span></pre>
<p><span class="koboSpan" id="kobo.124.1">This file exports the </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">data</span></strong><span class="koboSpan" id="kobo.126.1"> variable so that we may access information about our article. </span><span class="koboSpan" id="kobo.126.2">It then shows </span><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">News</span></strong><span class="koboSpan" id="kobo.128.1"> inside a </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">&lt;h1&gt;</span></strong><span class="koboSpan" id="kobo.130.1"> title tag, followed by a </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">&lt;h2&gt;</span></strong><span class="koboSpan" id="kobo.132.1"> title tag with the article title, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">div</span></strong><span class="koboSpan" id="kobo.134.1"> containing the article content, and a link back to the news page. </span><span class="koboSpan" id="kobo.134.2">All of the article information is loaded by making another call to our </span><em class="italic"><span class="koboSpan" id="kobo.135.1">database</span></em><span class="koboSpan" id="kobo.136.1"> in the </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">next file:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.138.1">src/routes/news/[slug]/+page.server.js</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.139.1">
import json from '$lib/articles.json';
import { error } from '@sveltejs/kit';
export function load({ params }) {
  let found = {};
  Object.keys(json).forEach((id) =&gt; {
    if(json[id].slug === params.slug) {
      found = json[id];
    }
  });
  if(Object.keys(found).length !== 0) {
    return found;
  }
  throw error(404, 'Whoops! </span><span class="koboSpan" id="kobo.139.2">That article wasn\'t found!');
}</span></pre>
<p><span class="koboSpan" id="kobo.140.1">Just as</span><a id="_idIndexMarker069"/><span class="koboSpan" id="kobo.141.1"> before, we’ve imported our fake database to access the full article content. </span><span class="koboSpan" id="kobo.141.2">This code also imports the </span><strong class="source-inline"><span class="koboSpan" id="kobo.142.1">error</span></strong><span class="koboSpan" id="kobo.143.1"> module from SvelteKit, which will come in handy later on. </span><span class="koboSpan" id="kobo.143.2">We’ve then exported the </span><strong class="source-inline"><span class="koboSpan" id="kobo.144.1">load()</span></strong><span class="koboSpan" id="kobo.145.1"> function so that we can return the loaded data to the rendered page. </span><span class="koboSpan" id="kobo.145.2">Inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.146.1">load()</span></strong><span class="koboSpan" id="kobo.147.1"> function, the code initializes an empty variable labeled </span><strong class="source-inline"><span class="koboSpan" id="kobo.148.1">found</span></strong><span class="koboSpan" id="kobo.149.1">, and then begins to iterate over each object inside of the JSON data. </span><span class="koboSpan" id="kobo.149.2">In the loop, it checks whether any of the slugs in our data match the given slug in the URL. </span><span class="koboSpan" id="kobo.149.3">If a match is found, it is then assigned to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.150.1">found</span></strong><span class="koboSpan" id="kobo.151.1"> variable. </span><span class="koboSpan" id="kobo.151.2">After finishing the loop, we check that </span><strong class="source-inline"><span class="koboSpan" id="kobo.152.1">found</span></strong><span class="koboSpan" id="kobo.153.1"> is not an empty object. </span><span class="koboSpan" id="kobo.153.2">If it is not empty, we return an object containing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.154.1">found</span></strong><span class="koboSpan" id="kobo.155.1"> variable. </span><span class="koboSpan" id="kobo.155.2">If it is empty, we throw a </span><strong class="bold"><span class="koboSpan" id="kobo.156.1">404 Not </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.157.1">Found</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.158.1"> error.</span></span></p>
<p><span class="koboSpan" id="kobo.159.1">Upon opening your development site in your browser and navigating to </span><strong class="source-inline"><span class="koboSpan" id="kobo.160.1">/news</span></strong><span class="koboSpan" id="kobo.161.1">, you should see two article titles listed. </span><span class="koboSpan" id="kobo.161.2">When clicked, they will redirect users to the respective article. </span><span class="koboSpan" id="kobo.161.3">This </span><a id="_idIndexMarker070"/><span class="koboSpan" id="kobo.162.1">example illustrates routing with parameters in a simple way that works for the most part. </span><span class="koboSpan" id="kobo.162.2">But what do we do about the times when it doesn’t work? </span><span class="koboSpan" id="kobo.162.3">Have you tried navigating to an article that doesn’t exist yet? </span><span class="koboSpan" id="kobo.162.4">Go ahead and try it now; I’ll wait </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">right here:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer016">
<span class="koboSpan" id="kobo.164.1"><img alt="" src="image/B19024_04_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.165.1">Figure 4.1 – A generic error page is shown when throwing an error in SvelteKit</span></p>
<p><span class="koboSpan" id="kobo.166.1">The article doesn’t exist, and the user is shown a generic error page. </span><span class="koboSpan" id="kobo.166.2">If we didn’t throw an error at all, the page would be rendered showing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.167.1">undefined</span></strong><span class="koboSpan" id="kobo.168.1"> values. </span><span class="koboSpan" id="kobo.168.2">Instead, we should show the user a proper error page. </span><span class="koboSpan" id="kobo.168.3">Just as SvelteKit provides us with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.170.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">+page.js</span></strong><span class="koboSpan" id="kobo.172.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.174.1"> files, we can also create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.175.1">+error.svelte</span></strong><span class="koboSpan" id="kobo.176.1"> template, which can be used when errors are thrown from the application. </span><span class="koboSpan" id="kobo.176.2">By specifying it in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.177.1">src/routes/news/[slug]/</span></strong><span class="koboSpan" id="kobo.178.1"> directory, the error page template will be localized to that particular route. </span><span class="koboSpan" id="kobo.178.2">If we wanted to build a generic error page to be used across the entire application, we could do so by placing an </span><strong class="source-inline"><span class="koboSpan" id="kobo.179.1">+error.svelte</span></strong><span class="koboSpan" id="kobo.180.1"> template at the root route of the application (</span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">src/routes/+error.svelte</span></strong><span class="koboSpan" id="kobo.182.1">). </span><span class="koboSpan" id="kobo.182.2">Let’s create a template in </span><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">src/routes/news/[slug]/</span></strong><span class="koboSpan" id="kobo.184.1"> so users aren’t confused by our lack of </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">clear communication:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.186.1">src/routes/news/[slug]/+error.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.187.1">
&lt;script&gt;
  import { page } from '$app/stores';
&lt;/script&gt;
&lt;h1&gt;News&lt;/h1&gt;
&lt;h2&gt;{$page.status}&lt;/h2&gt;
&lt;div class='content'&gt;
  {$page.error.message}
&lt;/div&gt;
&lt;style&gt;
  * {
    font-family: sans-serif;
  }
  h1, h2, .content {
    text-align: center;
    color: #358eaa;
  }
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.188.1">For this</span><a id="_idIndexMarker071"/><span class="koboSpan" id="kobo.189.1"> error template, we import the </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">page</span></strong><span class="koboSpan" id="kobo.191.1"> store module to access information about this particular request. </span><span class="koboSpan" id="kobo.191.2">This module, as well as many others, is available to use throughout the application. </span><span class="koboSpan" id="kobo.191.3">As this one makes use of Svelte’s stores, we can access the values it contains about the page by prefacing it with a dollar sign (</span><strong class="source-inline"><span class="koboSpan" id="kobo.192.1">$</span></strong><span class="koboSpan" id="kobo.193.1">). </span><span class="koboSpan" id="kobo.193.2">The rest of this template is fairly straightforward. </span><span class="koboSpan" id="kobo.193.3">It includes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.194.1">&lt;h1&gt;</span></strong><span class="koboSpan" id="kobo.195.1"> title tag labeled </span><strong class="source-inline"><span class="koboSpan" id="kobo.196.1">News</span></strong><span class="koboSpan" id="kobo.197.1">, followed by the status code and error message we passed when we threw our error in </span><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.199.1">. </span><span class="koboSpan" id="kobo.199.2">Some styles have been included to show how this template is different from the default template shown throughout SvelteKit. </span><span class="koboSpan" id="kobo.199.3">Compare </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.200.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.201.1">.1</span></em><span class="koboSpan" id="kobo.202.1"> of the generic SvelteKit error template to </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.203.1">Figure 4</span></em></span><em class="italic"><span class="koboSpan" id="kobo.204.1">.2</span></em><span class="koboSpan" id="kobo.205.1">, our </span><span class="No-Break"><span class="koboSpan" id="kobo.206.1">custom version:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer017">
<span class="koboSpan" id="kobo.207.1"><img alt="" src="image/B19024_04_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.208.1">Figure 4.2 – A customized error page template</span></p>
<p><span class="koboSpan" id="kobo.209.1">By now, you </span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.210.1">should feel comfortable creating essential routes for your application, whether they are static or dynamic. </span><span class="koboSpan" id="kobo.210.2">You should also be able to show error pages based on the route. </span><span class="koboSpan" id="kobo.210.3">There will be more about advanced routing later on, but for now, let’s take a closer look at how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">+page.server.js</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.212.1">files work.</span></span></p>
<h1 id="_idParaDest-64"><a id="_idTextAnchor064"/><span class="koboSpan" id="kobo.213.1">Creating Server Pages</span></h1>
<p><span class="koboSpan" id="kobo.214.1">In </span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.215.1">previous examples, we’ve used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">+page.js</span></strong><span class="koboSpan" id="kobo.217.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.219.1"> files for loading data. </span><span class="koboSpan" id="kobo.219.2">Often, they can be used interchangeably, but when is the best time to use which? </span><span class="koboSpan" id="kobo.219.3">In this section, we’ll break down some of the differences between the two and also discuss various features available in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.220.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.221.1"> files. </span><span class="koboSpan" id="kobo.221.2">We’ll break it down into </span><span class="No-Break"><span class="koboSpan" id="kobo.222.1">these topics:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">load()</span></strong></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.224.1">Page options</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.225.1">Actions</span></span></li>
</ul>
<h2 id="_idParaDest-65"><a id="_idTextAnchor065"/><span class="koboSpan" id="kobo.226.1">load()</span></h2>
<p><span class="koboSpan" id="kobo.227.1">As we’ve</span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.228.1"> seen in previous examples, data can be loaded into a </span><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.230.1"> component by exporting the </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">data</span></strong><span class="koboSpan" id="kobo.232.1"> property on that page. </span><span class="koboSpan" id="kobo.232.2">Both </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">+page.js</span></strong><span class="koboSpan" id="kobo.234.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.236.1"> can then be used for loading data to that page template as they can both export a </span><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">load()</span></strong><span class="koboSpan" id="kobo.238.1"> function. </span><span class="koboSpan" id="kobo.238.2">When to use which file depends on how you plan to load that data. </span><span class="koboSpan" id="kobo.238.3">When run in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">+page.js</span></strong><span class="koboSpan" id="kobo.240.1"> file, </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">load()</span></strong><span class="koboSpan" id="kobo.242.1"> will run on </span><em class="italic"><span class="koboSpan" id="kobo.243.1">both the client and the server</span></em><span class="koboSpan" id="kobo.244.1">. </span><span class="koboSpan" id="kobo.244.2">It is recommended to load data here if you are able, as SvelteKit can manage grabbing data from calls with </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">fetch()</span></strong><span class="koboSpan" id="kobo.246.1">. </span><span class="koboSpan" id="kobo.246.2">This becomes particularly useful when preloading data (anticipating what the user may do and starting the process milliseconds before they actually </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">do it).</span></span></p>
<p><span class="koboSpan" id="kobo.248.1">However, there are times this isn’t possible. </span><span class="koboSpan" id="kobo.248.2">For instance, if you need to make a call to an API that requires authentication or a database, you likely don’t want your connection secrets exposed to the client. </span><span class="koboSpan" id="kobo.248.3">That would allow anyone with access to your application to then download your secrets and make requests to said API or database on your behalf. </span><span class="koboSpan" id="kobo.248.4">In these cases, you’ll need to store the secrets on your server. </span><span class="koboSpan" id="kobo.248.5">And since those secrets are on your server, you’ll need access to the server’s filesystem. </span><span class="koboSpan" id="kobo.248.6">The server will need to make the calls to obtain the appropriate data and pass that data to the client. </span><span class="koboSpan" id="kobo.248.7">In instances such as these, it is best to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.250.1"> files for data </span><span class="No-Break"><span class="koboSpan" id="kobo.251.1">loading requirements.</span></span></p>
<h2 id="_idParaDest-66"><a id="_idTextAnchor066"/><span class="koboSpan" id="kobo.252.1">Page options</span></h2>
<p><strong class="source-inline"><span class="koboSpan" id="kobo.253.1">+page.js</span></strong><span class="koboSpan" id="kobo.254.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.255.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.256.1"> files are not just used for loading data. </span><span class="koboSpan" id="kobo.256.2">They can also </span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.257.1">export various options specific to their sibling page. </span><span class="koboSpan" id="kobo.257.2">Some </span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.258.1">options allow you to configure functionality related to the rendering of pages. </span><span class="koboSpan" id="kobo.258.2">These particular options are Boolean values, which means they can be enabled by setting them to </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">true</span></strong><span class="koboSpan" id="kobo.260.1"> or disabled by setting them to </span><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">false</span></strong><span class="koboSpan" id="kobo.262.1">. </span><span class="koboSpan" id="kobo.262.2">They are </span><span class="No-Break"><span class="koboSpan" id="kobo.263.1">the following:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">prerender</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.265.1">ssr</span></strong></span></li>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">csr</span></strong></span></li>
</ul>
<h3><span class="koboSpan" id="kobo.267.1">prerender</span></h3>
<p><span class="koboSpan" id="kobo.268.1">While prerendering can be customized in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.269.1">svelte.config.js</span></strong><span class="koboSpan" id="kobo.270.1"> project, you may find yourself </span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.271.1">needing to explicitly enable or disable it on a per-page basis. </span><span class="koboSpan" id="kobo.271.2">To enable it on a page, you can set </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">export const prerender = true;</span></strong><span class="koboSpan" id="kobo.273.1">. </span><span class="koboSpan" id="kobo.273.2">Conversely, setting its value to </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">false</span></strong><span class="koboSpan" id="kobo.275.1"> will disable prerendering for that page. </span><span class="koboSpan" id="kobo.275.2">When to prerender a page should be determined by whether or not the HTML content of the page is static. </span><span class="koboSpan" id="kobo.275.3">If the HTML shown on the page should be the same no matter who is viewing it, then a page is considered safe to prerender. </span><span class="koboSpan" id="kobo.275.4">By prerendering a page, the HTML will be generated at build time, and static HTML will be shipped to the client for each request to that particular route. </span><span class="koboSpan" id="kobo.275.5">This results in faster load times for end users, which makes for a </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">better experience.</span></span></p>
<h3><span class="koboSpan" id="kobo.277.1">Server-side rendering</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.278.1">Server-side rendering</span></strong><span class="koboSpan" id="kobo.279.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.280.1">SSR</span></strong><span class="koboSpan" id="kobo.281.1">) can </span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.282.1">be a </span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.283.1">powerful tool in your arsenal to speed up the user experience. </span><span class="koboSpan" id="kobo.283.2">Instead of forcing the client to load a library that manages all of the rendering of content, the server will take over that responsibility so that it may ship static HTML to the client, which will then hydrate the page with data. </span><span class="koboSpan" id="kobo.283.3">To enable SSR for a particular route, set </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">export const ssr = true;</span></strong><span class="koboSpan" id="kobo.285.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">+page.js</span></strong><span class="koboSpan" id="kobo.287.1"> file or </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.289.1">. </span><span class="koboSpan" id="kobo.289.2">SvelteKit enables this option by default, so if you need to change it, you’ll likely find yourself disabling it by setting the value </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">false</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.293.1">Client Side Rendering</span></h3>
<p><span class="koboSpan" id="kobo.294.1">Instead of </span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.295.1">rendering the page on the server, and sending that to the client, enabling </span><strong class="bold"><span class="koboSpan" id="kobo.296.1">client-side rendering</span></strong><span class="koboSpan" id="kobo.297.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.298.1">CSR</span></strong><span class="koboSpan" id="kobo.299.1">) will </span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.300.1">force the client to handle the workload of rendering. </span><span class="koboSpan" id="kobo.300.2">This can be useful when creating a </span><strong class="bold"><span class="koboSpan" id="kobo.301.1">single-page application</span></strong><span class="koboSpan" id="kobo.302.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.303.1">SPA</span></strong><span class="koboSpan" id="kobo.304.1">), as </span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.305.1">routing will then be managed on the client device. </span><span class="koboSpan" id="kobo.305.2">Be warned that if you have disabled both SSR and CSR, nothing on the page will be rendered. </span><span class="koboSpan" id="kobo.305.3">Instead, you’ll see an empty shell of a page. </span><span class="koboSpan" id="kobo.305.4">To disable CSR, set </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">export const csr = false;</span></strong><span class="koboSpan" id="kobo.307.1"> just as you would with other available </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">page options.</span></span></p>
<p><span class="koboSpan" id="kobo.309.1">You’ll likely find these rendering-related options useful should you find yourself building an SPA, a static HTML site, or if you’re attempting to render static content on the </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">client end.</span></span></p>
<h2 id="_idParaDest-67"><a id="_idTextAnchor067"/><span class="koboSpan" id="kobo.311.1">Actions</span></h2>
<p><span class="koboSpan" id="kobo.312.1">Because </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">+page.js</span></strong><span class="koboSpan" id="kobo.314.1"> files </span><a id="_idIndexMarker083"/><span class="koboSpan" id="kobo.315.1">are also run in the client, they cannot export actions. </span><span class="koboSpan" id="kobo.315.2">Actions allow you to </span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.316.1">receive data submitted by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">form</span></strong><span class="koboSpan" id="kobo.318.1"> elements sent via the POST HTTP method. </span><span class="koboSpan" id="kobo.318.2">We saw an example of this in </span><a href="B19024_03_Final_AM.xhtml#_idTextAnchor051"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.319.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.320.1">, where we discussed the </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">FormData</span></strong><span class="koboSpan" id="kobo.322.1"> API compatibility with SvelteKit. </span><span class="koboSpan" id="kobo.322.2">In that example, we exported a default action. </span><span class="koboSpan" id="kobo.322.3">A default action will be triggered by submitting a form element that has not specified an </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">action</span></strong><span class="koboSpan" id="kobo.324.1"> property. </span><span class="koboSpan" id="kobo.324.2">However, we are not limited to only default actions, as SvelteKit also enables us to create named actions. </span><span class="koboSpan" id="kobo.324.3">Named actions will all work on the same route but are differentiated from each other by providing the route followed by the action name in a query string. </span><span class="koboSpan" id="kobo.324.4">A default action may not exist alongside named actions, so you must remove it or change its name and set the </span><strong class="source-inline"><span class="koboSpan" id="kobo.325.1">action</span></strong><span class="koboSpan" id="kobo.326.1"> property on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.327.1">form</span></strong><span class="koboSpan" id="kobo.328.1"> elements that </span><span class="No-Break"><span class="koboSpan" id="kobo.329.1">utilize it.</span></span></p>
<p><span class="koboSpan" id="kobo.330.1">Building from our previous example, let’s look at how we might implement a few more actions related to comments online. </span><span class="koboSpan" id="kobo.330.2">Some additional functionality we may want to create would be allowing users to </span><strong class="source-inline"><span class="koboSpan" id="kobo.331.1">star</span></strong><span class="koboSpan" id="kobo.332.1"> a comment or reply. </span><span class="koboSpan" id="kobo.332.2">Since we’ll be adding more named actions, we’ll change the </span><strong class="source-inline"><span class="koboSpan" id="kobo.333.1">default</span></strong><span class="koboSpan" id="kobo.334.1"> action </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.336.1">create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.337.1">:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.338.1">src/routes/comment/+page.server.js</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.339.1">
export const actions = {
  create: async (event) =&gt; {
    const form = await event.request.formData();
    …
  },
  star: async () =&gt; {
    return {
      status: true,
      msg: 'You starred this comment!'
</span><span class="koboSpan" id="kobo.339.2">    }
  },
  reply: async () =&gt; {
    return {
      status: true,
      msg: 'You replied!'
</span><span class="koboSpan" id="kobo.339.3">    }
  }
}</span></pre>
<p><span class="koboSpan" id="kobo.340.1">Notice </span><a id="_idIndexMarker085"/><span class="koboSpan" id="kobo.341.1">how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.342.1">default</span></strong><span class="koboSpan" id="kobo.343.1"> action was changed to </span><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">create</span></strong><span class="koboSpan" id="kobo.345.1">. </span><span class="koboSpan" id="kobo.345.2">The code within </span><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">create</span></strong><span class="koboSpan" id="kobo.347.1"> has been omitted as it has not changed since our last example. </span><span class="koboSpan" id="kobo.347.2">We’ve also added the </span><strong class="source-inline"><span class="koboSpan" id="kobo.348.1">star</span></strong><span class="koboSpan" id="kobo.349.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">reply</span></strong><span class="koboSpan" id="kobo.351.1"> actions. </span><span class="koboSpan" id="kobo.351.2">For now, they don’t do much except return an object that will output our message, showcasing that they are both called when the respective button is clicked. </span><span class="koboSpan" id="kobo.351.3">In a real-world scenario, these would likely make calls to a database, increasing the “star count,” or saving the reply comment content and a unique identifier of the comment being </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">replied to.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">As for the</span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.354.1"> form itself, we could create separate forms and specify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">POST</span></strong><span class="koboSpan" id="kobo.356.1"> method as well as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.357.1">action</span></strong><span class="koboSpan" id="kobo.358.1"> property for each new feature. </span><span class="koboSpan" id="kobo.358.2">However, a more intuitive user experience would consolidate the features and keep them all in one cohesive component. </span><span class="koboSpan" id="kobo.358.3">Instead of creating multiple forms, we’ll create a button for the new features and specify a </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">formaction</span></strong><span class="koboSpan" id="kobo.360.1"> property for each. </span><span class="koboSpan" id="kobo.360.2">Doing this will keep the HTTP method specified in the parent form but allow sending the requests to different actions based on the </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">button clicked:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.362.1">src/routes/comment/+page.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.363.1">
&lt;script&gt;
  import { enhance } from '$app/forms';
  export let form;
&lt;/script&gt;
&lt;div class='wrap'&gt;
  {#if form &amp;&amp; form.status === true}
    &lt;p&gt;{form.msg}&lt;/p&gt;
  {/if}
  &lt;form method='POST' action='?/create' use:enhance&gt;
    &lt;label&gt;
      Comment
      &lt;input name="comment" type="text"&gt;
    &lt;/label&gt;
    &lt;button&gt;Submit&lt;/button&gt;
    &lt;button formaction='?/star'&gt;Star&lt;/button&gt;
    &lt;button formaction='?/reply'&gt;Reply&lt;/button&gt;
  &lt;/form&gt;
&lt;/div&gt;
&lt;style&gt;
…
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.364.1">The</span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.365.1"> first change to notice from our previous encounter with this example is</span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.366.1"> that we’ve added </span><strong class="source-inline"><span class="koboSpan" id="kobo.367.1">import { enhance } from '$app/forms';</span></strong><span class="koboSpan" id="kobo.368.1">. </span><span class="koboSpan" id="kobo.368.2">This addition will allow us to progressively enhance our form with JavaScript. </span><span class="koboSpan" id="kobo.368.3">The page will then not need to be reloaded after each form submission. </span><span class="koboSpan" id="kobo.368.4">This module is utilized in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.370.1"> element further down with the Svelte </span><strong class="source-inline"><span class="koboSpan" id="kobo.371.1">use:</span></strong><span class="koboSpan" id="kobo.372.1"> directive. </span><span class="koboSpan" id="kobo.372.2">Try running the example without it and observe how the URL will now contain query strings based on which button </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">is clicked.</span></span></p>
<p><span class="koboSpan" id="kobo.374.1">Speaking of buttons, we’ve added two in this example. </span><span class="koboSpan" id="kobo.374.2">Each has the </span><strong class="source-inline"><span class="koboSpan" id="kobo.375.1">formaction</span></strong><span class="koboSpan" id="kobo.376.1"> property set, which allows us to specify which of our named actions we would like called from </span><strong class="source-inline"><span class="koboSpan" id="kobo.377.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.378.1">. </span><span class="koboSpan" id="kobo.378.2">Take note that we </span><em class="italic"><span class="koboSpan" id="kobo.379.1">must</span></em><span class="koboSpan" id="kobo.380.1"> call these actions by specifying a query parameter followed by a </span><strong class="source-inline"><span class="koboSpan" id="kobo.381.1">/</span></strong><span class="koboSpan" id="kobo.382.1"> character. </span><span class="koboSpan" id="kobo.382.2">We’ve also set the form action to </span><strong class="source-inline"><span class="koboSpan" id="kobo.383.1">?/create</span></strong><span class="koboSpan" id="kobo.384.1">. </span><span class="koboSpan" id="kobo.384.2">Since we have exported named actions, we can no longer have an action named </span><strong class="source-inline"><span class="koboSpan" id="kobo.385.1">default</span></strong><span class="koboSpan" id="kobo.386.1"> and must specify the action to be called on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.387.1">form</span></strong><span class="koboSpan" id="kobo.388.1"> element. </span><span class="koboSpan" id="kobo.388.2">If we wanted to call an action located at another route, we could do so easily by setting </span><strong class="source-inline"><span class="koboSpan" id="kobo.389.1">formaction</span></strong><span class="koboSpan" id="kobo.390.1"> to the desired route name followed by </span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">?/</span></strong><span class="koboSpan" id="kobo.392.1">, and the </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">action name.</span></span></p>
<p><span class="koboSpan" id="kobo.394.1">You should now be </span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.395.1">confident in knowing when to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.396.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.397.1"> over </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">+page.js</span></strong><span class="koboSpan" id="kobo.399.1">, how to customize the rendering of pages, and how you can easily accept data from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.400.1">form</span></strong><span class="koboSpan" id="kobo.401.1"> elements. </span><span class="koboSpan" id="kobo.401.2">In the next section, we’ll cover how you can create API endpoints that accept more than just </span><span class="No-Break"><span class="koboSpan" id="kobo.402.1">POST requests.</span></span></p>
<h1 id="_idParaDest-68"><a id="_idTextAnchor068"/><span class="koboSpan" id="kobo.403.1">API Endpoints</span></h1>
<p><span class="koboSpan" id="kobo.404.1">We’ve covered</span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.405.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.407.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">+page.js</span></strong><span class="koboSpan" id="kobo.409.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">+page.server.js</span></strong><span class="koboSpan" id="kobo.411.1"> files but we have yet to discuss </span><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">+server.js</span></strong><span class="koboSpan" id="kobo.413.1"> files. </span><span class="koboSpan" id="kobo.413.2">These files enable us to accept more than just </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">POST</span></strong><span class="koboSpan" id="kobo.415.1"> requests. </span><span class="koboSpan" id="kobo.415.2">As web application developers, we may be expected to support various platforms. </span><span class="koboSpan" id="kobo.415.3">Having an API simplifies the transmission of data between our server and these other platforms. </span><span class="koboSpan" id="kobo.415.4">Many APIs can accept GET and POST requests as well as PUT, PATCH, DELETE, </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">or OPTIONS.</span></span></p>
<p><span class="koboSpan" id="kobo.417.1">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.418.1">+server.js</span></strong><span class="koboSpan" id="kobo.419.1"> file creates an API endpoint by exporting a function with the name of the HTTP request method you would like for it to accept. </span><span class="koboSpan" id="kobo.419.2">The functions exported will take a SvelteKit-specific </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">RequestEvent</span></strong><span class="koboSpan" id="kobo.421.1"> parameter and return a </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">Response</span></strong><span class="koboSpan" id="kobo.423.1"> object. </span><span class="koboSpan" id="kobo.423.2">As an example, we can create a simple endpoint that would allow us to create posts for a blog. </span><span class="koboSpan" id="kobo.423.3">This could be useful if we used a mobile app to write and post from. </span><span class="koboSpan" id="kobo.423.4">Note that a </span><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">+server.js</span></strong><span class="koboSpan" id="kobo.425.1"> file should not exist alongside page files as it is intended to handle all HTTP </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">request types:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.427.1">src/routes/api/post/+server.js</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.428.1">
import { json } from '@sveltejs/kit';
export function POST({ request }) {
  // save post to DB
  console.log(request);
  return json({
    status: true,
    method: request.method
  });
}
export function GET({ request }) {
  // retrieve post from DB
  console.log(request);
  return json({
    status: true,
    method: request.method
  });
}</span></pre>
<p><span class="koboSpan" id="kobo.429.1">This </span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.430.1">file imports the </span><strong class="source-inline"><span class="koboSpan" id="kobo.431.1">json</span></strong><span class="koboSpan" id="kobo.432.1"> module from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.433.1">@sveltejs/kit</span></strong><span class="koboSpan" id="kobo.434.1"> package, which is useful for sending JSON-formatted </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">Response</span></strong><span class="koboSpan" id="kobo.436.1"> objects. </span><span class="koboSpan" id="kobo.436.2">We then export functions named for both POST and GET methods, each of which only outputs the </span><strong class="source-inline"><span class="koboSpan" id="kobo.437.1">Request</span></strong><span class="koboSpan" id="kobo.438.1"> object to the console and then returns a </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">Response</span></strong><span class="koboSpan" id="kobo.440.1"> JSON. </span><span class="koboSpan" id="kobo.440.2">If we were so inclined, we could also export functions for other HTTP verbs such as PUT, PATCH, </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">or DELETE.</span></span></p>
<p><span class="koboSpan" id="kobo.442.1">You should demo this example by navigating to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.443.1">api/post/</span></strong><span class="koboSpan" id="kobo.444.1"> route in your browser. </span><span class="koboSpan" id="kobo.444.2">After opening the page, observe the rest of the properties available in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">Request</span></strong><span class="koboSpan" id="kobo.446.1"> object output to your development server. </span><span class="koboSpan" id="kobo.446.2">If you don’t understand what you’re looking at, that’s okay because we’ll look into it more in the next chapter. </span><span class="koboSpan" id="kobo.446.3">Back in your browser, open the </span><strong class="bold"><span class="koboSpan" id="kobo.447.1">Network</span></strong><span class="koboSpan" id="kobo.448.1"> tab in your developer tools, select the GET request, right-click it, select </span><strong class="bold"><span class="koboSpan" id="kobo.449.1">Edit and Resend</span></strong><span class="koboSpan" id="kobo.450.1">, and change the request method to POST. </span><span class="koboSpan" id="kobo.450.2">Once done, send it and view the output. </span><span class="koboSpan" id="kobo.450.3">You should see the object with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">method</span></strong><span class="koboSpan" id="kobo.452.1"> property set to POST returned in a JSON formatted object. </span><span class="koboSpan" id="kobo.452.2">If your browser doesn’t allow you to edit requests, proxy tools such as OWASP ZAP, Burp Suite, Postman, or Telerik Fiddler will let you customize HTTP requests. </span><span class="koboSpan" id="kobo.452.3">See the resources at the end of this chapter </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">for links.</span></span></p>
<p><span class="koboSpan" id="kobo.454.1">Now that you know how to go about creating your very own API, let’s look at how you can unify the user experience of your application with </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">a layout.</span></span></p>
<h1 id="_idParaDest-69"><a id="_idTextAnchor069"/><span class="koboSpan" id="kobo.456.1">Creating Layouts</span></h1>
<p><span class="koboSpan" id="kobo.457.1">We've </span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.458.1">covered a lot so far in this chapter, but we’ve still only added styles and markup to each specific page. </span><span class="koboSpan" id="kobo.458.2">This is repetitive and not a practical use of our time. </span><span class="koboSpan" id="kobo.458.3">To reduce repetition, we can utilize layouts. </span><span class="koboSpan" id="kobo.458.4">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.459.1">+layout.svelte</span></strong><span class="koboSpan" id="kobo.460.1"> component can unify the user experience by leveraging Svelte’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.461.1">&lt;slot&gt;</span></strong><span class="koboSpan" id="kobo.462.1"> directive. </span><span class="koboSpan" id="kobo.462.2">The layout file will nest any sibling page components and child routes within itself, allowing us to show persistent markup across the application. </span><span class="koboSpan" id="kobo.462.3">Just like </span><strong class="source-inline"><span class="koboSpan" id="kobo.463.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.464.1">, we can include a </span><strong class="source-inline"><span class="koboSpan" id="kobo.465.1">+layout.svelte</span></strong><span class="koboSpan" id="kobo.466.1"> component at any level in our route hierarchy, allowing the nesting of layouts within layouts. </span><span class="koboSpan" id="kobo.466.2">Because each layout is also a Svelte component, the styles will be localized to that particular component and will not cascade to those nested within. </span><span class="koboSpan" id="kobo.466.3">Let’s look at how we might use layouts to create a consistent layout and navigation menu for our </span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">existing code:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.468.1">src/routes/+layout.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.469.1">
&lt;script&gt;
  import Nav from '$lib/Nav.svelte';
&lt;/script&gt;
&lt;div class='wrapper'&gt;
  &lt;div class='nav'&gt;
    &lt;Nav /&gt;
  &lt;/div&gt;
  &lt;div class='content'&gt;
    &lt;slot /&gt;
  &lt;/div&gt;
  &lt;div class='footer'&gt;
    This is my footer
  &lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
  .wrapper {
    min-height: 100vh;
    display: grid;
    grid-template-rows: auto 1fr auto;
  }
  .footer {
    text-align: center;
    margin: 20px 0;
  }
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.470.1">Because </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.471.1">this </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">+layout.svelte</span></strong><span class="koboSpan" id="kobo.473.1"> component is at the root level of our routes, it will be applied across all child routes. </span><span class="koboSpan" id="kobo.473.2">The very first thing our component does is import our custom navigation component (shown next). </span><span class="koboSpan" id="kobo.473.3">Secondly, it creates the markup that will house the rest of our application, including this file’s sibling </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.475.1">. </span><span class="koboSpan" id="kobo.475.2">Its markup consists of several </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">&lt;div&gt;</span></strong><span class="koboSpan" id="kobo.477.1"> elements with varying class names indicating functionality. </span><span class="koboSpan" id="kobo.477.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">.wrapper</span></strong> <strong class="source-inline"><span class="koboSpan" id="kobo.479.1">&lt;div&gt;</span></strong><span class="koboSpan" id="kobo.480.1"> element wraps all others so that we may apply the sticky footer styles found in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.481.1">&lt;style&gt;</span></strong><span class="koboSpan" id="kobo.482.1"> section of this component. </span><span class="koboSpan" id="kobo.482.2">The div with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">.nav</span></strong><span class="koboSpan" id="kobo.484.1"> class contains our custom </span><strong class="source-inline"><span class="koboSpan" id="kobo.485.1">Nav</span></strong><span class="koboSpan" id="kobo.486.1"> component, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.487.1">.content</span></strong><span class="koboSpan" id="kobo.488.1"> div contains our Svelte </span><strong class="source-inline"><span class="koboSpan" id="kobo.489.1">&lt;slot&gt;</span></strong><span class="koboSpan" id="kobo.490.1"> directive, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.491.1">.footer</span></strong><span class="koboSpan" id="kobo.492.1"> is where we would put our site footer information. </span><span class="koboSpan" id="kobo.492.2">Now let’s take a look at the custom </span><strong class="source-inline"><span class="koboSpan" id="kobo.493.1">Nav</span></strong><span class="koboSpan" id="kobo.494.1"> component we imported in our </span><span class="No-Break"><span class="koboSpan" id="kobo.495.1">root layout:</span></span></p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.496.1">src/lib/Nav.svelte</span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.497.1">
&lt;nav&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/news'&gt;News&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/fetch'&gt;Fetch&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/comment'&gt;Comment&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/about'&gt;About&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href='/api/post'&gt;API&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;style&gt;
  ul {
    list-style: none;
    text-align: center;
  }
  ul li {
    display: inline-block;
    padding: 0;
    margin: 1em .75em;
  }
&lt;/style&gt;</span></pre>
<p><span class="koboSpan" id="kobo.498.1">This</span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.499.1"> component merely contains HTML with links to all of the routes we’ve already created and some rudimentary styling. </span><span class="koboSpan" id="kobo.499.2">It consists of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">&lt;a&gt;</span></strong><span class="koboSpan" id="kobo.501.1"> elements with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.502.1">href</span></strong><span class="koboSpan" id="kobo.503.1"> properties set to the relative routes we’ve created up to this point. </span><span class="koboSpan" id="kobo.503.2">They are all nested within list items of an unordered list, contained within a </span><strong class="source-inline"><span class="koboSpan" id="kobo.504.1">&lt;nav&gt;</span></strong><span class="koboSpan" id="kobo.505.1"> element. </span><span class="koboSpan" id="kobo.505.2">Again, this example is overly simple, but for our purposes, it works. </span><span class="koboSpan" id="kobo.505.3">Now, you can add any new routes we create later on in the book to the navigation menu so they may be easily accessed when testing in </span><span class="No-Break"><span class="koboSpan" id="kobo.506.1">the browser.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.507.1">Relative routes</span></p>
<p class="callout"><span class="koboSpan" id="kobo.508.1">Notice how the routes provided are relative and are not prefaced by a domain name. </span><span class="koboSpan" id="kobo.508.2">If we were to deploy our production application to a subdirectory; rather than the root folder of our domain, these routes would fail. </span><span class="koboSpan" id="kobo.508.3">Instead, we can set the base path of our application in </span><strong class="source-inline"><span class="koboSpan" id="kobo.509.1">svelte.config.js</span></strong><span class="koboSpan" id="kobo.510.1">. </span><span class="koboSpan" id="kobo.510.2">Specifically, we’d set </span><strong class="source-inline"><span class="koboSpan" id="kobo.511.1">config.kit.paths.base</span></strong><span class="koboSpan" id="kobo.512.1"> to our subdirectory path, starting with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.513.1">/</span></strong><span class="koboSpan" id="kobo.514.1">. </span><span class="koboSpan" id="kobo.514.2">Then in components and routes, we could use </span><strong class="source-inline"><span class="koboSpan" id="kobo.515.1">import { base } from $app/paths</span></strong><span class="koboSpan" id="kobo.516.1"> and preface all routes with </span><strong class="source-inline"><span class="koboSpan" id="kobo.517.1">{base}/</span></strong><span class="koboSpan" id="kobo.518.1">. </span><span class="koboSpan" id="kobo.518.2">In this way, our application would know it exists within a subdirectory. </span><span class="koboSpan" id="kobo.518.3">Try doing it in your development project and observe how Vite and SvelteKit automatically serve the project from </span><span class="No-Break"><span class="koboSpan" id="kobo.519.1">that directory!</span></span></p>
<p><span class="koboSpan" id="kobo.520.1">To</span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.521.1"> practice the concepts surrounding layouts further, try creating </span><strong class="source-inline"><span class="koboSpan" id="kobo.522.1">src/routes/news/[slug]/+layout.svelte</span></strong><span class="koboSpan" id="kobo.523.1"> to give the articles a consistent appearance. </span><span class="koboSpan" id="kobo.523.2">Just as we saw with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.524.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.525.1"> files, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.526.1">+layout.svelte</span></strong><span class="koboSpan" id="kobo.527.1"> files can be accompanied by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.528.1">+layout.js</span></strong><span class="koboSpan" id="kobo.529.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.530.1">+layout.server.js</span></strong><span class="koboSpan" id="kobo.531.1"> files. </span><span class="koboSpan" id="kobo.531.2">Their functionality is identical to their page counterparts, but the data returned from them will be available in </span><strong class="source-inline"><span class="koboSpan" id="kobo.532.1">+layout.svelte</span></strong><span class="koboSpan" id="kobo.533.1"> as well as any </span><strong class="source-inline"><span class="koboSpan" id="kobo.534.1">+page.svelte</span></strong><span class="koboSpan" id="kobo.535.1"> pages that exist in parallel. </span><span class="koboSpan" id="kobo.535.2">Page options can also be set in layout files, and those options will “trickle down” to </span><span class="No-Break"><span class="koboSpan" id="kobo.536.1">nested components.</span></span></p>
<p><span class="koboSpan" id="kobo.537.1">With the information provided, you should now have the skills necessary to produce consistent and robust UIs for your SvelteKit applications. </span><span class="koboSpan" id="kobo.537.2">Layouts come in handy when creating all sorts of UI elements, but especially those that must remain consistent across various portions of </span><span class="No-Break"><span class="koboSpan" id="kobo.538.1">the app.</span></span></p>
<h1 id="_idParaDest-70"><a id="_idTextAnchor070"/><span class="koboSpan" id="kobo.539.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.540.1">In this chapter, we covered how to create static and dynamic routes as well as manage custom error templates for those routes. </span><span class="koboSpan" id="kobo.540.2">We also saw how developers can accept data submitted via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">&lt;form&gt;</span></strong><span class="koboSpan" id="kobo.542.1"> elements with multiple named actions that can be called from a single form. </span><span class="koboSpan" id="kobo.542.2">We learned how to leverage SvelteKit’s routing mechanism to build out an API, which is particularly useful when an application needs to be accessed from platforms other than web browsers. </span><span class="koboSpan" id="kobo.542.3">We then unified the UI of our application with layouts. </span><span class="koboSpan" id="kobo.542.4">With those layouts, we saw how they can be leveraged to keep navigation elements in a predictable location across the app. </span><span class="koboSpan" id="kobo.542.5">That’s a lot of information to absorb in these few pages so we’ll take a closer look at some of these concepts in the next </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">few chapters.</span></span></p>
<p><span class="koboSpan" id="kobo.544.1">In the next chapter, we will learn more about managing the data we’re loading onto our pages. </span><span class="koboSpan" id="kobo.544.2">We’ll also cover more advanced methods for loading </span><span class="No-Break"><span class="koboSpan" id="kobo.545.1">that data.</span></span></p>
<h1 id="_idParaDest-71"><a id="_idTextAnchor071"/><span class="koboSpan" id="kobo.546.1">Resources</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.547.1">HTTP </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.548.1">Proxy/Sending Tools</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.549.1">:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.550.1">OWASP ZAP (Web App Penetration Testing and </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">Proxy): </span></span><a href="https://www.zaproxy.org/"><span class="No-Break"><span class="koboSpan" id="kobo.552.1">https://www.zaproxy.org/</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.553.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.554.1">Burp Suite (Web App Penetration Testing and </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">Proxy): </span></span><a href="https://portswigger.net/burp"><span class="No-Break"><span class="koboSpan" id="kobo.556.1">https://portswigger.net/burp</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.557.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.558.1">Postman (API Testing </span><span class="No-Break"><span class="koboSpan" id="kobo.559.1">Tool): </span></span><a href="https://www.postman.com/"><span class="No-Break"><span class="koboSpan" id="kobo.560.1">https://www.postman.com/</span></span></a></li>
<li><span class="koboSpan" id="kobo.561.1">Telerik Fiddler (Web Debugging and Proxy </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">Tool): </span></span><a href="https://www.telerik.com/fiddler"><span class="No-Break"><span class="koboSpan" id="kobo.563.1">https://www.telerik.com/fiddler</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.564.1">.</span></span></li>
</ul>
</div>
</body></html>