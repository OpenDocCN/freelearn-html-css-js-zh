<html><head></head><body>
  <div><h1 id="_idParaDest-5">
    <a id="_idTextAnchor004">
    </a>
    
     Preface
    
   </h1>
   <p>
    
     Node.js is now well into its second decade and has significantly matured as a technology.
    
    
     Today, it is a common technology of choice for building applications of all sizes.
    
    
     Many large enterprises use Node.js in production, including the likes of Netflix, PayPal, IBM, and even NASA.
    
    
     Due to the widespread usage and dependence on Node.js, it was moved under the OpenJS Foundation (formerly the Node.js Foundation).
    
    
     The OpenJS Foundation provides a neutral home for JavaScript projects, with a strong focus on
    
    
     
      open governance.
     
    
   </p>
   <p>
    
     Created in 2009, Node.js wrapped Google Chrome’s JavaScript Engine, V8, to enable JavaScript to be run outside the browser.
    
    
     Node.js brought JavaScript to the server and was built following an event loop architecture, which enables it to effectively handle input/output and concurrent operations.
    
    
     Today, Node.js is a popular technology choice for building many types of applications, including HTTP web servers, microservices, command-line applications, and more.
    
    
     The key to Node.js’s success is that it enables full-stack development in a common
    
    
     
      language, JavaScript.
     
    
   </p>
   <p>
    
     The massive ecosystem of Node.js modules has supported Node.js’s success.
    
    
     There are now over three million modules available on the
    
    <strong class="source-inline">
     
      npm
     
    </strong>
    
     registry, with many abstracting lower-level implementation details to higher-level and more easily consumable APIs.
    
    
     Building your applications atop
    
    <strong class="source-inline">
     
      npm
     
    </strong>
    
     modules can speed up the development process while promoting code sharing
    
    
     
      and reuse.
     
    
   </p>
   <p>
    
     In recent years, Node.js has seemingly moved away from its small core philosophy, providing a more “batteries included” runtime.
    
    
     This evolution includes the adoption of more features into the core runtime, such as a built-in test runner, enhancing its out-of-the-box
    
    
     
      developer experience.
     
    
   </p>
   <p>
    <em class="italic">
     
      Node.js Cookbook, Fifth Edition
     
    </em>
    
     is an updated version of
    
    <em class="italic">
     
      Node Cookbook, Fourth Edition
     
    </em>
    
     .
    
    
     The content has been updated in line with the latest long-term supported version of Node.js, Node.js 22.
    
    
     This edition covers some of the new features incorporated into the runtime, including the built-in
    
    
     
      test runner.
     
    
   </p>
   <h1 id="_idParaDest-6">
    <a id="_idTextAnchor005">
    </a>
    
     Who this book is for
    
   </h1>
   <p>
    
     If you have some knowledge of JavaScript or other programming languages and want to gain a broad understanding of fundamental Node.js concepts, then
    
    <em class="italic">
     
      Node.js Cookbook, Fifth Edition
     
    </em>
    
     is for you.
    
    
     This book will provide a base understanding that will allow you to start navigating the Node.js and
    
    <strong class="source-inline">
     
      npm
     
    </strong>
    
     ecosystem and start building
    
    
     
      Node.js applications.
     
    
   </p>
   <p>
    
     Readers with some knowledge of Node.js can deepen and widen their knowledge of Node.js concepts and features, while beginners can use the practical recipes to acquire a
    
    
     
      foundational understanding.
     
    
   </p>
   <h1 id="_idParaDest-7">
    <a id="_idTextAnchor006">
    </a>
    
     What this book covers
    
   </h1>
   <p>
    <a href="B19212_01.xhtml#_idTextAnchor019">
     
      <em class="italic">
       
        Chapter 1
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Introducing Node.js 22
     
    </em>
    
     , serves as an introduction to Node.js, including covering how to install Node.js 22, access the relevant API documentation, and an introduction to the Node.js
    
    
     
      event loop
     
    
    
     
      .
     
    
   </p>
   <p>
    <a href="B19212_02.xhtml#_idTextAnchor041">
     
      <em class="italic">
       
        Chapter 2
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Interacting with the File System
     
    </em>
    
     , focuses on core Node.js APIs that allow us to interact with standard I/O, the filesystem, and
    
    
     
      the network.
     
    
   </p>
   <p>
    <a href="B19212_03.xhtml#_idTextAnchor068">
     
      <em class="italic">
       
        Chapter 3
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Working with Streams
     
    </em>
    
     , explores the fundamentals of
    
    
     
      Node.js streams.
     
    
   </p>
   <p>
    <a href="B19212_04.xhtml#_idTextAnchor100">
     
      <em class="italic">
       
        Chapter 4
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Using Web Protocols
     
    </em>
    
     , demonstrates how to work with the web protocols at a low level using Node.js core APIs, including the recently added
    
    
     
      Fetch API.
     
    
   </p>
   <p>
    <a href="B19212_05.xhtml#_idTextAnchor139">
     
      <em class="italic">
       
        Chapter 5
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Developing Node.js modules
     
    </em>
    
     , teaches how the Node.js module system works, and demonstrates how you can create and publish your own modules to the
    
    
     <strong class="source-inline">
      
       npm
      
     </strong>
    
    
     
      registry.
     
    
   </p>
   <p>
    <a href="B19212_06.xhtml#_idTextAnchor178">
     
      <em class="italic">
       
        Chapter 6
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Working with Fastify –The Web Framework
     
    </em>
    
     , introduces Fastify, the fastest and most efficient web framework for Node.js.
    
    
     Emphasizing developer experience and application performance, Fastify adheres to web standards for reliability and compatibility.
    
    
     This chapter guides you through creating an API starter, splitting the code into plugins, and exploring Fastify’s key features such as encapsulation, data validation, performance enhancement with serialization, and configuring and testing a Fastify application
    
    
     
      from scratch.
     
    
   </p>
   <p>
    <a href="B19212_07.xhtml#_idTextAnchor212">
     
      <em class="italic">
       
        Chapter 7
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Persisting to Databases
     
    </em>
    
     , demonstrates how you can persist data to a variety of databases with Node.js, covering both SQL and
    
    
     
      NoSQL variants.
     
    
   </p>
   <p>
    <a href="B19212_08.xhtml#_idTextAnchor243">
     
      <em class="italic">
       
        Chapter 8
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Testing with Node.js
     
    </em>
    
     , teaches the fundamentals of testing Node.js applications, introducing key testing frameworks and tools, such as various testing libraries, stubbing HTTP requests, browser automation, and configuring continuous
    
    
     
      integration tests.
     
    
   </p>
   <p>
    <a href="B19212_09.xhtml#_idTextAnchor274">
     
      <em class="italic">
       
        Chapter 9
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Dealing with Security
     
    </em>
    
     , demonstrates common attacks that can be made against a Node.js application and how we can mitigate
    
    
     
      these attacks.
     
    
   </p>
   <p>
    <a href="B19212_10.xhtml#_idTextAnchor318">
     
      <em class="italic">
       
        Chapter 10
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Optimizing Performance
     
    </em>
    
     , demonstrates the workflows and tools we can use to identify bottlenecks in
    
    
     
      Node.js applications.
     
    
   </p>
   <p>
    <a href="B19212_11.xhtml#_idTextAnchor353">
     
      <em class="italic">
       
        Chapter 11
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Deploying Node.js Microservices
     
    </em>
    
     , teaches how to build a microservice and deploy it to the cloud using
    
    
     
      container technologies.
     
    
   </p>
   <p>
    <a href="B19212_12.xhtml#_idTextAnchor388">
     
      <em class="italic">
       
        Chapter 12
       
      </em>
     
    </a>
    
     ,
    
    <em class="italic">
     
      Debugging Node.js
     
    </em>
    
     , showcases tooling and techniques for debugging
    
    
     
      Node.js applications.
     
    
   </p>
   <h1 id="_idParaDest-8">
    <a id="_idTextAnchor007">
    </a>
    
     To get the most out of this book
    
   </h1>
   <p>
    
     It’s expected that you have some prior knowledge of JavaScript or other programming languages.
    
    
     In addition, you should be familiar with how to use a Terminal or shell, and how to use a code editor such as Visual
    
    
     
      Studio Code:
     
    
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table001">
    <colgroup>
     <col/>
     <col/>
    </colgroup>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         
          Software/hardware covered in
         
        </strong>
        
         <strong class="bold">
          
           the book
          
         </strong>
        
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        
         <strong class="bold">
          
           OS requirements
          
         </strong>
        
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        
         Node.js 22 (
        
        
         
          and
         
        
        
         <strong class="source-inline">
          
           npm
          
         </strong>
        
        
         
          )
         
        
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        
         Windows, Mac OS X, and
        
        
         
          Linux (any)
         
        
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        
         
          Google Chrome
         
        
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        
         Windows, Mac OS X, and
        
        
         
          Linux (any)
         
        
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        
         
          cURL
         
        
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        
         Windows, Mac OS X, and
        
        
         
          Linux (any)
         
        
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        
         
          Docker Desktop
         
        
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        
         Windows, Mac OS X, and
        
        
         
          Linux (any)
         
        
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <p>
    
     Any chapters or recipes that require specific software above those listed above will cover the installation steps in the
    
    <em class="italic">
     
      Technical requirements
     
    </em>
    
     or
    
    <em class="italic">
     
      Getting
     
    </em>
    
     <em class="italic">
      
       ready
      
     </em>
    
    
     
      sections.
     
    
   </p>
   <p>
    
     Many of the Terminal steps assume you’re operating in a Unix environment.
    
    
     On Windows, you should be able to use the
    
    <strong class="bold">
     
      Windows Subsystem for Linux
     
    </strong>
    
     (
    
    <strong class="bold">
     
      WSL 2
     
    </strong>
    
     ) to complete
    
    
     
      these steps.
     
    
   </p>
   <p>
    
     The recipe steps have been tested with a recent version of Node.js 22 on
    
    
     
      macOS Sonoma.
     
    
   </p>
   <p>
    <strong class="bold">
     
      If you are using the digital version of this book, we advise you to type the code yourself or access the code via the GitHub repository (link available in the next section).
     
     
      Doing so will help you avoid any potential errors related to the copying and pasting
     
    </strong>
    
     <strong class="bold">
      
       of code.
      
     </strong>
    
   </p>
   <h2 id="_idParaDest-9">
    <a id="_idTextAnchor008">
    </a>
    
     Download the example code files
    
   </h2>
   <p>
    
     You can download the example code files for this book from GitHub at
    
    <a href="https://github.com/PacktPublishing/Node.js-Cookbook-Fifth-Edition">
     
      https://github.com/PacktPublishing/Node.js-Cookbook-Fifth-Edition
     
    </a>
    
     .
    
    
     In case there’s an update to the code, it will be updated on the existing
    
    
     
      GitHub repository.
     
    
   </p>
   <p>
    
     We also have other code bundles from our rich catalog of books and videos available at
    
    <a href="https://github.com/PacktPublishing/">
     
      https://github.com/PacktPublishing/
     
    </a>
    
     .
    
    
     Check
    
    
     
      them out!
     
    
   </p>
   <h1 id="_idParaDest-10">
    <a id="_idTextAnchor009">
    </a>
    
     Conventions used
    
   </h1>
   <p>
    
     There are a number of text conventions used throughout
    
    
     
      this book.
     
    
   </p>
   <p>
    <strong class="source-inline">
     
      Code in text
     
    </strong>
    
     : Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    
    
     Here is an example: “The
    
    <strong class="source-inline">
     
      process.nextTick()
     
    </strong>
    
     callback is executed after the current phase of the event loop is complete but before the event loop moves on to the
    
    
     
      next phase.”
     
    
   </p>
   <p>
    
     A block of code is set
    
    
     
      as follows:
     
    
   </p>
   <pre class="source-code">
  const name = data.toString().trim().toUpperCase();
  process.stdout.write(`Hello ${name}!`);</pre>
   <p>
    
     When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set
    
    
     
      in bold:
     
    
   </p>
   <pre class="source-code">
const fs = require('node:fs');
const rs = fs.createReadStream('./file.txt');
const newFile = fs.createWriteStream('./newFile.txt');
<strong class="bold">rs.map((chunk) =&gt; chunk.toString().toUpperCase()).pipe(newFile);</strong></pre>
   <p>
    
     Any command-line input or output is written
    
    
     
      as follows:
     
    
   </p>
   <pre class="console">
$ mkdir interfacing-with-io
$ cd interfacing-with-io
$ touch greeting.js</pre>
   <p>
    <strong class="bold">
     
      Bold
     
    </strong>
    
     : Indicates a new term, an important word, or words that you see onscreen.
    
    
     For example, words in menus or dialog boxes appear in the text like this.
    
    
     Here is an example: “First, we need to locate and click on
    
    <strong class="bold">
     
      File system
     
    </strong>
    
     in the left-hand
    
    
     
      navigation pane.”
     
    
   </p>
   <p class="callout-heading">
    
     Tips or important notes
    
   </p>
   <p class="callout">
    
     Appear like this.
    
   </p>
   <h1 id="_idParaDest-11">
    <a id="_idTextAnchor010">
    </a>
    
     Sections
    
   </h1>
   <p>
    
     In this book, you will find several headings that appear frequently (
    
    <em class="italic">
     
      Getting ready
     
    </em>
    
     ,
    
    <em class="italic">
     
      How to do it...
     
    </em>
    
     ,
    
    <em class="italic">
     
      How it works...
     
    </em>
    
     ,
    
    <em class="italic">
     
      There’s more...
     
    </em>
    
     , and
    
    
     <em class="italic">
      
       See also
      
     </em>
    
    
     
      ).
     
    
   </p>
   <p>
    
     To give clear instructions on how to complete a recipe, use these sections
    
    
     
      as follows:
     
    
   </p>
   <h2 id="_idParaDest-12">
    <a id="_idTextAnchor011">
    </a>
    
     Getting ready
    
   </h2>
   <p>
    
     This section tells you what to expect in the recipe and describes how to set up any software or any preliminary settings required for
    
    
     
      the recipe.
     
    
   </p>
   <h2 id="_idParaDest-13">
    <a id="_idTextAnchor012">
    </a>
    
     How to do it…
    
   </h2>
   <p>
    
     This section contains the steps required to follow
    
    
     
      the recipe.
     
    
   </p>
   <h2 id="_idParaDest-14">
    <a id="_idTextAnchor013">
    </a>
    
     How it works…
    
   </h2>
   <p>
    
     This section usually consists of a detailed explanation of what happened in the
    
    
     
      previous section.
     
    
   </p>
   <h2 id="_idParaDest-15">
    <a id="_idTextAnchor014">
    </a>
    
     There’s more…
    
   </h2>
   <p>
    
     This section consists of additional information about the recipe in order to make you more knowledgeable about
    
    
     
      the recipe.
     
    
   </p>
   <h2 id="_idParaDest-16">
    <a id="_idTextAnchor015">
    </a>
    
     See also
    
   </h2>
   <p>
    
     This section provides helpful links to other useful information for
    
    
     
      the recipe.
     
    
   </p>
   <h1 id="_idParaDest-17">
    <a id="_idTextAnchor016">
    </a>
    
     Get in touch
    
   </h1>
   <p>
    
     Feedback from our readers is
    
    
     
      always welcome.
     
    
   </p>
   <p>
    <strong class="bold">
     
      General feedback
     
    </strong>
    
     : If you have questions about any aspect of this book, mention the book title in the subject of your message and email us
    
    
     
      at
     
    
    <a href="mailto:customercare@packtpub.com">
     
      
       customercare@packtpub.com
      
     
    </a>
    
     
      .
     
    
   </p>
   <p>
    <strong class="bold">
     
      Errata
     
    </strong>
    
     : Although we have taken every care to ensure the accuracy of our content, mistakes do happen.
    
    
     If you have found a mistake in this book, we would be grateful if you would report this to us.
    
    
     Please visit
    
    <a href="http://www.packtpub.com/support/errata">
     
      www.packtpub.com/support/errata
     
    </a>
    
     , select the book, click on the Errata Submission Form link, and enter
    
    
     
      the details.
     
    
   </p>
   <p>
    <strong class="bold">
     
      Piracy
     
    </strong>
    
     : If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name.
    
    
     Please contact us at
    
    <a href="mailto:copyright@packt.com">
     
      copyright@packt.com
     
    </a>
    
     with a link to
    
    
     
      the material.
     
    
   </p>
   <p>
    <strong class="bold">
     
      If you are interested in becoming an author
     
    </strong>
    
     : If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please
    
    
     
      visit
     
    
    <a href="http://authors.packtpub.com">
     
      
       authors.packtpub.com
      
     
    </a>
    
     
      .
     
    
   </p>
   <h1 id="_idParaDest-18">
    <a id="_idTextAnchor017">
    </a>
    
     Share Your Thoughts
    
   </h1>
   <p>
    
     Once you’ve read Node.js
    
    <em class="italic">
     
      Cookbook, Fifth Edition
     
    </em>
    
     , we’d love to hear your thoughts!
    
    
     Please
    
    <a href="https://packt.link/r/1804619817">
     
      click here to go straight to the Amazon review page
     
    </a>
    
     for this book and share
    
    
     
      your feedback.
     
    
   </p>
   <p>
    
     Your review is important to us and the tech community and will help us make sure we’re delivering excellent
    
    
     
      quality content.
     
    
   </p>
   <h1 id="_idParaDest-19">
    <a id="_idTextAnchor018">
    </a>
    
     Download a free PDF copy of this book
    
   </h1>
   <p>
    
     Thanks for purchasing
    
    
     
      this book!
     
    
   </p>
   <p>
    
     Do you like to read on the go but are unable to carry your print
    
    
     
      books everywhere?
     
    
   </p>
   <p>
    
     Is your eBook purchase not compatible with the device of
    
    
     
      your choice?
     
    
   </p>
   <p>
    
     Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at
    
    
     
      no cost.
     
    
   </p>
   <p>
    
     Read anywhere, any place, on any device.
    
    
     Search, copy, and paste code from your favorite technical books directly into your application.
    
   </p>
   <p>
    
     The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your
    
    
     
      inbox daily
     
    
   </p>
   <p>
    
     Follow these simple steps to get
    
    
     
      the benefits:
     
    
   </p>
   <ol>
    <li>
     
      Scan the QR code or visit the
     
     
      
       link below
      
     
    </li>
   </ol>
   <div><div><img alt="img" role="presentation" src="img/B19212_QR_Free_PDF.jpg"/>
     
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <a href="https://packt.link/free-ebook/978-1-80461-981-0">
     
      https://packt.link/free-ebook/978-1-80461-981-0
     
    </a>
   </p>
   <ol>
    <li value="2">
     
      Submit your proof
     
     
      
       of purchase
      
     
    </li>
    <li>
     
      That’s it!
     
     
      We’ll send your free PDF and other benefits to your
     
     
      
       email directly
      
     
    </li>
   </ol>
  </div>
 </body></html>