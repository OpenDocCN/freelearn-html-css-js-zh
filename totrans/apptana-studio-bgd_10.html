<html><head></head><body><div class="chapter" title="Chapter&#xA0;10.&#xA0;PHP Projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch10"/>Chapter 10. PHP Projects</h1></div></div></div><p>
<span class="emphasis"><em>
<span class="strong"><strong>PHP</strong></span> is a scripting language for <a id="id574" class="indexterm"/>developing websites and web applications. PHP (which stands for <span class="strong"><strong>Personal Home Page</strong></span>) is used to compile the source code on the server side the moment the script is called from the client and send the result to the browser.</em></span>
</p><p>
<span class="emphasis"><em>PHP is used for small to large websites and web applications. Large frameworks, content management systems, and Webshops (ZendFramework, Symphony, XT-Commerce, WordPress, and many more) are all developed using PHP. Although PHP is also very useful for JavaScript AJAX web applications that need to send, receive, and persist data through a web server.</em></span>
</p><p>
<span class="emphasis"><em>In this chapter, you will take a closer look at PHP and how you can develop PHP easily with Aptana Studio 3.</em></span>
</p><p>In this chapter you will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating and configuring PHP projects</li><li class="listitem" style="list-style-type: disc">Configuring existing projects as PHP projects</li><li class="listitem" style="list-style-type: disc">Working with external PHP libraries and including them</li><li class="listitem" style="list-style-type: disc">Using PHPDoc to document projects</li><li class="listitem" style="list-style-type: disc">Using and configuring the PHP code formatter</li></ul></div><div class="section" title="Creating and configuring PHP projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec125"/>Creating and configuring PHP projects</h1></div></div></div><p>Editing single PHP files is very easy. If you have to edit one or more PHP files, you can just drag-and-drop the files into Aptana Studio 3 Editor. <a id="id575" class="indexterm"/>Aptana Studio opens the file automatically in the PHP Editor; this provides syntax highlight, code completion, and much more, allowing you to begin editing them straight away. However, you will only know the full power of Aptana Studio PHP Editor when you edit your PHP files as a PHP-natured, Aptana Studio 3 project.</p></div></div>
<div class="section" title="Time for action &#x2013; creating a PHP project"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec126"/>Time for action – creating a PHP project</h1></div></div></div><p>A PHP project can be quickly <a id="id576" class="indexterm"/>created by following the next few steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Select the menu entry from <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New</strong></span> (or just press the shortcut key <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>N</em></span>) and then select PHP Project.</li><li class="listitem">In the opening window, which can be seen in the following screenshot, enter the Project name and select the location where the project source code should be stored:<div class="mediaobject"><img src="graphics/8246_10_01.jpg" alt="Time for action – creating a PHP project"/></div></li><li class="listitem">After that, you have to choose the compatibility of your PHP project. This means you'll choose the PHP version that will finally be used for your web application. When Aptana Studio knows the related PHP version of your project, it is able to adjust the syntax highlighting, code assist, and error detection (as a result of parsing the PHP files). For example, if you select PHP 4 as the version and have PHP 5 code, you will see error markers in your code for the PHP 5 content. The Content Assist feature will not work for namespaces and such, and also, you will not get the suggested Content Assist feature for classes, functions, and constants as they are only defined in the PHP 5 API. So identify the requirements for your web applications and select the PHP version you need.</li><li class="listitem">Finally, you have to click the <a id="id577" class="indexterm"/><span class="strong"><strong>Finish</strong></span> button.</li><li class="listitem">Alternatively, if you want to work with an existing source code base, you can navigate to the <span class="strong"><strong>Project Explorer</strong></span> view and search for the source code directory within the <span class="strong"><strong>Local Filesystem</strong></span> <a id="id578" class="indexterm"/>node.</li><li class="listitem">If you have located the source code <a id="id579" class="indexterm"/>directory, right-click on this directory and select the entry <span class="strong"><strong>Promote to Project...</strong></span>, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_02.jpg" alt="Time for action – creating a PHP project"/></div></li><li class="listitem">You have to select the project type with this alternative method, therefore select the <span class="strong"><strong>Project Type</strong></span> entry as <span class="strong"><strong>PHP-Primary</strong></span>. As the secondary <span class="strong"><strong>Project Type</strong></span> you can choose <span class="strong"><strong>Web,</strong></span> as an example, but make sure that the PHP entry is marked as primary, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_03.jpg" alt="Time for action – creating a PHP project"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip54"/>Tip</h3><p>
<span class="strong"><strong>Project nature</strong></span>
</p><p>When you'll take a look at the projects within Project Explorer, you may see on some project icons in the top-right corner, a small symbol that will show you the primary nature (or named type) of these <a id="id580" class="indexterm"/>projects. A blue <span class="strong"><strong>P</strong></span> shows you that this is a PHP-natured project.</p></div></div></li><li class="listitem">Using both these methods, you should finally receive a PHP project which you'll use as a base for the rest of this chapter.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec148"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have just created a PHP-natured project. This project provides you with the specific functions for developing PHP web applications. This means that you also have the ability to select the used version of PHP and therefore adjust some functionalities, such as the syntax highlighting, code assist, and error detection (as a result of parsing the PHP files).</p><p>You have also seen that you're able to combine the nature of your PHP project with a web project, this will allow you to specialize the Aptana Studio project to meet the requirements of your project.</p></div></div>
<div class="section" title="Configuring a PHP project"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec127"/>Configuring a PHP project</h1></div></div></div><p>But what do you have to do when you have an existing project that you want to configure for PHP development? No problem, you can <a id="id581" class="indexterm"/>configure each project as you need. The next <span class="emphasis"><em>Time for action</em></span> section will show you how you can adjust your PHP project.</p></div>
<div class="section" title="Time for action &#x2013; configuring a PHP project"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec128"/>Time for action – configuring a PHP project</h1></div></div></div><p>For this section, you'll start with a project <a id="id582" class="indexterm"/>that doesn't already have a nature assigned to it. Now we will configure this project as a PHP project by using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the <span class="strong"><strong>Project Explorer</strong></span> view, right-click on the project that you want to configure and select the <span class="strong"><strong>Properties</strong></span> entry.</li><li class="listitem">Within the <span class="strong"><strong>Properties </strong></span>window which will appear, you can configure some PHP-relevant properties that you wish to look at. To the left of the window, you will find a list of property pages. You will find the content of each property page in the larger right-hand side of the window area, as shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_04.jpg" alt="Time for action – configuring a PHP project"/></div></li><li class="listitem">You can start scrolling down from the top page-by-page, starting from the <span class="strong"><strong>Builders</strong></span> page. You will find the Builders for your project on this page. If you'll add the web project nature here, the <span class="strong"><strong>Studio Unified Builder</strong></span> <a id="id583" class="indexterm"/>option will appear in the list. For a selected PHP project nature, the PHP builder is added to this list, so you don't have to select these entries by hand. This happens automatically if you select or deselect a project nature. The <a id="id584" class="indexterm"/><span class="strong"><strong>Builders</strong></span> page is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_05.jpg" alt="Time for action – configuring a PHP project"/></div></li><li class="listitem">The next relevant section is the <a id="id585" class="indexterm"/><span class="strong"><strong>Formatter</strong></span> page. Here you will take a look at how you can select a custom formatter. Also, later in this chapter, we will look at how you can create your own formatter. In the first step to selecting your own formatter, you have to set the <a id="id586" class="indexterm"/><span class="strong"><strong>Enable project specific settings</strong></span> checkbox. After this happens, the fields <a id="id587" class="indexterm"/>shown in the <span class="strong"><strong>Formatter</strong></span> page in the following screenshot lose their read-only state, and you will then be able to select a formatter profile:<div class="mediaobject"><img src="graphics/8246_10_06.jpg" alt="Time for action – configuring a PHP project"/></div></li><li class="listitem">The <span class="strong"><strong>PHP Buildpath</strong></span> page allows you to include libraries from another project in your workspace or even from an external directory. Examples of how you can use this feature will be seen later <a id="id588" class="indexterm"/>in this chapter. The <a id="id589" class="indexterm"/><span class="strong"><strong>PHP Buildpath</strong></span> page is covered in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_07.jpg" alt="Time for action – configuring a PHP project"/></div></li><li class="listitem">The <span class="strong"><strong>PHP Development</strong></span> <a id="id590" class="indexterm"/>section allows you to change the compatibility of your project. Just choose the required PHP version. This means that, as you learned in the previous <span class="emphasis"><em>Time for action</em></span> section, you need to choose the PHP version that will finally be used for your web application. When Aptana Studio knows the related PHP version of your project, it is able to adjust the syntax highlighting, code assist, and error detection (as a result of parsing the PHP files). The <span class="strong"><strong>PHP Development</strong></span> section can be seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_08.jpg" alt="Time for action – configuring a PHP project"/></div></li><li class="listitem">The next and last relevant section is the <span class="strong"><strong>Project Natures</strong></span> section. This section allows you to change the nature of a project. Just check the checkbox of the natures that your project should support. By selecting a nature and pressing the <a id="id591" class="indexterm"/><span class="strong"><strong>Make Primary</strong></span> button, you can switch the primary nature of your project. As you wish to develop a <a id="id592" class="indexterm"/>web application, you'll need to choose <span class="strong"><strong>PHP</strong></span> as the primary and <span class="strong"><strong>Web</strong></span> as the additional nature. The <a id="id593" class="indexterm"/><span class="strong"><strong>Project Natures</strong></span> section can be seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_09.jpg" alt="Time for action – configuring a PHP project"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec149"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have chosen an existing project that didn't have a project nature assigned, with the aim of configuring it for PHP Development. In this <span class="emphasis"><em>Time for action</em></span> section, you have seen where the Project Builders are selected, where you can select a project-specific code formatter, and how you can include additional libraries or even an external directory, from your workspace. In addition to this, you also  learned how to change the project nature or the required PHP version.</p></div></div>
<div class="section" title="Using PHPDoc within PHP Projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec129"/>Using PHPDoc within PHP Projects</h1></div></div></div><p>PHPDoc is the short name for the phpDocumentor which is a tool for the automatic generation of project documentations. You can <a id="id594" class="indexterm"/>get information on the phpDocumentor and much more on it's website, <a class="ulink" href="http://www.phpdoc.org/">http://www.phpdoc.org/</a>.</p><p>PHPDoc provides you with a convention of <a id="id595" class="indexterm"/>
<a id="id596" class="indexterm"/>structure and fixed attributes, with which you can create source code comments for files, classes, functions, and attributes. These specified attributes from the comments help define the information (such as types and descriptions)in the source code files, in a standardized way and are optimized for a further processing.</p><p>But why is the usage of PHPDoc <a id="id597" class="indexterm"/>so important?</p><p>Firstly, every developer should know that to document the source code itself is very important. If you have to extend a code from another developer, it's sometimes not so easy to understand why the developer has coded certain parts in his code. But it may also happen that you have to extend your own code, which you had coded in the past, and you don't remember why you have done some things the way you did. At least at this moment you know it, and it is thus considered good practice to document the code.</p><p>But that's not all. If you always use a well-formed and <a id="id598" class="indexterm"/>valid PHPDoc style, you can get much more out of your code. For example, you're able to automatically create a complete HTML documentation page with the phpDocumentor. However, the important point for us at this moment is that Aptana Studio reads out our PHPDoc comments and feeds the information into Content Assist.</p><p>With this ability, you can to create an auto completion for all your classes, constants, and functions while you are writing it.</p></div>
<div class="section" title="Using the predefined PHPDoc Comments"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec130"/>Using the predefined PHPDoc Comments</h1></div></div></div><p>Aptana Studio 3 comes with a few predefined <a id="id599" class="indexterm"/>PHPDoc Comments, which can be included from the PHP Bundle snippets. These can be used in the same way as we mentioned earlier in this chapter, with the help of the Content Assist feature. The short <span class="emphasis"><em>Time for action</em></span> section that follows will cover this in more detail.</p></div>
<div class="section" title="Time for action &#x2013; using PHPDoc Comments from the PHP Bundle"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec131"/>Time for action – using PHPDoc Comments from the PHP Bundle</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a PHP file from a <a id="id600" class="indexterm"/><a id="id601" class="indexterm"/>PHP-natured project.</li><li class="listitem">Place the cursor on an empty line from where you want to code a function or method.</li><li class="listitem">Type the chars <code class="literal">doc</code> and trigger the Content Assist feature by pressing <span class="emphasis"><em>Ctrl</em></span> + Space bar. You should get results similar to the ones shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_20.jpg" alt="Time for action – using PHPDoc Comments from the PHP Bundle"/></div></li><li class="listitem">The Content Assist feature then suggests all snippets with the trigger that begins with <code class="literal">doc</code>, and you're able to select the required snippet from the list.</li><li class="listitem">You can select the <a id="id602" class="indexterm"/><span class="strong"><strong>Function</strong></span> entry and insert it <a id="id603" class="indexterm"/><a id="id604" class="indexterm"/>by pressing <span class="emphasis"><em>Enter</em></span>.<div class="mediaobject"><img src="graphics/8246_10_21.jpg" alt="Time for action – using PHPDoc Comments from the PHP Bundle"/></div></li><li class="listitem">As you can see in the previous screenshot, the Content Assist feature inserts a complete function body introduced by the PHPDoc Function Comment. After the snippet is inserted, the function name is displayed within a border (as you can see in the preceding screenshot). This shows you that this name can be edited directly, simply begin to enter the name of your new function. If you're ready, you can use the <span class="emphasis"><em>Tab</em></span> key to jump to the next position where the snippet allows you to adjust it. So if this is the case, you can jump to each parameter, namely the function <a id="id605" class="indexterm"/>description in the comment, the return value, the author name, and finally into the function body step-by- step, where you can immediately begin to code the function itself. Your final code should now look similar to the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_22.jpg" alt="Time for action – using PHPDoc Comments from the PHP Bundle"/></div></li><li class="listitem">After you have saved your file, place your cursor a few lines below the new function and begin to type the function name. As you can see, the Content Assist feature has already indexed the function and now provides you with the ability to insert it easily.</li><li class="listitem">You can read a lot of information from the suggested rows of the Content Assist feature. First, there is an icon that shows you the type of suggestion. Types could be functions, classes, snippets, and so on. Also, the location where the suggestion is located is in squared brackets. In our case, the suggestion is local; this means it is in the same file. In other cases, the filename would be displayed where the suggestion is contained. If the suggestion is a PHP-API entry, it also displays which PHP version it is available with. The last column is reserved for the snippet entries where the trigger name is displayed.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec150"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have inserted a PHPDoc conform Function Comment that was provided by the PHP Bundle snippets. The snippets quickly allow us to fill in the required information in the prestructured comment.</p></div></div>
<div class="section" title="Aptana Studio's PHP Bundle PHPDoc Comment snippets"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec132"/>Aptana Studio's PHP Bundle PHPDoc Comment snippets</h1></div></div></div><p>Aptana Studio's standard PHP Bundle provides us with some snippets for the most commonly used PHPDoc Comments. However, as we have already mentioned, you're also able to extend the snippets and create some new <a id="id606" class="indexterm"/>PHPDoc Comments that are much more specialized to your needs.</p><p>Here is a complete list of predefined PHPDoc Comments and their trigger keywords:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Trigger</p>
</th><th style="text-align: left" valign="bottom">
<p>Title</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>doc_c<a id="id607" class="indexterm"/>
<a id="id608" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Class</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_v<a id="id609" class="indexterm"/>
<a id="id610" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Class Variable</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_d<a id="id611" class="indexterm"/>
<a id="id612" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Constant Definition</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_f<a id="id613" class="indexterm"/>
<a id="id614" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Function</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_s<a id="id615" class="indexterm"/>
<a id="id616" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Function Signature</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_h<a id="id617" class="indexterm"/>
<a id="id618" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Header</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>doc_i<a id="id619" class="indexterm"/>
<a id="id620" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Interface</p>
</td></tr></tbody></table></div><p>However, it must be said that in very dynamic PHP code, the Content Assist feature doesn't always have an easy job. In some cases, it may not be possible to determine the type of variable and so the Content Assist feature isn't able to provide correct suggestions for it. In this instance you will need to support the Content Assist feature and declare the type with a small PHPDoc Comment. In the following screenshot, you will see a brief example of this:</p><div class="mediaobject"><img src="graphics/8246_10_35.jpg" alt="Aptana Studio's PHP Bundle PHPDoc Comment snippets"/></div><p>Now you can go ahead and take a look at how to include and use external libraries within PHP projects.</p></div>
<div class="section" title="Using PHP libraries"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec133"/>Using PHP libraries</h1></div></div></div><p>Most large PHP projects come with active <a id="id621" class="indexterm"/>additional external libraries. Often these libraries are not located within the PHP project itself. For example, you could place ZendFramework directly within your project, but you could also place it within the PHP-API directory or somewhere else.</p><p>But, you may wonder, what's the difference between these two processes?</p><p>If you have your <a id="id622" class="indexterm"/>ZendFramework located within your project, the Content Assist feature of this project automatically knows all PHPDoc-tagged elements. If this is the case, the build process of the project might slow down and the project size is increased drastically. The first time after the inclusion of the ZendFramework libraries, Aptana Studio will index all ZendFramework files and evaluate the contained PHPDocs. Then, every time Aptana Studio triggers the build process of this project, it will also check the timestamps of all ZendFramework files for possible changes.</p><p>If you locate the ZendFramework outside your project, you must integrate it as a library into your project. Otherwise, Aptana Studio will not be able to provide you with the Content Assist feature of the ZendFramework information. In this instance, Aptana Studio will only index all the files of ZendFramework while creating the Aptana Studio library. After that, only when Aptana Studio starts up will it check the timestamps of each file in order to identify the changed files that have to be reindexed. If you want to integrate a library that you use in most of your projects, you have the additional advantage of only having to include the library once. After inclusion, Aptana Studio provides the library with every PHP-natured project.</p><p>In both cases, the Content Assist feature learns all the available classes, constants, and functions that are contained within your library and uses them for inspection.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>You have to remember that all libraries that you want to include as part of the goal that the Content Assist feature needs to work with, must be equipped with PHPDoc Comments.</p></div></div><p>In the case of Aptana Studio's Content Assist feature, the PHPDoc Comments were determined and used to provide the developer with more information and code suggestions of the available environment at the time of developing.</p><p>PHP-API files are supported by default <a id="id623" class="indexterm"/>with the Content Assist feature. While you have chosen a PHP compatibility version (by creating or configuring your project), you have adjusted the Content Assist feature so that it only suggests the classes, functions, and documentation entries that are equal with the PHP version.</p><p>For example, if you used a PHP-API function, such as <code class="literal">substr</code>, and didn't remember what parameter number has what functionality. No problem, simply hover the mouse cursor above the function call within the PHP editor and it appears as a <a id="id624" class="indexterm"/>tool tip that contains the PHP Documentation of this function, as seen in the following screenshot:.</p><div class="mediaobject"><img src="graphics/8246_10_23.jpg" alt="Using PHP libraries"/></div><p>Here you will get all the information that you need such as, what parameter requires what kind of variable type, what parameters are optional, and much more.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip55"/>Tip</h3><p>
<span class="strong"><strong>Too much information!</strong></span>
</p><p>If the PHP Documentation is too large and it does not fit in the tool tip, just press the <span class="emphasis"><em>F2</em></span> key in order to make the tool tip sticky. Now you're able to scroll within the tool tip and read it in a relaxed manner.</p></div></div></div>
<div class="section" title="Time for action &#x2013; using external libraries"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec134"/>Time for action – using external libraries</h1></div></div></div><p>Now you will take a look at how you can add <a id="id625" class="indexterm"/>external libraries to your PHP project so that your Content Assist feature knows all the available classes, constants, and functions from these additional libraries.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First of all, you have to add a new user library. So you will need to  open <span class="strong"><strong>Preferences</strong></span> under <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Preferences</strong></span> and navigate within the tree to <span class="strong"><strong>Aptana Studio</strong></span> | <span class="strong"><strong>Editors</strong></span> | <span class="strong"><strong>PHP</strong></span> | <span class="strong"><strong>Libraries</strong></span>. The <span class="strong"><strong>Libraries</strong></span> dialog box is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_24.jpg" alt="Time for action – using external libraries"/></div></li><li class="listitem">After that, click on the <a id="id626" class="indexterm"/><span class="strong"><strong>New user library</strong></span> button in order to open the creation window seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_28.jpg" alt="Time for action – using external libraries"/></div></li><li class="listitem">Here you have to enter a name for your user library. You will use ZendFramework, so you will need to enter the name of this library, which is extended by the version number.</li><li class="listitem">Then you will need to  select at least one or <a id="id627" class="indexterm"/>more directories where your libraries are located. When you've selected all the required libraries, click on <span class="strong"><strong>OK</strong></span> to complete this step, as seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_25.jpg" alt="Time for action – using external libraries"/></div></li><li class="listitem">Now, your new library should be listed within the libraries list. Be sure that all the libraries that you want to use within the PHP projects have the related checkbox enabled by default, as seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_26.jpg" alt="Time for action – using external libraries"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip56"/>Tip</h3><p>
<span class="strong"><strong>What happens internally when you add a new PHP library</strong></span>
</p><p>When you add a new library, Aptana Studio will index all the included files. While indexing, it remembers the timestamp for each file, so it can check if a file has been changed with every startup. If changed files were detected during start up, Aptana Studio will <a id="id628" class="indexterm"/>reindex these files. So you can be sure that you are always getting the newest information from the Content Assist feature.</p></div></div></li><li class="listitem">Finally, click on <span class="strong"><strong>Apply</strong></span> and then on <span class="strong"><strong>OK</strong></span> to complete the library creation and wait for it to complete the indexing of the library. The progress is shown in a dialog box, as seen in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_27.jpg" alt="Time for action – using external libraries"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec151"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have integrated a PHP library such as ZendFramework into Aptana Studio. After you have added the library within the preferences, the library will be used in all PHP-natured projects by default.</p><p>Now when you are developing in a PHP project, the Content Assist feature will provide you  with the available classes, constants, and functions from this library.</p><p>Let's perform a quick test of the Content Assist feature. Open a PHP file within a PHP-natured project and begin to enter the chars <code class="literal">Zend</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/8246_10_29.jpg" alt="What just happened?"/></div><p>As you can see, Aptana Studio identifies that you want to create an instance of a class and therefore provides you with only those classes that begin with <code class="literal">Zend</code>.</p><p>Alternatively, if you can't remember what kind of parameters are available in a function of your library, just hover the mouse cursor above a function call, and a tool tip appears with the PHPDoc Comment within it. If the PHPDoc Comment is of good quality, all your questions will be answered quickly. The following screenshot shows such an example:</p><div class="mediaobject"><img src="graphics/8246_10_31.jpg" alt="What just happened?"/></div></div></div>
<div class="section" title="Configuring project-specific libraries"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec135"/>Configuring project-specific libraries</h1></div></div></div><p>Now that you know how you can provide libraries to all PHP projects, the following question still remains; what should you do if you don't need or want a library within a PHP project? It may so happen that you have a <a id="id629" class="indexterm"/>PHP project that isn't using ZendFramework. In that case, the information provided by the Content Assist feature about the ZendFramework could disturb you while you are searching for the Content Assist information that you really need.</p><p>Additionally, this project could be a Flow3 project, but this is the only Flow3 project that you are developing and therefore you don't want the Content Assist information of Flow3 in each PHP project. This is not a problem as you can overwrite the libraries in each project.</p></div>
<div class="section" title="Time for action &#x2013; configuring project-specific libraries"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec136"/>Time for action – configuring project-specific libraries</h1></div></div></div><p>Let's take a look at how easy it is to configure project-specific libraries using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Navigate to the the PHP project in the <span class="strong"><strong>Project Explorer</strong></span> view that you want to adjust the used libraries in. Right-click on it and select the <span class="strong"><strong>Properties</strong></span> entry.</li><li class="listitem">In the opening window, select the <a id="id630" class="indexterm"/><span class="strong"><strong>PHP Buildpath</strong></span> section. In this section, you will find three tabs that will allow you to adjust the used libraries.</li><li class="listitem">The <span class="strong"><strong>Workspace</strong></span> tab allows <a id="id631" class="indexterm"/>you to add libraries to your project that are already contained in another project in your workspace. Just click on the <span class="strong"><strong>Add...</strong></span> button and select a PHP project within the popup. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_32.jpg" alt="Time for action – configuring project-specific libraries"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip57"/>Tip</h3><p>
<span class="strong"><strong>Default selection within the Workspace tab</strong></span>
</p><p>By default, you will find the PHP project within the list on the <span class="strong"><strong>Workspace</strong></span> tab itself. This is the reason for the project Content Assist feature already knowing its own classes, constants, and functions.</p></div></div></li><li class="listitem">The <span class="strong"><strong>External Directories</strong></span> <a id="id632" class="indexterm"/>tab allows you to add libraries that are located in external directories somewhere on your disk. Just click on the <span class="strong"><strong>Add...</strong></span> button and select a directory from the popup. <a id="id633" class="indexterm"/>This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_33.jpg" alt="Time for action – configuring project-specific libraries"/></div></li><li class="listitem">The <span class="strong"><strong>Libraries</strong></span> tab <a id="id634" class="indexterm"/>allows you to overwrite the settings from the global preferences of Aptana Studio. First of all, you have to select the <span class="strong"><strong>Use project specific settings</strong></span> checkbox. After that, you can deselect the entries that you've configured within the global preferences so the Content Assist feature doesn't provide information about these libraries anymore. <a id="id635" class="indexterm"/>The <span class="strong"><strong>Libraries</strong></span> tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_34.jpg" alt="Time for action – configuring project-specific libraries"/></div></li><li class="listitem">Finally, when you have finished customizing the project libraries, just click on <span class="strong"><strong>Apply</strong></span> and thereafter click on <span class="strong"><strong>OK</strong></span>, in order to assume the changes.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec152"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have changed the default libraries for the PHP project so that the Content Assist feature only provides information that you really need in this project.</p></div></div>
<div class="section" title="Using and configuring the code formatter"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec137"/>Using and configuring the code formatter</h1></div></div></div><p>Every developer knows the problem, <a id="id636" class="indexterm"/>for example, suppose you want to work with a source code file from another developer, and the developer has formatted the code in a different, unreadable style. How nice it would be if the code was formatted in the same style as you preferred it.</p><p>This is not a problem if this is the case, as Aptana Studio 3 provides a source code formatter that is easy to use.</p></div>
<div class="section" title="Time for action &#x2013; using and configuring the PHP code formatter"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec138"/>Time for action – using and configuring the PHP code formatter</h1></div></div></div><p>The following steps show you how you can <a id="id637" class="indexterm"/>use the code formatter:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First of all, open the PHP file that you want to format within the Aptana Studio 3 Editor.</li><li class="listitem">Formatting the file is the easiest part of this <span class="emphasis"><em>Time for action</em></span> section. Just right-click somewhere within the editor and select <span class="strong"><strong>Source</strong></span> | <span class="strong"><strong>Format</strong></span>. Alternatively, you can use the shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>F</em></span>. This selection is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_10.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">After you have performed this action, the Aptana Studio code formatter converts the formatting of your PHP file to adhere to how the code formatter is configured. It is possible however that this might not be the formatting that you prefer. If this is the case, you can go forward and look at how you can configure the <a id="id638" class="indexterm"/>code formatter.</li><li class="listitem">To do this, navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Preferences</strong></span> and select <span class="strong"><strong>Aptana Studio</strong></span> | <span class="strong"><strong>Formatter</strong></span> within the tree. The <span class="strong"><strong>Formatter</strong></span> dialog is as shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_11.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">In the top-right corner, you can create a new profile for the formatter. If you don't have a profile already, click on the green plus (<span class="strong"><strong>+</strong></span>) button in order to create your own profile. This is recommended, because you can then switch back to the default one.</li><li class="listitem">Enter a name for your new profile and select the <a id="id639" class="indexterm"/><a id="id640" class="indexterm"/>profile from which your new profile should be initialized. You will need to  choose the <a id="id641" class="indexterm"/><span class="strong"><strong>Default Profile</strong></span> option, as shown in the following screenshot, because its the only one you have:<div class="mediaobject"><img src="graphics/8246_10_12.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip58"/>Tip</h3><p>
<span class="strong"><strong>Using code formatter profiles</strong></span>
</p><p>If you're working for different developer teams or maybe different clients, it might happen that these developer teams or clients have different formatting conventions. The profiles allow you to create for each of them a dedicated formatter configuration. Information on how you can combine the different projects with the required formatter profiles has already been covered in this chapter.</p></div></div></li><li class="listitem">Click on the <a id="id642" class="indexterm"/><span class="strong"><strong>OK</strong></span> button in order to create the new profile.</li><li class="listitem">You will begin to customize your new profile where your old one was saved. Select your new profile from the top of the window, then select the PHP entry within the list, and start the editing <a id="id643" class="indexterm"/>function by clicking on the pencil button.</li><li class="listitem">The <span class="strong"><strong>Formatter</strong></span> edit <a id="id644" class="indexterm"/>window is grouped in different tabs, where you are able to adjust many settings on the left and immediately see the preview on the right. The first tab contains the options for <span class="strong"><strong>New Lines</strong></span>. Here you can set a position where the formatter should insert a new line. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_13.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">In the second tab, <span class="strong"><strong>Indentation</strong></span>, you can adjust the kind of indentation for your source code. Here you have the option to inherit the tab policy from the general settings or to overwrite them. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_14.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">The third tab, <span class="strong"><strong>Blank Lines</strong></span>, allows you to adjust the behavior of blank lines within classes and functions. This <a id="id645" class="indexterm"/>tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_15.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">The fourth tab, <span class="strong"><strong>Braces</strong></span>, contains the behavior of braces. Here you can select the different lines in which different braces should appear. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_16.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">The <span class="strong"><strong>Spaces</strong></span> <a id="id646" class="indexterm"/>tab provides you with more than 20 options to customize the behavior of spaces. These space settings are grouped in the <span class="strong"><strong>Parentheses</strong></span>, <span class="strong"><strong>Punctuation Elements</strong></span>, and <span class="strong"><strong>Operators</strong></span> areas. With each of these settings, you're able to select the amount of spaces <a id="id647" class="indexterm"/>before and after occurrences. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_17.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">The sixth tab, <span class="strong"><strong>Comments</strong></span>, provides settings for comment behavior. Here you're able format the comments within your source code. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_18.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">The last tab, <span class="strong"><strong>Off/On Tags</strong></span>, customizes the behavior of the off/on tags. The <code class="literal">@formatter:off</code> and <code class="literal">@formatter:on</code> tags can be used as PHPDoc functions. So, with these tags you're able to mark a section where the formatter shouldn't format your source code. <a id="id648" class="indexterm"/>If you want to use these tags, just enable the functionality and use the entered tags to enable and disable the formatter from your source code. This tab is shown in the following screenshot:<div class="mediaobject"><img src="graphics/8246_10_19.jpg" alt="Time for action – using and configuring the PHP code formatter"/></div></li><li class="listitem">Finally, you just have to confirm the changes by clicking on the <span class="strong"><strong>OK</strong></span> button.</li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip59"/>Tip</h3><p>
<span class="strong"><strong>Importing and exporting formatter settings</strong></span>
</p><p>If you have finished configuring the code formatter, you may want to save these settings in order to restore them sometime, or you might want to distribute these conventions within your developing team so that every developer formats his code in the same style. For this purpose, you can use the import and export function within the formatter configuration section.</p></div></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec153"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You have created your own formatter profile and adjusted the formatter to adhere to your requirements. You also had a look at the rich possibilities which are available to customize them, to ensure that you receive the style of source code that you require in order to make them easier to read.</p><p>Now you can format each file that you have to work with, your own as well as other developers. But that's not all. As you may have gathered, you can apply this action to other programming languages. Aptana Studio currently allows you to format CSS, HTML, JavaScript, JSON, PHP, Ruby/ERB, and XML files.</p><p>That's easy and very useful, isn't it?</p></div><div class="section" title="Have a go hero – configuring your own PHP project"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec154"/>Have a go hero – configuring your own PHP project</h2></div></div></div><p>Now your task is to select your own PHP-based project that is currently located somewhere on your disk. Search for it over the Project <a id="id649" class="indexterm"/>Explorer and promote it to a project. Go ahead and configure this new project for optimal development with PHP.</p><p>You should adjust the PHP version, include required libraries, and equip your source code with valid PHPDoc Comments.</p><p>Further more, you should create your own code formatter profile, which helps you to format your source code. Save it in your profile, do not overwrite the existing one. When you've created it, format a PHP file that has a different format and see the result.</p></div><div class="section" title="Pop quiz"><div class="titlepage"><div><div><h2 class="title"><a id="ch10lvl2sec155"/>Pop quiz</h2></div></div></div><p>Q1. Why are project natures so important to a PHP project?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The project nature adds additional features to the projects that have a specialization for them.</li><li class="listitem">The nature isn't important for projects.</li><li class="listitem">The nature is a reminder of the kind of editor that should be used for each file that is located within the project.</li></ol></div><p>Q2. With what languages can the code formatter work?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The code formatter works only with PHP files.</li><li class="listitem">The code formatter works with all XML-based files, such as HTML and XML.</li><li class="listitem">The code formatter works currently with CSS, HTML, JavaScript, JSON, PHP, Ruby/ERB, and XML.</li></ol></div><p>Q3. What do you do when you have a source code section that should not be formatted by the code formatter?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Cut that section before formatting, and paste it back after formatting.</li><li class="listitem">You have to wrap the section within a PHP Comment.</li><li class="listitem">You have to use both the <code class="literal">@formatter:on</code> and <code class="literal">@formatter:off</code> keywords.</li></ol></div><p>Q4. What criteria must be met so that user libraries can be used by the Content Assist feature?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The classes, constants, and functions must be equipped with JavaDoc Comments.</li><li class="listitem">The classes, constants, and functions must be equipped with PHPDoc Comments.</li><li class="listitem">The classes, constants, and functions need to be named clearly.</li></ol></div><p>Q5. Why does the Content Assist feature provide all project-own classes, constants, and functions by default?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Within the project properties, the project in the PHP Buildpath section is included by default.</li><li class="listitem">The project doesn't know its project-own classes, constants, and functions.</li><li class="listitem">The project only knows the project-own classes, constants, and functions that have no PHPDoc Comment.</li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch10lvl1sec139"/>Summary</h1></div></div></div><p>By the end of this chapter, you should be able to create and manage your own PHP projects within Aptana Studio. In addition to this, you should also know how to use all the PHP-specific features to get the full power out of your PHP-natured project.</p><p>You have also seen how you can select your used PHP version and how you can extend your code with PHPDoc Comments so that it is readable for the Content Assist feature and you were able to create some PHP Documentation from it. You have also seen how to configure the code formatter and use it. In addition, you have seen, how you can include external libraries, such as ZendFramework, so that the Content Assist feature can provide you with information about the libraries.</p></div></body></html>