<html><head></head><body>
		<div id="_idContainer067">
			<h1 id="_idParaDest-46" class="chapter-number"><a id="_idTextAnchor054"/>3</h1>
			<h1 id="_idParaDest-47"><a id="_idTextAnchor055"/>Cybernetic Enhancements – WebdriverIO Config and Debug Tips</h1>
			<p>In this chapter, we are going to cover the techniques for creating and debugging a custom WebdriverIO framework. This will take us through the services that help keep the project up to date. A lot of files get used and interact with each other in the project. Helpers and other features will be added to help enhance the framework as well as make debugging easier. We will cover the node files of the framework and demonstrate the differences between launching tests on Mac and Windows operating systems. We will also create our first hook customization for debugging on a single monitor. Lastly, we will write our first log wrapper to take more control over the output in the console window to improve debugging efficiency by <span class="No-Break">customizing logging.</span></p>
			<p>Specifically, these are our main topics for <span class="No-Break">this chapter:</span></p>
			<ul>
				<li>Main files of WebdriverIO <span class="No-Break">node project</span></li>
				<li>Letting Yarn help keep files up <span class="No-Break">to date</span></li>
				<li><span class="No-Break">Dynamic configuration</span></li>
				<li>The <span class="No-Break"><strong class="source-inline">global.log()</strong></span><span class="No-Break"> method</span></li>
				<li>Rules to enforce the <span class="No-Break">coding standard</span></li>
			</ul>
			<h1 id="_idParaDest-48"><a id="_idTextAnchor056"/>The three main files of a WebdriverIO node project</h1>
			<p>A lot of<a id="_idIndexMarker125"/> files are added while following the WDIO configuration. This is a good time to walk through the project roadmap to get familiar with the features of and relationships between these files, beginning with <span class="No-Break">these three:</span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline">package.json</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">yarn.lock</strong></span></li>
				<li><span class="No-Break"><strong class="source-inline">wdio.config.ts</strong></span></li>
			</ul>
			<p>Let’s look at each one in order <span class="No-Break">of execution.</span></p>
			<h2 id="_idParaDest-49"><a id="_idTextAnchor057"/>The package.json file</h2>
			<p>The first configuration file we will<a id="_idIndexMarker126"/> discuss is<a id="_idIndexMarker127"/> the <strong class="source-inline">package.json</strong> file. It helps manage the project’s dependencies and provides a way to run scripts and access other information about the project. This file serves <span class="No-Break">several purposes:</span></p>
			<ul>
				<li>It can specify scripts that can be run from the command line. For example, a WebdriverIO project might include a <strong class="source-inline">wdio</strong> script that starts the Webdriver server and a <strong class="source-inline">wdio-docker</strong> script configured specifically to run on a Docker <span class="No-Break">container instance.</span></li>
				<li>It specifies the project’s dependencies, which are packages that the project needs to function properly. For example, a Webdriver project will depend on the <strong class="source-inline">expect-wdio</strong> package for validations. We won’t have to worry about dependency conflicts of all these packages. Yarn provides an interactive upgrade mode when you use the upgrade command with the --interactive or -i flag. The interactive upgrade mode allows you to select which packages to upgrade. When running &gt;yarn upgrade-interactive, Yarn will display a list of outdated packages and prompt to choose which ones to upgrade. Yarn respects the version ranges specified in your package.json file when determining the versions to <span class="No-Break">be upgraded.</span></li>
				<li>It can specify <strong class="source-inline">devDependencies</strong>, which are packages that are needed for developers, but not necessarily for execution. For example, a WebdriverIO project will depend on the <strong class="source-inline">@wdio/cli</strong> package. Again, the <strong class="source-inline">node-check-version</strong> utility will keep the versions <span class="No-Break">in sync.</span></li>
				<li>It can include<a id="_idIndexMarker128"/> metadata about the project, such as the project’s name, version, <span class="No-Break">and authors:</span><pre class="source-code">
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "wdio": "wdio run test/wdio.conf.ts",
    "debug": "cross-env set DEBUG=true &amp;&amp; wdio run test/wdio.conf.ts",
    "report": "cross-env DEBUG=false wdio run test/wdio.conf.ts &amp;&amp; allure generate report allure-results --clean &amp;&amp; allure open",
    "wdio-docker": "DEBUG=false wdio run test/wdio.conf.ts &amp;&amp; allure generate report allure-results --clean"
  },
  "devDependencies": {
    "@types/jasmine": "^4.3.0",
    "@wdio/allure-reporter": "^7.26.0",
    "@wdio/cli": "^7.27.0",
    "@wdio/jasmine-framework": "^7.26.0",
    "@wdio/local-runner": "^7.27.0",
    "@wdio/mocha-framework": "^7.26.0",
    "@wdio/spec-reporter": "^7.26.0",
    "ts-node": "^10.9.1",
    "typescript": "^4.9.3",
  },
  "dependencies": {
    "expect-webdriverio": "^3.0.0"
  }
}</pre></li>			</ul>
			<p>The <strong class="source-inline">package.json</strong> file <a id="_idIndexMarker129"/>also contains the <strong class="source-inline">"scripts"</strong> schema. This is where we can create custom-run <a id="_idIndexMarker130"/>configuration shortcuts. For example, to run a test at the<a id="_idIndexMarker131"/> command prompt, we can use <strong class="bold">Node Package Executor</strong> (<strong class="source-inline">npx</strong>) with the <strong class="bold">WebdriverIO</strong> (<strong class="source-inline">wdio</strong>) package and provide the path to the WebdriverIO <span class="No-Break">configuration file:</span></p>
			<pre class="console">
&gt;npx wdio run ./wdio.conf.js</pre>			<p>At installation, WebdriverIO includes a <strong class="source-inline">wdio run</strong> configuration in the <strong class="source-inline">scripts</strong> <span class="No-Break">package schema:</span></p>
			<pre class="source-code">
    "scripts": {
        "wdio": "wdio wdio.conf.ts"
    }</pre>			<p>We can implicitly run the <a id="_idIndexMarker132"/>node executor from the package manager with the <span class="No-Break"><strong class="source-inline">wdio</strong></span><span class="No-Break"> shortcut:</span></p>
			<pre class="source-code">
yarn wdio</pre>			<p>We can now add a shortcut for running the <strong class="source-inline">A</strong><strong class="source-inline">llure</strong> report from the <span class="No-Break">previous chapter:</span></p>
			<pre class="source-code">
    "scripts": {
        "wdio": "wdio wdio.conf.ts"
   "report": "allure generate --clean allure-results &amp;&amp; allure open"
    }</pre>			<p>The command line to run the test and generate the report is now reduced to <span class="No-Break">the following:</span></p>
			<pre class="source-code">
yarn wdio
yarn report</pre>			<p>In <a href="B19395_13.xhtml#_idTextAnchor247"><span class="No-Break"><em class="italic">Chapter 13</em></span></a>, this will come into play again as we run tests on multiple browsers. For now, let’s take a look brief look at all the <span class="No-Break">different packages.</span></p>
			<h2 id="_idParaDest-50"><a id="_idTextAnchor058"/>The yarn.lock file</h2>
			<p>This file tracks all the external supporting <a id="_idIndexMarker133"/>packages brought in by the <strong class="source-inline">package.json</strong> file that are stored in the <strong class="source-inline">node_modules</strong> folder. If the same version of a package has already been detected as downloaded, the node will skip it for efficiency. This file is extensive and since it is rebuilt each time <strong class="source-inline">yarn add</strong> is executed, it never needs to be <span class="No-Break">modified manually.</span></p>
			<p>Next, we’ll cover the heart <span class="No-Break">of WebdriverIO.</span></p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor059"/>The wdio.conf.ts file and webhooks</h2>
			<p>This file is where all the WDIO package features are configured. It includes webhooks – code that executes <a id="_idIndexMarker134"/>automatically at certain points of the<a id="_idIndexMarker135"/> framework. This saves us from rewriting code repeatedly. This code can be injected before or after every session, suite, test, WebdriverIO command, or even every hook. All the default features are documented inside each hook, ready to be modified. Let’s take, for example, the <span class="No-Break"><strong class="source-inline">beforeTest</strong></span><span class="No-Break"> code:</span></p>
			<pre class="source-code">
  /**
   * Function to be executed before a test (in Mocha/Jasmine) starts.
   */
  // beforeTest: function (test, context) {
  // },</pre>			<p>By uncommenting the <strong class="source-inline">beforeTest</strong> hook function, we can customize the functionality of WebdriverIO. This is just for running on the local machine where there is limited space on a small monitor. For example, we can maximize the browser’s full screen before <span class="No-Break">each test:</span></p>
			<pre class="source-code">
beforeTest: function (test, context) {
    browser.maximizeWindow();
},</pre>			<h1 id="_idParaDest-52"><a id="_idTextAnchor060"/>Rule of thumb – match your developer’s hardware</h1>
			<p>Here is a good reason to request a second monitor. We just expanded our browser at runtime to full screen. If we only have a single monitor, this will completely block our <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>) window from view. To be efficient, we need to see the Terminal<a id="_idIndexMarker136"/> window in VS Code on an external monitor while the test executes in full screen mode on the <span class="No-Break">primary monitor.</span></p>
			<p>But if you only have a single monitor, this is a simple trick you can implement in the webhooks of the <strong class="source-inline">wdio.config.ts</strong> file: set the browser height to three-quarters of the display resolution. First, get the current display’s height and width by going to <strong class="bold">Settings</strong> and then <strong class="bold">Display</strong> <span class="No-Break">on Windows:</span></p>
			<div>
				<div id="_idContainer058" class="IMG---Figure">
					<img src="image/B19395_Figure_3.1.jpg" alt="Figure 3.1 – Primary display resolution on Windows"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1 – Primary display resolution on Windows</p>
			<p>On Mac, go to the <strong class="bold">Apple</strong> menu and select <strong class="bold">About this Mac</strong> &gt; <span class="No-Break"><strong class="bold">Displays</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer059" class="IMG---Figure">
					<img src="image/B19395_Figure_3.2.jpg" alt="Figure 3.2 – Primary display resolution on Mac"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2 – Primary display resolution on Mac</p>
			<p>Multiply the height of the display by 0.75. In the <strong class="source-inline">wdio.conf.ts</strong> file, uncomment the <strong class="source-inline">beforeTest()</strong> method. Enter the width and reduced height values (in this example, <strong class="source-inline">970</strong>) in the <strong class="source-inline">browser.setWindow</strong> method, <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
beforeTest: function (test, context) {
    // VS Code Terminal visible on the bottom of the screen
    browser.setWindowSize(1920, 970)
},</pre>			<p>This way, you can have the best of both worlds on a single monitor, as shown in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer060" class="IMG---Figure">
					<img src="image/B19395_Figure_3.3.jpg" alt="Figure 3.3 – Running a custom-sized browser with the Terminal log below on a single monitor"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3 – Running a custom-sized browser with the Terminal log below on a single monitor</p>
			<p>You can read more about the hooks of WebdriverIO in the online documentation at <a href="https://webdriver.io/docs/options/#hooks">https://webdriver.io/docs/options/#hooks</a>. Since this is a TypeScript project, it requires some configuration <span class="No-Break">as well.</span></p>
			<p>The <strong class="source-inline">tsconfig.json</strong> file<a id="_idIndexMarker137"/> configures TypeScript compiler options for the node. It includes the framework that will be used and includes the WebdriverIO <strong class="source-inline">expect</strong> library for assertions. This is where we can change the ECMAScript target version so that it matches the <span class="No-Break">node version:</span></p>
			<pre class="source-code">
{
    "compilerOptions": {
        "moduleResolution": "node",
        "types": [
            "node",
            "webdriverio/async",
            "@wdio/jasmine-framework",
            "expect-webdriverio"
        ],
        "target": "es2022"
    }
}</pre>			<p>The <strong class="source-inline">es2022</strong> target is ECMAScript version 10. The correlation of ECMAScript version names and features can be found at <a href="https://en.wikipedia.org/wiki/ECMAScript">https://en.wikipedia.org/wiki/ECMAScript</a> and the correlation of <strong class="source-inline">node</strong> to ECMAScript versions is found <span class="No-Break">at </span><a href="https://node.green/"><span class="No-Break">https://node.green/</span></a><span class="No-Break">.</span></p>
			<p>The <strong class="source-inline">test/spec</strong> folder <a id="_idIndexMarker138"/>is the location of the test scripts to execute. Subfolders can help divide tests into categories. It is recommended not to get too deep with these folder structures as it makes relative paths difficult to keep <span class="No-Break">track of.</span></p>
			<p>The <strong class="source-inline">test/pageObjects</strong> folder holds <a id="_idIndexMarker139"/>the page object module that’s used to find and <span class="No-Break">populate elements.</span></p>
			<p>Finally, the <strong class="source-inline">node_modules</strong> folder keeps all the supporting packages that are downloaded to support the <span class="No-Break">node project.</span></p>
			<p>The Chrome browser is always getting updated. Next, we need to ensure the project resources stay current. WebdriverIO has a service to do <span class="No-Break">just that.</span></p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor061"/>Letting Yarn help keep files up to date</h1>
			<p>Just as the Yarn upgrade-interactive tool has<a id="_idIndexMarker140"/> to keep all the supporting packages current, WebdriverIO provides the ChromeDriver service to keep up with constant Chrome updates. We can install the service from the console by running <span class="No-Break">this command:</span></p>
			<pre class="console">
yarn add wdio-chromedriver-service</pre>			<p>Then, it must be configured in the <strong class="source-inline">wdio.config.ts</strong> file. To do so, find <span class="No-Break">the following:</span></p>
			<pre class="source-code">
    services: ['chromedriver'],</pre>			<p>Replace it <span class="No-Break">with this:</span></p>
			<pre class="source-code">
    outputDir: 'all-logs',
    services: [
        ['chromedriver', {
            args: ['--silent']
        }]
    ],</pre>			<p>Finally, the <strong class="source-inline">all-logs</strong> folder should <a id="_idIndexMarker141"/>be added to the <strong class="source-inline">.gitignore</strong> file. Now, let’s cover some <span class="No-Break">debugging tips.</span></p>
			<h1 id="_idParaDest-54"><a id="_idTextAnchor062"/>Configuring debugging with VS Code</h1>
			<p>VS Code supplies four <a id="_idIndexMarker142"/>command prompt shells to launch scripts. Which one you use depends on your operating system. For Windows, there is PowerShell, Git Bash, Command Prompt, and the JavaScript debug terminal. Mac includes the <span class="No-Break">ZSH shell:</span></p>
			<div>
				<div id="_idContainer061" class="IMG---Figure">
					<img src="image/B19395_Figure_3.4.jpg" alt="Figure 3.4 – VS Code debugging controls and shell terminals on Windows"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4 – VS Code debugging controls and shell terminals on Windows</p>
			<p>Here’s how it look<a id="_idIndexMarker143"/>s <span class="No-Break">on Mac:</span></p>
			<div>
				<div id="_idContainer062" class="IMG---Figure">
					<img src="image/B19395_Figure_3.5.jpg" alt="Figure 3.5 – VS Code debugging controls and shell Terminals on Mac"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5 – VS Code debugging controls and shell Terminals on Mac</p>
			<p>Script execution stops when a breakpoint is entered in the code by clicking in the gutter to the left of a line number, as seen on line 9. This will attach a debugger and a control panel. From the panel, the code execution can continue, step over a method call, step into the method, step out back up to the calling code, or restart or disconnect the <span class="No-Break">debugging session.</span></p>
			<p>The JavaScript debug <a id="_idIndexMarker144"/>terminal always attaches the debugger. Debug mode slows the execution. So, for Mac, a practical choice would be to have two shells open: the JavaScript debug terminal and ZSH for faster non-debug execution. Any shell can have debugging activated with <span class="No-Break">auto attach:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer063" class="IMG---Figure">
					<img src="image/B19395_Figure_3.6.jpg" alt="Figure 3.6 – Command palette options to auto attach the debugger"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.6 – Command palette options to auto attach the debugger</p>
			<p>PowerShell, Git Bash, ZSH, and Command Prompt must have the debugging configuration enabled by setting <strong class="bold">Auto Attach</strong> to <strong class="bold">Always</strong> from the Command Palette. It can be disabled temporarily from the VS Code <span class="No-Break">status bar:</span></p>
			<div>
				<div id="_idContainer064" class="IMG---Figure">
					<img src="image/B19395_Figure_3.7.jpg" alt="Figure 3.7 – Auto Attach mode can be temporarily disabled from the status bar at the bottom of VS Code"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.7 – Auto Attach mode can be temporarily disabled from the status bar at the bottom of VS Code</p>
			<p>At this point, we<a id="_idIndexMarker145"/> can further customize our framework by passing <strong class="bold">environment variables</strong>. In Mac, this is easy with <span class="No-Break">any Terminal:</span></p>
			<pre class="source-code">
&gt; DEBUG=true yarn wdio</pre>			<p>Windows makes this tricky. To add a variable such as <strong class="source-inline">DEBUG</strong>, each shell has a separate syntax for multiple-line execution. Here’s <span class="No-Break">the list:</span></p>
			<ul>
				<li><span class="No-Break">Git Bash:</span><pre class="source-code">
&gt; set DEBUG=false &amp;&amp; yarn wdio</pre></li>				<li>PowerShell and JavaScript <span class="No-Break">debug terminal:</span><pre class="source-code">
&gt; set DEBUG=false; yarn wdio</pre></li>				<li>Command Prompt and <span class="No-Break">ZSH (Mac):</span><pre class="source-code">
&gt; DEBUG=true yarn wdio</pre></li>			</ul>
			<p>Furthermore, the syntax for this is different in <span class="No-Break">package shortcuts:</span></p>
			<ul>
				<li><span class="No-Break">Mac:</span><pre class="source-code">
"debug": "DEBUG=true wdio run test/wdio.conf.ts",</pre></li>				<li><span class="No-Break">Windows:</span><pre class="source-code">
"debug": "set DEBUG=true &amp;&amp; wdio run test/wdio.conf.ts",</pre></li>			</ul>
			<p>If you have a mix of Mac <a id="_idIndexMarker146"/>and Windows team members, the situation may look dire. But superheroes have sidekicks and Node is <span class="No-Break">no exception.</span></p>
			<p class="callout-heading">Rule of thumb – the cross-env node package</p>
			<p class="callout">To <a id="_idIndexMarker147"/>resolve all this, we will install the <span class="No-Break"><strong class="source-inline">cross-env</strong></span><span class="No-Break"> package:</span></p>
			<p class="callout"><strong class="source-inline">yarn </strong><span class="No-Break"><strong class="source-inline">add cross-env</strong></span></p>
			<p class="callout">By adding the <strong class="source-inline">cross-env</strong> package, we now can create a new debug shortcut that runs with a common syntax on both Mac <span class="No-Break">and Windows:</span></p>
			<p class="callout"><strong class="source-inline">debug: cross-env DEBUG=true </strong><span class="No-Break"><strong class="source-inline">wdio wdio.conf.ts</strong></span></p>
			<h2 id="_idParaDest-55"><a id="_idTextAnchor063"/>browser.debug()</h2>
			<p>Another way to debug <a id="_idIndexMarker148"/>our code is to add the <span class="No-Break"><strong class="source-inline">browser.debug()</strong></span><span class="No-Break"> statement:</span></p>
			<div>
				<div id="_idContainer065" class="IMG---Figure">
					<img src="image/B19395_Figure_3.8.jpg" alt="Figure 3.8 – Pausing execution in VS Code with browser.debug()"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.8 – Pausing execution in VS Code with browser.debug()</p>
			<p>By default, WebdriverIO will pause the execution, but it is limited by the default timeout interval <a id="_idIndexMarker149"/>of our framework. For Jasmine, the default is about 1 minute. However, we need more time for debugging when an error occurs. By setting <strong class="source-inline">defaultTimeoutInterval</strong> to 15,000,000 milliseconds (about 4 hours), the script will have more time to debug <span class="No-Break">any issues:</span></p>
			<pre class="source-code">
jasmineOpts: {
  defaultTimeoutInterval: 15_000_000,</pre>			<p>Of course, we do not want to change this value back and forth manually, particularly if we’re running in a cloud environment. This can be handled with our <span class="No-Break">next superpower.</span></p>
			<h1 id="_idParaDest-56"><a id="_idTextAnchor064"/>Dynamic configuration</h1>
			<p>Dynamic configuration means we can change the way the framework behaves by assigning system variables and <a id="_idIndexMarker150"/>passing them to our framework. These variables follow the <strong class="source-inline">ALL_CAPS</strong> naming convention of a constant. Let’s begin by assigning a timeout based on the value of a <strong class="source-inline">DEBUG</strong> environment variable. At the top of the <strong class="source-inline">config</strong> file, we will capture the value of the <strong class="source-inline">DEBUG</strong> <span class="No-Break">environment variable:</span></p>
			<pre class="source-code">
const DEBUG = (process.env.DEBUG<a id="_idTextAnchor065"/> === undefined) ? false : (process.env.DEBUG === `true`)</pre>			<p>This sets a default of <strong class="source-inline">false</strong> if <strong class="source-inline">DEBUG</strong> is not explicitly defined. Now, we can have a variable that extends the framework timeout when we explicitly execute a <span class="No-Break">debug shortc<a id="_idTextAnchor066"/>ut:</span></p>
			<pre class="source-code">
let timeout = DEBUG ? 10_000 : 16_000_000</pre>			<p class="callout-heading">Rule of thumb</p>
			<p class="callout">Make your code readable with numeric separators. TypeScript supports underscores in place of commas with both integer and floating-point numbers. This makes <strong class="source-inline">16_000_000</strong> a valid integer while making the code more readable <span class="No-Break">to humans.</span></p>
			<p>We can find the timeout under <strong class="source-inline">jasmineOpts</strong>. Let’s reference this new timeout variable. Find the <span class="No-Break">following code:</span></p>
			<pre class="source-code">
jasmineOpts: {
defaultTimeoutInterval: 10000,</pre>			<p>Change it to <span class="No-Break">the following:</span></p>
			<pre class="source-code">
jasmineOpts: {
defaultTimeoutInterval: timeout,</pre>			<p>You may consider setting the <strong class="source-inline">DEBUG</strong> default to <strong class="source-inline">True</strong> when it’s omitted in a shortcut, then explicitly turning it off when run in a CI/CD environment such as Docker <span class="No-Break">from Jenkins:</span></p>
			<pre class="source-code">
const DEBUG = (process.env.DEBUG<a id="_idTextAnchor067"/> === undefined) ? true : (process.env.DEBUG === `true`)</pre>			<p>The reason is that we spend most of our time writing and debugging our code is spent running the test. This means <a id="_idIndexMarker151"/>we spend less time typing this over and over to launch <span class="No-Break">a test:</span></p>
			<pre class="source-code">
DEBUG=true yarn wdio</pre>			<p>This just extend timeouts when <span class="No-Break">run locally:</span></p>
			<pre class="source-code">
yarn wdio</pre>			<p>Then, we can have the <strong class="source-inline">debug</strong> switch implicit in the shortcut and explicit <span class="No-Break">for CI/CD:</span></p>
			<pre class="source-code">
     "scripts": {
        "wdio": "wdio wdio.conf.ts"
        "debug": "DEBUG=true wdio wdio.conf.ts"
        "wdio-docker": "DEBUG=false wdio wdio.conf.ts"
    }</pre>			<p>In future chapters, we will execute tests in Docker. In those cases, we do not want our tests to wait several hours while we debug an error. In this script, we will change <strong class="source-inline">DEBUG</strong> to <strong class="source-inline">false</strong>; the test will use a short timeout specifically with that <span class="No-Break">in mind:</span></p>
			<pre class="source-code">
yarn wdio-docker</pre>			<p>Question: who is the customer of the automation framework? You might think it is the stakeholders, but not really. The stakeholders are the beneficiaries with pretty alluring graphs. Your team is the one who works with the framework every day. This means you are the customer. Prioritize your framework features with standards that help you to be efficient in your day-to-day work, not the whims of <span class="No-Break">your benefactors.</span></p>
			<p>You can read more about <a id="_idIndexMarker152"/>dynamic configurations <span class="No-Break">here: </span><a href="https://webdriver.io/docs/debugging/#dynamic-configuration"><span class="No-Break">https://webdriver.io/docs/debugging/#dynamic-configuration</span></a><span class="No-Break">.</span></p>
			<p>Whil<a id="_idTextAnchor068"/>e we are looking at the Jasmine options, we might consider automatically adding screen captures to the results if the test fails. These can be added to the <span class="No-Break">following code:</span></p>
			<pre class="source-code">
expectationResultHandler
expectationResultHandler: function(passed, assertion) {
 /**
 * only take screenshot if assertion failed
 */
 if(passed) {
      return
 }
 browser.saveScreenshot(`assertionError_${assertion.error.message}.png`)
 }</pre>			<p>This will create a screen capture at the root of our project. Screen captures do not need to t<a id="_idTextAnchor069"/>ake up space in<a id="_idIndexMarker153"/> the Git repo. So, we will add them inside the <strong class="source-inline">.gitIgnore</strong> <strong class="source-inline">*.</strong><span class="No-Break"><strong class="source-inline">png</strong></span><span class="No-Break"> file.</span></p>
			<h2 id="_idParaDest-57"><a id="_idTextAnchor070"/>A note about template strings</h2>
			<p>You may <a id="_idIndexMarker154"/>have noticed that template <strong class="source-inline">'strings'</strong> with accent marks are being extensively used in these code examples. While <a id="_idIndexMarker155"/>TypeScript supports <strong class="source-inline">'single'</strong> quotes and <strong class="source-inline">"double"</strong> quotes for strings, template strings make more sense in a test <span class="No-Break">automation project.</span></p>
			<p>Let’s say, for example, we wish to write this string to our <span class="No-Break">console log:</span></p>
			<pre class="source-code">
Meet Dwane "The Rock" Johnson at Moe's tavern</pre>			<p>If we use quotes, we need to double escape the quotes in <span class="No-Break">the string:</span></p>
			<pre class="source-code">
console.log("Meet ""Dwayne The Rock"" Johnson at Moe's  tavern")</pre>			<p>If we used single quotes, the apostrophe would need to be escaped with <span class="No-Break">a backslash:</span></p>
			<pre class="source-code">
console.log('Meet Dwyane "The Rock" Johnson at Moe\'s  tavern')</pre>			<p>But with an accent template string, no escape <span class="No-Break">is necessary:</span></p>
			<pre class="source-code">
console.log(`Meet Dwayne "The Rock" Johnson at Moe's tavern today`)</pre>			<p>Templated strings <a id="_idIndexMarker156"/>can also pass <strong class="source-inline">${variables}</strong> to make reporting far more flexible <span class="No-Break">and descriptive:</span></p>
			<pre class="source-code">
let guest = `Dwayne "The Rock" Johnson`
let location = `Moe's tavern`</pre>			<p>Now, we can output <a id="_idIndexMarker157"/>a templated string to the console that is much easier to read than one with single or <span class="No-Break">double quotes:</span></p>
			<pre class="source-code">
console.log(`Meet ${guest} at ${location} today`)</pre>			<p>Much of the purpose of custom reporting functions is to reduce noise <span class="No-Break">during debugging.</span></p>
			<h2 id="_idParaDest-58"><a id="_idTextAnchor071"/>Reducing the signal-to-noise ratio</h2>
			<p>Now, we<a id="_idIndexMarker158"/> need to do some negative testing. Change the <strong class="source-inline">ch3.ts</strong> script so that it generates an error by adding <strong class="source-inline">.not</strong> to the <strong class="source-inline">expect</strong> <span class="No-Break">validation chain:</span></p>
			<pre class="source-code">
await expect(SecurePage.flashAlert).not.toBeExisting();</pre>			<p>Now, when we run the code, we’ll get a lot of <span class="No-Break">message details:</span></p>
			<pre class="source-code">
[0-0] 2022-11-28T09:14:03.160Z INFO webdriver: COMMAND findElements("css selector", "#flash")
[0-0] 2022-11-28T09:14:03.160Z INFO webdriver: [POST] http://localhost:9515/session/2e35b72bb526b5f0e346ba1379e4f5d9/elements
[0-0] 2022-11-28T09:14:03.161Z INFO webdriver: DATA { using: 'css selector', value: '#flash' }
[0-0] 2022-11-28T09:14:03.174Z INFO webdriver: RESULT [
[0-0]   {
[0-0]     'element-6066-11e4-a52e-4f735466cecf': 'd6b5d426-fbbb-4871-b190-94de4ef331cd'
[0-0]   }</pre>			<p>A lot of information is produced that is not all that insightful. Inside the  <strong class="source-inline">wdio.config.ts</strong> file, we can control how much detail is displayed in the console with <span class="No-Break"><strong class="source-inline">logLevel</strong></span><span class="No-Break"> settings:</span></p>
			<pre class="source-code">
// Level of logging verbosity: trace | debug | info | warn | error | silent
    logLevel: 'info',</pre>			<p>The order of options is listed<a id="_idIndexMarker159"/> in order of verbosity. The default of <strong class="source-inline">'info'</strong> can be overwhelming. Reducing it to <strong class="source-inline">'warn'</strong> is more adequate for <span class="No-Break">our purposes.</span></p>
			<p>Our final debugging technique is to enhance the <strong class="source-inline">console.log()</strong> command with <span class="No-Break">a wrapper.</span></p>
			<h1 id="_idParaDest-59"><a id="_idTextAnchor072"/>Our first custom wrapper method – global.log()</h1>
			<p>Question: what is <span class="No-Break">a wrapper?</span></p>
			<p>A <a id="_idIndexMarker160"/>wrapper is a<a id="_idIndexMarker161"/> bespoke method or function that is almost identical in signature to an intrinsic <a id="_idIndexMarker162"/>method but with added functionality. In our first example, we will create a global wrapper <span class="No-Break">for </span><span class="No-Break"><strong class="source-inline">console.log()</strong></span><span class="No-Break">.</span></p>
			<p>While the <strong class="source-inline">console.log()</strong> method is good for outputting information to the console window, it can be enhanced and shortened. Let’s build our first <strong class="source-inline">log()</strong> wrapper at the end of the <span class="No-Break"><strong class="source-inline">wdio.config.ts</strong></span><span class="No-Break"> file:</span></p>
			<pre class="source-code">
/**
 * log wrapper
 * @param text to be output to the console window
 */
global.log = async (text: any) =&gt;  {
    console.log(`---&gt; ${text}`)
}</pre>			<p>This <strong class="source-inline">global.log()</strong> wrapper is almost identical to <strong class="source-inline">console.log</strong> except it has some text formatting that stands out. Let’s look at this by adding some examples to <span class="No-Break">the test:</span></p>
			<pre class="source-code">
console.log (`Entering password`)
[0-0] Entering password
await global.log (`Entering password`)
[0-0] ---&gt; Entering password</pre>			<p>This way, we can separate the custom messages being added to the framework from what is being generated by the Jasmine and node <span class="No-Break">reporting output.</span></p>
			<p class="callout-heading">Rule of thumb</p>
			<p class="callout">Even when a function has only one line, use curly brackets. There are two reasons for this. First, it makes logic branch issues easier to spot. Second, when adding brackets, there is a good chance you will soon add more lines <span class="No-Break">of code.</span></p>
			<p>Let’s say we want to<a id="_idIndexMarker163"/> ignore empty strings and nulls passed to the log. When written as a single line of code, the intention is not <span class="No-Break">very clear:</span></p>
			<pre class="source-code">
global.log = async (text: any) =&gt; {
    if (text) console.log(`---&gt; ${text}`)
}</pre>			<p>But with the brackets in place, the logic looks <span class="No-Break">much clearer:</span></p>
			<pre class="source-code">
global.log = async (text: any) =&gt; {
    if (text) {
        console.log(`---&gt; ${text}`)
    }
}</pre>			<p>This follows the lines of the second reason we mentioned in the <em class="italic">Rule of thumb</em> box – you will soon add more lines of code. The preceding code would be better if we knew when an unresolved promise was passed to the log and what line had the issue. So, we will add an exception for <strong class="source-inline">Promise</strong> objects and display the console trace to show <span class="No-Break">the line:</span></p>
			<pre class="source-code">
global.log = async (text: any) =&gt; {
    if (text) //truthy value check
    {
        if (text===Promise){
            console.log(`---&gt;     WARN: Log was passed a Promise object`)
            console.trace()
        }else{
            console.log(`---&gt; ${text}`)
        }
    }
}</pre>			<p>Question: why is the text assigned a type of <strong class="source-inline">any</strong> and <span class="No-Break">not </span><span class="No-Break"><strong class="source-inline">string</strong></span><span class="No-Break">?</span></p>
			<p>In most cases, we will declare the type of the argument in TypeScript. That’s the whole point of using it over<a id="_idIndexMarker164"/> JavaScript. But in this case, we want to have our debugging be a little more robust. We will add six log examples to the <span class="No-Break"><strong class="source-inline">ch3.ts</strong></span><span class="No-Break"> script:</span></p>
			<pre class="source-code">
describe(' Ch3: Cybernetic Enhancements', () =&gt; {
    it(should give detailed report and resize browser', async () =&gt; {
        await LoginPage.open();
        console.log (`Entering password`) // Intrinsic Log
        await global.log (`Entering password`) // Custom
        await global.log (``) // Does not print
        await global.log (null) // Does not print
        await global.log (Promise) // Adds trace
        await LoginPage.login('tomsmith', 'SuperSecretPassword!');
        await expect(SecurePage.flashAlert).toBeExisting();
        await expect(SecurePage.flashAlert).toHaveTextContaining(
            'You logged into a secure area!');
    });
});</pre>			<p>With that, we have added our own level of detail that stands out. It skips empty and null strings. It also gives line <a id="_idIndexMarker165"/>numbers of where issues such as unresolved <span class="No-Break"><strong class="source-inline">Promise</strong></span><span class="No-Break"> originated:</span></p>
			<pre class="source-code">
[0-0] Entering password
[0-0] ---&gt; Entering password
[0-0] ---&gt;     WARN: Log was passed a Promise object
[0-0] Trace
[0-0]     at global.log (D:\repos\Test-Automation-with-WebdriverIO\test\wdio.conf.ts:379:21)
[0-0]     at UserContext.&lt;anonymous&gt; (D:\repos\wdio\test\specs\ch3.ts:13:22)
...
[0-0] PASSED in chrome - D:\repos\wdio\test\specs\ch3.ts</pre>			<p>Running this code gives us more flexibility in logging what our framework is doing. We have one last topic to discuss to ensure we write <span class="No-Break">good code.</span></p>
			<h1 id="_idParaDest-60"><a id="_idTextAnchor073"/>Rules to enforce coding standards</h1>
			<p>Every coding project <a id="_idIndexMarker166"/>should have a document that states what coding rules will be enforced during a code review. Tools called “linters” are good<a id="_idIndexMarker167"/> at detecting these rules. They need to be activated at the start of a project to ensure everyone is on the same page. Several rules can be activated in a TypeScript <a id="_idIndexMarker168"/>project. The first is called <span class="No-Break"><strong class="bold">strict mode</strong></span><span class="No-Break">.</span></p>
			<h2 id="_idParaDest-61"><a id="_idTextAnchor074"/>Strict mode</h2>
			<p>JavaScript has a strict mode feature. Adding <strong class="source-inline">"use strict"</strong> as the first line of a JavaScript source file<a id="_idIndexMarker169"/> enables extra rules to ensure good coding practices are followed that avoid subtle <span class="No-Break">code errors.</span></p>
			<p>This includes forcing variables to be explicitly declared with a <strong class="source-inline">let</strong>, <strong class="source-inline">var</strong>, or <strong class="source-inline">const</strong> keyword. TypeScript has a similar strict mode that can further force all variables to be assigned a type, such as <strong class="source-inline">string</strong>, <strong class="source-inline">number</strong>, or <strong class="source-inline">boolean</strong>. This is to avoid implicitly assigning a variable to the <strong class="source-inline">any</strong> type, which can lead to type <span class="No-Break">coercion issues:</span></p>
			<div>
				<div id="_idContainer066" class="IMG---Figure">
					<img src="image/B19395_Figure_3.9.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"> </p>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.9 – A strict mode warning where text is implicitly declared to be of the any type</p>
			<p>In the preceding example, the <strong class="source-inline">text</strong> variable is implicitly assumed to be of the <strong class="source-inline">any</strong> type because no type assignment was provided for the <span class="No-Break"><strong class="source-inline">text</strong></span><span class="No-Break"> variable:</span></p>
			<pre class="source-code">
global.log = async (text) =&gt;</pre>			<p>With strict mode enabled, three dots appear under the <strong class="source-inline">text</strong> argument. Hovering the mouse over these dots reveals the issue description. It also includes the possibility for VS Code to suggest a quick fix that will infer the parameter type <span class="No-Break">from usage:</span></p>
			<pre class="source-code">
global.log = async (text: any) =&gt;</pre>			<p>In a new TypeScript project, strict rules should be enabled from the start. These rules are enabled by adding them under the <strong class="source-inline">"compiler options"</strong> section of the <strong class="source-inline">tsconfig.json</strong> file. This rule enables all subset <span class="No-Break">rules listed:</span></p>
			<pre class="source-code">
"compiler options": {
"strict": true,
...</pre>			<p>However, turning on all<a id="_idIndexMarker170"/> rules in an existing project will likely create<a id="_idIndexMarker171"/> so much code to refactor that it causes significant delays in test creation. In that case, subsets of strict rules can be enabled and refactored <span class="No-Break">over time.</span></p>
			<h2 id="_idParaDest-62"><a id="_idTextAnchor075"/>Turning on individual TypeScript subset rule checks</h2>
			<p>Here is a list of the rules that can be enabled or disabled under the strict mode coding <span class="No-Break">standards umbrella.</span></p>
			<h3>“noImplicitAny”: true</h3>
			<p>This rule raises an error on<a id="_idIndexMarker172"/> expressions and declarations with an implied <strong class="source-inline">any</strong> type. In the following example, the <strong class="source-inline">x</strong> and <strong class="source-inline">y</strong> variables are implicitly set to the <strong class="source-inline">any</strong> type. Thus, if a string is passed, the code will coerce the number into a string and concatenate values rather than <span class="No-Break">adding them:</span></p>
			<pre class="source-code">
function add(x, y) {
  return x + y;
}
const result = add(10, '20');
console.log(result); // '1020'</pre>			<p>The following code resolves this issue by explicitly assigning the type of <strong class="source-inline">x</strong> and <strong class="source-inline">y</strong> to a <strong class="source-inline">number</strong> type. The only types of variables to be passed now are numbers, <span class="No-Break">not strings:</span></p>
			<pre class="source-code">
function add(x: number, y: number) {
  return x + y;
}
const result = add(10, 20);
console.log(result); // 30</pre>			<h3>“strictNullChecks”: true</h3>
			<p>This rule raises an error when variables are implicitly assigned a <strong class="source-inline">null</strong> value. This can cause issues when an empty<a id="_idIndexMarker173"/> string is a valid variable but a <strong class="source-inline">Null</strong> value is passed, throwing <span class="No-Break">an error.</span></p>
			<h3>“strictFunctionTypes”: true</h3>
			<p>This rule will enable strict checking of function parameter types. Take this code as <span class="No-Break">an example:</span></p>
			<pre class="source-code">
const multiply = function(x: number, y: number) { return x * y; };</pre>			<p>To fix this error, you would need to annotate the type of the <span class="No-Break"><strong class="source-inline">multiply</strong></span><span class="No-Break"> function:</span></p>
			<pre class="source-code">
const multiply: (x: number, y: number) =&gt; number = function(x, y) {
  return x * y;
};</pre>			<h3>“strictBindCallApply”: true</h3>
			<p>This rule forces strict <strong class="source-inline">bind</strong>, <strong class="source-inline">call</strong>, and <strong class="source-inline">apply</strong> methods on functions. This is beyond the scope of the techniques that will be covered in <span class="No-Break">this book.</span></p>
			<h4>bind()</h4>
			<p>The <strong class="source-inline">bind()</strong> function creates a<a id="_idIndexMarker174"/> new function with a specific value for this. It takes the value you want to use for this as the first argument; any additional arguments are passed to the original function when it is called. Here’s <span class="No-Break">an example:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string = 'hello';
  public someMethod() {
    setTimeout(function() {
      console.log(this.myProperty); // 'this' is not properly bound to                                     // an object
    }, 1000);
  }
}</pre>			<p>In the <a id="_idIndexMarker175"/>preceding example, the <strong class="source-inline">someMethod()</strong> method contains an anonymous function <a id="_idIndexMarker176"/>that uses the <strong class="source-inline">this</strong> keyword to access a property on the current object. However, the <strong class="source-inline">this</strong> keyword is not properly bound to <span class="No-Break">the object:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string = 'hello';
  public someMethod() {
    setTimeout(function() {
      console.log(this.myProperty);
    }.bind(this), 1000);
  }
}</pre>			<p>In the preceding code, the error has been resolved by binding the <strong class="source-inline">this</strong> keyword to the current object using the <span class="No-Break"><strong class="source-inline">bind()</strong></span><span class="No-Break"> function.</span></p>
			<h4>call()</h4>
			<p>The <strong class="source-inline">call()</strong> function<a id="_idIndexMarker177"/> is similar to <strong class="source-inline">bind()</strong>, but it calls the original function immediately, rather than creating a new function. It takes the value you want to use for <strong class="source-inline">this</strong> as the first argument; any additional arguments are passed to the original function when it <span class="No-Break">is called:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string = 'hello';
  public someMethod() {
    const greeting = 'Hello';
    console.log(greeting.call(this, greeting)); // error: 'call' is                                                 // not a function
  }
}</pre>			<p>In this example, the <strong class="source-inline">someMethod()</strong> method calls the <strong class="source-inline">call()</strong> function on a<a id="_idIndexMarker178"/> string value (greeting). However, the <strong class="source-inline">call()</strong> function can only be called on functions, so this will cause an error when the code <span class="No-Break">is executed.</span></p>
			<p>If you have the <strong class="source-inline">strictBindCallApply</strong> rule enabled, ESLint will catch this error and alert you to the issue. To fix the error, call the <strong class="source-inline">call()</strong> function on a function, rather than <span class="No-Break">a string:</span></p>
			<pre class="source-code">
  public greet(greeting: string) {
    console.log(`${greeting}, ${this.name}`);
  }
  public someMethod() {
    const greeting = 'Hello';
    this.greet.call(this, greeting); // calls the greet() method with                                      // a specific value for 'this'
  }
}</pre>			<h4>apply()</h4>
			<p>The <strong class="source-inline">apply()</strong> function<a id="_idIndexMarker179"/> is similar to <strong class="source-inline">call()</strong>, but it takes the arguments to pass to the original function as an array<a id="_idIndexMarker180"/> rather than a list of separate arguments. It takes the value you want to use for <strong class="source-inline">this</strong> as the first argument, and the array of arguments as the <span class="No-Break">second argument:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string = 'hello';
  public someMethod() {
    const greeting = 'Hello';
    console.log(greeting.apply(this, greeting)); // error: 'apply' is not a function
  }
}</pre>			<p>In the preceding example, the <strong class="source-inline">someMethod()</strong> method calls the <strong class="source-inline">apply()</strong> function on a <strong class="source-inline">(`greeting`)</strong> string value. However, the <strong class="source-inline">apply()</strong> function can only be called on functions, so this will cause an error when the code <span class="No-Break">is executed:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string = 'hello';
  public greet(greeting: string) {
    console.log(`${greeting}, ${this.name}`);
  }
  public someMethod() {
    const greeting = 'Hello';
    this.greet.apply(this, [greeting]); // calls the greet() method with a specific value for 'this'
  }
}</pre>			<p>The preceding code shows<a id="_idIndexMarker181"/> how to fix the error by calling the <strong class="source-inline">apply()</strong> function on a function, rather than <span class="No-Break">a string:</span></p>
			<pre class="source-code">
"strictPropertyInitialization": true,</pre>			<p>This <a id="_idIndexMarker182"/>ESLint rule checks for properties that are declared in classes but are not initialized in the constructor. This rule can be used to enforce that all properties in a class are properly initialized before they <span class="No-Break">are used:</span></p>
			<pre class="source-code">
class MyClass {
  public myProperty: string;
  constructor() {
    // myProperty is not initialized in the constructor
  }
  public someMethod() {
    console.log(this.myProperty.toUpperCase());
  }
}</pre>			<p>ESLint will throw an error when you try to lint the code because <strong class="source-inline">myProperty</strong> is not initialized in the constructor. To resolve this, assign <strong class="source-inline">myProperty</strong> to <span class="No-Break">a string:</span></p>
			<pre class="source-code">
  public myProperty: string = "";</pre>			<h3>“noImplicitThis”: true</h3>
			<p>This raises an error on expressions with an implied <strong class="source-inline">any</strong> type. In TypeScript, the <strong class="source-inline">this</strong> keyword refers to the current instance of a class, and it is often used inside class methods to access properties or methods on the <span class="No-Break">current object:</span></p>
			<pre class="source-code">
class MyClass { public myProperty: string = 'hello';
  public someMethod() {
    setTimeout(function() {
      console.log(this.myProperty);
      // 'this' is not properly bound to an object
    }, 1000);
  }
}</pre>			<p>ESLint will <a id="_idIndexMarker183"/>throw an error because the <strong class="source-inline">this</strong> keyword inside the anonymous function is not properly bound to an object. To fix this error, use an arrow function to bind the function to <span class="No-Break">an object:</span></p>
			<pre class="source-code">
      setTimeout(() =&gt; { console.log(this.myProperty);
      // 'this' is now properly bound to the current object</pre>			<h3>“alwaysStrict”: true</h3>
			<p>This final rule ensures the TypeScript files add <strong class="source-inline">use strict</strong> to the first line. In truth, this instructs the compiler to create TypeScript in strict mode, even if the command is missing from the <span class="No-Break">TypeScript file.</span></p>
			<h3>@ts-ignore directive</h3>
			<p>At the end of the day, you may need to tell the compiler to ignore a warning. For example, the custom <strong class="source-inline">log()</strong> function intentionally has the message assigned to the <strong class="source-inline">any</strong> type instead of <strong class="source-inline">string</strong>. This is to ignore null strings and catch unwrapped promises that are passed that can be traced back to a specific line <span class="No-Break">of code:</span></p>
			<pre class="source-code">
// @ts-ignore
global.log = async (text: any) =&gt;  {
    console.log(`---&gt; ${text}`)
}</pre>			<p>It’s important to note <a id="_idIndexMarker184"/>that the <strong class="source-inline">@ts-ignore</strong> directive is only meant to be used as a temporary measure to help get past an error or warning while you’re working on your code. It’s not a good idea to use this directive to suppress errors or warnings extensively as it can lead to unsafe or <span class="No-Break">unreliable code.</span></p>
			<p>The next question is, when will we ever have the time to refactor and document our framework when we are spending all our time writing <span class="No-Break">test scripts?</span></p>
			<p class="callout-heading">Tip – “get it done” Friday</p>
			<p class="callout">The best way is to plan for refactoring as part of sprint activities. Agile projects have a daily standup meeting. Some teams choose to eliminate the Friday standup and specifically dedicate additional time to code cleanup, refactoring, and documentation. The idea is that our weekends should be our own with our families and not dedicated <span class="No-Break">to working.</span></p>
			<p class="callout-heading">Leverage artificial intelligence</p>
			<p class="callout"><strong class="bold">GitHub Copilot</strong>: Developed <a id="_idIndexMarker185"/>by GitHub and OpenAI, it provides AI-powered code suggestions right in the editor. It’s like a pair programmer that helps you write code faster and learn new APIs and languages along <span class="No-Break">the way.</span></p>
			<p class="callout"><strong class="bold">Tabnine</strong>: An <a id="_idIndexMarker186"/>AI code-completion tool that works with popular IDEs. It predicts and suggests the next chunk of code you might write and supports multiple <span class="No-Break">programming languages.</span></p>
			<p class="callout"><strong class="bold">CodeGPT</strong>: A <a id="_idIndexMarker187"/>powerful and innovative AI-driven coding assistant developed by OpenAI. It builds upon the foundation of GPT-3, a state-of-the-art language model, and is specifically tailored to assist developers and programmers in their <span class="No-Break">coding tasks.</span></p>
			<h2 id="_idParaDest-63"><a id="_idTextAnchor076"/>CodeGPT</h2>
			<p>CodeGPT is a <a id="_idIndexMarker188"/>revolutionary AI-powered code generation tool developed by OpenAI. It leverages the GPT-3.5 architecture to assist developers in creating code snippets, functions, and even entire programs in various programming languages, including TypeScript. This technology is a game-changer for developers as it can accelerate the coding process, enhance code quality, and help with debugging and problem-solving. With CodeGPT, you can quickly generate code examples, write unit tests, or even get suggestions on how to implement specific features, making it an invaluable addition to any <span class="No-Break">developer’s toolkit.</span></p>
			<p>Here’s an <a id="_idIndexMarker189"/>example of how CodeGPT can assist with TypeScript code generation. Suppose you want to create a TypeScript function that calculates the factorial of a number. With CodeGPT, you can request a code snippet <span class="No-Break">like this:</span></p>
			<pre class="source-code">
```typescript
function factorial(n: number): number {
  if (n &lt;= 1) {
    return 1;
  }
  return n * factorial(n - 1);
}
```</pre>			<p>CodeGPT generates <a id="_idIndexMarker190"/>the TypeScript code for the factorial function, which takes an input number, <strong class="source-inline">n</strong>, and recursively calculates its factorial. This is just one example of how CodeGPT can simplify coding tasks by providing accurate and efficient <span class="No-Break">code snippets.</span></p>
			<p>Here is a real-life example that I encountered while writing this book. We asked for an advanced function that parses values from a string in the <strong class="source-inline">key=value</strong> format that could be transposed into a dictionary object with some examples. GitHub Copilot already knew of the SwitchboardFactory SBF object and came up with this function with <span class="No-Break">a header:</span></p>
			<pre class="source-code">
/**
 * Parses a string of key-value pairs and updates the SwitchBoard state with those values.
 * Each pair within the testData string should be separated by spaces, and
 * keys/values should be separated by an '=' character.
 *
 * For example, a string "guests=2 zipcode=12345" will result in SBF having
 * "guests" set to 2 and "zipcode" set to 12345.
 * @param {string} testData - The string containing key-value pairs to be parsed.
 */
export function parseToSBF(testData: string) {
  let parts = testData.split(" ");
  parts.forEach(part =&gt; {
    if (part.includes('=')) {
      let [key, value] = part.split("=");
      SBF.set(key, parseInt(value));
    }
  });
}</pre>			<p>Artificial intelligence is the<a id="_idIndexMarker191"/> way of the future. We are at a point in time similar to when sledgehammers were used to break up concrete at the moment that Charles Brady King invented the jackhammer. This is <span class="No-Break">our jackhammer!</span></p>
			<h1 id="_idParaDest-64"><a id="_idTextAnchor077"/>Summary</h1>
			<p>In this chapter, we reviewed the node files of the Webdriver node framework. We showed you how to make launching tests common between Mac and Windows team members. We also showed you how to set up the environment to enable debugging and writing better code in TypeScript. Finally, we wrote our first custom log wrapper, which optimized the output to the <span class="No-Break">console window.</span></p>
			<p>By taking control of logging, we can make our debugging process more productive by deciding how it’s formatted and what is sent to the Allure report. In upcoming chapters, we will even add color for visibility and apply this same wrapper concept to the most common WebdriverIO browser methods to make supercharged <span class="No-Break">robust tests.</span></p>
			<p>But we do not want to get ahead of ourselves, Doc! Next, we will talk about the effects of time travel because TypeScript is a bit of <span class="No-Break">a speedster!</span></p>
		</div>
	</body></html>