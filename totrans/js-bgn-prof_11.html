<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer077">&#13;
    <h1 class="chapterNumber">11</h1>&#13;
    <h1 id="_idParaDest-322" class="chapterTitle">Interactive Content and Event Listeners</h1>&#13;
    <p class="normal">You are now familiar with the basic manipulation of the <strong class="keyword">Document Object Model</strong> (<strong class="keyword">DOM</strong>). In the last chapter, we had a look at events, and we saw that event listeners are constantly monitoring for whether a certain event is taking place; when it does occur, the specified event (a function) gets invoked.</p>&#13;
    <p class="normal">In this chapter, we are going to take this knowledge one step further and use event listeners to create interactive web content. This chapter is really going to complete your DOM knowledge. We are going to cover the following topics:</p>&#13;
    <ul>&#13;
      <li class="bullet">Interactive content</li>&#13;
      <li class="bullet">Specifying events</li>&#13;
      <li class="bullet">The <code class="Code-In-Text--PACKT-">onload</code> event handler</li>&#13;
      <li class="bullet">The mouse event handler</li>&#13;
      <li class="bullet">The event target property</li>&#13;
      <li class="bullet">DOM event flow</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onchange</code> and <code class="Code-In-Text--PACKT-">onblur</code></li>&#13;
      <li class="bullet">The key event handler</li>&#13;
      <li class="bullet">Drag and drop elements</li>&#13;
      <li class="bullet">Form submission</li>&#13;
      <li class="bullet">Animating elements</li>&#13;
    </ul>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">Note: exercise, project and self-check quiz answers can be found in the <em class="italic">Appendix</em>.</p>&#13;
    </div>&#13;
    <h1 id="_idParaDest-323" class="title">Introducing interactive content</h1>&#13;
    <p class="normal">Interactive content is content that responds to the actions of a user. Think, for example, of a web app in which <a id="_idIndexMarker560"/>you can create postcards dynamically, or play a game on a website in a web browser. </p>&#13;
    <p class="normal">This interactive content is made possible by changing the DOM based on user interactions. These interactions could be anything: entering text in an input field, clicking somewhere on the page, hovering over a certain element with the mouse, or a certain input with the keyboard. All these are called events. We have seen events already. But there is actually more to it!</p>&#13;
    <h1 id="_idParaDest-324" class="title">Specifying events</h1>&#13;
    <p class="normal">There are three ways to specify events. We have seen each of these in the previous chapter, but let's run <a id="_idIndexMarker561"/>through them again now. One is HTML-based and the other two are JavaScript-based. For this example, we are going to use the <code class="Code-In-Text--PACKT-">click</code> event as an example.</p>&#13;
    <h2 id="_idParaDest-325" class="title">Specifying events with HTML</h2>&#13;
    <p class="normal">First, the HTML way:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"unique"</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"magic()"</span><span class="hljs-tag">&gt;</span>Click here for magic!<span class="hljs-tag">&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">The great thing about specifying events this way is that it's quite easy to read this code and predict what it is <a id="_idIndexMarker562"/>going to do. As soon as you click on the <a id="_idIndexMarker563"/>paragraph, the function <code class="Code-In-Text--PACKT-">magic()</code> will be triggered. There are some downsides too: you can only specify one event this way, and you cannot change the event dynamically either.</p>&#13;
    <h2 id="_idParaDest-326" class="title">Specifying events with JavaScript</h2>&#13;
    <p class="normal">Here is the first way to do it using JavaScript.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"unique"</span>).onclick = <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ magic(); };&#13;
</code></pre>&#13;
    <p class="normal">What is happening <a id="_idIndexMarker564"/>here is that we are getting the property that <a id="_idIndexMarker565"/>represents the selected event and assigning our function to it. So, in this case, we are selecting the <code class="Code-In-Text--PACKT-">p</code> shown in the previous section by its attribute value <code class="Code-In-Text--PACKT-">unique</code>, grabbing the <code class="Code-In-Text--PACKT-">onclick</code> property, and assigning the <code class="Code-In-Text--PACKT-">magic()</code> function to it by wrapping it in an anonymous function. We could also specify the exact function on the spot here. We can overwrite this with another function anytime, making the event that can be fired more dynamic.</p>&#13;
    <p class="normal">We can also specify <a id="_idIndexMarker566"/>different events now, which we cannot do <a id="_idIndexMarker567"/>with HTML. So we could also give it a <code class="Code-In-Text--PACKT-">keyup</code>, <code class="Code-In-Text--PACKT-">keydown</code>, or <code class="Code-In-Text--PACKT-">mouseover</code> event, for example—we will consider each of these event types in this chapter.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">If we wanted to specify event triggers for all the elements of the page, we could do so in a loop for a cleaner coding style.</p>&#13;
    </div>&#13;
    <h3 id="_idParaDest-327" class="title">Practice exercise 11.1</h3>&#13;
    <p class="normal">Personalize your web pages. Allow users to change the theme of the page display between regular mode and dark mode.</p>&#13;
    <ol>&#13;
      <li class="numbered">Within a simple HTML document, set up a Boolean value variable to use that will toggle the color modes.</li>&#13;
      <li class="numbered">Use <code class="Code-In-Text--PACKT-">window.onclick</code> to set up a function that outputs a message in the console when clicked. You can use the value of the Boolean variable.</li>&#13;
      <li class="numbered">Within the function, add a condition that checks whether the <code class="Code-In-Text--PACKT-">darkMode</code> variable is true or false.</li>&#13;
      <li class="numbered">If false, then update the page style to a background color of black and a font color of white.</li>&#13;
      <li class="numbered">Add an <code class="Code-In-Text--PACKT-">else</code> response that changes the color of the background to white and the color of the text to black. Also, update the value of the <code class="Code-In-Text--PACKT-">darkMode</code> variable accordingly.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-328" class="title">Specifying events with event listeners</h2>&#13;
    <p class="normal">The last method is using the <code class="Code-In-Text--PACKT-">addEventListener()</code> method to add an event to an element. With this, we <a id="_idIndexMarker568"/>can specify multiple functions for the same event, for example, when an element gets clicked.</p>&#13;
    <p class="normal">What is striking for both methods we have looked at—using HTML events and assigning to properties—is that the event gets prefixed with <code class="Code-In-Text--PACKT-">on</code>. For example, <code class="Code-In-Text--PACKT-">onclick</code>, <code class="Code-In-Text--PACKT-">onload</code>, <code class="Code-In-Text--PACKT-">onfocus</code>, <code class="Code-In-Text--PACKT-">onblur</code>, <code class="Code-In-Text--PACKT-">onchange</code>, etc. This is not the case when we use the <code class="Code-In-Text--PACKT-">addEventListener()</code> method, where we specify the event type within the event listener <em class="italic">without</em> the <code class="Code-In-Text--PACKT-">on</code> prefix, as here, with an alternative to <code class="Code-In-Text--PACKT-">onclick</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"unique"</span>).addEventListener(<span class="hljs-string">"click"</span>, magic);&#13;
</code></pre>&#13;
    <p class="normal">Please note that we are leaving out the parentheses behind the magic function here. We cannot send in parameters like this. If that is something you have to do, you'd have to wrap the <a id="_idIndexMarker569"/>functionality in an anonymous function, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"unique"</span>).addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ magic(arg1, arg2) });&#13;
</code></pre>&#13;
    <p class="normal">In this chapter, we may use any of these ways to specify an event. We will mostly be using one of the JavaScript options, though.</p>&#13;
    <h3 id="_idParaDest-329" class="title">Practice exercise 11.2</h3>&#13;
    <p class="normal">Create several divs with color names in <code class="Code-In-Text--PACKT-">textContent</code>. Add JavaScript to add <code class="Code-In-Text--PACKT-">click</code> event listeners to each element, and as each element is clicked, update the background color of the body to match the color name in the div.</p>&#13;
    <h1 id="_idParaDest-330" class="title">The onload event handler</h1>&#13;
    <p class="normal">We briefly saw this event handler in the previous chapter. The <code class="Code-In-Text--PACKT-">onload</code> event gets fired after a certain <a id="_idIndexMarker570"/>element is loaded. This can be useful for a number of reasons. For example, if you want to select an element using <code class="Code-In-Text--PACKT-">getElementById</code>, you'll have to be sure this element is loaded in the DOM already. This event is most commonly used on the <code class="Code-In-Text--PACKT-">window</code> object, but it can be used on any element. When you use it on <code class="Code-In-Text--PACKT-">window</code>, this event gets started when the window object is done loading. Here is how to use it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">window</span>.onload = <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{&#13;
    <span class="hljs-comment">// whatever needs to happen after the page loads goes here</span>&#13;
}&#13;
</code></pre>&#13;
    <p class="normal"><code class="Code-In-Text--PACKT-">onload</code> is similar, but it's different for the window and <code class="Code-In-Text--PACKT-">document</code> objects. The difference depends on the web browser you are using. The <code class="Code-In-Text--PACKT-">load</code> event fires at the end of the document loading process. Therefore, you will find that all the objects in the document are in the DOM and the assets have finished loading.</p>&#13;
    <p class="normal">You can also use the <code class="Code-In-Text--PACKT-">addEventListener()</code> method on any element to handle any event. And it can also be used for the event that all the content in the DOM is loaded. There is a special built-in event for this: <code class="Code-In-Text--PACKT-">DOMContentLoaded()</code>. This event can be used to handle the event of the DOM loading, which will get fired immediately after the DOM for the page has been constructed when the event is set. Here is how to set it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"DOMContentLoaded"</span>, <span class="hljs-function">(</span><span class="hljs-params">e</span><span class="hljs-function">) =&gt;</span> {&#13;
    <span class="hljs-built_in">console</span>.log(e);&#13;
});&#13;
</code></pre>&#13;
    <p class="normal">This will log to the console when all the DOM content has been loaded. As an alternative, you will also often see it in the <code class="Code-In-Text--PACKT-">body</code> tag, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag"> </span><span class="hljs-attr">onload</span><span class="hljs-tag">=</span><span class="hljs-string">"unique()"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">This is assigning a function called <code class="Code-In-Text--PACKT-">unique()</code> to the body, and it will fire off when the body is done loading. You cannot combine <code class="Code-In-Text--PACKT-">addEventListener()</code> and the HTML by using them together. One will <a id="_idIndexMarker571"/>overwrite the other, depending on the order of the web page. If you need two events to happen when the DOM is loaded, you will need two <code class="Code-In-Text--PACKT-">addEventListener()</code> calls in your JavaScript.</p>&#13;
    <h2 id="_idParaDest-331" class="title">Practice exercise 11.3</h2>&#13;
    <p class="normal">Using a basic HTML file, the below exercise will demonstrate the order of loading for the <code class="Code-In-Text--PACKT-">window</code> object and the <code class="Code-In-Text--PACKT-">document</code> object using <code class="Code-In-Text--PACKT-">DOMContentLoaded</code>, which is an event that fires once the <code class="Code-In-Text--PACKT-">document</code> object content is loaded in the browser. The window object will load afterward, even if the <code class="Code-In-Text--PACKT-">window</code>.<code class="Code-In-Text--PACKT-">onload</code> statement comes first.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Within a basic HTML file, create a function named <code class="Code-In-Text--PACKT-">message</code> that requires two parameters, the first one being a string value for the message and the second an event object. Within the function, output into the console using <code class="Code-In-Text--PACKT-">console.log</code> the event and the message.</li>&#13;
      <li class="numbered">Using the <code class="Code-In-Text--PACKT-">window</code> object, attach an <code class="Code-In-Text--PACKT-">onload</code> function to the event object. Invoke the function, passing a string value of <code class="Code-In-Text--PACKT-">Window Ready</code> and the event object to the <code class="Code-In-Text--PACKT-">message</code> function for output. </li>&#13;
      <li class="numbered">Create a second function to capture the DOM content loading, and add an event listener listening for <code class="Code-In-Text--PACKT-">DOMContentLoaded</code> to the <code class="Code-In-Text--PACKT-">document</code> object. Once that event is triggered, pass the event object and a string value of <code class="Code-In-Text--PACKT-">Document Ready</code> to the <code class="Code-In-Text--PACKT-">message</code> output function.</li>&#13;
      <li class="numbered">Change the order of the event listeners, placing the <code class="Code-In-Text--PACKT-">document</code> event statement prior to the window <code class="Code-In-Text--PACKT-">onload</code>: does it make a difference in the output?</li>&#13;
      <li class="numbered">Using the <code class="Code-In-Text--PACKT-">document</code> object, add the <code class="Code-In-Text--PACKT-">DOMContentLoaded</code> event listener, which will send to the function the arguments of <code class="Code-In-Text--PACKT-">Document</code> <code class="Code-In-Text--PACKT-">Ready</code> and the event object that was triggered.</li>&#13;
      <li class="numbered">Run the script and see which event is triggered first; change the order of the events to see if the output sequence changes.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-332" class="title">Mouse event handlers</h1>&#13;
    <p class="normal">There are different mouse event handlers. Mouse events are actions of the mouse. These are <a id="_idIndexMarker572"/>the ones we have:</p>&#13;
    <ul>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">ondblclick</code>: when the mouse is double-clicked</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmousedown</code>: when the mouse clicks on top of an element without the click being released</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmouseup</code>: when the mouse click on top of an element is released</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmouseenter</code>: when the mouse moves onto an element</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmouseleave</code>: when the mouse leaves an element and all of its children</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmousemove</code>: when the mouse moves over an element</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmouseout</code>: when the mouse leaves an individual element </li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">onmouseover</code>: when the mouse hovers over an element</li>&#13;
    </ul>&#13;
    <p class="normal">Let's have a look at one of these in practice. What do you think this does?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"divvy"</span><span class="hljs-tag"> </span><span class="hljs-attr">onmouseover</span><span class="hljs-tag">=</span><span class="hljs-string">"changeColor()"</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">"width: 100px; height: 100px; background-color: pink;"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">changeColor</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"divvy"</span>).style.backgroundColor = <span class="hljs-string">"blue"</span>;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">If you go with your mouse over the pink square (the <code class="Code-In-Text--PACKT-">div</code> with <code class="Code-In-Text--PACKT-">id</code> <code class="Code-In-Text--PACKT-">divvy</code>), it turns blue immediately. This is because <code class="Code-In-Text--PACKT-">onmouseover</code> is added in the HTML and points to the JavaScript function that changes the color of the square.</p>&#13;
    <p class="normal">Let's look at a similar slightly more complicated example.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"divvy"</span><span class="hljs-tag"> </span><span class="hljs-attr">style</span><span class="hljs-tag">=</span><span class="hljs-string">"width: 100px; height: 100px; background-color: pink;"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-built_in">window</span>.onload = <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">donenow</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"hi"</span>);&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"divvy"</span>).addEventListener(<span class="hljs-string">"mousedown"</span>, <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ changeColor(<span class="hljs-built_in">this</span>, <span class="hljs-string">"green"</span>); });&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"divvy"</span>).addEventListener(<span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ changeColor(<span class="hljs-built_in">this</span>, <span class="hljs-string">"yellow"</span>); });&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"divvy"</span>).addEventListener(<span class="hljs-string">"dblclick"</span>, <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ changeColor(<span class="hljs-built_in">this</span>, <span class="hljs-string">"black"</span>); });&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"divvy"</span>).addEventListener(<span class="hljs-string">"mouseout"</span>, <span class="hljs-keyword">function</span><span class="hljs-function">() </span>{ changeColor(<span class="hljs-built_in">this</span>, <span class="hljs-string">"blue"</span>); });&#13;
      }&#13;
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"hi2"</span>);&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">changeColor</span><span class="hljs-function">(</span><span class="hljs-params">el, color</span><span class="hljs-function">) </span>{&#13;
        el.style.backgroundColor = color;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">We are still starting with the pink square. There are four event listeners connected to this div:</p>&#13;
    <ul>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">mousedown</code>: when the button is pressed on the mouse but is not yet released, the square will turn green.</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">mouseup</code>: as soon as the mouse button gets released, the square will turn yellow.</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">dblclick</code>: this is a favorite. What do you think will happen upon a double-click? A double-click contains two <code class="Code-In-Text--PACKT-">mousedown</code> events and two <code class="Code-In-Text--PACKT-">mouseup</code> events. Before the second <code class="Code-In-Text--PACKT-">mouseup</code>, it is not a double-click. So, the square will get the colors green, yellow, green, black (and then stay black until another event is fired).</li>&#13;
      <li class="bullet"><code class="Code-In-Text--PACKT-">mouseout</code>: when the mouse leaves the square, it turns blue and stays blue until one of the three above events is fired again.</li>&#13;
    </ul>&#13;
    <p class="normal">This allows for a lot of interaction. You can do so many things with this. Just to give you an example of a thing <a id="_idIndexMarker573"/>you can do, say you want to have a very dynamic, <code class="Code-In-Text--PACKT-">mouseover</code>-driven, product-help decision tool. It will consist of four columns, and the content of the last three columns (from the right) is dynamic content. The first column is for categories. The second column contains some more specific product categories for <a id="_idIndexMarker574"/>each category. The third column consists of individual products, and the fourth column shows product information. This requires a lot of event listeners, and lots of deletion and addition of listeners.</p>&#13;
    <h2 id="_idParaDest-333" class="title">Practice exercise 11.4</h2>&#13;
    <p class="normal">Our aim is to change the background color of the element on the page as the various mouse events occur. On <code class="Code-In-Text--PACKT-">mousedown</code> over the element, the element will turn green. When the mouse is over the element, it will turn red. As the mouse moves out of the element boundaries, the color will turn yellow. When the mouse is clicked, the color will go green, and when the mouse is released, it will change to blue. The actions also be logged in the console.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a blank element on the page and assign a class to it.</li>&#13;
      <li class="numbered">Select the element using its class name.</li>&#13;
      <li class="numbered">Assign a variable to the element object from the page.</li>&#13;
      <li class="numbered">Update the content of the element to say <code class="Code-In-Text--PACKT-">hello world</code>.</li>&#13;
      <li class="numbered">Using the style properties of the element, update the height and width, then add a default background color to it.</li>&#13;
      <li class="numbered">Create a function to handle two arguments, the first being a color value as a string and the second being the event object of the trigger. </li>&#13;
      <li class="numbered">In the function, output the color value to the console, and for the event, output the event type to the console.</li>&#13;
      <li class="numbered">Add event listeners to the element: <code class="Code-In-Text--PACKT-">mousedown</code>, <code class="Code-In-Text--PACKT-">mouseover</code>, <code class="Code-In-Text--PACKT-">mouseout</code>, and <code class="Code-In-Text--PACKT-">mouseup</code>. For each of these events, send two arguments to the function that you created: a color value and the event object.</li>&#13;
      <li class="numbered">Run the code and try it in your browser.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-334" class="title">The event target property</h1>&#13;
    <p class="normal">Whenever an event gets fired, an event variable becomes available. It has many properties, and you <a id="_idIndexMarker575"/>can check it out by using this command in the function that gets fired for the event:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.dir(event);&#13;
</code></pre>&#13;
    <p class="normal">This will show many properties. One of the most interesting properties for now is the <code class="Code-In-Text--PACKT-">target</code> property. The target is the HTML element that fired the event. So, we can use it to get information from a web page. Let's look at a simple example.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"button"</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"triggerSomething()"</span><span class="hljs-tag">&gt;</span>Click<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">triggerSomething</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-built_in">console</span>.dir(event.target);&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">In this case, <code class="Code-In-Text--PACKT-">event.target</code> is the <code class="Code-In-Text--PACKT-">button</code> element. In the console, the <code class="Code-In-Text--PACKT-">button</code> element and all its properties will be logged, including potential siblings and parents.</p>&#13;
    <p class="normal">A use case where parent properties can come in handy is in the case of HTML forms, where there are <a id="_idIndexMarker576"/>multiple input fields and a button. A button in a form would often have the form as its direct parent. Via this parent, data from the input fields can be fetched. This is demonstrated in the following example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"welcome"</span><span class="hljs-tag">&gt;</span>Hi there!<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"firstname"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"First name"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"lastname"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Last name"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"button"</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"sendInfo()"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"Submit"</span><span class="hljs-tag"> /&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">sendInfo</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-keyword">let</span> p = event.target.parentElement;&#13;
        message(<span class="hljs-string">"Welcome "</span> + p.firstname.value + <span class="hljs-string">" "</span> + p.lastname.value);&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">message</span><span class="hljs-function">(</span><span class="hljs-params">m</span><span class="hljs-function">) </span>{&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"welcome"</span>).innerHTML = m;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">This results in a little form, like this:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_01.png" alt="" width="826" height="68"/></figure>&#13;
    <p class="packt_figref">Figure 11.1: Basic HTML form</p>&#13;
    <p class="normal">And once you enter data in the fields and hit <strong class="screenText">Submit</strong>, this is what it looks like:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_02.png" alt="" width="826" height="73"/></figure>&#13;
    <p class="packt_figref">Figure 11.2: Data entered in the basic HTML form with a dynamic welcome message</p>&#13;
    <p class="normal">With this command, event.target[CIT] is the HTML button: </p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> p = event.target.parentElement;&#13;
</code></pre>&#13;
    <p class="normal">The parent element of the button, the form in this case, gets stored in <a id="_idIndexMarker577"/>the <code class="Code-In-Text--PACKT-">p</code> variable. <code class="Code-In-Text--PACKT-">p</code> is the parent and it represents the form element. So, this command will get the value of the input box:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">p.firstname.value;&#13;
</code></pre>&#13;
    <p class="normal">Similarly, <code class="Code-In-Text--PACKT-">p.lastname.value</code> gets the last name. We haven't seen this yet, but with the <code class="Code-In-Text--PACKT-">value</code> property, you can get the values of input elements.</p>&#13;
    <p class="normal">Next, both input values are combined and sent to the <code class="Code-In-Text--PACKT-">message()</code> function. This function changes the inner HTML of the div to a personalized welcome message, which is why <strong class="screenText">Hi there!</strong> changes to <strong class="screenText">Welcome Maaike van Putten</strong>.</p>&#13;
    <h2 id="_idParaDest-335" class="title">Practice exercise 11.5</h2>&#13;
    <p class="normal">Change the text in a div element on the page. This exercise will demonstrate how you can get the value from an input field and place it within a page element. It also covers tracking button clicks and details about the event target. You can use the following HTML document as a template, to which you can add JavaScript:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JS Tester<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"message"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Your Message"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"btn1"</span><span class="hljs-tag">&gt;</span>Button 1<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"btn2"</span><span class="hljs-tag">&gt;</span>Button 2<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"btn3"</span><span class="hljs-tag">&gt;</span>Log<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Using the above HTML as a template, add the JavaScript code, selecting each page element, including the <code class="Code-In-Text--PACKT-">div</code>, the input field, and the <code class="Code-In-Text--PACKT-">button</code> element. Assign these element objects to variables in your code.</li>&#13;
      <li class="numbered">Create an empty array called <code class="Code-In-Text--PACKT-">log</code>, which will be used to track and log all the events.</li>&#13;
      <li class="numbered">Create a function that will capture the event object details in an object, adding it to the <code class="Code-In-Text--PACKT-">log</code> array. Get the event target and create an object, adding it to the array that stores the input value at the time, the type of event, the class name of the target element, and the tag name of the target element. </li>&#13;
      <li class="numbered">Within the logging function, get the value of the content within the input and assign that value to the <code class="Code-In-Text--PACKT-">textContent</code> of the <code class="Code-In-Text--PACKT-">div</code>.</li>&#13;
      <li class="numbered">Clear the <code class="Code-In-Text--PACKT-">div</code> content after the information is added to the <code class="Code-In-Text--PACKT-">log</code> array.</li>&#13;
      <li class="numbered">Add an event listener to both of the first two buttons that sends the event object to the tracking function created in the earlier steps.</li>&#13;
      <li class="numbered">Attach an event listener to the third button that outputs the log content to the console.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-336" class="title">DOM event flow</h1>&#13;
    <p class="normal">Let's go over what happens <a id="_idIndexMarker578"/>when you click on an element that has multiple elements associated with it.</p>&#13;
    <p class="normal">We are going to create nested <code class="Code-In-Text--PACKT-">div</code> elements. In order to illustrate this, there is a style added to the body. It is actually better to add this style in a <code class="Code-In-Text--PACKT-">head</code> tag, and even better to have a separate CSS file, but this is a bit shorter to read. This is what the nested <code class="Code-In-Text--PACKT-">div</code> elements will look like:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_03.png" alt="" width="826" height="194"/></figure>&#13;
    <p class="packt_figref">Figure 11.3: Event bubbling in web page</p>&#13;
    <p class="normal">And below is the code associated with it. The script is on the bottom and will be executed when the parts on top are done. It is going to add event listeners to every <code class="Code-In-Text--PACKT-">div</code>, and what it will do is log the <code class="Code-In-Text--PACKT-">innerText</code>. For the outermost element of the nested <code class="Code-In-Text--PACKT-">div</code> elements, this would be <code class="Code-In-Text--PACKT-">12345</code>, with a new number on every line.</p>&#13;
    <p class="normal">So the question here is, how will it trigger the events? Say we click on the <strong class="screenText">5</strong>, what will be executed? The event of all of the nested <code class="Code-In-Text--PACKT-">div</code> elements, or only the one from <strong class="screenText">5</strong>? And if it is going to execute all of them, will it execute them from inner to outer event or the other way around?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-selector-tag">div</span> {&#13;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;&#13;
        <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">5px</span>;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"message"</span><span class="hljs-tag">&gt;</span>Bubbling events<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;</span>&#13;
      1&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        2&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
          3&#13;
          <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
            4&#13;
            <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>5<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
          <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">bubble</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.innerText);&#13;
      }&#13;
      <span class="hljs-keyword">let</span> divs = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"div"</span>);&#13;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; divs.length; i++) {&#13;
        divs[i].addEventListener(<span class="hljs-string">"click"</span>, bubble);&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">In this case, it has the default behavior. It will execute all five events, so each one of every nested <code class="Code-In-Text--PACKT-">div</code>. And it will <a id="_idIndexMarker579"/>execute them inside out. So it will start with the <code class="Code-In-Text--PACKT-">innerText</code> of only <strong class="screenText">5</strong>, then <strong class="screenText">45</strong>, until the last one, <strong class="screenText">12345</strong>:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_04.png" alt="" width="66" height="500"/></figure>&#13;
    <p class="packt_figref">Figure 11.4: Console output event bubbling </p>&#13;
    <p class="normal">This is called <strong class="keyword">event bubbling</strong>. It's what happens when you trigger the handlers on an element. It runs <a id="_idIndexMarker580"/>its own events first, then its parents, and so on. It is called bubbling because it goes <a id="_idIndexMarker581"/>up from the inner event to the outer, like water bubbles going up.</p>&#13;
    <p class="normal">You can alter this behavior by adding <code class="Code-In-Text--PACKT-">true</code> as a third argument when you add the event listener like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">divs[i].addEventListener(<span class="hljs-string">"click"</span>, bubble, <span class="hljs-literal">true</span>);&#13;
</code></pre>&#13;
    <p class="normal">This would be the result:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_05.png" alt="" width="79" height="395"/></figure>&#13;
    <p class="packt_figref">Figure 11.5: Console output event capturing</p>&#13;
    <p class="normal">This moving from the outer element to the inner element is called <strong class="keyword">event capturing</strong>. It is not used a lot anymore <a id="_idIndexMarker582"/>nowadays, but if you do need to implement it, you can use the <code class="Code-In-Text--PACKT-">useCapture</code> argument of <code class="Code-In-Text--PACKT-">addEventListener()</code> (the third argument) and set it to <code class="Code-In-Text--PACKT-">true</code>. It is <code class="Code-In-Text--PACKT-">false</code> by default.</p>&#13;
    <p class="normal">The event capturing and bubbling allows us to apply a principle called <strong class="keyword">event delegation</strong>. Event delegation is the concept <a id="_idIndexMarker583"/>where instead of adding event handlers to every element in a certain <a id="_idIndexMarker584"/>block of HTML, we define a wrapper and add the event to this wrapper element, and it then applies to all the child elements as well. You'll apply this principle in the next exercise.</p>&#13;
    <h2 id="_idParaDest-337" class="title">Practice exercise 11.6</h2>&#13;
    <p class="normal">This example will demonstrate event capturing and the delegation of page elements. By adding event listeners to the parent and children within the main element, this example will order the console messages according to the event capture properties. </p>&#13;
    <p class="normal">All of the <code class="Code-In-Text--PACKT-">div</code> elements with a <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">box</code> will have the same event object. We can add the event target, <code class="Code-In-Text--PACKT-">textcontent</code>, as well into the console so that we can tell which element was clicked.</p>&#13;
    <p class="normal">Use the following template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JS Tester<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-selector-class">.box</span> {&#13;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;&#13;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;&#13;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black&#13;
        }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"container"</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"box0"</span><span class="hljs-tag">&gt;</span>Box #1<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"box1"</span><span class="hljs-tag">&gt;</span>Box #2<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"box2"</span><span class="hljs-tag">&gt;</span>Box #3<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"box3"</span><span class="hljs-tag">&gt;</span>Box #4<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  &#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">In the JavaScript code, select all the elements with the classes, and separately select the main container element.</li>&#13;
      <li class="numbered">Add event listeners to the main container, outputting to the console value of <code class="Code-In-Text--PACKT-">4</code> for the <code class="Code-In-Text--PACKT-">useCapture</code> argument set to <code class="Code-In-Text--PACKT-">false</code>, and <code class="Code-In-Text--PACKT-">1</code> for the <code class="Code-In-Text--PACKT-">useCapture</code> argument set to <code class="Code-In-Text--PACKT-">true</code>.</li>&#13;
      <li class="numbered">For each of the nested elements, add <code class="Code-In-Text--PACKT-">click</code> event listeners with a <code class="Code-In-Text--PACKT-">console.log()</code> value of <code class="Code-In-Text--PACKT-">3</code> for the <code class="Code-In-Text--PACKT-">useCapture</code> argument set to <code class="Code-In-Text--PACKT-">false</code>, and <code class="Code-In-Text--PACKT-">2</code> for <code class="Code-In-Text--PACKT-">useCapture</code> set to <code class="Code-In-Text--PACKT-">true</code>.</li>&#13;
      <li class="numbered">Click the page elements to see the event delegation and order of output on the page.</li>&#13;
      <li class="numbered">Within the box elements on both <code class="Code-In-Text--PACKT-">click</code> events, add to the console an output for the event target's <code class="Code-In-Text--PACKT-">textContent</code> value.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-338" class="title">onchange and onblur</h1>&#13;
    <p class="normal">Two other events that are often combined with input boxes are <code class="Code-In-Text--PACKT-">onchange</code> and <code class="Code-In-Text--PACKT-">onblur</code>. <code class="Code-In-Text--PACKT-">onchange</code> gets triggered <a id="_idIndexMarker585"/>when an element changes, for example, when the value of an input box <a id="_idIndexMarker586"/>changes. <code class="Code-In-Text--PACKT-">onblur</code> gets triggered when an object goes out of focus; for example, when you have the cursor in one input box and the cursor goes to another input box, the <code class="Code-In-Text--PACKT-">onblur</code> event of the first input box will get triggered.</p>&#13;
    <p class="normal">Here is an example of both in practice; it's an HTML snippet of the body of a web page. The inputs contain <code class="Code-In-Text--PACKT-">onblur</code> and <code class="Code-In-Text--PACKT-">onchange</code>, and there is an extra function.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"welcome"</span><span class="hljs-tag">&gt;</span>Hi there!<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"firstname"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"First name"</span><span class="hljs-tag"> </span><span class="hljs-attr">onchange</span><span class="hljs-tag">=</span><span class="hljs-string">"logEvent()"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"lastname"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Last name"</span><span class="hljs-tag"> </span><span class="hljs-attr">onblur</span><span class="hljs-tag">=</span><span class="hljs-string">"logEvent()"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"button"</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"sendInfo()"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"Submit"</span><span class="hljs-tag"> /&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">logEvent</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-keyword">let</span> p = event.target;&#13;
        <span class="hljs-keyword">if</span> (p.name == <span class="hljs-string">"firstname"</span>) {&#13;
          message(<span class="hljs-string">"First Name Changed to  "</span> + p.value);&#13;
        } <span class="hljs-keyword">else</span> {&#13;
          message(<span class="hljs-string">"Last Name Changed to  "</span> + p.value);&#13;
        }&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">sendInfo</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-keyword">let</span> p = event.target.parentElement;&#13;
        message(<span class="hljs-string">"Welcome "</span> + p.firstname.value + <span class="hljs-string">" "</span> + p.lastname.value);&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">message</span><span class="hljs-function">(</span><span class="hljs-params">m</span><span class="hljs-function">) </span>{&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"welcome"</span>).innerHTML = m;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">The <code class="Code-In-Text--PACKT-">firstname</code> input box has an <code class="Code-In-Text--PACKT-">onchange</code> event. If the value of the data in the input box gets changed, this event gets triggered as soon as the input box loses focus. If the input box loses focus when <a id="_idIndexMarker587"/>the value has not changed, nothing happens for <code class="Code-In-Text--PACKT-">onchange</code>. This is not true <a id="_idIndexMarker588"/>for <code class="Code-In-Text--PACKT-">onblur</code>, which is assigned to the <code class="Code-In-Text--PACKT-">lastname</code> input box. Even when the value hasn't changed, the event will get triggered.</p>&#13;
    <p class="normal">Another event that is often used with input boxes is <code class="Code-In-Text--PACKT-">onfocus</code>, or simply <code class="Code-In-Text--PACKT-">focus</code> when used in combination with an event listener. This event is associated with the cursor entering the input box, and it gets fired when the input box gets focused on by the cursor and input can be entered.</p>&#13;
    <h2 id="_idParaDest-339" class="title">Practice exercise 11.7</h2>&#13;
    <p class="normal">With two input fields on the page, JavaScript will listen for changes to the content in the input field. Once the input field is not in focus, if the value has been changed, the change event will be invoked. <code class="Code-In-Text--PACKT-">blur</code> and <code class="Code-In-Text--PACKT-">focus</code> are also added to the input fields and will get logged to the console as those events occur. Both input elements will have the same event listeners, and as you change the content of the input fields and remove focus, the output text content will update using the values of the input field that triggered the event.</p>&#13;
    <p class="normal">Use the following HTML template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JS Tester<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span> &#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output1"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
 &#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"First Name"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"first"</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Last Name"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"last"</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span> &#13;
     &#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Now take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Within the JavaScript code, put the HTML output element into a variable object that you can use to display content on the page.</li>&#13;
      <li class="numbered">Select both input fields. You can use <code class="Code-In-Text--PACKT-">querySelector()</code> and <code class="Code-In-Text--PACKT-">"input[name='first']"</code>, which will allow you to make your selection using the input field name.</li>&#13;
      <li class="numbered">Add an event listener to the first input and the second input. The event listener should be a change event to track changed values. This will only be invoked if the value in the field is changed and you click off the input field. </li>&#13;
      <li class="numbered">Create a separate function to handle the output of the content to the page, updating the <code class="Code-In-Text--PACKT-">textContent</code> of the output element.</li>&#13;
      <li class="numbered">Send the values of the input fields as they get changed to the output element <code class="Code-In-Text--PACKT-">textContent</code>.</li>&#13;
      <li class="numbered">Add four additional event listeners and listen for <code class="Code-In-Text--PACKT-">blur</code> and <code class="Code-In-Text--PACKT-">focus</code> on each input. Once the event gets triggered, output in the console the value of the event type.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-340" class="title">Key event handler</h1>&#13;
    <p class="normal">There are several key events. One of them is <code class="Code-In-Text--PACKT-">onkeypress</code>. <code class="Code-In-Text--PACKT-">onkeypress</code> gets triggered, well, you may have guessed this, whenever a key gets pressed. Pressing means here when the button is <a id="_idIndexMarker589"/>pressed and released. If you want an event to happen as soon as the button is pressed (so before releasing), you can use the <code class="Code-In-Text--PACKT-">onkeydown</code> event. If you want the event to happen on release, you can use the <code class="Code-In-Text--PACKT-">onkeyup</code> event.</p>&#13;
    <p class="normal">There are many things we can do with key events. For example, we can restrict what characters can be entered in an input box. Every time a key gets pressed, we can check the character and decide whether it gets to stay.</p>&#13;
    <p class="normal">We can get the key that triggered the event using:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">event.key;&#13;
</code></pre>&#13;
    <p class="normal">The following HTML code has two input boxes. Can you see what is happening here?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"wrapper"</span><span class="hljs-tag">&gt;</span>JavaScript is fun!<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"myNum1"</span><span class="hljs-tag"> </span><span class="hljs-attr">onkeypress</span><span class="hljs-tag">=</span><span class="hljs-string">"numCheck()"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"myNum2"</span><span class="hljs-tag"> </span><span class="hljs-attr">onkeypress</span><span class="hljs-tag">=</span><span class="hljs-string">"numCheck2()"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">numCheck</span><span class="hljs-function">() </span>{&#13;
            message(<span class="hljs-string">"Number: "</span> + !<span class="hljs-built_in">isNaN</span>(event.key));&#13;
            <span class="hljs-keyword">return</span> !<span class="hljs-built_in">isNaN</span>(event.key);&#13;
        }&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">numCheck2</span><span class="hljs-function">() </span>{&#13;
            message(<span class="hljs-string">"Not a number: "</span> + <span class="hljs-built_in">isNaN</span>(event.key));&#13;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(event.key);&#13;
        }&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">message</span><span class="hljs-function">(</span><span class="hljs-params">m</span><span class="hljs-function">) </span>{&#13;
            <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'wrapper'</span>).innerHTML = m;&#13;
        }&#13;
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">The first one checks if a value is a number, and if it is a number, it will write <code class="Code-In-Text--PACKT-">Number: true</code> at the top; else, it will write <code class="Code-In-Text--PACKT-">Number: false</code> at the top. The second one is checking for if a value is not a <a id="_idIndexMarker590"/>number; if it is not a number, it will write <code class="Code-In-Text--PACKT-">Not a number: true</code>; else, it will write <code class="Code-In-Text--PACKT-">Not a number: false</code>.</p>&#13;
    <p class="normal">So this is one way of using the <code class="Code-In-Text--PACKT-">onkeypress</code> event, but we can do even more. We can add a <code class="Code-In-Text--PACKT-">return</code> statement to our <code class="Code-In-Text--PACKT-">onkeypress</code> event, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">onkeypress=<span class="hljs-string">"return numCheck2()"</span>;&#13;
</code></pre>&#13;
    <p class="normal">If <code class="Code-In-Text--PACKT-">true</code> is returned, the key value gets added to the input box; if <code class="Code-In-Text--PACKT-">false</code> is returned, the key value is not added.</p>&#13;
    <p class="normal">The following code snippet only allows numbers to be entered in the input box. Whenever the user tries to type something else, the function restricts it.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"wrapper"</span><span class="hljs-tag">&gt;</span>JavaScript is fun!<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"myNum1"</span><span class="hljs-tag"> </span><span class="hljs-attr">onkeypress</span><span class="hljs-tag">=</span><span class="hljs-string">"return numCheck()"</span><span class="hljs-tag"> </span><span class="hljs-attr">onpaste</span><span class="hljs-tag">=</span><span class="hljs-string">"return false"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"myNum2"</span><span class="hljs-tag"> </span><span class="hljs-attr">onkeypress</span><span class="hljs-tag">=</span><span class="hljs-string">"return numCheck2()"</span><span class="hljs-tag"> </span><span class="hljs-attr">onpaste</span><span class="hljs-tag">=</span><span class="hljs-string">"return false"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">numCheck</span><span class="hljs-function">() </span>{&#13;
            message(!<span class="hljs-built_in">isNaN</span>(event.key));&#13;
            <span class="hljs-keyword">return</span> !<span class="hljs-built_in">isNaN</span>(event.key);&#13;
        }&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">numCheck2</span><span class="hljs-function">() </span>{&#13;
            message(<span class="hljs-built_in">isNaN</span>(event.key));&#13;
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(event.key);&#13;
        }&#13;
        <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">message</span><span class="hljs-function">(</span><span class="hljs-params">m</span><span class="hljs-function">) </span>{&#13;
            <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"wrapper"</span>).innerHTML = m;&#13;
        }&#13;
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">As you can see, <code class="Code-In-Text--PACKT-">return</code> gets included in onkeypress to ensure that only numbers can be entered. One other thing might have caught your eye: <code class="Code-In-Text--PACKT-">onpaste="return false"</code>. This is to deal with smart <a id="_idIndexMarker591"/>people who copy and paste numbers to a non-numeric field or other characters to a numeric field and still manage to get illegal characters in there.</p>&#13;
    <h2 id="_idParaDest-341" class="title">Practice exercise 11.8</h2>&#13;
    <p class="normal">By recognizing key presses and detecting the values of characters as key presses occur with the element in focus, we can also detect if content is pasted into an input field.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create two input fields within your HTML. Add an element to output content too.</li>&#13;
      <li class="numbered">Using JavaScript, select the page elements. You can assign a variable called <code class="Code-In-Text--PACKT-">output</code> to the element with a class of <code class="Code-In-Text--PACKT-">output</code>. Create another variable, <code class="Code-In-Text--PACKT-">eles</code>, and select all the input fields (using <code class="Code-In-Text--PACKT-">querySelectorAll()</code>) as its value. This way, we can loop through the node list and assign the same events to all the matching elements.</li>&#13;
      <li class="numbered">Using <code class="Code-In-Text--PACKT-">forEach()</code>, iterate through all the input elements from the page. Add the same event listeners to all of them.</li>&#13;
      <li class="numbered">Add a keydown event listener and check if the value is a number. If it is a number, then add it to the output area.</li>&#13;
      <li class="numbered">On <code class="Code-In-Text--PACKT-">keyup</code>, output to the console the value of the key.</li>&#13;
      <li class="numbered">Check if there was a paste in the input field; if there was, then you can output the word <code class="Code-In-Text--PACKT-">paste</code> to the console.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-342" class="title">Drag and drop elements</h1>&#13;
    <p class="normal">There are also special <a id="_idIndexMarker592"/>event handlers for dragging and dropping. We need a starting <a id="_idIndexMarker593"/>point to be able to drag and drop something. Let's create the CSS and HTML for a dragging and dropping area.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-selector-class">.box</span> {&#13;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;&#13;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;&#13;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;&#13;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">50px</span>;&#13;
        <span class="hljs-attribute">display</span>: inline-block;&#13;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;&#13;
      }&#13;
      <span class="hljs-selector-id">#dragme</span> {&#13;
        <span class="hljs-attribute">background-color</span>: red;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag">&gt;</span>1<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag">&gt;</span>2<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Now we are also going to include an element that is going to be dragged and dropped. In order to mark an element as something that can be dragged, we need to add the attribute <code class="Code-In-Text--PACKT-">draggable</code>. This is the code we are going to include in our second div, with the first div around it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag">&gt;</span> 1&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"dragme"</span><span class="hljs-tag"> </span><span class="hljs-attr">draggable</span><span class="hljs-tag">=</span><span class="hljs-string">"true"</span><span class="hljs-tag">&gt;</span>&#13;
        Drag Me Please!&#13;
      <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Then we need to decide what we are going to do when we drop the draggable element. We need to specify this <a id="_idIndexMarker594"/>within the box it can be dragged to. We are going to add the <a id="_idIndexMarker595"/>functionality to both boxes, so it can be dragged over to one and back to the other.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">ondrop</span><span class="hljs-tag">=</span><span class="hljs-string">"dDrop()"</span><span class="hljs-tag"> </span><span class="hljs-attr">ondragover</span><span class="hljs-tag">=</span><span class="hljs-string">"nDrop()"</span><span class="hljs-tag">&gt;</span>&#13;
      1&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"dragme"</span><span class="hljs-tag"> </span><span class="hljs-attr">ondragstart</span><span class="hljs-tag">=</span><span class="hljs-string">"dStart()"</span><span class="hljs-tag"> </span><span class="hljs-attr">draggable</span><span class="hljs-tag">=</span><span class="hljs-string">"true"</span><span class="hljs-tag">&gt;</span>&#13;
     Drag Me Please!&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
   <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag"> </span><span class="hljs-attr">ondrop</span><span class="hljs-tag">=</span><span class="hljs-string">"dDrop()"</span><span class="hljs-tag"> </span><span class="hljs-attr">ondragover</span><span class="hljs-tag">=</span><span class="hljs-string">"nDrop()"</span><span class="hljs-tag">&gt;</span>2<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">And here is the script that will be added to the end of the body:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">   <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">let</span> holderItem;&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">dStart</span><span class="hljs-function">() </span>{&#13;
        holderItem = event.target;&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">nDrop</span><span class="hljs-function">() </span>{&#13;
        event.preventDefault();&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">dDrop</span><span class="hljs-function">() </span>{&#13;
        event.preventDefault();&#13;
        <span class="hljs-keyword">if</span> (event.target.className == <span class="hljs-string">"box"</span>) {&#13;
          event.target.appendChild(holderItem);&#13;
        }&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">We start by specifying a variable in the script for the item that we want to hold when dragging. When the <code class="Code-In-Text--PACKT-">ondragstart</code> event gets triggered, we are going to store the element that is being dragged in the <code class="Code-In-Text--PACKT-">holderItem</code> variable. Normally, when you drag, dropping is not allowed by the design of HTML. In order to allow the drop, you'll have to prevent the default event that means the item you want to drop cannot be dropped. You can do this with:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">event.preventDefault();&#13;
</code></pre>&#13;
    <p class="normal">Usually, before you prevent the default behavior, you would do some checks to see whether the element that <a id="_idIndexMarker596"/>is being dropped can be accepted at that place. In the <a id="_idIndexMarker597"/>example above, we check whether the class name of the element that it is being dropped to is <code class="Code-In-Text--PACKT-">box</code>. If that's the case, we append <code class="Code-In-Text--PACKT-">holderItem</code> as a child to the box.</p>&#13;
    <p class="normal">We have created a page that allows moving an HTML element from one box to another. If you try to release it anywhere else, the element goes back instead to its previous location.</p>&#13;
    <h2 id="_idParaDest-343" class="title">Practice exercise 11.9</h2>&#13;
    <p class="normal">This will be an "I'm not a robot" check. Drag and drop can be used to ensure that it's a live user that is acting on a page rather than a robot. This exercise will demonstrate how to create a visual dragging effect on an active element, in which the user clicks the mouse down to create a drag action, and once the mouse button is released, the drop event occurs. The successful actions are logged to the console.</p>&#13;
    <p class="normal">You can use the following template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JS Tester<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-selector-class">.box</span> {&#13;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;&#13;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;&#13;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;&#13;
            <span class="hljs-attribute">background-color</span>: white;&#13;
        }&#13;
        <span class="hljs-selector-class">.red</span> {&#13;
            <span class="hljs-attribute">background-color</span>: red;&#13;
        }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag">&gt;</span>1&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"dragme"</span><span class="hljs-tag"> </span><span class="hljs-attr">draggable</span><span class="hljs-tag">=</span><span class="hljs-string">"true"</span><span class="hljs-tag">&gt;</span>&#13;
            Drag Me Please!&#13;
        <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"box"</span><span class="hljs-tag">&gt;</span>2<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">The preceding HTML creates styles for an element that will be used for dropping, and sets a width, height, and border. It creates another class called <code class="Code-In-Text--PACKT-">red</code> and adds a red background to the active element so that it shows as active, along with two <code class="Code-In-Text--PACKT-">div</code> elements that will have classes of the <code class="Code-In-Text--PACKT-">box</code> element for dropoff. Finally, we create a <code class="Code-In-Text--PACKT-">div</code> nested in one of the boxes that has an <code class="Code-In-Text--PACKT-">id</code> of <code class="Code-In-Text--PACKT-">dragme</code> and an attribute of <code class="Code-In-Text--PACKT-">draggable</code> set to <code class="Code-In-Text--PACKT-">true</code>, with some instructive text added to aid the user. Complete the script by taking the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select the <code class="Code-In-Text--PACKT-">draggable</code> element as an object in your JavaScript code.</li>&#13;
      <li class="numbered">Add an event listener of <code class="Code-In-Text--PACKT-">dragstart</code>, where it updates the <code class="Code-In-Text--PACKT-">draggable</code> element to <code class="Code-In-Text--PACKT-">0.5</code> opacity.</li>&#13;
      <li class="numbered">Add another event listener of <code class="Code-In-Text--PACKT-">dragend</code> that removes the value for the opacity.</li>&#13;
      <li class="numbered">Using <code class="Code-In-Text--PACKT-">querySelectorAll()</code>, select all the dropoff boxes. </li>&#13;
      <li class="numbered">Add event listeners to all the dropoff boxes, setting things such that the <code class="Code-In-Text--PACKT-">red</code> class is added to an element whenever the user triggers the <code class="Code-In-Text--PACKT-">dragenter</code> event. This will indicate to the user that the action is taking place.</li>&#13;
      <li class="numbered">Set <code class="Code-In-Text--PACKT-">dragover</code>, adding a <code class="Code-In-Text--PACKT-">preventDefault()</code> method to the element to disable any actions that might already exist.</li>&#13;
      <li class="numbered">On <code class="Code-In-Text--PACKT-">dragleave</code>, remove the <code class="Code-In-Text--PACKT-">red</code> class.</li>&#13;
      <li class="numbered">Adding the event listener of <code class="Code-In-Text--PACKT-">drop</code> to the box, append the <code class="Code-In-Text--PACKT-">draggable</code> element to the event target.</li>&#13;
      <li class="numbered">To work across all elements in the same way, remove the default action of the element. You can use the <code class="Code-In-Text--PACKT-">preventDefault()</code> method to this event to disable any actions that might already exist.</li>&#13;
      <li class="numbered">You can add console log messages to any of these events to better track them.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-344" class="title">Form submission</h1>&#13;
    <p class="normal">When a form gets submitted, an event can be triggered. This can be achieved in different ways, and <a id="_idIndexMarker598"/>one of them is to add to the <code class="Code-In-Text--PACKT-">form</code> element the <code class="Code-In-Text--PACKT-">onsubmit</code> attribute.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">onsubmit</span><span class="hljs-tag">=</span><span class="hljs-string">"doSomething()"</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">The function that is listed there will get triggered whenever input of type <code class="Code-In-Text--PACKT-">submit</code> is submitted.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"send"</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">We can do more with the HTML of the <code class="Code-In-Text--PACKT-">form</code> element; for example, we can redirect to another page. We have to specify the way we want to send the form values using the <code class="Code-In-Text--PACKT-">method</code> attribute and the location page using the <code class="Code-In-Text--PACKT-">action</code> attribute.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">action</span><span class="hljs-tag">=</span><span class="hljs-string">"anotherpage.html"</span><span class="hljs-tag"> </span><span class="hljs-attr">method</span><span class="hljs-tag">=</span><span class="hljs-string">"get"</span><span class="hljs-tag"> </span><span class="hljs-attr">onsubmit</span><span class="hljs-tag">=</span><span class="hljs-string">"doStuff()"</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Don't worry about the <code class="Code-In-Text--PACKT-">get</code> for now; this just means that values get sent via the URL. URLs look like this when you use <code class="Code-In-Text--PACKT-">get</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">www.example.com/anotherpage.html?name=edward&#13;
</code></pre>&#13;
    <p class="normal">After the question mark, the variables that are sent along are shown in key-value pairs. This is the form that created the URL when <code class="Code-In-Text--PACKT-">edward</code> was inserted for <code class="Code-In-Text--PACKT-">name</code>.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">action</span><span class="hljs-tag">=</span><span class="hljs-string">"anotherpage.html"</span><span class="hljs-tag"> </span><span class="hljs-attr">method</span><span class="hljs-tag">=</span><span class="hljs-string">"get"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"name"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"name"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"send"</span><span class="hljs-tag"> /&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal"><code class="Code-In-Text--PACKT-">anotherpage.html</code> can use the variables from the URL. This can be done in the JavaScript of <code class="Code-In-Text--PACKT-">anotherpage.html</code> doing something like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">let</span> q = <span class="hljs-built_in">window</span>.location.search; &#13;
      <span class="hljs-keyword">let</span> params = <span class="hljs-keyword">new</span> URLSearchParams(q); &#13;
      <span class="hljs-keyword">let</span> name = params.get(<span class="hljs-string">"name"</span>);&#13;
      <span class="hljs-built_in">console</span>.log(name);&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">So far we have been submitting forms using the <code class="Code-In-Text--PACKT-">action</code> and <code class="Code-In-Text--PACKT-">onsubmit</code> attributes. <code class="Code-In-Text--PACKT-">action</code> redirects to another location. This could be the API endpoint of a different page. <code class="Code-In-Text--PACKT-">onsubmit</code> specifies an event that is fired when the form gets submitted.</p>&#13;
    <p class="normal">There are more cool things we can do with the <code class="Code-In-Text--PACKT-">onsubmit</code> event of forms. Remember the use of <code class="Code-In-Text--PACKT-">return</code> for <code class="Code-In-Text--PACKT-">onkeypress</code>? We can do something similar here! If we make the called function return a Boolean, the form will only get submitted when the Boolean is <code class="Code-In-Text--PACKT-">true</code>.</p>&#13;
    <p class="normal">This comes in very handy if we want to do some form validation before sending it. Have a look at this code <a id="_idIndexMarker599"/>and see if you can figure out when it can be submitted.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"wrapper"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">action</span><span class="hljs-tag">=</span><span class="hljs-string">"anotherpage.html"</span><span class="hljs-tag"> </span><span class="hljs-attr">method</span><span class="hljs-tag">=</span><span class="hljs-string">"get"</span><span class="hljs-tag"> </span><span class="hljs-attr">onsubmit</span><span class="hljs-tag">=</span><span class="hljs-string">"return valForm()"</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"firstName"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"firstName"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"First name"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"lastName"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"lastName"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Last name"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"age"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"age"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Age"</span><span class="hljs-tag"> /&gt;</span>&#13;
      <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> /&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">valForm</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-keyword">var</span> p = event.target.children;&#13;
        <span class="hljs-keyword">if</span> (p.firstName.value == <span class="hljs-string">""</span>) {&#13;
          message(<span class="hljs-string">"Need a first name!!"</span>);&#13;
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#13;
        }&#13;
        <span class="hljs-keyword">if</span> (p.lastName.value == <span class="hljs-string">""</span>) {&#13;
          message(<span class="hljs-string">"Need a last name!!"</span>);&#13;
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#13;
        }&#13;
        <span class="hljs-keyword">if</span> (p.age.value == <span class="hljs-string">""</span>) {&#13;
          message(<span class="hljs-string">"Need an age!!"</span>);&#13;
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;&#13;
        }&#13;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;&#13;
      }&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">message</span><span class="hljs-function">(</span><span class="hljs-params">m</span><span class="hljs-function">) </span>{&#13;
        <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"wrapper"</span>).innerHTML = m;&#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">This form contains three input fields and one input button. The fields are for last name, first name, and age. When one <a id="_idIndexMarker600"/>of them is missing, the form will not submit, because the function will return <code class="Code-In-Text--PACKT-">false</code>. A message will also be added to the <code class="Code-In-Text--PACKT-">div</code> above the form, explaining what went wrong.</p>&#13;
    <h2 id="_idParaDest-345" class="title">Practice exercise 11.10</h2>&#13;
    <p class="normal">This will be about creating a form validator. In this exercise, you will be checking to ensure that the desired values are entered into the input fields. The code will check the input values that are entered by the user to match predetermined conditions for those field values.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Set up a form, adding three input fields inside: <code class="Code-In-Text--PACKT-">First</code>, <code class="Code-In-Text--PACKT-">Last</code>, and <code class="Code-In-Text--PACKT-">Age</code>. Add a submit button.</li>&#13;
      <li class="numbered">Within the JavaScript code, select the form as an element object.</li>&#13;
      <li class="numbered">Add an submit event listener to the form.</li>&#13;
      <li class="numbered">Set up the default value for <code class="Code-In-Text--PACKT-">error</code> as <code class="Code-In-Text--PACKT-">false</code>.</li>&#13;
      <li class="numbered">Create a function named <code class="Code-In-Text--PACKT-">checker()</code>, which will check to see the length of a string and output the string length to the console.</li>&#13;
      <li class="numbered">Add conditions to each of the field values, first checking if the value is there and then returning an error if the response is <code class="Code-In-Text--PACKT-">false</code>, before changing the error variable to <code class="Code-In-Text--PACKT-">true</code>.</li>&#13;
      <li class="numbered">Use <code class="Code-In-Text--PACKT-">console.log()</code> to log the details about the error.</li>&#13;
      <li class="numbered">For the age input value, check the value to see if the age provided is 19 or over, otherwise cause an error.</li>&#13;
      <li class="numbered">At the end of the validation, check if <code class="Code-In-Text--PACKT-">error</code> is <code class="Code-In-Text--PACKT-">true</code>; if it is, use <code class="Code-In-Text--PACKT-">preventDefault()</code> to stop the form submission. Log the errors to the console.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-346" class="title">Animating elements</h1>&#13;
    <p class="normal">Lastly, we want to show you that you can animate using HTML, CSS, and JavaScript. This allows us to do even cooler things <a id="_idIndexMarker601"/>with our web page. For example, we can trigger an animation as an event. This can be used for many different purposes, for example, to illustrate an explanation, to draw the user's eyes to a certain location, or to play a game.</p>&#13;
    <p class="normal">Let's show you a very basic example. We can use the <code class="Code-In-Text--PACKT-">position</code> key and set it to <code class="Code-In-Text--PACKT-">absolute</code> in CSS. This makes the position of the element relative to its nearest positioned parent. Here, that would be the body. This is the code for a purple square that moves from left to right when a button is clicked.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-selector-tag">div</span> {&#13;
      <span class="hljs-attribute">background-color</span>: purple;&#13;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;&#13;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;&#13;
      <span class="hljs-attribute">position</span>: absolute;&#13;
    }&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"toTheRight()"</span><span class="hljs-tag">&gt;</span>Go right<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"block"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
      <span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">toTheRight</span><span class="hljs-function">() </span>{&#13;
        <span class="hljs-keyword">let</span> b = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"block"</span>);&#13;
        <span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>;&#13;
        <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span><span class="hljs-function"> () </span>{&#13;
          <span class="hljs-keyword">if</span> (x === <span class="hljs-number">600</span>) {&#13;
            <span class="hljs-built_in">clearInterval</span>();&#13;
          } <span class="hljs-keyword">else</span> {&#13;
            x++;&#13;
            b.style.left = x + <span class="hljs-string">"px"</span>;&#13;
          }&#13;
        }, <span class="hljs-number">2</span>);&#13;
        &#13;
      }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">We need to give the <code class="Code-In-Text--PACKT-">div</code> block an absolute position, because we rely on the CSS <code class="Code-In-Text--PACKT-">left</code> property to make it move. In order to be to the left of something, that something needs to be absolute, else the <code class="Code-In-Text--PACKT-">left</code> property cannot be positioned relative to it. In this case, we need to be a certain number of pixels to the left of the <code class="Code-In-Text--PACKT-">div</code>; this is why we need the position of the <code class="Code-In-Text--PACKT-">div</code> to be absolute, so the position of the moving box can be relative to that of its parent.</p>&#13;
    <p class="normal">When we click the button, the function <code class="Code-In-Text--PACKT-">toTheRight()</code> gets triggered. This function grabs <code class="Code-In-Text--PACKT-">block</code> and stores it in <code class="Code-In-Text--PACKT-">b</code>. It sets <code class="Code-In-Text--PACKT-">x</code> to <code class="Code-In-Text--PACKT-">0</code>. Then we use a very powerful built-in JavaScript function: <code class="Code-In-Text--PACKT-">setInterval()</code>. This function <a id="_idIndexMarker602"/>keeps on evaluating an expression until <code class="Code-In-Text--PACKT-">clearInterval()</code> gets called. This is done when <code class="Code-In-Text--PACKT-">x</code>, the measure of how far we are to the left, reaches 600. It repeats it every 2 milliseconds, which gives it the sliding look.</p>&#13;
    <p class="normal">You can at the same time also set different positions, like <code class="Code-In-Text--PACKT-">style.top</code>, <code class="Code-In-Text--PACKT-">style.bottom</code>, and <code class="Code-In-Text--PACKT-">style.right</code>, or append new elements to create a snow effect, or show constantly driving cars. With this in your toolbox, the sky is the limit.</p>&#13;
    <h2 id="_idParaDest-347" class="title">Practice exercise 11.11</h2>&#13;
    <p class="normal">Here we will click the purple square and watch it move on the page. This exercise will demonstrate creating the events for a simple interactive element on the page. The purple square will move every time it's clicked; once it reaches the boundaries of the page, it will change direction from left to right and right to left, depending on what side it hits.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Set up styling for an element, setting <code class="Code-In-Text--PACKT-">height</code> and <code class="Code-In-Text--PACKT-">width</code> before setting <code class="Code-In-Text--PACKT-">position</code> to <code class="Code-In-Text--PACKT-">absolute</code>.</li>&#13;
      <li class="numbered">Create an element that you want to move on the page.</li>&#13;
      <li class="numbered">Select and store the element using JavaScript.</li>&#13;
      <li class="numbered">Set up an object with values for <code class="Code-In-Text--PACKT-">speed</code>, <code class="Code-In-Text--PACKT-">direction</code>, and <code class="Code-In-Text--PACKT-">position</code>.</li>&#13;
      <li class="numbered">Add an event listener for if the element is clicked on.</li>&#13;
      <li class="numbered">Set a default value of <code class="Code-In-Text--PACKT-">30</code> for the value of the interval counter.</li>&#13;
      <li class="numbered">If the counter is less than 1, then end the interval and clear it.</li>&#13;
      <li class="numbered">Once the interval has run 30 times using the value of <code class="Code-In-Text--PACKT-">x</code>, the element will stand still and wait to be clicked again.</li>&#13;
      <li class="numbered">While in motion, check if the position value is greater than 800 or less than 0, which means it needs to change direction. The <code class="Code-In-Text--PACKT-">direction</code> value will provide the direction of movement. If the movement takes the box outside the boundaries of the container, we need to send it in the other direction. This can be done by multiplying by negative one. If the value is positive, it will become negative, sending the element to the left. If the value is negative, it will become positive, sending the element to the right.</li>&#13;
      <li class="numbered">Update the <code class="Code-In-Text--PACKT-">style.left</code> position value of the element, assigning the value of the position that was updated. Add <code class="Code-In-Text--PACKT-">px</code>, as the assigned value of the style is a string.</li>&#13;
      <li class="numbered">Output the result to the console.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-348" class="title">Chapter projects</h1>&#13;
    <h2 id="_idParaDest-349" class="title">Build your own analytics</h2>&#13;
    <p class="normal">Figure out which elements <a id="_idIndexMarker603"/>are clicked on in a page and record their IDs, tags, and class name.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a main container element within your HTML.</li>&#13;
      <li class="numbered">Add four elements inside the main element, each having a class of <code class="Code-In-Text--PACKT-">box</code> and a unique ID with unique text content.</li>&#13;
      <li class="numbered">Set up your JavaScript code to contain an array that you can use for tracking, adding details from each click into it.</li>&#13;
      <li class="numbered">Select the main container element as a variable object in your code.</li>&#13;
      <li class="numbered">Add an event listener to capture clicks on the element.</li>&#13;
      <li class="numbered">Create a function to handle the clicks. Get the target element from the event object.</li>&#13;
      <li class="numbered">Check if the element <a id="_idIndexMarker604"/>has an ID, so that you don't track clicks on the main container.</li>&#13;
      <li class="numbered">Set up an object to track the values; include the element <code class="Code-In-Text--PACKT-">textContent</code>, <code class="Code-In-Text--PACKT-">id</code>, <code class="Code-In-Text--PACKT-">tagName</code>, and <code class="Code-In-Text--PACKT-">className</code>.</li>&#13;
      <li class="numbered">Add the temporary object to your tracking array.</li>&#13;
      <li class="numbered">Output the values captured in your tracking array to your console.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-350" class="title">Star rating system</h2>&#13;
    <p class="normal">Create a star rating component <a id="_idIndexMarker605"/>that is fully interactive and dynamic using JavaScript.</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_11_06.png" alt="" width="826" height="120"/></figure>&#13;
    <p class="packt_figref">Figure 11.6: Creating a star rating system</p>&#13;
    <p class="normal">You can use the following HTML and CSS as a starting template. Provide the completed script element as your answer.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Star Rater<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-selector-class">.stars</span> <span class="hljs-selector-tag">ul</span> {&#13;
            <span class="hljs-attribute">list-style-type</span>: none;&#13;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;&#13;
        }&#13;
        <span class="hljs-selector-class">.star</span> {&#13;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;&#13;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#ddd</span>;&#13;
            <span class="hljs-attribute">display</span>: inline-block;&#13;
        }&#13;
        <span class="hljs-selector-class">.orange</span> {&#13;
            <span class="hljs-attribute">color</span>: orange;&#13;
        }&#13;
        <span class="hljs-selector-class">.output</span> {&#13;
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ddd</span>;&#13;
        }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"stars"</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"star"</span><span class="hljs-tag">&gt;</span><span class="hljs-symbol">&amp;#10029;</span><span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"star"</span><span class="hljs-tag">&gt;</span><span class="hljs-symbol">&amp;#10029;</span><span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"star"</span><span class="hljs-tag">&gt;</span><span class="hljs-symbol">&amp;#10029;</span><span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"star"</span><span class="hljs-tag">&gt;</span><span class="hljs-symbol">&amp;#10029;</span><span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">li</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"star"</span><span class="hljs-tag">&gt;</span><span class="hljs-symbol">&amp;#10029;</span><span class="hljs-tag">&lt;/</span><span class="hljs-name">li</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
       &#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select all the stars within the <code class="Code-In-Text--PACKT-">ul</code> that have a <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">stars</code> into an object, and create another object for the <code class="Code-In-Text--PACKT-">output</code> element.</li>&#13;
      <li class="numbered">Create another <a id="_idIndexMarker606"/>object to contain the results of calling <code class="Code-In-Text--PACKT-">querySelectorAll()</code> on elements with a class of <code class="Code-In-Text--PACKT-">star</code>.</li>&#13;
      <li class="numbered">Loop through the resulting node list, adding to the element object the value of the index plus 1, and adding an event listener listening for a click. Attach a function called <code class="Code-In-Text--PACKT-">starRate()</code> to the <code class="Code-In-Text--PACKT-">click</code> event of each <code class="Code-In-Text--PACKT-">star</code> element.</li>&#13;
      <li class="numbered">Within the <code class="Code-In-Text--PACKT-">starRate()</code> function, add to the output the value of the star using the event target and the element object's star value, which was set in the previous step.</li>&#13;
      <li class="numbered">Loop through all the stars using <code class="Code-In-Text--PACKT-">forEach()</code> to check if the index value of the star element is less than <a id="_idIndexMarker607"/>the star value; if it is, apply a <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">orange</code>. Otherwise, remove the <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">orange</code> from the <code class="Code-In-Text--PACKT-">classList</code> element.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-351" class="title">Mouse position tracker</h2>&#13;
    <p class="normal">Track your mouse's <code class="Code-In-Text--PACKT-">x</code> and <code class="Code-In-Text--PACKT-">y</code> position within an element. As you move the mouse within the element, the <code class="Code-In-Text--PACKT-">x</code> position <a id="_idIndexMarker608"/>and <code class="Code-In-Text--PACKT-">y</code> position values will update.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a page element and add sizing to it, including <code class="Code-In-Text--PACKT-">height</code> and <code class="Code-In-Text--PACKT-">width</code>. Create a class style named <code class="Code-In-Text--PACKT-">active</code> that has a <code class="Code-In-Text--PACKT-">background-color</code> property of <code class="Code-In-Text--PACKT-">red</code>. Finally, create an output element that will contain your text.</li>&#13;
      <li class="numbered">Select the main container element and add event listeners to it. Listen for <code class="Code-In-Text--PACKT-">mouseover</code>, <code class="Code-In-Text--PACKT-">mouseout</code>, and <code class="Code-In-Text--PACKT-">mousemove</code>.</li>&#13;
      <li class="numbered">On <code class="Code-In-Text--PACKT-">mouseover</code>, add the <code class="Code-In-Text--PACKT-">active</code> class, and on <code class="Code-In-Text--PACKT-">mouseout</code>, remove the <code class="Code-In-Text--PACKT-">active</code> class.</li>&#13;
      <li class="numbered">On <code class="Code-In-Text--PACKT-">mousemove</code>, call a function that tracks the event element <code class="Code-In-Text--PACKT-">clientX</code> and <code class="Code-In-Text--PACKT-">clientY</code> positions, embeds them in a human-readable sentence, and outputs it into the output element.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-352" class="title">Box clicker speed test game</h2>&#13;
    <p class="normal">The objective here is to click on the red box as quickly as possible once it appears. The box will be randomly <a id="_idIndexMarker609"/>placed within a container and positioned with random values. The box will have an event listener that will track the start and click times to calculate the duration of the click events. You can use the following template, as the HTML gets a little complex here—just add the <code class="Code-In-Text--PACKT-">&lt;script&gt;</code> element to make the HTML interactive!</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Click Me Game<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-selector-class">.output</span> {&#13;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;&#13;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>;&#13;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;&#13;
            <span class="hljs-attribute">margin</span>: auto;&#13;
            <span class="hljs-attribute">text-align</span>: center;&#13;
        }&#13;
        <span class="hljs-selector-class">.box</span> {&#13;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;&#13;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;&#13;
            <span class="hljs-attribute">position</span>: relative;&#13;
            <span class="hljs-attribute">top</span>: <span class="hljs-number">50px</span>;&#13;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">20%</span>;&#13;
            <span class="hljs-attribute">background-color</span>: red;&#13;
        }&#13;
        <span class="hljs-selector-class">.message</span> {&#13;
            <span class="hljs-attribute">text-align</span>: center;&#13;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;&#13;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.3em</span>;&#13;
        }&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"message"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Work with the above HTML code using JavaScript.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">There are two <code class="Code-In-Text--PACKT-">div</code> elements, one with a class of <code class="Code-In-Text--PACKT-">output</code> for the gameplay area and another <a id="_idIndexMarker610"/>with a class of <code class="Code-In-Text--PACKT-">message</code> to provide instructions to the player. Select those main elements as objects using JavaScript.</li>&#13;
      <li class="numbered">Using JavaScript, create another element within the <code class="Code-In-Text--PACKT-">output</code> element, and create a <code class="Code-In-Text--PACKT-">div</code> that will be the main clickable object. Attach a style called <code class="Code-In-Text--PACKT-">box</code> to the new element and append it to the <code class="Code-In-Text--PACKT-">output</code> element.</li>&#13;
      <li class="numbered">Using JavaScript, add to the message area instructions for the user: <code class="Code-In-Text--PACKT-">Press to Start</code>. They will need to click the newly created <code class="Code-In-Text--PACKT-">div</code> with a class of <code class="Code-In-Text--PACKT-">box</code> to start the game.</li>&#13;
      <li class="numbered">Create a global object called <code class="Code-In-Text--PACKT-">game</code> to track the timer and the start time values. This is to be used to calculate the duration in seconds between when the element is shown and when the player clicks it. Set <code class="Code-In-Text--PACKT-">start</code> to <code class="Code-In-Text--PACKT-">null</code>.</li>&#13;
      <li class="numbered">Create a function that will generate a random number and return a random value, with the argument being the maximum value you want to use.</li>&#13;
      <li class="numbered">Add an event listener to the <code class="Code-In-Text--PACKT-">box</code> element. Once clicked, this should start the gameplay. Set the display of the <code class="Code-In-Text--PACKT-">box</code> element to <code class="Code-In-Text--PACKT-">none</code>. Using the <code class="Code-In-Text--PACKT-">setTimeout()</code> method, invoke a <a id="_idIndexMarker611"/>function called <code class="Code-In-Text--PACKT-">addBox()</code> and set the timeout to a random millisecond value. You can adjust as needed; this will be the time between the click object box being shown and it disappearing. If the start value is <code class="Code-In-Text--PACKT-">null</code>, then add text content to the message area of loading. </li>&#13;
      <li class="numbered">If start has a value, then get the Unix time value using <code class="Code-In-Text--PACKT-">getTime()</code> of the current <code class="Code-In-Text--PACKT-">date</code> object, subtract the game start time from the current time value in milliseconds, and then divide by 1,000 to get the value in seconds. Output the result to the <code class="Code-In-Text--PACKT-">message</code> element for the player to see their score.</li>&#13;
      <li class="numbered">Create a function to handle the clicks, adding the box once the timer is up. Update the message text content to say <code class="Code-In-Text--PACKT-">Click it….</code> Set the game <code class="Code-In-Text--PACKT-">start</code> value to the current time in milliseconds. Apply the style of <code class="Code-In-Text--PACKT-">block</code> to the element so it shows on the page. </li>&#13;
      <li class="numbered">From the available space (500 total container width minus the 50 box width) set a random position above and to the left of the element using the <code class="Code-In-Text--PACKT-">Math.random()</code>.</li>&#13;
      <li class="numbered">Play the game and update the styling as needed.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-353" class="title">Self-check quiz</h1>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Where can you find <code class="Code-In-Text--PACKT-">window.innerHeight</code> and <code class="Code-In-Text--PACKT-">window.innerWidth</code>?</li>&#13;
      <li class="numbered">What does <code class="Code-In-Text--PACKT-">preventDefault()</code> do?</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-354" class="title">Summary</h1>&#13;
    <p class="normal">In this chapter, we have dealt with quite a few topics to increase the interactivity of web pages. We saw the different ways to specify events and then we dived into some different event handlers in more detail. The onload event handler gets fired when the element it was specified on, often the <code class="Code-In-Text--PACKT-">document</code> object, is fully loaded. This is great to wrap other functionality in, because it avoids selecting DOM content that is not there yet.</p>&#13;
    <p class="normal">We also saw the mouse event handlers, for responding to all the different things that can be done with a mouse on a web page. The use of all these event handlers is very similar, but they each enable a different type of interaction with the user. We also saw that we can access the element that fired an event by calling <code class="Code-In-Text--PACKT-">event.target</code>. This property holds the element that fired an event.</p>&#13;
    <p class="normal">We also dived into <code class="Code-In-Text--PACKT-">onchange</code>, <code class="Code-In-Text--PACKT-">onblur</code>, and the key event handlers in more detail. After that, we saw how to trigger interaction when forms are submitted. We looked at the HTML <code class="Code-In-Text--PACKT-">action</code> attribute, which redirects the handling of submission, and the onsubmit event, which deals with form submission. We then saw some things that we can do with all these events, such as specifying a drag and drop on a page and animating elements. </p>&#13;
    <p class="normal">In the next chapter, we will move on to some more advanced topics that will take your existing JavaScript skills to the next level!</p>&#13;
  </div>&#13;
</div></body></html>