<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Inspecting Code with Firebug"><div class="titlepage"><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Inspecting Code with Firebug</h1></div></div></div><p>
<span class="emphasis"><em>This chapter shows you how to inspect your code. Aptana Studio itself does not provide features for inspecting code but nearly every browser provides one or more good tools for doing this. In this chapter, we will look at how you can do this with the Firefox extension, Firebug.</em></span>
</p><p>In this chapter we will take a look in detail at the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What is Firebug</li><li class="listitem" style="list-style-type: disc">Inspecting the source of a website</li><li class="listitem" style="list-style-type: disc">Inspecting and editing HTML code</li><li class="listitem" style="list-style-type: disc">Inspecting and editing CSS code</li><li class="listitem" style="list-style-type: disc">Using the Firebug console</li><li class="listitem" style="list-style-type: disc">Profiling code performance</li></ul></div><div class="section" title="What is Firebug"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec79"/>What is Firebug</h1></div></div></div><p>Firebug is one of the most popular extensions for Firefox and helps you to inspect and debug websites. It was downloaded more <a id="id384" class="indexterm"/>than 3 million times and is rated with 5 stars on the <a class="ulink" href="http://addons.mozilla.org">addons.mozilla.org</a> website. The <a id="id385" class="indexterm"/>
<a class="ulink" href="http://addons.mozilla.org">addons.mozilla.org</a> website has a great collection of extensions, and here you can get almost any Firefox extension.</p><p>Firebug is constantly being <a id="id386" class="indexterm"/>developed and contains many useful features such as the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A <a id="id387" class="indexterm"/><span class="strong"><strong>Console</strong></span> module where Firebug lists errors, warnings, and traces from JavaScript, CSS, and so on.</li><li class="listitem" style="list-style-type: disc">An <a id="id388" class="indexterm"/><span class="strong"><strong>HTML</strong></span> module where you can inspect and edit the HTML code of the currently displayed website.</li><li class="listitem" style="list-style-type: disc">A <span class="strong"><strong>CSS</strong></span> module <a id="id389" class="indexterm"/>where you can inspect and edit the CSS code of the currently displayed website.</li><li class="listitem" style="list-style-type: disc">A <span class="strong"><strong>Script</strong></span> <a id="id390" class="indexterm"/>module where you can inspect and debug the JavaScript code of the currently displayed website.</li><li class="listitem" style="list-style-type: disc">A <span class="strong"><strong>DOM</strong></span> module where you can <a id="id391" class="indexterm"/>inspect and change the <span class="strong"><strong>Document Object </strong></span><span class="strong"><strong>Model</strong></span>, abbreviated as <span class="strong"><strong>DOM</strong></span>, from the currently displayed website.</li><li class="listitem" style="list-style-type: disc">A <span class="strong"><strong>Network</strong></span> module <a id="id392" class="indexterm"/>where you can monitor <a id="id393" class="indexterm"/>all network activities and inspect their requests and responses.</li></ul></div><p>You can download <a id="id394" class="indexterm"/>Firebug at <a class="ulink" href="http://getfirebug.com/">http://getfirebug.com/</a>, where you will always find the actual version and much useful stuff such as documentation or community support.</p></div></div>
<div class="section" title="Time for action &#x2013; installing Firebug"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec80"/>Time for action – installing Firebug</h1></div></div></div><p>Before we can start, we need to <a id="id395" class="indexterm"/>install Firebug.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Start Firefox and navigate to <a class="ulink" href="http://getfirebug.com">http://getfirebug.com</a>, and then click on <span class="strong"><strong>Install</strong></span> and after that on <span class="strong"><strong>Download</strong></span>; or navigate directly to <a class="ulink" href="https://addons.mozilla.org/en-US/firefox/addon/firebug/">https://addons.mozilla.org/en-US/firefox/addon/firebug/</a>.</li><li class="listitem">Click on <span class="strong"><strong>+Add to Firefox</strong></span>.</li><li class="listitem">Confirm the installation by clicking on <span class="strong"><strong>Install</strong></span>.<div class="mediaobject"><img src="graphics/8246_06_01.jpg" alt="Time for action – installing Firebug"/></div></li><li class="listitem">Finally, restart Firefox.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec99"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have just installed the Firebug extension into our Firefox. After a successful installation you will find the Firebug menu at the top-right of your Firefox window.</p><div class="mediaobject"><img src="graphics/8246_06_02.jpg" alt="What just happened?"/></div><p>Now we can start to explore our websites and web applications.</p><p>As you can see in the previous image, the Firefox icon is currently grayed out. This means that Firebug is currently disabled. You can click on this icon in order to open and activate Firebug. As an alternative and faster way to do this, you can just press <span class="emphasis"><em>F12</em></span>.</p><p>In case Firebug is active, the icon is displayed as colored.</p></div></div>
<div class="section" title="Time for action &#x2013; enabling and configuring Firebug"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec81"/>Time for action – enabling and configuring Firebug</h1></div></div></div><p>So, let's start working with Firebug and see how to <a id="id396" class="indexterm"/>enable and disable the main modules of Firebug.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Firefox and surf to any website.</li><li class="listitem">Press <span class="emphasis"><em>F12</em></span> to open Firebug.</li><li class="listitem">Firebug opens by default at the bottom of Firefox and provides you with a main menu in the form of the Firebug symbol on the left-hand side. In the top-center of Firebug, you will find a tab bar that allows you to switch between Firebug's main modules.<div class="mediaobject"><img src="graphics/8246_06_03.jpg" alt="Time for action – enabling and configuring Firebug"/></div></li><li class="listitem">Each module tab, when activated, has in addition its own menu where you can activate some specific settings (have a look at the small triangle on the right-hand side of the tab label).</li><li class="listitem">You must also know that the <span class="strong"><strong>Console</strong></span>, <span class="strong"><strong>Script</strong></span>, and <span class="strong"><strong>Net</strong></span> <a id="id397" class="indexterm"/>modules can be enabled and disabled for performance reasons. If the label of this tab is gray, the module is currently disabled; and if the label is black, it is enabled. All three modules can be enabled and disabled by their respective menus. Try it yourself!<div class="mediaobject"><img src="graphics/8246_06_04.jpg" alt="Time for action – enabling and configuring Firebug"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip39"/>Tip</h3><p>
<span class="strong"><strong>Disable unnecessary Firebug modules</strong></span>
</p><p>Unfortunately, Firebug is a little bit of a memory eater. If you've enabled all Firebug modules, and perhaps even have many Firefox tabs open, Firefox will quickly use several hundred MB of memory. So better disable all Firebug features that you currently don't require.</p></div></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec100"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have opened the Firebug on any website and had a look at the possibilities for configuring Firebug and its tabs. In addition, we now know how we can enable and disable Firebug modules.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip40"/>Tip</h3><p>
<span class="strong"><strong>Firebug in a separate window</strong></span>
</p><p>In order to open Firebug in its own window, just use the shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>F12</em></span>
</p></div></div></div></div>
<div class="section" title="Inspecting HTML code"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec82"/>Inspecting HTML code</h1></div></div></div><p>The first module that we want to view in detail is the HTML tab. It's not the first in the row of Firebug tabs, but it gives us a good start to working with Firebug.</p><p>In the first step, we will inspect the HTML code of a website and try to select a particular HTML tag.</p></div>
<div class="section" title="Time for action &#x2013; inspecting HTML code"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec83"/>Time for action – inspecting HTML code</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Firefox and navigate to <a id="id398" class="indexterm"/>any website, such as <a class="ulink" href="http://google.com">google.com</a>.</li><li class="listitem">Press <span class="emphasis"><em>F12</em></span> in order to open Firebug.</li><li class="listitem">Select the HTML tab.</li><li class="listitem">In the bottom-left, you will find the complete HTML code of the currently loaded site.<div class="mediaobject"><img src="graphics/8246_06_05.jpg" alt="Time for action – inspecting HTML code"/></div></li><li class="listitem">Here, you are able to navigate through the HTML tree by expanding nodes by clicking on the small plus icons.</li><li class="listitem">The HTML nodes you hover over with the mouse within the HTML tree will be highlighted blue in the browser window. If the hovered element has a margin (just like the top margin in the preceding screenshot), it will be highlighted yellow; and if the hovered element has a padding (just like the bottom padding in the screenshot), it will be highlighted purple.<div class="mediaobject"><img src="graphics/8246_06_06.jpg" alt="Time for action – inspecting HTML code"/></div></li><li class="listitem">Select the body element by doing a simple click on it. If you select an element, the right-hand side area of the <span class="strong"><strong>HTML</strong></span> module gets the information about this element. This area is also divided by a little tab group, where you find the <span class="strong"><strong>Style</strong></span> tab that we are using in the inspecting <a id="id399" class="indexterm"/>CSS section in this chapter, a <span class="strong"><strong>Computed</strong></span> tab that you see in the following screenshot (which contains a list of all the current attributes from the element), a <span class="strong"><strong>Layout</strong></span> tab where you can inspect and adjust the dimensions of the selected element (margin, border, padding, and the element itself), and finally the <span class="strong"><strong>DOM</strong></span> tab where you can inspect all DOM attributes.<div class="mediaobject"><img src="graphics/8246_06_08.jpg" alt="Time for action – inspecting HTML code"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec101"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have used the <span class="strong"><strong>HTML</strong></span> module of the Firebug for inspecting a website. Therefore, we opened the Firebug, selected the <span class="strong"><strong>HTML</strong></span> module, and additionally selected the HTML element that we wanted to inspect. We have seen the complete HTML tree of the website; and further all HTML attributes in the <span class="strong"><strong>Computed</strong></span> tab, the layout dimensions in the <span class="strong"><strong>Layout</strong></span> tab, and the DOM attributes in the <span class="strong"><strong>DOM</strong></span> tab.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip41"/>Tip</h3><p>
<span class="strong"><strong>Why so some attributes in the HTML view sometimes blink in yellow?</strong></span>
</p><p>If you're inspecting some JavaScript-driven website and there are attributes in the current scope of the viewed HTML code, which just at that moment is manipulated by JavaScript, Firebug lets these attributes blink in yellow.</p></div></div><p>Now we want to go forward and take a look at how we can edit or delete some HTML code by using Firebug.</p></div></div>
<div class="section" title="Time for action &#x2013; using the mouse selector for editing HTML"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec84"/>Time for action – using the mouse selector for editing HTML</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will start at the same position where the previous <span class="emphasis"><em>Time for action</em></span> section ended. So, open Firefox, navigate to any <a id="id400" class="indexterm"/>website, and press <span class="emphasis"><em>F12</em></span> in order to open Firebug.</li><li class="listitem">Now, if you're searching a <a id="id401" class="indexterm"/>special element within the website, you can also use the mouse selector. This is a small button in the form of a blue rectangle with a mouse inside, on the right-hand side of the Firebug main menu. Just activate the button and move the mouse over the website in order to find the element you want to inspect. Once clicked, the element will be selected in Firebug and the mouse selector button gets disabled.</li><li class="listitem">When you have selected an element, you have the option to right-click for opening a context-sensitive context menu. In this context menu, Firebug provides you with several actions for the selected HTML element. You can attach new attributes, edit the element node, delete the complete node, or perform other actions.<div class="mediaobject"><img src="graphics/8246_06_07.jpg" alt="Time for action – using the mouse selector for editing HTML"/></div></li><li class="listitem">At this point we use the mouse-selector for selecting the country name to the right of the Google logo. After this, we perform a right-click on the selected <code class="literal">div</code> node and click on the <span class="strong"><strong>Edit HTML</strong></span> button.</li><li class="listitem">Now we are able to edit the complete <a id="id402" class="indexterm"/>HTML node with all the other nodes inside. For a little test, we change the CSS attribute's color <a id="id403" class="indexterm"/>to red. By changing the HTML code, Firebug refreshes the website in real time, so you'll get any results of your changes directly.</li><li class="listitem">If you have made all your changes, just press the <span class="strong"><strong>Edit</strong></span> button in the top-left to finish the editing.<div class="mediaobject"><img src="graphics/8246_06_09.jpg" alt="Time for action – using the mouse selector for editing HTML"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec102"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have selected a special element from a website and changed it. We have seen how Firebug shows us the changes in real time <a id="id404" class="indexterm"/>in the current website.</p><p>In the same way, as we currently edit the HTML code, you are also able to delete nodes or just quickly add a single attribute.</p><p>A frequent workflow is therefore to select an HTML node and edit it, and after editing just copying the HTML node by right-clicking on it. The copied HTML node, which is now contained in the clipboard, can simply be pasted into your source file.</p></div></div>
<div class="section" title="Inspecting the CSS code"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec85"/>Inspecting the CSS code</h1></div></div></div><p>For inspecting and editing the CSS code, Firebug mainly provides two methods. In the first, there is the <span class="strong"><strong>Style</strong></span> tab of the <span class="strong"><strong>HTML</strong></span> module. Here you can inspect and adjust the CSS code of the currently selected HTML element. On the other hand, you can just use the <span class="strong"><strong>CSS</strong></span> module. In the <span class="strong"><strong>CSS</strong></span> module, you are able to inspect and edit the CSS code directly within the structure of the single CSS file.</p><p>At this point, we will take a look at both variants of working with CSS.</p></div>
<div class="section" title="Time for action &#x2013; editing the CSS code by using the HTML module"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec86"/>Time for action – editing the CSS code by using the HTML module</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We start again just as we <a id="id405" class="indexterm"/><a id="id406" class="indexterm"/>did in the previous <span class="emphasis"><em>Time for action</em></span> section. So, open Firefox, navigate to any website (we use the Google site again), and press <span class="emphasis"><em>F12</em></span> in order to open Firebug in the <span class="strong"><strong>HTML</strong></span> module.</li><li class="listitem">Select the country name in the right of the Google logo by right clicking on it.</li><li class="listitem">Now Firebug displays all the information about the current HTML element. We select the <span class="strong"><strong>Style</strong></span> tab and take a look at the <a id="id407" class="indexterm"/>CSS information in detail.<div class="mediaobject"><img src="graphics/8246_06_10.jpg" alt="Time for action – editing the CSS code by using the HTML module"/></div></li><li class="listitem">As we can see in the <span class="strong"><strong>Style</strong></span> tab, the element gets an instruction to change the  font size by three times. You can see in detail which property of the element comes from where. You can also see in each element block where it has been inherited from; and in each selector section, in which file and line number the selector is defined. So, from the lower side to the upper side the instructions will get overwritten.</li><li class="listitem">Now, when we want to adjust the horizontal position of the label, we just have to double-click on the value of the top definition. The field becomes writable and you are able to adjust it. <a id="id408" class="indexterm"/><a id="id409" class="indexterm"/>Like all the other changes, the result will be visible in real-time.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip42"/>Tip</h3><p>
<span class="strong"><strong>Adjusting values</strong></span>
</p><p>If you want to adjust a value step-by-step, you can also use the up and down arrow keys on your keyboard.</p></div></div></li><li class="listitem">When you're done with changing the <a id="id410" class="indexterm"/>CSS attribute, you can also select the CSS code and copy and paste it into your source code file.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec103"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We inspected the CSS instructions of a special HTML element and had a look at how we can adjust these values easily.</p><p>Now we want to look at the other possibility, to inspect the CSS code with Firebug.</p></div></div>
<div class="section" title="Time for action &#x2013; editing the CSS code by using the CSS module"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec87"/>Time for action – editing the CSS code by using the CSS module</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We start again just as we did in the <a id="id411" class="indexterm"/><a id="id412" class="indexterm"/>previous <span class="emphasis"><em>Time for action</em></span> section. Therefore, we open Firefox and, in this example, load the <a class="ulink" href="http://aptana.com">aptana.com</a> website. When the site is completely loaded, press <span class="emphasis"><em>F12</em></span> in order to open Firebug in the <span class="strong"><strong>CSS</strong></span> module.</li><li class="listitem">In the head of the <span class="strong"><strong>CSS</strong></span> module, you can see a file sector where currently the <code class="literal">aptana.css</code> file is selected. If there are more CSS files included in the website, you can change the displayed file.</li><li class="listitem">In the main area you will find the content of the selected CSS file. Like in the <span class="strong"><strong>Style</strong></span> tab in the <span class="strong"><strong>HTML</strong></span> module, you're able to change all attributes or add newly required attributes.<div class="mediaobject"><img src="graphics/8246_06_11.jpg" alt="Time for action – editing the CSS code by using the CSS module"/></div></li><li class="listitem">Finally, when you're done with editing the <a id="id413" class="indexterm"/>whole CSS file, just press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>A</em></span> to select the complete CSS file, copy it with <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span>, and <a id="id414" class="indexterm"/>paste it with <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>V</em></span> into your source code file within Aptana Studio.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec104"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have inspected the CSS code within the whole CSS file. Here you have seen that it's also possible to edit attributes in the whole file, and learned how to copy the complete CSS content so that you can paste the changed CSS code directly into the source code file.</p></div></div>
<div class="section" title="Using the Firebug console"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec88"/>Using the Firebug console</h1></div></div></div><p>The Firebug console <a id="id415" class="indexterm"/>allows you to read logged info, warnings, errors, and so on. For example, you could write <code class="literal">console.log()</code>, like we have seen in <a class="link" href="ch04.html" title="Chapter 4. Debugging JavaScript">Chapter 4</a>, <span class="emphasis"><em>Debugging JavaScript</em></span>, into your JavaScript files in order to debug them.</p><p>Let's take a look at how the console can help us by developing web applications.</p></div>
<div class="section" title="Time for action &#x2013; using the Firebug console"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec89"/>Time for action – using the Firebug console</h1></div></div></div><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will start again just as we did in the <a id="id416" class="indexterm"/>previous <span class="emphasis"><em>Time for action</em></span> section. Switch back to Firefox, navigate to the <a class="ulink" href="http://aptana.com">aptana.com</a> website, and press <span class="emphasis"><em>F12</em></span> in order to open Firebug in the Console module.<div class="mediaobject"><img src="graphics/8246_06_12.jpg" alt="Time for action – using the Firebug console"/></div></li><li class="listitem">In the head of the Console module you will find some buttons that allow you to filter the displayed messages.</li><li class="listitem">All messages are listed in the main area. As you can see, there is already a warning listed because the site uses a deprecated function.</li><li class="listitem">In the bottom area you're able to fire up your own actions in real time. This is sometimes very useful. You can <a id="id417" class="indexterm"/>trigger your own function or you can try jQuery selectors and can inspect which nodes are matched. Try it yourself by entering <code class="literal">console.log</code> <code class="literal">(document.title)</code>.<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip43"/>Tip</h3><p>
<span class="strong"><strong>Enter multiline commands</strong></span>
</p><p>If you need to enter a multiline—<a id="id418" class="indexterm"/>no problem. Just press the red triangle icon at the right of the command line, and the command line moves to the right into a multiline command line. Now you're also able to paste complete script lines at once into Firebug and execute them.</p></div></div></li><li class="listitem">Another nice feature is that the Console module provides a history of your commands. You can display the previous actions by clicking on the red list icon at the left of the command line. Additionally, you can use the up and down arrow keys, if the command line has the focus, to navigate through the previous history entries.</li><li class="listitem">You can also write your own messages, errors, warnings, or just a debug message in the Console module. Firebug therefore provides four methods on the console object, shown as follows:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">console.log(object[, object, …])</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.error(object[, object, …])</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.warning(object[, object, …])</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">console.debug(object[, object, …])</code></li></ul></div></li><li class="listitem">The last feature that we want to envisage here is the completion proposal (attention, this feature is only available by using the single line command line). If you write in the single line command line and you type <code class="literal">doc</code>, the Console will suggest an object or function you could have meant to type. If there is more than one successful suggestion, you are able to use the up and down arrow keys on your keyboard to <a id="id419" class="indexterm"/>select the one you need. If your required object or function is implied, just press the <span class="emphasis"><em>Tab</em></span> key to select it.<div class="mediaobject"><img src="graphics/8246_06_13.jpg" alt="Time for action – using the Firebug console"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip44"/>Tip</h3><p>
<span class="strong"><strong>Did you know?</strong></span>
</p><p>The Console module is also able to calculate. If you're currently creating a layout, and you have to calculate properties or dimensions, you don't have to start your systems calculator. Just use the Firebug console.</p></div></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec105"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have examined the main functionalities of the Console module. Now you should know how you can filter the output and fire up JavaScript commands at runtime.</p></div></div>
<div class="section" title="Profiling code performance"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec90"/>Profiling code performance</h1></div></div></div><p>While developing goes forward and your web application gets larger and larger, the performance might slow down more and more. <a id="id420" class="indexterm"/>This results from the increasing amount of JavaScript code that must be executed by the browser.</p><p>This is the best moment to think about optimizing your code. Therefore, you have to profile many parts of your source code in order to find out which functions or code blocks are the largest performance eaters.</p><p>Firebug provides you with some useful functionalities that you can use to localize these performance eaters.</p><p>A simple way to find out how good the performance of a single code block or function is to wrap it into a <a id="id421" class="indexterm"/>
<code class="literal">time</code> and <a id="id422" class="indexterm"/>
<code class="literal">timeEnd</code> function. How we do this <a id="id423" class="indexterm"/>exactly will be discussed in the following section.</p></div>
<div class="section" title="Time for action &#x2013; profiling code performance by using console.time()"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec91"/>Time for action – profiling code performance by using console.time()</h1></div></div></div><p>In this section, we will discuss the steps for <a id="id424" class="indexterm"/>
<a id="id425" class="indexterm"/>profiling code performance by using the <code class="literal">console.time()</code> function.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First, we need some JavaScript code which we can profile. For this simple example we just use a small function (with some actions that require a little bit of time), like the following code:<div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript"&gt;
	function loop() {
		var sum =0;
		for(var i=0 ; i&lt;1000 ; i++) {
			sum += i*Math.random();
		}
		return sum;
	}
&lt;/script&gt;</pre></div></li><li class="listitem">We embed this function into an HTML file.</li><li class="listitem">When we now want to determine the execution time, we have to wrap the function call into two console functions. The first is for registering the start time and will be set by <code class="literal">console.time('unique_identifier')</code>. Pay attention to the first parameter; this must be a unique identifier for each profiling.</li><li class="listitem">After that, we call the function which we will profile.</li><li class="listitem">Finally, we have to register that our time measurement is done. Therefore, we have to call the second function, which <a id="id426" class="indexterm"/>requires the same unique identifier as the first function <code class="literal">console.timeEnd('unique_identifier')</code>. After all, our code should look something like the following code:<div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript"&gt;
	function loop() {
		var sum =0;
		for(var i=0 ; i&lt;1000 ; i++) {
			sum += i*Math.random();
		}
		return sum;
	}
	console.time('timer1');
	console.log('loop: ', loop());
	console.timeEnd('timer1');
&lt;/script&gt;</pre></div></li><li class="listitem">Now, we open our HTML file within Firefox and open Firebug by pressing <span class="emphasis"><em>F12</em></span>, and open the Console module.</li><li class="listitem">Maybe we have to enable the Console. <a id="id427" class="indexterm"/>If so, we have to reload our site by pressing <span class="emphasis"><em>F5</em></span>.</li><li class="listitem">Finally, we take a look at the Console output and see that the execution of our block has taken 4 milliseconds.<div class="mediaobject"><img src="graphics/8246_06_14.jpg" alt="Time for action – profiling code performance by using console.time()"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec106"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have wrapped our function call into the functions <code class="literal">console.time()</code> and <code class="literal">console.timeEnd()</code> in order to determine the exact execution time for our function. It is important that both the wrapper functions get the same unique parameter, which the Console needs to identify the timer.</p><p>Another way to get more information about your application and where the most performance got lost is to profile some code block or function with the <code class="literal">console.profile</code> function.</p><p>Let's take a look at it in the following section.</p></div></div>
<div class="section" title="Time for action &#x2013; profiling code performance by using console.profile()"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec92"/>Time for action – profiling code performance by using console.profile()</h1></div></div></div><p>In this section, we will discuss the steps for <a id="id428" class="indexterm"/>
<a id="id429" class="indexterm"/>profiling code performance by using the <code class="literal">console.profile()</code> function.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We grab the HTML file from the previous <span class="emphasis"><em>Time for action</em></span> section and extend the JavaScript code.</li><li class="listitem">First, we move the <code class="literal">Math.random</code> function call into a separate function named <code class="literal">getRandom</code>. We do this in order to create more function calls within our loop function.</li><li class="listitem">The <code class="literal">console.time</code> and <code class="literal">console.timeEnd</code> functions are no longer required; but don't delete these rows. The <code class="literal">console.profile</code> function works in a similar way.</li><li class="listitem">So, we change the <code class="literal">console.time</code> function into a <code class="literal">console.profile</code> function. The unique identifier is still required, because you're able to run more profiles at the same time.</li><li class="listitem">This step helps to Change the <code class="literal">console.timeEnd</code> function into a <code class="literal">console.profileEnd</code> function—and that's it. <a id="id430" class="indexterm"/>After all these steps, your code should look something like the following:<div class="informalexample"><pre class="programlisting">&lt;script type="text/javascript"&gt;
	function loop() {
		var sum =0;
		for(var i=0 ; i&lt;100 ; i++) {
			sum += i*getRandom();
		}
		return sum;
	}
	function getRandom() {
		return Math.random();
	}
	console.profile('timer1');
	console.log('loop: ', loop());
	console.profileEnd('timer1');
&lt;/script&gt;</pre></div></li><li class="listitem">Now we will load our HTML file within Firefox and open Firebug by pressing <span class="emphasis"><em>F12</em></span> and selecting the Console module.</li><li class="listitem">Maybe we have to enable the Console. If so, we have to reload our site by pressing <span class="emphasis"><em>F5</em></span>.</li><li class="listitem">Finally, we take a look at the Console output and see that our profiling code block has used 533 milliseconds and 101 <a id="id431" class="indexterm"/>function calls.<div class="mediaobject"><img src="graphics/8246_06_15.jpg" alt="Time for action – profiling code performance by using console.profile()"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec107"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have wrapped our function call into the <code class="literal">console.profile()</code> and <code class="literal">console.profileEnd()</code> <a id="id432" class="indexterm"/>functions. During the execution, the Console logs every function call between the <code class="literal">profile()</code> and <code class="literal">profileEnd()</code> functions and generates a complete profiling table where you can see which functions were called at which time, and how long they took.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip45"/>Tip</h3><p>
<span class="strong"><strong>Manually starting the profiling</strong></span>
</p><p>You can also start a profiling process manually. If you take a look at the top buttons within the Console module, you will find a button called <a id="id433" class="indexterm"/>
<span class="strong"><strong>Profile</strong></span>. If you press it the first time, it will start a profiling process just like the <code class="literal">console.profile()</code> function. <a id="id434" class="indexterm"/>If you press it a second time, the profiling process stops and you get the profiling result in the Console output.</p></div></div></div><div class="section" title="Have a go hero – inspecting a website in detail"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec108"/>Have a go hero – inspecting a website in detail</h2></div></div></div><p>Now your task is to select a website and open it within Firefox. Open the Firebug and start inspecting this website in detail. Have a look at how the HTML and CSS codes are structured. Also throw a closer look at how the individual CSS classes override the other CSS classes.</p><p>Play around with the different values and customize them in order to understand what they do. After you have explored the HTML code structure and CSS styles, take a look at the JavaScript codes within the site. Enable the profiling and examine which functions are called and so on.</p></div><div class="section" title="Pop quiz"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec109"/>Pop quiz</h2></div></div></div><p>Q1. Which keyboard shortcut opens Firebug?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="emphasis"><em>F7</em></span></li><li class="listitem"><span class="emphasis"><em>F12</em></span></li><li class="listitem"><span class="emphasis"><em>F13</em></span></li></ol></div><p>Q2. Why is it better to disable unnecessary Firebug modules?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">It ensures good performance</li><li class="listitem">It doesn't matter</li><li class="listitem">It's better to enable all the modules</li></ol></div><p>Q3. When you inspect an HTML file and hover over some HTML elements, what does the yellow and purple color mean in the highlighted elements?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">There are no yellow or purple highlight colors</li><li class="listitem">These colors display the distance to other elements</li><li class="listitem">The yellow highlight displays the margin of an element and the purple highlight displays the padding of an element</li></ol></div><p>Q4. When will the change be visible after you have changed it within Firebug?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">After you have reloaded the page</li><li class="listitem">The change is immediately visible</li><li class="listitem">After you have saved your changes</li></ol></div><p>Q5. Why did you make the <code class="literal">console.time()</code> and <code class="literal">console.timeEnd()</code> functions and the <code class="literal">console.profile()</code> and <code class="literal">console.profileEnd()</code> functions the first parameter and unique identifier?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">If you start multiple time or profile processes, Firebug needs them to identify which process has to stop when</li><li class="listitem">It's just a label and is not required</li><li class="listitem">There's no parameter in these functions</li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec93"/>Summary</h1></div></div></div><p>After reading this chapter, you should be able to inspect websites and web applications by using Firebug. In addition, you should know in detail how you can edit HTML elements, change their CSS attributes, and examine JavaScript code.</p><p>Now we want to go forward, and in the next chapter examine how we can work with JavaScript libraries and how we can integrate them in our project.</p></div></body></html>