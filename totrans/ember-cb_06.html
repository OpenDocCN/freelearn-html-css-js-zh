<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06" class="calibre1"/>Chapter 6. Ember Components</h1></div></div></div><p class="calibre8">In this chapter, you'll learn the following recipes:</p><div><ul class="itemizedlist"><li class="listitem">Using components in an application</li><li class="listitem">Using events in components</li><li class="listitem">Implementing actions in components</li><li class="listitem">Passing properties to a component</li><li class="listitem">Using yield with components</li></ul></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch06lvl1sec47" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre8">Components are a major feature of Ember.js. With components, you can encapsulate code and create widgets and custom tags. In addition, you can pass properties to a component, handle events and actions, and wrap content inside of it. Often, it can take the place of your controller.</p><p class="calibre8">Components align <a id="id276" class="calibre1"/>closely to the <strong class="calibre9">W3C</strong> custom elements specification. The W3C specification is still in consideration, although, given enough time, it will probably be adopted by the Web.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec48" class="calibre1"/>Using components in an application</h1></div></div></div><p class="calibre8">Components <a id="id277" class="calibre1"/>can be used in applications in a variety of ways. In this <a id="id278" class="calibre1"/>recipe, we'll see how to create a component and add it to a template.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec85" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">To begin, we'll create a simple component that displays student information.</p><div><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate a new component:<div><pre class="programlisting">
<strong class="calibre9">$ ember g component student-info</strong>
</pre></div><p class="calibre14">All components must have a dash in their names. This will generate the <code class="email">student-info</code> component. This stub will be created in the <code class="email">app/components</code> and <code class="email">app/templates/components</code> folders as well.</p></li><li class="listitem" value="2">Edit the <a id="id279" class="calibre1"/><code class="email">student-info.js</code> file in the <code class="email">app/components</code> folder. Add a few simple properties:<div><pre class="programlisting">// app/components/student-info.js
import Ember from 'ember';

export default Ember.Component.extend({
    name: 'Erik',
    grade: 12,
    nickName: 'E'

});</pre></div><p class="calibre14">In this component, we added three properties, <code class="email">name</code>, <code class="email">grade</code>, and <code class="email">nickName</code>. We'll <a id="id280" class="calibre1"/>use these later in our template.</p></li><li class="listitem" value="3">Update the component template in the <code class="email">app/templates/components</code> folder:<div><pre class="programlisting">// app/templates/components/student-info.hbs
&lt;br&gt;student info:&lt;br&gt;
    {{name}}&lt;br&gt;
    {{grade}}&lt;br&gt;
    {{nickName}}&lt;br&gt;</pre></div><p class="calibre14">In this template, we are simply displaying information from the component.</p></li><li class="listitem" value="4">Finally, let's edit the <code class="email">application.hbs</code> file in the <code class="email">app/templates</code> folder:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
{{student-info}}</pre></div><p class="calibre14">The component is added to the application template by adding the Handlebars expression <code class="email">{{student-info}}</code> to it. This will register an inline Handlebars helper automatically and render the contents of the <code class="email">student-info.hbs</code> file to the <code class="email">application.hbs</code> file.</p><p class="calibre14">Let's change this example and add the block form.</p></li><li class="listitem" value="5">Edit the <code class="email">student-info.hbs</code> file and add <code class="email">yield</code> to it:<div><pre class="programlisting">&lt;br&gt;student info:&lt;br&gt;
    {{name}}&lt;br&gt;
    {{grade}}&lt;br&gt;
    {{yield}}
    {{nickName}}&lt;br&gt;</pre></div><p class="calibre14">The <code class="email">{{yield}}</code> expression will be the placeholder where the outside template will render when the component is in block form. We'll discuss this more in the <em class="calibre13">Using yield with components</em> recipe.</p></li><li class="listitem" value="6">Update the <a id="id281" class="calibre1"/><code class="email">application.hbs</code> file with the new block form component:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
{{#student-info}}
    This will render in the yield&lt;br&gt;
{{/student-info}}</pre></div><p class="calibre14">The <a id="id282" class="calibre1"/>component has a hash (<code class="email">#</code>) in front of the name. This is a signal to the Handlebars templating engine that the component will be in block form. The <code class="email">yield</code> helper in the <code class="email">student-info.hbs</code> file will display the contents in the block.</p></li><li class="listitem" value="7">Run <code class="email">ember server</code> and you'll see this output:<div><img src="img/00031.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">The students component is displayed here in the application template in block form.</p><div><h3 class="title2"><a id="tip26" class="calibre1"/>Tip</h3><p class="calibre8">All components are <code class="email">div</code> tags. In other words, the component template that is created by default <a id="id283" class="calibre1"/>will be rendered in a <code class="email">div</code> tag. This can <a id="id284" class="calibre1"/>be changed using the <code class="email">tagName</code> property. You simply need to add this property to the component JavaScript file in the <code class="email">components</code> directory.</p></div></li></ol><div></div><div><div><div><div><h3 class="title2"><a id="ch06lvl3sec48" class="calibre1"/>Creating a student component dynamically</h3></div></div></div><p class="calibre8">If needed, you <a id="id285" class="calibre1"/>can defer the selection of the component until runtime. Let's take a look at an example of doing this with the student component that we created in the earlier section.</p><div><ol class="orderedlist"><li class="listitem" value="1">In a new project, create a new <code class="email">student-info</code> component:<div><pre class="programlisting">
<strong class="calibre9">$ ember g component student-info</strong>
</pre></div><p class="calibre14">This will generate the necessary files for the <code class="email">student-info</code> component.</p></li><li class="listitem" value="2">Edit the component file and add this information:<div><pre class="programlisting">// app/components/student-info.js
import Ember from 'ember';

export default Ember.Component.extend({
    name: 'Erik',
    grade: 12,
    nickName: 'E',

});</pre></div><p class="calibre14">This component has a few simple properties.</p></li><li class="listitem" value="3">Update the component template with this information:<div><pre class="programlisting">// app/templates/components/student-info.hbs
&lt;br&gt;student info:&lt;br&gt;
    {{name}}&lt;br&gt;
    {{grade}}&lt;br&gt;
    {{yield}}
    {{nickName}}&lt;br&gt;
    {{moreInfo}}&lt;br&gt;</pre></div><p class="calibre14">Just as before, we are showing some simple properties that are retrieved from the component context.</p></li><li class="listitem" value="4">Create a new application route in the <code class="email">app/routes</code> folder. Add a new <code class="email">model</code> method called <code class="email">comp</code>:<div><pre class="programlisting">// app/routes/application.js
import Ember from 'ember';

export default Ember.Route.extend({
    model() {
      return ['student-info'];

    }
});</pre></div><p class="calibre14">This model sends back a string array. This array will be used in our template as the name of the component that we want to display dynamically.</p></li><li class="listitem" value="5">Update <a id="id286" class="calibre1"/>the <code class="email">application.hbs</code> file in the <code class="email">app/templates</code> folder. Add a new <code class="email">each</code> helper that will display the new dynamic component:<div><pre class="programlisting">&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
{{#each model as |comp|}}
    {{component comp}}
{{/each}}</pre></div><p class="calibre14">To display a dynamic component, you must use the <code class="email">{{component}} </code>helper. The first argument of the helper is the name of the component that you want to use. In this case, <code class="email">{{comp}}</code> is rendered to <code class="email">student-info</code>. Note that we can use the component helper inline or in block form. If the component is rendered inline, <code class="email">yield</code> is not used.</p></li><li class="listitem" value="6">After running <code class="email">ember server</code>, the template will render with the dynamic component:<div><img src="img/00032.jpeg" alt="Creating a student component dynamically" class="calibre10"/></div><p class="calibre26"> </p></li></ol><div></div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec86" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Components are <a id="id287" class="calibre1"/>used to encapsulate data into a form that can be easily reused throughout an application. Each component can be in block or inline form and is rendered as a <code class="email">div</code> tag by default. Components have a template and JavaScript file.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec49" class="calibre1"/>Using events in components</h1></div></div></div><p class="calibre8">When <a id="id288" class="calibre1"/>creating components, you can attach events to them. Let's take a <a id="id289" class="calibre1"/>look at an example of this.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec87" class="calibre1"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem" value="1">In a new project, generate a new component called <code class="email">student-info</code>:<div><pre class="programlisting">
<strong class="calibre9">$ ember g component student-info</strong>
</pre></div><p class="calibre14">This will generate a component file in the <code class="email">component</code> directory and the <code class="email">templates/components</code> folder.</p></li><li class="listitem" value="2">Edit the <code class="email">app/components/student-info.js</code> file. Add a new <code class="email">click</code> event:<div><pre class="programlisting">// app/components/student-info.js
import Ember from 'ember';

const {$}=  Ember
export default Ember.Component.extend({
    click() {
      $('html').fadeToggle( 'slow', 'linear');
      $('html').delay(250).fadeIn();
    }
});</pre></div><p class="calibre14">The first thing that you'll notice in this example is that we are using the ES2015 destructuring assignment. The destructuring assignment syntax extracts data from arrays or objects. Instead of typing <code class="email">Ember.$</code> everywhere, I can just type <code class="email">$</code>.</p><p class="calibre14">Ember CLI by default has jQuery installed. We are using the jQuery syntax to fade the HTML document and fade it back after the component is clicked.</p><p class="calibre14">We aren't <a id="id290" class="calibre1"/>limited to just the <code class="email">click</code> event though. There <a id="id291" class="calibre1"/>are several events that are available to Ember:</p><div><ul class="itemizedlist1"><li class="listitem">Touch events:<p class="calibre8"><code class="email">touchStart</code></p><p class="calibre8"><code class="email">touchMove</code></p><p class="calibre8"><code class="email">touchEnd</code></p><p class="calibre8"><code class="email">touchCancel</code></p></li><li class="listitem">Keyboard events:<p class="calibre8"><code class="email">keyDown</code></p><p class="calibre8"><code class="email">keyUp</code></p><p class="calibre8"><code class="email">keyPress</code></p></li><li class="listitem">Mouse events:<p class="calibre8"><code class="email">mouseDown</code></p><p class="calibre8"><code class="email">mouseUp</code></p><p class="calibre8"><code class="email">contextMenu</code></p><p class="calibre8"><code class="email">click</code></p><p class="calibre8"><code class="email">doubleClick</code></p><p class="calibre8"><code class="email">mouseMove</code></p><p class="calibre8"><code class="email">focusIn</code></p><p class="calibre8"><code class="email">focusOut</code></p><p class="calibre8"><code class="email">mouseEnter</code></p><p class="calibre8"><code class="email">mouseLeave</code></p></li><li class="listitem">Form events:<p class="calibre8"><code class="email">submit</code></p><p class="calibre8"><code class="email">change</code></p><p class="calibre8"><code class="email">focusIn</code></p><p class="calibre8"><code class="email">focusOut</code></p><p class="calibre8"><code class="email">input</code></p></li><li class="listitem">HTML5 <a id="id292" class="calibre1"/>drag and drop events:<p class="calibre8"><code class="email">dragStart</code></p><p class="calibre8"><code class="email">drag</code></p><p class="calibre8"><code class="email">dragEnter</code></p><p class="calibre8"><code class="email">dragLeave</code></p><p class="calibre8"><code class="email">dragOver</code></p><p class="calibre8"><code class="email">dragEnd</code></p><p class="calibre8"><code class="email">drop</code></p></li></ul></div></li><li class="listitem" value="3">For the <a id="id293" class="calibre1"/>last step, we need to add the component to our application template. There is no need to edit the component template. For now, we'll just set the component to be in block form so that any click on the element will trigger the event:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{#student-info}}
    Student info block
{{/student-info}}
{{outlet}}</pre></div><p class="calibre14">The <code class="email">student-info</code> component is in block form. Click anywhere in the block to trigger the <code class="email">click</code> event and cause the HTML document to fade.</p><p class="calibre14">There is an <code class="email">index.html</code> file in the root of the <code class="email">app</code> folder. This file has the default HTML and <code class="email">head</code> tags. It also contains some links to your CSS and vendor files. You may notice that there are <code class="email">{{content-for}}</code> helpers. These are used with Ember add-ons and should not be deleted.</p></li><li class="listitem" value="4">Run  <code class="email">ember server</code> <a id="id294" class="calibre1"/>and the template should render <a id="id295" class="calibre1"/>as follows:<div><img src="img/00033.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">The HTML document will fade if any part of the student info block <code class="email">div</code> is clicked.</p></li></ol><div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec88" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Ember events in components work by adding the name of the event as a method in the component. These events are fired in the template that the component has been added to. Components, by default, are <code class="email">div</code> tags. So, any event that occurs must occur in the context of the <code class="email">div</code> tag in the template that is rendered.</p><p class="calibre8">Ember supports several different types of events, including double-clicking, HTML 5 drag and drop events, and touch events. Custom events can be registered using the <code class="email">Ember.Application.customEvents</code> method.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec50" class="calibre1"/>Implementing actions in components</h1></div></div></div><p class="calibre8">Components <a id="id296" class="calibre1"/>can communicate changes with actions. These actions can be sent back to the parent or be handled in the component. Let's take a look at a few recipes that show this.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec89" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">In this recipe, we'll create a student list that we will then manipulate.</p><div><ol class="orderedlist"><li class="listitem" value="1">In a new project, generate a <code class="email">student-list</code> component:<div><pre class="programlisting">
<strong class="calibre9">$ ember g component student-list</strong>
</pre></div><p class="calibre14">This will generate the <code class="email">student-list</code> component and the necessary files.</p></li><li class="listitem" value="2">Update <a id="id297" class="calibre1"/>the <code class="email">student-list.js</code> file in the <code class="email">app/components</code> folder. We'll need to create a few <code class="email">actions</code> and a new array:<div><pre class="programlisting">// app/components/student-list.js
import Ember from 'ember';

export default Ember.Component.extend({
    init() {
      this._super(...arguments);
      this.setup();
    }, 
    actions: {
      remove(){
        this.get('listOfStudents').popObject();
      },
      reset(){
        this.setup();
      }

    },
    setup(){
      let st = this.set('listOfStudents',[]);
      st.clear();
      st.pushObject('Erik');
      st.pushObject('Bob');
      st.pushObject('Suze');
      
    }

});</pre></div><p class="calibre14">The first part of this component is the <code class="email">init</code> method. This will fire as soon as the component is initialized. This is a private method that sets up the component. As we are overriding this framework method, we must call <code class="email">super</code> so that the component is created correctly. The <code class="email">setup</code> method is then called.</p><p class="calibre14">The <code class="email">setup</code> method creates a new <code class="email">listOfStudents</code> array, clears it, and creates three new string objects by popping them onto the array. As we are creating the <code class="email">listOfStudents</code> array in the <code class="email">init</code> method, it will be local to this component instance. It's good practice to declare objects or properties in the <code class="email">init</code> or <code class="email">didInsertElement</code> methods. Otherwise, if the object or array is declared as a property of the component, the component will no longer have its own independent state. We'll be discussing the <code class="email">didInsertElement</code> hook later in the book.</p><p class="calibre14">There are two <code class="email">actions</code> listed, <code class="email">remove</code> and <code class="email">reset</code>. Both will tie back into actions <a id="id298" class="calibre1"/>in the component's template <a id="id299" class="calibre1"/>that we'll use later. The <code class="email">remove</code> action removes or pops off one object from the top of the array. The <code class="email">reset</code> method calls <code class="email">setup</code>, and this returns the component to its original state.</p></li><li class="listitem" value="3">Add a couple of buttons and use the <code class="email">each</code> helper to list the contents of the array in the <code class="email">student-list.hbs</code> file in the <code class="email">app/templates/components</code> folder:<div><pre class="programlisting">// app/templates/components/student-list.hbs
&lt;button {{action 'remove'}}&gt;Remove&lt;/button&gt;
&lt;button {{action 'reset'}}&gt;Reset&lt;/button&gt;&lt;br&gt;
{{#each listOfStudents as |student|}}
    {{student}}&lt;br&gt;
{{/each}}</pre></div><p class="calibre14">The <code class="email">{{action}}</code> helper will fire when the <code class="email">remove</code> and <code class="email">reset</code> buttons are pressed. The first argument to the <code class="email">action</code> helper is always the action name. The <code class="email">each</code> helper lists the contents of the <code class="email">listOfStudents</code> Ember array.</p></li><li class="listitem" value="4">For the last part, add the <code class="email">student-list</code> component to the application template:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
{{student-list }}
{{outlet}}</pre></div><p class="calibre14">This will display the contents of the <code class="email">student-list</code> component.</p></li><li class="listitem" value="5">After <a id="id300" class="calibre1"/>starting <code class="email">ember server</code>, your output will look as follows:<div><img src="img/00034.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Pressing <a id="id301" class="calibre1"/>the <strong class="calibre9">Remove</strong> button will remove each item one by one. The <code class="email">Reset</code> button will reset the array back.</p></li></ol><div></div><div><div><div><div><h3 class="title2"><a id="ch06lvl3sec49" class="calibre1"/>Closure actions with our student component</h3></div></div></div><p class="calibre8">Ember <a id="id302" class="calibre1"/>provides you with a way to send actions from a parent to child component. We can use closure actions to make this possible.</p><div><ol class="orderedlist"><li class="listitem" value="1">In a new project, generate a new <code class="email">application</code> route and a <code class="email">student-list</code> component:<div><pre class="programlisting">
<strong class="calibre9">$ ember g route application</strong>
<strong class="calibre9">$ ember g controller application</strong>
<strong class="calibre9">$ ember g component student-list</strong>
</pre></div><p class="calibre14">This will generate the <code class="email">application.js</code> file in the <code class="email">app/routes</code> folder, the <code class="email">application</code> controller, and the <code class="email">student-list</code> component.</p></li><li class="listitem" value="2">In the <a id="id303" class="calibre1"/>application route file, add a new <code class="email">listOfStudents</code> array:<div><pre class="programlisting">// app/routes/application.js
import Ember from 'ember';

export default Ember.Route.extend({
    listOfStudents: [],
    beforeModel(){
      this.reset();
    },
    model(){

      return this.get('listOfStudents');
    },
    reset(){
      let st = this.get('listOfStudents');
      st.clear();
      st.pushObject('Tiffany');
      st.pushObject('Zack');
      st.pushObject('George');
    },
    actions: {
      removeRoute(){
        this.get('listOfStudents').popObject();
      },
      resetRoute(){
        this.reset();
      }
    }
});</pre></div><p class="calibre14">This might look familiar to you from the previous example. Here, we are creating a new array called <code class="email">listOfStudents</code>. The <code class="email">beforeModel</code> hook will run before the model is set up. In this <code class="email">beforeModel</code>, the <code class="email">reset</code> method is called. This adds the default data to the array.</p><p class="calibre14">The model hook returns the <code class="email">listOfStudents</code> array. In addition, we added two actions, <code class="email">remove</code> and <code class="email">reset</code>, to remove an item or reset the items back to the original array, respectively.</p><p class="calibre14">This was essentially the same code that we had in the component earlier but we moved it to the route instead.</p></li><li class="listitem" value="3">Edit the <a id="id304" class="calibre1"/><code class="email">application.hbs</code> file and add the component that we just created:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;
{{student-list onRemove=(action 'removeController' ) onReset=(action 'resetController')}}
{{#each model as |student|}}
    {{student}}&lt;br&gt;
{{/each}}
{{outlet}}</pre></div><p class="calibre14">This template will show a list of students from our model and our <code class="email">student-list</code> component. The <code class="email">onRemove</code> and <code class="email">onReset</code> properties are set to actions that are basically <a id="id305" class="calibre1"/>functions in our parent controller that we can pass to the component. This is called a <strong class="calibre9">closure action</strong>. All closure actions must have parentheses surrounding the <code class="email">(action 'removeController')</code> action.</p></li><li class="listitem" value="4">Add two new actions to the controller:<div><pre class="programlisting">// app/controllers/application.js
import Ember from 'ember';

export default Ember.Controller.extend({
    actions:{
      removeController(){
        this.send('removeRoute');
      },
      resetController(){
        this.send('resetRoute');
      }
    }
});</pre></div><p class="calibre14">These two actions use <code class="email">this.send</code> to send the action to the <code class="email">removeRoute</code> and <code class="email">resetRoute</code> actions that we defined earlier. You can use the <code class="email">send</code> method to trigger actions from parent routes or controllers.</p></li><li class="listitem" value="5">Update the component template file:<div><pre class="programlisting">// app/templates/components/student-list.hbs
&lt;button {{action 'removeComponent'}}&gt;Remove&lt;/button&gt;
&lt;button {{action 'resetComponent'}}&gt;Reset&lt;/button&gt;</pre></div><p class="calibre14">This component displays two buttons that are linked to actions that are defined in the component.</p></li><li class="listitem" value="6">Update <a id="id306" class="calibre1"/>the component JavaScript file with the two new actions:<div><pre class="programlisting">// app/components/student-list.js
import Ember from 'ember';

export default Ember.Component.extend({
    actions: {
      removeComponent(){
        this.get('onRemove')();
      },
      resetComponent(){
        his.attrs.onReset();
      }
    }
});</pre></div><p class="calibre14">These actions will be triggered from the component template. At this point, they'll trigger the function that was passed to it from the closure actions, <code class="email">onRemove</code> and <code class="email">onReset</code>.</p><p class="calibre14">To invoke these methods, you can do it using either <code class="email">this.get</code> or <code class="email">this.attrs</code>. The <code class="email">this.get</code> method and the name of the property, in this case <code class="email">onRemove</code>, will invoke the method passed to it.</p><p class="calibre14">In the other case, you can use <code class="email">this.attrs</code> to access the attributes on the property to invoke the function that was passed on, <code class="email">this.attrs.onReset()</code>.</p><p class="calibre14">The action will flow this way: <strong class="calibre9">application template -&gt; component -&gt; controller -&gt; route</strong>. The end result is the route triggering the action to remove or reset the list.</p></li><li class="listitem" value="7">Run <code class="email">ember server</code> and you should see a list that you can now delete or reset:<div><img src="img/00035.jpeg" alt="Closure actions with our student component" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="8">Clicking on the <strong class="calibre9">Remove</strong> or <strong class="calibre9">Reset</strong> buttons will trigger an action that was passed in from the controller. This action will bubble up to the route to reset or remove an item from the list.</li></ol><div></div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec90" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Actions can be <a id="id307" class="calibre1"/>handled in a few ways in a component. Actions can be added to different HTML tags and be handled within components. Actions can also be sent to parent components or controllers using closure actions or send.</p><p class="calibre8">Closure actions make the passing of actions much easier. We can pass down actions to components that they can then invoke. This helps separate logic between different parent routes, controllers, and components.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec51" class="calibre1"/>Passing properties to a component</h1></div></div></div><p class="calibre8">Components <a id="id308" class="calibre1"/>by default are isolated from their surroundings. Any <a id="id309" class="calibre1"/>data that the component needs must be passed in. In this recipe, we'll create a student list. However, we will pass data to the component to be rendered.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec91" class="calibre1"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate a new component and the <code class="email">application</code> route:<div><pre class="programlisting">
<strong class="calibre9">$ ember g route application</strong>
<strong class="calibre9">$ ember g component student-list</strong>
</pre></div><p class="calibre14">This will generate the <code class="email">application.js</code> file in the <code class="email">routes</code> folder and the files necessary from the <code class="email">student-list</code> component.</p></li><li class="listitem" value="2">Edit the <code class="email">application.js</code> file in the <code class="email">app/routes</code> folder:<div><pre class="programlisting">// app/routes/application.js
import Ember from 'ember';

export default Ember.Route.extend({
    model() {
      return ['Jim','Jeff','Jill']
    }
});</pre></div><p class="calibre14">This model will return a simple array.</p></li><li class="listitem" value="3">Update the <a id="id310" class="calibre1"/><code class="email">student-list</code> template in the <code class="email">app/templates/components</code> folder:<div><pre class="programlisting">// app/templates/components/student-info.hbs

{{#each compModel as |student|}}
    {{student}}&lt;br&gt;
{{/each}}</pre></div><p class="calibre14">This will take the <code class="email">compModel</code> property and iterate over it using the <code class="email">each</code> helper.</p></li><li class="listitem" value="4">Edit the <a id="id311" class="calibre1"/><code class="email">application.hbs</code> file in the <code class="email">app/templates</code> folder. Add the new <code class="email">student-info</code> component:<div><pre class="programlisting">// app/templates/application.hbs
{{student-list compModel=model}}

{{outlet}}</pre></div><p class="calibre14">The <code class="email">student-list</code> template has the <code class="email">compModel</code> property. This property passes in the model that is the application model that we set up earlier in the route. Keep in mind that <code class="email">compModel</code> is accessed from the inside of the component. The model is accessed outside the component. The component does not have any access to the model unless it's passed to it.</p></li><li class="listitem" value="5">Run <code class="email">ember server</code> and you should see a list of elements in the model:<div><img src="img/00036.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p></li></ol><div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec92" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Components <a id="id312" class="calibre1"/>are isolated sets of code that do not have access to the <a id="id313" class="calibre1"/>outside world. In other words, components must have any data that it needs passed to it. You can set this up by adding properties after the name of the component in the Handlebars expression.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch06lvl1sec52" class="calibre1"/>Using yield with components</h1></div></div></div><p class="calibre8">Components <a id="id314" class="calibre1"/>can be set up in block or inline form. When in block <a id="id315" class="calibre1"/>form, components can yield information. In this recipe, we'll look at an example of using yield to show information in a template.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch06lvl2sec93" class="calibre1"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem" value="1">In a new project, create a new student component:<div><pre class="programlisting">
<strong class="calibre9">$ ember g component student-info</strong>
</pre></div><p class="calibre14">This will create the student component.</p></li><li class="listitem" value="2">Edit the <code class="email">student-info</code> template file and add some text:<div><pre class="programlisting">// app/templates/components/student-info.hbs
This is information before the yield&lt;br&gt;
{{yield}}
This is information after the yield</pre></div><p class="calibre14">The <code class="email">{{yield}}</code> expression in the component will be where the text in the block will be rendered.</p></li><li class="listitem" value="3">Add the new <code class="email">student-info</code> component to the application template file:<div><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{#student-info}}
    Information in block&lt;br&gt;
{{/student-info}}</pre></div><p class="calibre14">When in block form, designated by the hash <code class="email">#</code>, the information in the block will show up in <code class="email">{{yield}}</code>.</p></li><li class="listitem" value="4">After <a id="id316" class="calibre1"/>running <code class="email">ember server</code>, the following screen will be displayed:<div><img src="img/00037.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">As you can see, the component <code class="email">yield</code> template displayed the information in the block.</p></li></ol><div></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch06lvl2sec94" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">{{yield}}</code> Handlebars expression works by taking the information in the component block <a id="id317" class="calibre1"/>and rendering it. The block form is designated by the hash, <code class="email">#</code>. Inline components do not have the hash and do not yield information.</p></div></div></body></html>