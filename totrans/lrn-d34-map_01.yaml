- en: Gathering Your Cartography Toolbox
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Welcome to the world of cartography with D3\. In this chapter, you will be given
    all the tools you need to create a map using D3\. These tools exist freely and
    openly, thanks to the wonderful world of open source. Given that we are going
    to be speaking in terms of the web, our languages will be HTML, CSS, and JavaScript.
    After reading this book, you will be able to use all three languages effectively
    in order to create maps on your own.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Quick bootstrap
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Step-by-step bootstrap
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing key libraries and tools
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using the web browser as a development tool
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When creating maps in D3, your toolbox is extraordinarily light. The goal is
    to focus on creating data visualizations and remove the burden of heavy IDEs and
    map-making software.
  prefs: []
  type: TYPE_NORMAL
- en: Quick bootstrap
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The following instructions assume that Node.js , `npm`, and `git` are already
    installed on your system. If not, feel free to follow the *Step-by-Step bootstrap*
    section.
  prefs: []
  type: TYPE_NORMAL
- en: 'Type the following in the command line to install a light webserver::'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Install TopoJSON:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Clone the sample code with included libraries:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Go to the root project:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'To start the server type the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: You can download the example code files from your account at [http://www.packtpub.com](http://www.packtpub.com)
    for all the Packt Publishing books you have purchased. If you purchased this book
    elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, open your web browser to `http://localhost:8080/chapter-1/example-1.html`,
    and you should see the following map:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/9cd01d3a-43f6-4b21-99c5-3e33f3fea051.png)'
  prefs: []
  type: TYPE_IMG
- en: Step-by-step bootstrap
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The next section covers detailed instructions to set up your development environment
    if you do not have any of the required packages. By the end of the chapter, you
    will have a working environment for the rest of the book (an example of a running
    map and an initial look at tools used to create visualizations).
  prefs: []
  type: TYPE_NORMAL
- en: A lightweight web server
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Technically, most of the content we will craft can render directly in the browser
    without the use of a web server. However, we highly recommend you do not go ahead
    with this approach. Running a web server in your local development environment
    is extremely easy and provides several benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: Geographic information, statistical data, and visualization code can be clearly
    separated into isolated files
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: API calls can be stubbed and simulated, allowing easy integration into a full-stack
    application in the future
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It will prevent common mistakes when making AJAX calls to fetch geographic and
    statistical data (for example, the same-origin policy)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For our choice of web server and other tools in our toolbox, we will rely on
    a Node.js package named `http-server`. Node.js is a platform built on Chrome's
    JavaScript runtime, which is used to build fast, scalable network applications.
    The platform includes **Node Package Manager** (**npm**), which was created by
    other members of the vibrant Node.js community and allows the developer to quickly
    install packages of pre-built software.
  prefs: []
  type: TYPE_NORMAL
- en: 'To install Node.js, simply perform the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Go to the website [http://nodejs.org](http://nodejs.org).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the INSTALL button.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the downloaded package and follow the defaults.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To test the installation, type the following in the command line:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'Something similar should return:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: This means we have installed the given version of Node.js.
  prefs: []
  type: TYPE_NORMAL
- en: TopoJSON is a command-line utility used to create files in the TopoJSON-serialized
    format. The TopoJSON format will be discussed in detail in [Chapter 6](80f84fe0-7828-4ecc-9973-3e2bdef7ab55.xhtml),
    *Finding and Working with Geographic Data*. The TopoJSON utility is also installed
    via `npm`.
  prefs: []
  type: TYPE_NORMAL
- en: 'We have already installed Node.js and `npm`, so enter the following on the
    command line:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Once the installation is complete, you should check the version of TopoJSON
    installed on your machine just as we did with Node.js:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: If you see version 3.x, it means you have successfully installed TopoJSON.
  prefs: []
  type: TYPE_NORMAL
- en: TopoJSON uses `node-gyp` which has several dependencies based on the operating
    system. Please go to [http://github.com/TooTallNate/node-gyp](http://github.com/TooTallNate/node-gyp)
    for details.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you''re using Windows, the basic steps to get TopoJSON working are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Install Python 2.x (3.x not supported at the time of writing this book).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install Microsoft Visual Studio C++ 2012 for Desktop (Express).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Using the web browser as a development tool
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Although any modern browser supports **Scalable Vector Graphics** (**SVG**)
    and has some kind of console, we strongly recommend you use Google Chrome for
    these examples. It comes bundled with developer tools that will allow you to very
    easily open, explore, and modify the code. If you are not using Google Chrome,
    please go to [http://www.google.com/chrome](http://www.google.com/chrome) and
    install Google Chrome.
  prefs: []
  type: TYPE_NORMAL
- en: Installing the sample code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Go to [https://github.com/climboid/d3jsMaps](https://github.com/climboid/d3jsMaps)
    and either clone the repo, if you are familiar with Git cloning, or simply download
    the zipped version. Once it is downloaded, make sure to extract the file if you
    have it zipped.
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the command prompt or terminal to go to the directory where you downloaded
    your file. For instance, if you downloaded the file to your desktop, type in the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'To start the server type the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: The last command will launch the simple server we installed previously for the
    supplied sample code. This means that, if you open your browser and go to `http://localhost:8080/chapter-1/example-1.html`,
    you should see a map
  prefs: []
  type: TYPE_NORMAL
- en: of Europe, similar to the one shown earlier.
  prefs: []
  type: TYPE_NORMAL
- en: Working with the developer tools
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'It''s time to open the developer tools. In the top-right corner of the browser,
    you will see the icon as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/f5ed9df7-4f56-4a0b-9aea-1042f753eb7d.png)'
  prefs: []
  type: TYPE_IMG
- en: This icon opens a submenu. Click on More Tools, then click on Developer tools.
  prefs: []
  type: TYPE_NORMAL
- en: A panel will open at the bottom of the browser, containing all the developer
    tools at your disposal.
  prefs: []
  type: TYPE_NORMAL
- en: The option names mentioned here might differ according to the version of Chrome
    you are using.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/14c14339-fa60-4251-bca3-fc68c396d1c7.png)'
  prefs: []
  type: TYPE_IMG
- en: For quick access to developer tools on the Mac, use *alt* + command + *I*; for
    Windows PCs, use *Ctrl* + *Shift* + *I*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Within developer tools, you have a series of tabs (Elements, Network, Sources,
    and so on). These tools are extremely valuable and will allow you to inspect different
    aspects of your code. For more information on the Chrome developer tools, please
    go to this link: [https://developer.chrome.com/devtools/docs/authoring-development-workflow](https://developer.chrome.com/devtools/docs/authoring-development-workflow).'
  prefs: []
  type: TYPE_NORMAL
- en: Since we are going to focus on the Elements tab, click on it if it is not already
    selected.
  prefs: []
  type: TYPE_NORMAL
- en: 'You should see something similar to the preceding screenshot; it will have
    the following code statement:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: If you click on the SVG item, you should see it expand and display the path
    tag. The path tag will have several numbers and characters tied to a `d` attribute.
    These numbers are control points that draw the path. We will cover how the path
    is drawn in the next chapter and how path tags are used to create maps in [Chapter
    4](c22382c6-84d9-411f-b795-681df2321005.xhtml)*,* *Creating a Map* and [Chapter
    5](d2d3d4c7-b83a-4947-993a-84baa0f01674.xhtml)*,* *Click-Click Boom! Applying
    Interactivity to Your Map*.
  prefs: []
  type: TYPE_NORMAL
- en: 'We also want to draw your attention to how the HTML5 application loads the
    D3 library. Again, in the Elements tag, after the SVG tag, you should see the
    `<script>` tag pointing to D3.js and TopoJSON:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: If you click on the path located inside the SVG tag, you will see a new panel
    called the CSS inspector or the styles inspector. It shows and controls all the
    styles that are applied to a selected element, in this case, the path element.
  prefs: []
  type: TYPE_NORMAL
- en: 'These three components create a D3 visualization:'
  prefs: []
  type: TYPE_NORMAL
- en: HTML5 (the SVG and path elements)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: JavaScript (the D3.js library and map code)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CSS (the styling of the HTML5 elements)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating maps and visualizations using these three components will be discussed
    and analyzed throughout the book.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter reveals a quick glimpse of the steps for basic setup in order to
    have a well-organized codebase to create maps with D3\. You should become familiar
    with this setup because we will be using this convention throughout the book.
  prefs: []
  type: TYPE_NORMAL
- en: The remaining chapters will focus on creating detailed maps and achieving realistic
    visualizations through HTML, JavaScript, and CSS.
  prefs: []
  type: TYPE_NORMAL
- en: Let's go!
  prefs: []
  type: TYPE_NORMAL
