<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;1.&#xA0;Ember CLI Basics" id="E9OE1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01" class="calibre1"/>Chapter 1. Ember CLI Basics</h1></div></div></div><p class="calibre8">In this chapter, we will cover the following recipes:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Installing Ember CLI</li><li class="listitem">Creating your first project</li><li class="listitem">Exploring pods and the folder layout</li><li class="listitem">Asset compilation</li><li class="listitem">Dependency management</li><li class="listitem">Upgrading your project</li><li class="listitem">Deployment</li></ul></div></div>

<div class="book" title="Chapter&#xA0;1.&#xA0;Ember CLI Basics" id="E9OE1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch01lvl1sec09" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre8">Ember CLI is a <span class="strong"><strong class="calibre9">Node.js</strong></span>-based command-line interface tool designed for application programming in <a id="id0" class="calibre1"/>
<span class="strong"><strong class="calibre9">Ember.js</strong></span>. Since its creation, this tool has become the preferred method to create Ember applications.</p><p class="calibre8">Simply put, Ember CLI makes starting a new Ember application easy. In other frameworks, you might need to learn <a id="id1" class="calibre1"/>
<span class="strong"><strong class="calibre9">gulp</strong></span> or <span class="strong"><strong class="calibre9">grunt</strong></span> as your task runners. In Ember CLI, this is all built-in for <a id="id2" class="calibre1"/>you. Having Ember CLI in the Ember.js ecosystem is a game changer and makes this framework stand out above the rest.</p><p class="calibre8">Ember CLI handles testing, compiling, and upgrading, and even has a built-in web server. Ember CLI not only generates boilerplate code for you, but it also integrates nicely with many testing frameworks. It has a robust add-on system that extends the functionality well beyond its current capabilities.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Installing Ember CLI"><div class="book" id="F8902-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec10" class="calibre1"/>Installing Ember CLI</h1></div></div></div><p class="calibre8">The installation of <a id="id3" class="calibre1"/>Ember CLI is essential to learning Ember and will be used throughout this book.</p></div>

<div class="book" title="Installing Ember CLI">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec11" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre8">Before the <a id="id4" class="calibre1"/>installation of Ember CLI, we must have the <span class="strong"><strong class="calibre9">Node Package Manager</strong></span> (<span class="strong"><strong class="calibre9">npm</strong></span>) installed. <code class="email">npm</code> is a package manager for JavaScript and is installed by default with Node.js.</p><p class="calibre8">You must install version 0.12 or later of Node.js for Ember CLI to run. If you can, try to install version 4.0.0 or higher. This is the preferred version.</p><p class="calibre8">Node.js is available in <a id="id5" class="calibre1"/>several major platforms including Windows, Mac, and Linux. There are several ways to install Node.js:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">One-click installers</strong></span>: Many platforms such as Windows and Mac have this available</li><li class="listitem"><span class="strong"><strong class="calibre9">Homebrew</strong></span> or <span class="strong"><strong class="calibre9">MacPorts</strong></span>: This is useful for Mac OS users</li><li class="listitem"><span class="strong"><strong class="calibre9">Download TAR file</strong></span>: Download a TAR file of Node.js and extract</li><li class="listitem"><span class="strong"><strong class="calibre9">Install via the Linux package management system</strong></span>: Yum, apt-get, or pacman can be used to install on a Linux environment</li></ul></div><div class="book" title="A one-click installer for Windows or Mac"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec01" class="calibre1"/>A one-click installer for Windows or Mac</h3></div></div></div><p class="calibre8">This <a id="id6" class="calibre1"/>method is by far the easiest. To install node, you'll need to open the node website at <a class="calibre1" href="http://nodejs.org/download">http://nodejs.org/download</a>. Click on the <code class="email">pkg</code>, <code class="email">msi</code>, or <code class="email">exe</code> installer for Windows or Mac. Run it after it's downloaded.</p></div><div class="book" title="Homebrew or MacPorts for Mac"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec02" class="calibre1"/>Homebrew or MacPorts for Mac</h3></div></div></div><p class="calibre8">If you <a id="id7" class="calibre1"/>already have Homebrew installed, just run the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ brew install node</strong></span>
</pre></div><p class="calibre8">On the other hand, if you are running MacPorts, you can use the port install command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ sudo port install nodejs</strong></span>
</pre></div><div class="informalexample" title="Note"><h3 class="title2"><a id="tip02" class="calibre1"/>Tip</h3><p class="calibre8">MacPorts can be installed from <a class="calibre1" href="http://www.macports.org">http://www.macports.org</a>. Homewbrew can be installed from <a class="calibre1" href="http://brew.sh">http://brew.sh</a>. Both offer simple package management for OS X systems.</p></div></div><div class="book" title="A TAR file"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec03" class="calibre1"/>A TAR file</h3></div></div></div><p class="calibre8">A TAR file is a <a id="id8" class="calibre1"/>type of archive file. To install node via a TAR, you will need to download the TAR file from the Node.js website and extract and install it. One way of doing this is to use <code class="email">curl</code>.</p><p class="calibre8">I would only recommend this method if you are using a Linux distribution. If you are running on Linux, you'll need the right tools installed to compile from source. On Ubuntu, you'll need <a id="id9" class="calibre1"/>to install the build-essential and <code class="email">curl</code> packages:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ curl http://nodejs.org/dist/node-latest.tar.gz | tar xz --strip-components=1</strong></span>
<span class="strong"><strong class="calibre9">$ ./configure</strong></span>
<span class="strong"><strong class="calibre9">$ sudo make install</strong></span>
</pre></div></div><div class="book" title="The Linux package manager"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec04" class="calibre1"/>The Linux package manager</h3></div></div></div><p class="calibre8">All major <a id="id10" class="calibre1"/>Linux distributions offer Node.js packages. In Ubuntu, you can simply use <code class="email">apt-get</code>:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ sudo apt-get install nodejs</strong></span>
</pre></div><p class="calibre8">In Fedora, you can use <code class="email">yum</code>:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ yum install nodejs npm</strong></span>
</pre></div><p class="calibre8">Check with your Linux distribution to find out more details on how to install packages such as Node.js. Be aware that some distributions might offer outdated versions of Node.js. In this case, I would recommend that you use the <span class="strong"><strong class="calibre9">Node Version Manager</strong></span> (<span class="strong"><strong class="calibre9">NVM</strong></span>) installation method that will be discussed later.</p></div><div class="book" title="Test installation"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec05" class="calibre1"/>Test installation</h3></div></div></div><p class="calibre8">To test your <a id="id11" class="calibre1"/>installation, run the <code class="email">–v</code> command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ node –v</strong></span>
<span class="strong"><strong class="calibre9">$ npm –v</strong></span>
</pre></div><p class="calibre8">This will show the current installed version. Keep in mind that you must run v0.12 or above to run Ember CLI. If possible, try to run v4.0.0 or above.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip03" class="calibre1"/>Tip</h3><p class="calibre8">The <a id="id12" class="calibre1"/>NVM is a bash script that helps manage multiple active Node.js versions. NVM offers a very simple command-line interface to install any version of Node.js without having to visit the Node.js website. It separates each installation making it very easy to change between versions. I would recommend most beginners on Mac and Linux to run this. You can download NVM at <a class="calibre1" href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a>.</p></div></div></div></div>

<div class="book" title="Installing Ember CLI">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec12" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">We'll need <a id="id13" class="calibre1"/>to use <code class="email">npm</code> to install Ember CLI. We'll install it globally with the <code class="email">–g</code> option so that it can be run anywhere from the command line.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open the command prompt and type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ sudo npm install –g ember-cli</strong></span>
</pre></div><p class="calibre14">If NVM was installed, you don't need <code class="email">sudo</code> at the start of the command.</p></li><li class="listitem" value="2">After Ember CLI is installed, we'll need to download <a id="id14" class="calibre1"/><span class="strong"><strong class="calibre9">Bower</strong></span>. Bower is a package manager for client-side programming and another essential component of Ember.js. Node.js and npm must be installed before beginning the installation of Bower. We'll be using Bower to install all our client-side libraries:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ sudo npm install –g bower</strong></span>
</pre></div><p class="calibre14">Similar to the last command, you don't need <code class="email">sudo</code> at the start of the command if Node.js was installed via NVM.</p></li><li class="listitem" value="3">The last step is to install <a id="id15" class="calibre1"/><span class="strong"><strong class="calibre9">PhantomJS</strong></span>. PhantomJS is a scripted headless browser used to <a id="id16" class="calibre1"/>automate and test web pages. It's preferred by Ember CLI and needs to be installed:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install –g phantomjs</strong></span>
</pre></div></li><li class="listitem" value="4">If you are on Windows, install the Ember CLI Windows tool:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install ember-cli-windows –g</strong></span>
</pre></div></li><li class="listitem" value="5">Once installed, this tool can be run in any project directory:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember-cli-windows</strong></span>
</pre></div></li><li class="listitem" value="6">Make sure to download and install Git for Windows: <a class="calibre1" href="https://git-scm.com/downloads">https://git-scm.com/downloads</a><div class="note" title="Note"><h3 class="title2"><a id="note02" class="calibre1"/>Note</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Working with Windows</strong></span></p><p class="calibre8">Build times on Windows can be longer then Mac or Linux. The Ember CLI Windows tool can help speed up and optimize build performance. Just run it in the project directory. You can also download it as an add-on instead.</p><p class="calibre8">Another way to help with performance is to always run PowerShell/CMD with elevated privileges. Otherwise, performance issues and errors might occur. Lastly, try to use npm version 3 or higher. You may run into issues with long file paths with older versions in Windows.</p></div><p class="calibre14">Another handy tip is as follows:</p><div class="note" title="Note"><h3 class="title2"><a id="tip04" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Optional: Install Watchman</strong></span></p><p class="calibre8">Watchman is a file-watching service for OS X and UNIX-like operating systems. It was developed by Facebook and is a more effective way for Ember CLI to watch project changes. If it's not installed, Ember CLI will fall back to using <a id="id17" class="calibre1"/>
<span class="strong"><strong class="calibre9">NodeWatcher</strong></span>. NodeWatcher is more error-prone and has trouble observing large trees. Install Watchman if your platform supports it. To download and configure <a id="id18" class="calibre1"/>Watchman, visit <a class="calibre1" href="https://facebook.github.io/watchman/">https://facebook.github.io/watchman/</a>.</p></div></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Installing Ember CLI">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec13" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Ember CLI is written in <a id="id19" class="calibre1"/>Node.js and can be installed via npm. The tool interprets commands from the user to help create an Ember.js application. Each command from the user is looked up and then executed. Ember CLI relies on several other dependencies including Bower, Lodash, Broccoli, and Babel, to name a few.</p></div></div>

<div class="book" title="Installing Ember CLI">
<div class="book" title="There's more..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec14" class="calibre1"/>There's more...</h2></div></div></div><p class="calibre8">Let's take a look at commands and aliases.</p><div class="book" title="Commands"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec06" class="calibre1"/>Commands</h3></div></div></div><p class="calibre8">Once <a id="id20" class="calibre1"/>Ember CLI is installed, we'll have access to several commands. Here is a short list of some of the more important ones:</p><div class="informalexample"><table border="1" class="calibre16"><colgroup class="calibre17"><col class="calibre18"/><col class="calibre18"/></colgroup><thead class="calibre19"><tr class="calibre20"><th valign="bottom" class="calibre21">
<p class="calibre22">Command</p>
</th><th valign="bottom" class="calibre21">
<p class="calibre22">Purpose</p>
</th></tr></thead><tbody class="calibre23"><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This prints a list of available commands</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember new &lt;name-of-app&gt;</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This creates a directory called <code class="literal">&lt;name-of-app&gt;</code> and creates the application structure</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember init</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This creates an application in the current directory</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember build</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This builds the application in the <code class="literal">/dist</code> folder</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember server</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This starts a web server</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember generate &lt;generator-name&gt;</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This runs a generator that builds scaffolding for the project</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember destroy &lt;generator-name&gt;</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This uninstalls the module that was created by the generator</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember test</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This <a id="id21" class="indexterm"/>runs tests using <span><strong class="calibre25">Testem</strong></span></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember install &lt;addon-name&gt;</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This installs add-ons</p>
</td></tr></tbody></table></div></div><div class="book" title="Aliases"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec07" class="calibre1"/>Aliases</h3></div></div></div><p class="calibre8">Keep in mind <a id="id22" class="calibre1"/>that for every command, there is an alias. These aliases make it a little quicker to run commands. Suppose that you wanted to build a new project. Normally, you would type this:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember build</strong></span>
</pre></div><p class="calibre8">This will work and is fine. It will generate a new project and application structure. You can also use an alias.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember b</strong></span>
</pre></div><p class="calibre8">Here is a list of some common aliases that you can use. This is optional.</p><div class="informalexample"><table border="1" class="calibre16"><colgroup class="calibre17"><col class="calibre18"/><col class="calibre18"/></colgroup><thead class="calibre19"><tr class="calibre20"><th valign="bottom" class="calibre21">
<p class="calibre22">Command</p>
</th><th valign="bottom" class="calibre21">
<p class="calibre22">Alias</p>
</th></tr></thead><tbody class="calibre23"><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember build</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember b</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember generate</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember g</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember init</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember i</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember server</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember s</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember destroy</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember d</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember test</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember t</code></p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember version</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">ember v</code></p>
</td></tr></tbody></table></div></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Creating your first project" id="G6PI1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec11" class="calibre1"/>Creating your first project</h1></div></div></div><p class="calibre8">In this recipe we'll create our first project.</p></div>

<div class="book" title="Creating your first project" id="G6PI1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec15" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">We'll begin <a id="id23" class="calibre1"/>with the Ember CLI tool to create our first project.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open the command prompt and type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember new my-project</strong></span>
</pre></div><p class="calibre14">This will create a brand new project called <code class="email">my-project</code>. The project structure will have everything that we need to get started.</p></li><li class="listitem" value="2">To display this project, we can simply run the server command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ cd my-project</strong></span>
<span class="strong"><strong class="calibre9">$ ember server</strong></span>
</pre></div><p class="calibre14">The <code class="email">ember server</code> command will start up a web server on port 4200. You can access this port by opening <code class="email">http://localhost:4200</code>. You should see the default <span class="strong"><strong class="calibre9">Welcome to Ember website</strong></span>.</p><div class="note" title="Note"><h3 class="title2"><a id="tip05" class="calibre1"/>Tip</h3><p class="calibre8">It is a good idea to keep the Ember server running while developing your application. Ember CLI uses a <a id="id24" class="calibre1"/>tool called <span class="strong"><strong class="calibre9">LiveReload</strong></span> to refresh the web browser when changes are made. This can be useful to see how new changes are affecting your application. To run LiveReload, simply type <code class="email">ember server</code>. This will start the server with LiveReload.</p></div></li><li class="listitem" value="3">The server <a id="id25" class="calibre1"/>command defaults to port 4200. You can easily change this using the <code class="email">--port</code> argument:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember server --port 1234</strong></span>
</pre></div><p class="calibre14">This will start the server on port <code class="email">1234</code> instead of the default 4200.</p></li><li class="listitem" value="4">Another useful option is the <code class="email">--proxy</code> argument. This will proxy all <span class="strong"><strong class="calibre9">Asynchronous JavaScript and XML</strong></span> (<span class="strong"><strong class="calibre9">Ajax</strong></span>) requests to the given address. Let's say that we have a node server running on port <code class="email">8080</code>. We can run the server as follows:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember server --proxy http://127.0.0.1:8080</strong></span>
</pre></div><p class="calibre14">For every Ajax request, Ember now will send these requests to the localhost at port <code class="email">8080</code>.</p><div class="note" title="Note"><h3 class="title2"><a id="tip06" class="calibre1"/>Tip</h3><p class="calibre8">Keep in mind that as of Ember 2.0, <span class="strong"><strong class="calibre9">Internet Explorer</strong></span> (<span class="strong"><strong class="calibre9">IE</strong></span>) 8 support has been dropped. All modern web browsers and versions of IE after 8 work fine. If by chance IE 8 support is needed, Ember.js version 1.13 has extended browser support and should work with it.</p></div></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Creating your first project" id="G6PI1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec16" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The <code class="email">ember server</code> command <a id="id26" class="calibre1"/>creates a <span class="strong"><strong class="calibre9">Node.js Express server</strong></span>. This server uses LiveReload and refreshes the web page whenever any changes are made. The server command accepts different arguments, including <code class="email">--proxy</code> and <code class="email">--port</code>.</p></div></div>

<div class="book" title="Creating your first project" id="G6PI1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="There's more..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec17" class="calibre1"/>There's more...</h2></div></div></div><p class="calibre8">When running the server, you have access to tests. After you start the server, you'll have access to the <a id="id27" class="calibre1"/>
<span class="strong"><strong class="calibre9">QUnit</strong></span> interface. QUnit is a JavaScript unit testing framework. It is used to run your integration and acceptance tests. To access the interface, navigate your browser to <code class="email">http://localhost:4200/tests</code>. This will show all your tests in the project. From here, you can see <a id="id28" class="calibre1"/>which tests passed and which failed. We will cover this in the later chapters:</p><div class="mediaobject"><img src="../images/00002.jpeg" alt="There's more..." class="calibre10"/></div><p class="calibre11"> </p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Exploring pods and the folder layout"><div class="book" id="H5A42-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec12" class="calibre1"/>Exploring pods and the folder layout</h1></div></div></div><p class="calibre8">Ember CLI will <a id="id29" class="calibre1"/>create our folder structure for us. Ember.js uses the <span class="strong"><strong class="calibre9">model-view-controller</strong></span> (<span class="strong"><strong class="calibre9">MVC</strong></span>) pattern. You'll see in this recipe how the folder structure is laid out and <a id="id30" class="calibre1"/>how the model, controller, and view (templates) are separated from each other.</p></div>

<div class="book" title="Exploring pods and the folder layout">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec18" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre8">Ember CLI relies on <span class="strong"><strong class="calibre9">ES2015</strong></span> modules. This means that you can write code today using tomorrow's JavaScript syntax. This is <a id="id31" class="calibre1"/>accomplished via the <span class="strong"><strong class="calibre9">Ember Resolver</strong></span>.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip07" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">ES2015</strong></span></p><p class="calibre8">ECMAScript 6, also <a id="id32" class="calibre1"/>known as ES2015, is the upcoming version of the <a id="id33" class="calibre1"/>ECMAScript programming language. ES2015 includes several new features, including template strings, destructuring, arrow functions, modules, and class definitions, to name a few. This is all available now within your Ember project.</p></div><div class="book" title="Pods"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec08" class="calibre1"/>Pods</h3></div></div></div><p class="calibre8">An ember pod is a different type of structure that organizes your modules by feature instead of type. As <a id="id34" class="calibre1"/>your project grows, you may want to organize your project by feature to help keep things organized. The Ember Resolver will look for a pod structure first before it looks at the traditional structure.</p><p class="calibre8">To set up the pod structure automatically, you can edit the <code class="email">.ember-cli</code> file in the root of your project directory and add this line:</p><div class="informalexample"><pre class="programlisting">{
  "usePods": true
}</pre></div><div class="informalexample" title="Note"><h3 class="title2"><a id="tip08" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Downloading the example code</strong></span></p><p class="calibre8">You can download the example code files from your account at <a class="calibre1" href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a class="calibre1" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><p class="calibre8">This will set the default structure to always use pods. When using pods, it is a good idea to set the location where all pods live. To do this, you will need to edit the <code class="email">config/environment.js</code> file:</p><div class="informalexample"><pre class="programlisting">...
var ENV = {
  modulePrefix: 'pod-example',
  
..   podModulePrefix: 'pod-example/pods' </pre></div><p class="calibre8">The <code class="email">podModulePrefix</code> property sets the POD path with the following format, <code class="email">{appname}/{poddir}</code>. In the preceding example, the pod directory is now set to <code class="email">/pods</code> in the <code class="email">app</code> folder. If the location is not set, all new modules will be created in the <code class="email">app/</code> folder.</p></div></div></div>

<div class="book" title="Exploring pods and the folder layout">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec19" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">After a new project is created, a normal folder layout is generated. This layout consists of several different types of modules. Here is a short description of each directory:</p><div class="informalexample"><table border="1" class="calibre16"><colgroup class="calibre17"><col class="calibre18"/><col class="calibre18"/></colgroup><thead class="calibre19"><tr class="calibre20"><th valign="bottom" class="calibre21">
<p class="calibre22">Directory</p>
</th><th valign="bottom" class="calibre21">
<p class="calibre22">What it does</p>
</th></tr></thead><tbody class="calibre23"><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/adapters</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Adapters help extend logic to communicate with a backend data store</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/components</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Components are used to help reuse code and must have a dash in their name</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/helpers</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Helpers are used for HTML reuse</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/initializers</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Initializers are run first and help set up your application</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/mixins</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This is a special type of <span><strong class="calibre25">Ember.Object</strong></span> used with multiple inheritance</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/routes</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Routes help move through different application states</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/serializers</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">This serializes your data model</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/transform</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Transform is used to deserialize and serialize model attributes</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/utils</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Utils are small utility classes</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/models</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Models hold the data store</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/templates</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">Templates use HTMLBars to display HTML to the user</p>
</td></tr><tr class="calibre20"><td valign="top" class="calibre24">
<p class="calibre22"><code class="literal">app/templates/components</code></p>
</td><td valign="top" class="calibre24">
<p class="calibre22">These are templates used in your components</p>
</td></tr></tbody></table></div><p class="calibre8">A new project <code class="email">app</code> <a id="id35" class="calibre1"/>folder with a default layout will look similar to this:</p><div class="mediaobject"><img src="../images/00003.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre11"> </p><p class="calibre8">Each module will have its own directory. For example, the <code class="email">templates</code> folder will store all the templates while the <code class="email">components</code> controller will store all the components.</p><p class="calibre8">Let's say that we added a new post resource using pods. The following command will generate a new post model, route, and template, and it will update the router:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g resource posts</strong></span>
</pre></div><p class="calibre8">Now the filesystem will look like this:</p><div class="mediaobject"><img src="../images/00004.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre11"> </p><p class="calibre8">Pods sorts directories by features. The post and posts folders are features and the files are named after the <a id="id36" class="calibre1"/>function they serve.</p></div></div>

<div class="book" title="Exploring pods and the folder layout">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec20" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The directory structure in each Ember CLI project is by design. When creating a new project or generating new scaffolding, the CLI will place files in a certain directory with a certain naming structure that the Ember Resolver understands using the ES2015 format.</p><p class="calibre8">The Ember Resolver is responsible for the looking up of code in your application and converting the name conventions in the actual class files. With Ember pods, the resolver knows to look there <a id="id37" class="calibre1"/>first before the default structure.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Asset compilation" id="I3QM1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec13" class="calibre1"/>Asset compilation</h1></div></div></div><p class="calibre8">In this recipe we'll take a look at how assets are added to a project.</p></div>

<div class="book" title="Asset compilation" id="I3QM1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec21" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">In your <a id="id38" class="calibre1"/>application, at some point, you may want to add assets and minimize or fingerprint your project. This is done in the <code class="email">root</code> folder of your project in the <code class="email">ember-cli-build.js</code> file or in the <code class="email">asset</code> folder.</p><div class="book" title="CSS and assets"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec09" class="calibre1"/>CSS and assets</h3></div></div></div><p class="calibre8">All the assets <a id="id39" class="calibre1"/>should be placed in the <code class="email">public/assets</code> folder. The assets can be referred throughout the program at <code class="email">assets/images/{image file}</code>. CSS files should be placed in the <code class="email">app/styles</code> folder.</p></div><div class="book" title="Minifying"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec10" class="calibre1"/>Minifying</h3></div></div></div><p class="calibre8">By default, CSS and JavaScript files are minified during the production build process. There are ways <a id="id40" class="calibre1"/>to turn this functionality on and off. For example, let's say that you want to turn off the minification for both CSS and JavaScript. To do this, we can simply edit the <code class="email">ember-cli-build.js</code> file, and under the <code class="email">// Add options here</code> section, add the <code class="email">minifyCSS</code> and <code class="email">minifyJS</code> section:</p><div class="informalexample"><pre class="programlisting">module.exports = function(defaults) {
  var app = new EmberApp(defaults, {
    // Add options here
    minifyCSS: {
      enabled: false
    },
    minifyJS: {
      enabled: false
    }
  });</pre></div><p class="calibre8">This will tell the compiler not to minify JavaScript and CSS. To build the application in the production mode, simply use the <code class="email">--environment</code> argument:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember build --enviroment=production</strong></span>
</pre></div></div><div class="book" title="Fingerprinting"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec11" class="calibre1"/>Fingerprinting</h3></div></div></div><p class="calibre8">All files by default will <a id="id41" class="calibre1"/>be fingerprinted during the production build process. This will include all <code class="email">js</code>, <code class="email">css</code>, <code class="email">png</code>, <code class="email">jpg</code>, and <code class="email">gif</code> assets. During this process, all these files will have an md5 checksum appended at the end of their filenames. During this process, all HTML and css files will be rewritten to include these new names.</p><p class="calibre8">There are several options available when fingerprinting a file. This is all controlled in the <code class="email">ember-cli-build.js</code> file. Let's suppose that you wanted to disable fingerprinting:</p><div class="informalexample"><pre class="programlisting">…
fingerprint: {
 enabled: false
}
…</pre></div><p class="calibre8">Another useful option <a id="id42" class="calibre1"/>is to prepend a domain to all static files. This can be done using the <code class="email">prepend</code> option. Once again, this needs to be added to the <code class="email">ember-cli-build.js</code> file in the root of the <code class="email">application</code> folder:</p><div class="informalexample"><pre class="programlisting">…
fingerprint: {
   prepend: 'http://www.example.com'
}</pre></div><p class="calibre8">Now, all assets will include the <code class="email">www.example.com</code> domain. For example, a normal JavaScript <code class="email">src</code> file will look like this:</p><div class="informalexample"><pre class="programlisting">&lt;script src="assets/script.js"&gt;</pre></div><p class="calibre8">This will be transformed into the following:</p><div class="informalexample"><pre class="programlisting">&lt;script src="http://www.example.com/script-12324adfasdf123234.js"&gt;</pre></div><p class="calibre8">Another useful option is <code class="email">exclude</code>. This accepts an array of strings. Any filename in the <code class="email">exclude</code> array will not be fingerprinted:</p><div class="informalexample"><pre class="programlisting">fingerprint: {
  exclude: ['fonts/12424']
}</pre></div><p class="calibre8">The <code class="email">ignore</code> option also accepts an array of strings. Any filename that contains any item in the <code class="email">ignore</code> array will not be processed or fingerprinted:</p><div class="informalexample"><pre class="programlisting">fingerprint: {
  ignore: ['fonts/12424']
}</pre></div><p class="calibre8">The <code class="email">extension</code> option defaults to <code class="email">'js'</code>, <code class="email">'css'</code>, <code class="email">'png'</code>, <code class="email">'jpg'</code>, <code class="email">'gif'</code>, and <code class="email">'map'</code>. This option can be used to add other file types to get fingerprinted:</p><div class="informalexample"><pre class="programlisting">fingerprint: {
  extension: ['r3','html']
}</pre></div><p class="calibre8">The <code class="email">replaceExtensions</code> option defaults to <code class="email">'html'</code>, <code class="email">'css'</code>, and <code class="email">'js'</code>. If needed, new file types can be added to replace source code with new checksum file names:</p><div class="informalexample"><pre class="programlisting">fingerprint: {
  replaceExtensions: ['html','htm']
}</pre></div></div></div></div>

<div class="book" title="Asset compilation" id="I3QM1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec22" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The import process is done via the Broccoli asset pipeline library. This build tool performs all the fingerprinting, minifying, and importing of the assets. In addition, Broccoli handles all the preprocessors if the appropriate plugins are installed.</p><p class="calibre8">The asset manifest is <a id="id43" class="calibre1"/>located in the <code class="email">ember-cli-build.js</code> file in the root of the project folder. You can only import assets that are in the <code class="email">bower_components</code> or <code class="email">vendor</code> directories.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Dependency management" id="J2B81-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec14" class="calibre1"/>Dependency management</h1></div></div></div><p class="calibre8">Let's look at <a id="id44" class="calibre1"/>dependency management and how we can use it in our Ember projects.</p></div>

<div class="book" title="Dependency management" id="J2B81-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec23" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">Bower is used for dependency management for Ember CLI. Bower is a frontend tool that is used to help fetch and install packages that you might need.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">The <code class="email">bower.json</code> file is located in the <code class="email">root</code> folder of your project. It contains all the dependencies. Let's say that we want to install the <span class="strong"><strong class="calibre9">Bootstrap library</strong></span>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ bower install bootstrap --save</strong></span>
</pre></div><p class="calibre14">This command will install <code class="email">bootstrap</code> in the <code class="email">bower_components</code> folder and save the package information in the <code class="email">bower.json</code> file.</p><div class="note" title="Note"><h3 class="title2"><a id="tip09" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Ember add-ons</strong></span></p><p class="calibre8">Another popular way of adding third-party libraries to Ember is using add-ons or addons as you sometimes see it. An add-on is Ember's way of sharing libraries between applications. There are well over a thousand of them available.</p><p class="calibre8">You can install add-ons using Ember CLI. For example, to install Bootstrap, you'd type this on the command line in the project directory:</p><p class="calibre8"><code class="email">$ ember install ember-bootstrap</code></p><p class="calibre8">You can easily find a list of add-ons at these websites:</p><p class="calibre8"><a class="calibre1" href="http://www.emberobserver.com">http://www.emberobserver.com</a></p><p class="calibre8"><a class="calibre1" href="http://www.emberaddons.com">http://www.emberaddons.com</a></p><p class="calibre8">This will be discussed in more detail in the <span class="strong"><em class="calibre13">Working and creating add-ons</em></span> recipe in <a class="calibre1" title="Chapter 11. Real-Time Web Applications" href="part0088_split_000.html#2JTHG1-d21a6ad8148a415181fa52c0043435bb">Chapter 11</a>, <span class="strong"><em class="calibre13">Real-Time Web Applications</em></span>.</p></div></li><li class="listitem" value="2">If, for some reason, you need to reinstall your dependencies, you can run the <code class="email">install</code> command by itself:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ bower install</strong></span>
</pre></div><p class="calibre14">This will install <a id="id45" class="calibre1"/>all dependencies that are listed in the <code class="email">bower.json</code> file.</p></li></ol><div class="calibre15"/></div><div class="book" title="The app.import code"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec12" class="calibre1"/>The app.import code</h3></div></div></div><p class="calibre8">Ember CLI allows <a id="id46" class="calibre1"/>you to load <span class="strong"><strong class="calibre9">Asynchronous </strong></span><a id="id47" class="calibre1"/>
<span class="strong"><strong class="calibre9">Module Definition</strong></span> (<span class="strong"><strong class="calibre9">AMD</strong></span>) and non-AMD assets. It's a way of defining code modules and their dependencies.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To load a non-AMD asset, you'll need to import it using the <code class="email">ember-cli-build.js</code> file:<div class="informalexample"><pre class="programlisting">…
app.import('bower_components/moment/moment.js');</pre></div></li><li class="listitem" value="2">This is useful as you can use Bower to install components, and then use the <code class="email">app.import</code> AMD so that it's available in the program. You'll need to consult the package specification to see how to use it.<div class="note" title="Note"><h3 class="title2"><a id="tip10" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Tip on JSHint</strong></span></p><p class="calibre8">JSHint is a community-driven tool that detects errors and potential problems with JavaScript code. It's built-in in Ember CLI. When using non-AMD assets, you may get errors with JSHint if you have global variables. To fix this, add <code class="email">/* global MY_GLOBAL */</code> at the top of your module page. In the moment example, it would look like <code class="email">/* global moment */</code>.</p></div></li><li class="listitem" value="3">AMD assets are imported in a similar way. You add the path in the first argument and a list of exports and modules in the second:<div class="informalexample"><pre class="programlisting">app.import('bower_components/ic-ajax/dist/named-amd/main.js', {
  exports: {
    'ic-ajax': [
      'default',
      'defineFixture',
      'lookupFixture',
      'raw',
      'request',
    ]
  }
});</pre></div></li><li class="listitem" value="4">To use this asset in your application, you can import it as follows:<div class="informalexample"><pre class="programlisting">import { raw as icAjaxRaw } from 'ic-ajax';;</pre></div></li></ol><div class="calibre15"/></div></div></div></div>

<div class="book" title="Dependency management" id="J2B81-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec24" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Dependency management is done via Bower. After the dependency is installed, the Broccoli library is <a id="id48" class="calibre1"/>called on to add the assets to the pipeline. Both these tools are written in node and are built-in in Ember CLI.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Upgrading your project" id="K0RQ1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec15" class="calibre1"/>Upgrading your project</h1></div></div></div><p class="calibre8">Ember CLI is <a id="id49" class="calibre1"/>constantly being upgraded and every six weeks Ember.js has another release. It is important to keep your build tools and versions up to date. In this recipe we'll look at the best way of doing this.</p></div>

<div class="book" title="Upgrading your project" id="K0RQ1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec25" class="calibre1"/>How to do it...</h2></div></div></div><p class="calibre8">To upgrade your Ember CLI version, you must perform the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Begin by uninstalling the old <code class="email">ember-cli</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm uninstall –g ember-cli</strong></span>
</pre></div></li><li class="listitem" value="2">Clear the npm cache:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm cache clean</strong></span>
</pre></div></li><li class="listitem" value="3">Clear the Bower cache:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ bower cache clean</strong></span>
</pre></div></li><li class="listitem" value="4">Install the latest version of <code class="email">ember-cli</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install –g ember-cli</strong></span>
</pre></div></li><li class="listitem" value="5">If you need, you can specify the version to use represented by <code class="email">X.X.X</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install –g ember-cli@X.X.X</strong></span>
</pre></div></li></ol><div class="calibre15"/></div><div class="book" title="Updating an existing project"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec13" class="calibre1"/>Updating an existing project</h3></div></div></div><p class="calibre8">In some situations, you <a id="id50" class="calibre1"/>might want to take an existing project and update it to the latest version of Ember CLI. In this case, you'll need to perform the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Begin by changing directories that you want to upgrade in the root of the project folder. Delete these temporary development directories:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ rm –rf node_modules bower_components dist tmp</strong></span>
</pre></div></li><li class="listitem" value="2">Update the <code class="email">package.json</code> file with the version of Ember that we're upgrading to using this command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install ember-cli@X.X.X --save-dev</strong></span>
</pre></div><p class="calibre14"><code class="email">X.X.X</code> represents the version of <code class="email">ember-cli</code>. The <code class="email">--save-dev</code> argument will save the information in the <code class="email">package.json</code> file.</p></li><li class="listitem" value="3">Install all the npm and Bower packages again:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install</strong></span>
<span class="strong"><strong class="calibre9">$ bower install</strong></span>
</pre></div></li><li class="listitem" value="4">The last step is to run the <code class="email">init</code> command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember init</strong></span>
</pre></div><p class="calibre14">The <code class="email">init</code> command will add the default project blueprint to your directory.</p><div class="note" title="Note"><h3 class="title2"><a id="tip11" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">init</strong></span></p><p class="calibre8">The <code class="email">init</code> command will create a new application blueprint in your project directory. Follow the prompts and review all the changes. You may be asked to replace existing files. Press <span class="strong"><em class="calibre13">d</em></span> to do a diff of the files and review the changes made. Create a backup of your project before you begin the upgrade process.</p></div></li></ol><div class="calibre15"/></div><p class="calibre8">Keep in mind that after <a id="id51" class="calibre1"/>upgrading your project, you might have many new deprecation warnings to deal with. You will see these warnings when you run <code class="email">ember server</code>. Each one will need to be addressed.</p><p class="calibre8">To address these deprecations, view the warnings that the applications provide. For instance, you may get a warning about <code class="email">Ember.View</code>. The warning will describe that <code class="email">Ember.Component</code> should be used instead. You'll then need to swap out the effected code with Ember components instead of Ember views.</p></div></div></div>

<div class="book" title="Upgrading your project" id="K0RQ1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec26" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">When you upgrade the tool, you are simply uninstalling the node package and reinstalling the latest one. It's a good idea to clear the Bower and Node cache as well so that Node and Bower won't have any conflicting packages.</p><p class="calibre8">When we update an existing project we first have to make sure that all the existing modules and packages are deleted. This is important because when we install the latest version of Ember CLI, some packages might change. After <code class="email">ember-cli</code> is saved back in the package file, then you can install <code class="email">npm</code> and Bower again.</p><p class="calibre8">Running <code class="email">ember init</code> <a id="id52" class="calibre1"/>generates the application structure in the directory that you're in. This is important because some files may have changed since the last upgrade. You can always press <span class="strong"><em class="calibre13">d</em></span> to diff the changes.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Deployment" id="KVCC1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec16" class="calibre1"/>Deployment</h1></div></div></div><p class="calibre8">After creating your application you'll need to be able to deploy it. Let's take a look at a few ways to deploy your application.</p></div>

<div class="book" title="Deployment" id="KVCC1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec27" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">The first <a id="id53" class="calibre1"/>fundamental step before deployment is building your project. To build your application, run the <code class="email">build</code> command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember build</strong></span>
</pre></div></li><li class="listitem" value="2">This command builds the contents of the project in the <code class="email">/dist</code> folder. To build your project for production, you'll need to use the <code class="email">-prod</code> argument:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember build -prod</strong></span>
</pre></div></li><li class="listitem" value="3">If you need, you can designate the default output folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember build –prod –o&lt;directory&gt;</strong></span>
</pre></div></li></ol><div class="calibre15"/></div><p class="calibre8">Building your application for production will automatically minify your files as well as fingerprint them. This does not occur when your environment is set up for development, which is set by default.</p><p class="calibre8">The <code class="email">/dist</code> folder has everything that your web server needs. At this point, to deploy your application, all you need to do is copy the contents of the <code class="email">/dist</code> folder to your web server.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip12" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Ember CLI Deploy</strong></span></p><p class="calibre8">Another great way to <a id="id54" class="calibre1"/>deploy your Ember application is to use the Ember add-on called <span class="strong"><strong class="calibre9">Ember CLI Deploy</strong></span>. This add-on helps you deploy your Ember application to a number of different services. It has a very active community behind it so you can expect frequent updates. As your Ember applications grows you may want to take a look at this. You can find more information about Ember CLI deploy here: <a class="calibre1" href="https://github.com/ember-cli/ember-cli-deploy">https://github.com/ember-cli/ember-cli-deploy</a>.</p></div><div class="book" title="Deploying to Firebase"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch01lvl3sec14" class="calibre1"/>Deploying to Firebase</h3></div></div></div><p class="calibre8">Firebase is a backend <a id="id55" class="calibre1"/>service that can handle data storage, user authentication, static hosting, and more. For this example we'll be using Firebase as a way to <a id="id56" class="calibre1"/>host our Ember application.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Sign up for an account with Firebase. This can be done at <a class="calibre1" href="http://www.firebase.com">http://www.firebase.com</a>.</li><li class="listitem" value="2">Next, install the <code class="email">firebase-tools</code>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ npm install –g firebase-tools</strong></span>
</pre></div></li><li class="listitem" value="3">After you have a project created and you're ready to deploy, run the <code class="email">firebase init</code> command in the root of the folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ firebase init</strong></span>
</pre></div><p class="calibre14">After running this command, you'll be asked a few questions. It will first ask you to sign in to your Firebase account. Enter your credentials to continue. Then, it will ask for the name of your Firebase application. Lastly, it will ask for the name of your app's public directory. In most cases, this should be <code class="email">/dist</code>.</p></li><li class="listitem" value="4">Edit the <a id="id57" class="calibre1"/><code class="email">firebase.json</code> file and add some rewrite rules:<div class="informalexample"><pre class="programlisting">{
  "firebase": "my-new-app",
  "public": "dist",
  "rewrites": [{
    "source": "**",
    "destination": "/index.html"
  }],
}</pre></div><p class="calibre14">This is needed to help with navigation in the application. Change <code class="email">my-new-app</code> to the name of your app as well.</p></li><li class="listitem" value="5">All that's left is to deploy to Firebase:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ firebase deploy</strong></span>
</pre></div></li></ol><div class="calibre15"/></div></div></div></div>

<div class="book" title="Deployment" id="KVCC1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec28" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The Ember CLI build process is compiled using the Broccoli asset pipeline and the build tool itself. It takes all the files and minifies, fingerprints, and organizes them in the <code class="email">/dist</code> folder so that it is ready to be deployed.</p><p class="calibre8">Many services exist <a id="id58" class="calibre1"/>that can host static files. You can use Firebase or just host it in your own Nginx or Apache server after building it for production.</p></div></div></body></html>