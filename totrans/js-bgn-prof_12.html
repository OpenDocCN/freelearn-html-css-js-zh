<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer093">&#13;
    <h1 class="chapterNumber">12</h1>&#13;
    <h1 id="_idParaDest-355" class="chapterTitle">Intermediate JavaScript</h1>&#13;
    <p class="normal">The concepts and solution approaches presented up to this point in the book are not the only way to think about solving issues. In this chapter, we will challenge you to look a little deeper, be curious, and practice the good habit of optimizing solutions.</p>&#13;
    <p class="normal">In previous chapters, you were promised great things about this chapter because the optimal use of some built-in methods require knowledge of regular expressions, which we will cover in this chapter. There is a lot more fun to be had though—here is a list of topics that we'll cover:</p>&#13;
    <ul>&#13;
      <li class="bullet">Regular expressions</li>&#13;
      <li class="bullet">Functions and the arguments object</li>&#13;
      <li class="bullet">JavaScript hoisting</li>&#13;
      <li class="bullet">Strict mode</li>&#13;
      <li class="bullet">Debugging</li>&#13;
      <li class="bullet">Using cookies</li>&#13;
      <li class="bullet">Local storage</li>&#13;
      <li class="bullet">JSON</li>&#13;
    </ul>&#13;
    <p class="normal">As you can see, a selection of diverse topics, but all advanced and fun. The sections in this chapter are not as related to each other as you might have gotten used to by now. They are mostly individual topics that can help to really enhance your understanding and improve your JavaScript knowledge a lot.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">Note: exercise, project and self-check quiz answers can be found in the <em class="italic">Appendix</em>.</p>&#13;
    </div>&#13;
    <h1 id="_idParaDest-356" class="title">Regular expressions</h1>&#13;
    <p class="normal"><strong class="keyword">Regular expressions</strong>, also<a id="_idIndexMarker612"/> known as <strong class="keyword">regex</strong>, are simply ways to describe text patterns. You can consider them next-level strings. There are different regex implementations. This means that depending on the interpreter, regex might differ a bit in the way they're written. However, they are somewhat standardized, so you write them (almost) the same for all versions of regex. We are going to use regex for JavaScript.</p>&#13;
    <p class="normal">Regex <a id="_idIndexMarker613"/>can be very useful in many situations, for example when you need to look for errors in a large file or retrieve the browser agent a user is using. They can also be used for form validation, as with regex you can specify valid patterns for field entries such as email addresses or phone numbers.</p>&#13;
    <p class="normal">Regex is not only useful for finding strings, but can also be used for replacing strings. By now you might think, <em class="italic">so regex is amazing, but is there a catch?</em> And yes, unfortunately, there is a catch. At first, regex might kind of look like your neighbor's cat walked over your keyboard and just typed some random characters by accident. This regex checks for a valid email, for example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/g&#13;
</code></pre>&#13;
    <p class="normal">Fear not, after this section, you will be able to decipher the secret patterns within the regex. We are not going to go through everything there is to say about regex, but we will establish a solid level of familiarity that will allow you to work with them and expand your knowledge as you go.</p>&#13;
    <p class="normal">Let's start off easy. The regex pattern is specified between two slashes. This is a valid regex expression:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">/JavaScript/&#13;
</code></pre>&#13;
    <p class="normal">The above expression will match if a given string contains the word <code class="Code-In-Text--PACKT-">JavaScript</code>. When it matches, this means the result is positive. And this can be used to do many things.</p>&#13;
    <p class="normal">We can use the JavaScript built-in <code class="Code-In-Text--PACKT-">match()</code> function for this. This function returns the regex match on the result (if there is one) in the form of the substring that matched the starting position of this string and the input string. </p>&#13;
    <p class="normal">There are actually other built-in functions that use regex, but we will see them later. <code class="Code-In-Text--PACKT-">match()</code> is just a convenient function to demonstrate how regex works. You can see it in action here:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/javascript/</span>));&#13;
</code></pre>&#13;
    <p class="normal">This logs null because it is case-sensitive by default and therefore is not a match. If we had looked for <code class="Code-In-Text--PACKT-">/ava/</code> or simply <code class="Code-In-Text--PACKT-">/a/</code>, it would have matched because it contains <code class="Code-In-Text--PACKT-">ava</code> and <code class="Code-In-Text--PACKT-">a</code>. If you want it to be case-insensitive, you can specify this using an <code class="Code-In-Text--PACKT-">i</code> after the slash. In this case-insensitive example, the expression will match the previous string:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/javascript/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will actually<a id="_idIndexMarker614"/> log the result, because it is now case-insensitive, and from that point of view, our string does contain <code class="Code-In-Text--PACKT-">javascript</code>. Here is the result:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[&#13;
  'JavaScript',&#13;
  index: 7,&#13;
  input: 'I love JavaScript!',&#13;
  groups: undefined&#13;
]&#13;
</code></pre>&#13;
    <p class="normal">The result is an object, containing the found match and the index it started on, as well as the input that was looked through. The groups are undefined. You can create groups with round parentheses, as you'll see when we get to the section on groups.</p>&#13;
    <p class="normal">You can often find regex in JavaScript in combination with the built-in search and replace method on strings, which we'll cover next.</p>&#13;
    <h2 id="_idParaDest-357" class="title">Specifying multiple options for words</h2>&#13;
    <p class="normal">In order to specify a<a id="_idIndexMarker615"/> certain range of options, we can use this syntax:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/javascript|nodejs|react/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">Here, the expression matches either <code class="Code-In-Text--PACKT-">javascript</code>, <code class="Code-In-Text--PACKT-">nodejs</code>, or <code class="Code-In-Text--PACKT-">react</code>. At this point, we are only matching for the first encounter and then we quit. So this is not going to find two or more matches right now—it will output the same thing as before:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love React and JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/javascript|nodejs|react/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">It logs this:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[&#13;
  'React',&#13;
  index: 7,&#13;
  input: 'I love React and JavaScript!',&#13;
  groups: undefined&#13;
]&#13;
</code></pre>&#13;
    <p class="normal">If we wanted to find all matches, we could specify the global modifier, <code class="Code-In-Text--PACKT-">g</code>. It is very similar to what we did for case-insensitive searches. In this example, we are checking for all matches, and it is case-insensitive. All the modifiers are behind the last slash. You can use multiple modifiers at the same time as we do below, or you could decide to only use <code class="Code-In-Text--PACKT-">g</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love React and JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/javascript|nodejs|react/gi</span>));&#13;
</code></pre>&#13;
    <p class="normal">This returns both <code class="Code-In-Text--PACKT-">React</code> and <code class="Code-In-Text--PACKT-">JavaScript</code> as a result:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'React', 'JavaScript' ]&#13;
</code></pre>&#13;
    <p class="normal">As you can see, the<a id="_idIndexMarker616"/> result looks very different now. As soon as you specify <code class="Code-In-Text--PACKT-">g</code>, the match function will just return an array of the matching words. This is not too exciting in this case, since these are the words we asked for. But it can be more of a surprise with a more complex pattern. This is exactly what we'll learn next.</p>&#13;
    <h2 id="_idParaDest-358" class="title">Character options</h2>&#13;
    <p class="normal">So far, our expressions are<a id="_idIndexMarker617"/> quite readable, right? The character options are where things start to look, well, intense. Say we want to search for a string of only one character equal to <code class="Code-In-Text--PACKT-">a</code>, <code class="Code-In-Text--PACKT-">b</code>, or <code class="Code-In-Text--PACKT-">c</code>. We would write it like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"d"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[abc]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will return <code class="Code-In-Text--PACKT-">null</code> because <code class="Code-In-Text--PACKT-">d</code> is not <code class="Code-In-Text--PACKT-">a</code>, <code class="Code-In-Text--PACKT-">b</code>, or <code class="Code-In-Text--PACKT-">c</code>. We can include <code class="Code-In-Text--PACKT-">d</code> like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[abcd]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will log:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'd', index: 0, input: 'd', groups: undefined ]&#13;
</code></pre>&#13;
    <p class="normal">Since this is a range of characters, we can write it shorter, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"d"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-d]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">And if we wanted any letter, lowercase or uppercase, we would write this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"t"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-zA-Z]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">We could actually also use the case-insensitive modifier to achieve the same thing, but this would apply to the regex pattern as a whole, and you might only need it to apply for the specific character:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-z]/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">We would get a match on both of the preceding options. If we wanted to include numbers as well, we would write:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-zA-Z0-9]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">As you can see, we <a id="_idIndexMarker618"/>can just concatenate ranges to specify one character, much like we could concatenate possible options for that specific character, like <code class="Code-In-Text--PACKT-">[abc]</code>. The example above specifies three possible ranges. It will match any lowercase or uppercase letter from a to z and all numeric characters as well.</p>&#13;
    <p class="normal">It doesn't mean that it can only match a one-character string by the way; it will just match the first matching character in this case because we didn't add the global modifier. However, these special characters won't match:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"äé!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-zA-Z0-9]/</span>));&#13;
</code></pre>&#13;
    <p class="normal">To address the difficulty of complex characters not matching an expression, the dot functions as a special wildcard character in regex that can match any character. So what do you think this does?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"Just some text."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/./g</span>));&#13;
</code></pre>&#13;
    <p class="normal">Since it has the global modifier, it is going to match any character. This is the result:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[&#13;
  'J', 'u', 's', 't',&#13;
  ' ', 's', 'o', 'm',&#13;
  'e', ' ', 't', 'e',&#13;
  'x', 't', '.'&#13;
]&#13;
</code></pre>&#13;
    <p class="normal">But what if you only wanted to find a match for the dot character itself? If you want a special character (one that is used in regex to specify a pattern) to have a normal meaning, or a normal character to have a special meaning, you can escape it using the backslash:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"Just some text."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/\./g</span>));&#13;
</code></pre>&#13;
    <p class="normal">In this example, we escape the dot by adding a preceding backslash. Therefore, it doesn't function as a wildcard and it is going to look for a literal match. This is what it will return:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ '.' ]&#13;
</code></pre>&#13;
    <p class="normal">There are some normal <a id="_idIndexMarker619"/>characters that get a special meaning by adding a backslash before them. We are not going to cover them in depth, but let's have a look at some examples:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I'm 29 years old."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/\d/g</span>));&#13;
</code></pre>&#13;
    <p class="normal">If we escape the d, <code class="Code-In-Text--PACKT-">\d</code>, it matches any digit. We are doing a global search so it will specify any digit. This is the result:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ '2', '9' ]&#13;
</code></pre>&#13;
    <p class="normal">We can also escape the s, <code class="Code-In-Text--PACKT-">\s</code>, which matches all whitespace characters:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"Coding is a lot of fun!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/\s/g</span>));&#13;
</code></pre>&#13;
    <p class="normal">The above example will just return a few spaces, but tabs and other types of whitespace are also included:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ ' ', ' ', ' ', ' ', ' ' ]&#13;
</code></pre>&#13;
    <p class="normal">A very useful one is <code class="Code-In-Text--PACKT-">\b</code>, which matches text only when it's at the beginning of a word. So, in the following example, it is not going to match the instances of <code class="Code-In-Text--PACKT-">in</code> in <code class="Code-In-Text--PACKT-">beginning</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"In the end or at the beginning?"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/\bin/gi</span>));&#13;
</code></pre>&#13;
    <p class="normal">This is what it will end up logging:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'In' ]&#13;
</code></pre>&#13;
    <p class="normal">Even though you can<a id="_idIndexMarker620"/> check for characters being numbers, the <code class="Code-In-Text--PACKT-">match()</code> method belongs to the <code class="Code-In-Text--PACKT-">string</code> object, so you implement it on numeric variables. For example, try the following:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> nr = <span class="hljs-number">357</span>;&#13;
<span class="hljs-built_in">console</span>.log(nr.match(<span class="hljs-regexp">/3/g</span>));&#13;
</code></pre>&#13;
    <p class="normal">You should receive a <code class="Code-In-Text--PACKT-">TypeError</code> saying that <code class="Code-In-Text--PACKT-">nr.match()</code> is not a function.</p>&#13;
    <h2 id="_idParaDest-359" class="title">Groups</h2>&#13;
    <p class="normal">There are many<a id="_idIndexMarker621"/> reasons to group your regex. Whenever you want to match a group of characters, you can surround them with parentheses. Have a look at this example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/(love|dislike)\s(javascript|spiders)/gi</span>));&#13;
</code></pre>&#13;
    <p class="normal">Here it is going to look for either <code class="Code-In-Text--PACKT-">love</code> or <code class="Code-In-Text--PACKT-">dislike</code>, followed by a whitespace character, followed by <code class="Code-In-Text--PACKT-">javascript</code> or <code class="Code-In-Text--PACKT-">spiders</code>, and it will do so for all occurrences while ignoring whether they are in uppercase or lowercase. This is what it will log:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'love JavaScript' ]&#13;
</code></pre>&#13;
    <p class="normal">Let's just say we can match on roughly four combinations here. Two of them seem to make more sense to me personally:</p>&#13;
    <ul>&#13;
      <li class="bullet">Love spiders</li>&#13;
      <li class="bullet">Dislike spiders</li>&#13;
      <li class="bullet">Love JavaScript</li>&#13;
      <li class="bullet">Dislike JavaScript</li>&#13;
    </ul>&#13;
    <p class="normal">Groups are very powerful when we know how to repeat them. Let's see how to do that. Very often, you'll find yourself in need of repeating a certain regex piece. We have several options for this. For example, if we want to match any four alphanumeric characters in a sequence, we could just write this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/[a-zA-Z0-9][a-zA-Z0-9][a-zA-Z0-9][a-zA-Z0-9]/g</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will produce the following as output:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'love', 'Java', 'Scri' ]&#13;
</code></pre>&#13;
    <p class="normal">This is a terrible way to go about repeating a block: let's look for better options. If we only want it to be present 0 or 1 times, we can use the question mark. So this is for optional characters, for example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"You are doing great!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/n?g/gi</span>));&#13;
</code></pre>&#13;
    <p class="normal">This looks for a <code class="Code-In-Text--PACKT-">g</code> character that may or not may be preceded by an <code class="Code-In-Text--PACKT-">n</code>. Therefore, this will log:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'ng', 'g' ]&#13;
</code></pre>&#13;
    <p class="normal">Arguably, one time<a id="_idIndexMarker622"/> is not really an example of repeating. Let's look at getting more repetitions. If you want something at least once, but optionally more often, you can use the plus sign: <code class="Code-In-Text--PACKT-">+</code>. Here is an example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"123123123"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/(123)+/</span>));&#13;
</code></pre>&#13;
    <p class="normal">This is going to match for the group <code class="Code-In-Text--PACKT-">123</code> one or more times. And since this string is present, it will find a match. This is what will be logged:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ '123123123', '123', index: 0, input: '123123123', groups: undefined ]&#13;
</code></pre>&#13;
    <p class="normal">It matches the whole string in this case, since it is just <code class="Code-In-Text--PACKT-">123</code> repeated. There are also situations where you want to have a certain piece of regex match any number of times, which can be indicated with the asterisk: <code class="Code-In-Text--PACKT-">*</code>. Here is an example regex pattern:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">/(123)*a/&#13;
</code></pre>&#13;
    <p class="normal">It will match with any <code class="Code-In-Text--PACKT-">a</code> preceded by <code class="Code-In-Text--PACKT-">123</code> any number of times. So it will match on the following, for example:</p>&#13;
    <ul>&#13;
      <li class="bullet">123123123a</li>&#13;
      <li class="bullet">123a</li>&#13;
      <li class="bullet">a</li>&#13;
      <li class="bullet">ba</li>&#13;
    </ul>&#13;
    <p class="normal">The last thing to note about repeating is that we can be more specific as well. We do this using this syntax <code class="Code-In-Text--PACKT-">{min, max}</code>. Here is an example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"abcabcabc"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/(abc){1,2}/</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will log:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'abcabc', 'abc', index: 0, input: 'abcabcabc', groups: undefined ]&#13;
</code></pre>&#13;
    <p class="normal">It does this because it will match on <code class="Code-In-Text--PACKT-">abc</code> both once and twice. As you can see, we have been using groups, but <code class="Code-In-Text--PACKT-">groups</code> is still <code class="Code-In-Text--PACKT-">undefined</code> in the output. In order to specify groups, we'll have to <a id="_idIndexMarker623"/>name them. Here's an example of how to do it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"I love JavaScript!"</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.match(<span class="hljs-regexp">/(?&lt;language&gt;javascript)/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">This will output:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[&#13;
  'JavaScript',&#13;
  'JavaScript',&#13;
  index: 7,&#13;
  input: 'I love JavaScript!',&#13;
  groups: [Object: null prototype] { language: 'JavaScript' }&#13;
]&#13;
</code></pre>&#13;
    <p class="normal">There is more to say about regex, but this should already enable you to do quite a lot of cool things with it. Let's have a look at some practical examples.</p>&#13;
    <h2 id="_idParaDest-360" class="title">Practical regex</h2>&#13;
    <p class="normal">Regex can be of great use in many situations—anywhere you need to match certain string patterns, regex will come in handy. We are going to discuss how you can use regex in combination with other string methods, and how you can use it to validate email addresses and IPv4 addresses.</p>&#13;
    <h3 id="_idParaDest-361" class="title">Searching and replacing strings</h3>&#13;
    <p class="normal">In <em class="chapterRef">Chapter 8</em>, <em class="italic">Built-In JavaScript Methods</em>, we saw the search and replace methods on strings. We would have liked our <a id="_idIndexMarker624"/>search to be case-insensitive, though. Guess what—we can use regex for this!</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"That's not the case."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.search(<span class="hljs-regexp">/Case/i</span>));&#13;
</code></pre>&#13;
    <p class="normal">Adding the <code class="Code-In-Text--PACKT-">i</code> modifier here ignores the distinction between uppercase and lowercase. This code returns <code class="Code-In-Text--PACKT-">15</code>, which is the starting index position of the match. This cannot be done using the normal string input.</p>&#13;
    <p class="normal">How do you think we can alter the behavior of the replace method using regex in such a way that we can replace all instances rather than the first instance of a string? Again, with a modifier! We use the global modifier (<code class="Code-In-Text--PACKT-">g</code>) for this. To get a feel for the difference, look at this expression<a id="_idIndexMarker625"/> without <code class="Code-In-Text--PACKT-">g</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"Coding is fun. Coding opens up a lot of opportunities."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.replace(<span class="hljs-string">"Coding"</span>, <span class="hljs-string">"JavaScript"</span>));&#13;
</code></pre>&#13;
    <p class="normal">This is what it outputs:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">JavaScript is fun. Coding opens up a lot of opportunities.&#13;
</code></pre>&#13;
    <p class="normal">Without regex, it only replaces the first encounter. This time, let's see it with the <code class="Code-In-Text--PACKT-">g</code> global modifier:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> text = <span class="hljs-string">"Coding is fun. Coding opens up a lot of opportunities."</span>;&#13;
<span class="hljs-built_in">console</span>.log(text.replace(<span class="hljs-regexp">/Coding/g</span>, <span class="hljs-string">"JavaScript"</span>));&#13;
</code></pre>&#13;
    <p class="normal">The result is as follows:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">JavaScript is fun. JavaScript opens up a lot of opportunities.&#13;
</code></pre>&#13;
    <p class="normal">As you can see, all occurrences are replaced.</p>&#13;
    <h4 class="title">Practice exercise 12.1</h4>&#13;
    <p class="normal">Find and replace strings. The following exercise involves replacing characters in a specified string value. The first input field will indicate which character string will be replaced, and the second input field will indicate which characters will replace them once the button is clicked. </p>&#13;
    <p class="normal">Use the HTML below as a template, and add the JavaScript needed to complete the task:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Complete JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;</span>Complete JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    Search for:&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"sText"</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span> Replace with:&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"rText"</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>Replace<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered">Select each of the three page elements using JavaScript and assign the element objects as variables so that they can be easily referenced in your code.</li>&#13;
      <li class="numbered">Add an event listener to the button to invoke a function when clicked.</li>&#13;
      <li class="numbered">Create a function named <code class="Code-In-Text--PACKT-">lookup()</code> that will find and replace the text in the output element. Assign the output element's text content to a variable named <code class="Code-In-Text--PACKT-">s</code>, and then assign the value of the input we are replacing to another variable named <code class="Code-In-Text--PACKT-">rt</code>.</li>&#13;
      <li class="numbered">Create a new regex with the value of the first input field, which will allow you to replace the text. Using the regex, check for a match with the <code class="Code-In-Text--PACKT-">match()</code> method. Wrap this with a condition that will execute a block of code if matches are found. </li>&#13;
      <li class="numbered">If the match is found, use <code class="Code-In-Text--PACKT-">replace()</code> to set the new value.</li>&#13;
      <li class="numbered">Update the output area with the newly created and updated text output.</li>&#13;
    </ol>&#13;
    <h3 id="_idParaDest-362" class="title">Email validation</h3>&#13;
    <p class="normal">In order to create a<a id="_idIndexMarker626"/> regex pattern, we need to be able to describe the pattern with words first. Email addresses consist of five parts, in the form of <code class="Code-In-Text--PACKT-">[name]@[domain].[extension]</code>.</p>&#13;
    <p class="normal">Here are the five parts explained:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1"><code class="Code-In-Text--PACKT-">name</code>: One or more alphanumerical characters, underscores, dashes, or dots</li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">@</code>: Literal character</li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">domain</code>: One or more alphanumerical characters, underscores, dashes, or dots</li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">.</code>: Literal dot</li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">extension</code>: One or more alphanumerical characters, underscores, dashes, or dots</li>&#13;
    </ol>&#13;
    <p class="normal">So, let's do the steps for regex:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1"><code class="Code-In-Text--PACKT-">[a-zA-Z0-9._-]+</code></li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">@</code></li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">[a-zA-Z0-9._-]+</code></li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">\.</code> (remember, the dot is a special character in regex, so we need to escape it)</li>&#13;
      <li class="numbered"><code class="Code-In-Text--PACKT-">[a-zA-Z0-9._-]+</code></li>&#13;
    </ol>&#13;
    <p class="normal">Putting it all together:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">/([a-zA-Z0-<span class="hljs-number">9.</span>_-]+@[a-zA-Z0-<span class="hljs-number">9.</span>_-]+\.[a-zA-Z0-<span class="hljs-number">9.</span>_-]+)/g&#13;
</code></pre>&#13;
    <p class="normal">Let's look at this regex in action:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> emailPattern = <span class="hljs-regexp">/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/g</span>;&#13;
<span class="hljs-keyword">let</span> validEmail = <span class="hljs-string">"maaike_1234@email.com"</span>;&#13;
<span class="hljs-keyword">let</span> invalidEmail = <span class="hljs-string">"maaike@mail@.com"</span>;&#13;
<span class="hljs-built_in">console</span>.log(validEmail.match(emailPattern));&#13;
<span class="hljs-built_in">console</span>.log(invalidEmail.match(emailPattern));&#13;
</code></pre>&#13;
    <p class="normal">We tested the pattern on both a valid and an invalid email address, and this is the output:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">[ 'maaike_1234@email.com' ]&#13;
null&#13;
</code></pre>&#13;
    <p class="normal">As you can see, it returns a result for the valid email and it returns null (no match) for the invalid email.</p>&#13;
    <h4 class="title">Practice exercise 12.2</h4>&#13;
    <p class="normal">Create an application that uses JavaScript to check whether the string value of an input is a validly formatted email using regex. Look at the following template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"Enter Email"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>Check<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Use the above template code to start creating your application. Within the JavaScript code, select the <code class="Code-In-Text--PACKT-">input</code>, <code class="Code-In-Text--PACKT-">output</code>, and <code class="Code-In-Text--PACKT-">button</code> elements from the page as JavaScript objects.</li>&#13;
      <li class="numbered">Add an event listener to the button to run a block of code when clicked that will get the current value in the input field. Create a blank response value that will populate the output <code class="Code-In-Text--PACKT-">div</code> element contents.</li>&#13;
      <li class="numbered">Add a test with the string value from the input field and the expression for email format. If the test result is <code class="Code-In-Text--PACKT-">false</code>, update the response output to say <code class="Code-In-Text--PACKT-">Invalid Email</code> and change the output color to <code class="Code-In-Text--PACKT-">red</code>. </li>&#13;
      <li class="numbered">If the condition of the test returns <code class="Code-In-Text--PACKT-">true</code>, add a response that confirms the email format is correct and change the text color of output to <code class="Code-In-Text--PACKT-">green</code>.</li>&#13;
      <li class="numbered">Output the response value into the output element.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-363" class="title">Functions and the arguments object</h1>&#13;
    <p class="normal">JavaScript deals with arguments in functions<a id="_idIndexMarker627"/> by adding them to a custom object called <code class="Code-In-Text--PACKT-">arguments</code>. This object works a lot like an array, and we can use it instead of using the name of the parameter. Consider the following code:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">test</span><span class="hljs-function">(</span><span class="hljs-params">a, b, c</span><span class="hljs-function">) </span>{&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"first:"</span>, a, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]);&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"second:"</span>, b, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]);&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"third:"</span>, c, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>]);&#13;
}&#13;
test(<span class="hljs-string">"fun"</span>, <span class="hljs-string">"js"</span>, <span class="hljs-string">"secrets"</span>);&#13;
</code></pre>&#13;
    <p class="normal">This outputs:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">first: fun fun&#13;
second: js js&#13;
third: secrets secrets&#13;
</code></pre>&#13;
    <p class="normal">When you update one of the parameters, the<a id="_idIndexMarker628"/> argument gets changed accordingly. The same goes for the other way around;</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">test</span><span class="hljs-function">(</span><span class="hljs-params">a, b, c</span><span class="hljs-function">) </span>{&#13;
  a = <span class="hljs-string">"nice"</span>;&#13;
  <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">"JavaScript"</span>;&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"first:"</span>, a, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]);&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"second:"</span>, b, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]);&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"third:"</span>, c, <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>]);&#13;
}&#13;
test(<span class="hljs-string">"fun"</span>, <span class="hljs-string">"js"</span>, <span class="hljs-string">"secrets"</span>);&#13;
</code></pre>&#13;
    <p class="normal">This is going to change both <code class="Code-In-Text--PACKT-">arguments[0]</code> and <code class="Code-In-Text--PACKT-">b</code>, as they are related to <code class="Code-In-Text--PACKT-">a</code> and <code class="Code-In-Text--PACKT-">arguments[1]</code>, respectively, as you can see in the output:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">first: nice nice&#13;
second: JavaScript JavaScript&#13;
third: secrets secrets&#13;
</code></pre>&#13;
    <p class="normal">If the function is called with more arguments than were declared in the function signature, this is the way to access them. However, the modern way is to use the rest parameter <code class="Code-In-Text--PACKT-">(…param)</code> instead of the <code class="Code-In-Text--PACKT-">arguments</code> object.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">In case you've forgotten what the rest parameter is, you can revisit the rest parameter in <em class="chapterRef">Chapter 6</em>, <em class="italic">Functions</em>.</p>&#13;
    </div>&#13;
    <h2 id="_idParaDest-364" class="title">Practice exercise 12.3</h2>&#13;
    <p class="normal">This exercise will demonstrate using the array-like <code class="Code-In-Text--PACKT-">arguments</code> object and extracting values from it. Using the <code class="Code-In-Text--PACKT-">arguments</code> length property, we will iterate through the items in the arguments and return the last item in the list:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a function without any parameters. Create a loop to iterate through the length of the <code class="Code-In-Text--PACKT-">arguments</code> object. This will allow an iteration of each item of the arguments in the function.</li>&#13;
      <li class="numbered">Set up a variable called <code class="Code-In-Text--PACKT-">lastOne</code> with a blank value.</li>&#13;
      <li class="numbered">As you loop through the arguments, set <code class="Code-In-Text--PACKT-">lastOne</code> to the current value of the argument using the index of <code class="Code-In-Text--PACKT-">i</code> to return the argument value. The argument will have an index value that can be used to reference the value as you iterate through the <code class="Code-In-Text--PACKT-">arguments</code> object.</li>&#13;
      <li class="numbered">Return the value of <code class="Code-In-Text--PACKT-">lastOne</code>, which should only return the last argument value as the response.</li>&#13;
      <li class="numbered">Output the response from the function, pass a number of arguments into the function, and console log the response result. You should see only the last item in the list. If you want to see each one, you can output them separately to the console as you look through the values, or construct an array that can then be returned, adding each one as you go through the arguments.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-365" class="title">JavaScript hoisting</h1>&#13;
    <p class="normal">In <em class="chapterRef">Chapter 6</em>, <em class="italic">Functions</em>, we discussed that we have three different variables, <code class="Code-In-Text--PACKT-">const</code>, <code class="Code-In-Text--PACKT-">let</code>, and <code class="Code-In-Text--PACKT-">var</code>, and we highly recommended that you should use <code class="Code-In-Text--PACKT-">let</code> instead of <code class="Code-In-Text--PACKT-">var</code> because of their different scopes. JavaScript <strong class="keyword">hoisting</strong> is why. Hoisting is the principle of moving declarations of variables to the top<a id="_idIndexMarker629"/> of the scope in which they are defined. This allows you to do things that you cannot do in many other languages, and for good reason by the way. This should look normal:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">var</span> x;&#13;
x = <span class="hljs-number">5</span>;&#13;
<span class="hljs-built_in">console</span>.log(x);&#13;
</code></pre>&#13;
    <p class="normal">It just logs <code class="Code-In-Text--PACKT-">5</code>. But thanks to hoisting, so does this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">x = <span class="hljs-number">5</span>;&#13;
<span class="hljs-built_in">console</span>.log(x);&#13;
<span class="hljs-keyword">var</span> x;&#13;
</code></pre>&#13;
    <p class="normal">If you try to do this with <code class="Code-In-Text--PACKT-">let</code>, you'll get a <code class="Code-In-Text--PACKT-">ReferenceError</code>. This is why it is better to use <code class="Code-In-Text--PACKT-">let</code>. Because clearly, this behavior is very hard to read, unpredictable, and you don't really need it.</p>&#13;
    <p class="normal">The reason this happens is that the<a id="_idIndexMarker630"/> JavaScript interpreter moves all the <code class="Code-In-Text--PACKT-">var</code> declarations to the top of the file before processing the file. Only the declarations, not the initializations. This is why you get a result of <code class="Code-In-Text--PACKT-">undefined</code> if you use it before having initialized it. And this is why it should be initialized before it has been declared. It was designed this way for memory allocation, but the side effects are undesirable.</p>&#13;
    <p class="normal">However, there is a way to turn this behavior off. Let's see how we can do so in the next section!</p>&#13;
    <h1 id="_idParaDest-366" class="title">Using strict mode</h1>&#13;
    <p class="normal">We can change the understanding and forgiving behavior of JavaScript to some extent using strict mode. You can switch on strict mode with the following command in your code. This needs to be the first <a id="_idIndexMarker631"/>command of your code:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">"use strict"</span>;&#13;
</code></pre>&#13;
    <p class="normal">Here is something that works when we don't use strict mode:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">sayHi</span><span class="hljs-function">() </span>{&#13;
  greeting = <span class="hljs-string">"Hello!"</span>;&#13;
  <span class="hljs-built_in">console</span>.log(greeting);&#13;
}&#13;
sayHi();&#13;
</code></pre>&#13;
    <p class="normal">We forgot to declare <code class="Code-In-Text--PACKT-">greeting</code>, so JavaScript did it for us by adding a <code class="Code-In-Text--PACKT-">greeting</code> variable to the top level and it will log <code class="Code-In-Text--PACKT-">Hello!</code>. If we enable strict mode, however, this will give an error:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">"use strict"</span>;&#13;
<span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">sayHi</span><span class="hljs-function">() </span>{&#13;
  greeting = <span class="hljs-string">"Hello!"</span>;&#13;
  <span class="hljs-built_in">console</span>.log(greeting);&#13;
}&#13;
sayHi();&#13;
</code></pre>&#13;
    <p class="normal">The error:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">ReferenceError: greeting is not defined&#13;
</code></pre>&#13;
    <p class="normal">You can also use<a id="_idIndexMarker632"/> strict mode only in a particular function: simply add it to the top of the function and it gets enabled for that function only. Strict mode alters a few other things too; for example, when using strict mode, there are fewer words that can be used as names for your variables and functions because they are likely to become reserved keywords in the future that JavaScript will need for its own language.</p>&#13;
    <p class="normal">Using strict mode is a great way of getting used to using JavaScript in the setting of frameworks or even for writing TypeScript later. It is typically considered a good practice nowadays, so we would encourage you to use this in your own code when you have the chance. This is often not an (easy) option when working with existing older code though.</p>&#13;
    <p class="normal">Now we have seen strict mode, it's time to dive into a whole different mode: debug mode! Debug mode is for when you are not busy writing or running your application, but are running it in a special way to spot the locations of any errors.</p>&#13;
    <h1 id="_idParaDest-367" class="title">Debugging</h1>&#13;
    <p class="normal">Debugging<a id="_idIndexMarker633"/> is a delicate art. In the beginning, it usually is very hard to spot what's wrong with your code. If you are using JavaScript in the browser and it is not behaving as you would expect, step 1 is always to open the console in the browser. Often it will contain errors that can help you further.</p>&#13;
    <p class="normal">If that doesn't solve it, you can log to the console in every step of your code, and also log the variables. This will give you some insight as to what is going on. It might just be that you are relying on a certain variable that happens to be undefined. Or perhaps you are expecting a certain value from a mathematical computation, but you've made an error and the result is something completely different from what you thought. Using <code class="Code-In-Text--PACKT-">console.log()</code> during development to see what's happening is rather common.</p>&#13;
    <h2 id="_idParaDest-368" class="title">Breakpoints</h2>&#13;
    <p class="normal">A more professional way to go<a id="_idIndexMarker634"/> about debugging is to use breakpoints. This can be done from most browsers and IDEs. You click on the line before your code (in the <strong class="screenText">Sources</strong> panel in Chrome, but this may be different for different browsers), and a dot or arrow will appear. When your application is running, it will pause at this point to give you the opportunity to inspect the values of variables and walk through the code line by line from there. </p>&#13;
    <p class="normal">This way, you will get a good clue of what is going on and how to fix it. Here is how to use breakpoints in Chrome, and most other browsers have something like this. In Chrome, go to the <strong class="screenText">Sources</strong> tab of the <strong class="screenText">Inspect</strong> panel. Select the file you want to set a breakpoint in. Then you just click on the line number and it sets the breakpoint:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_12_01.png" alt="Text&#13;&#10;&#13;&#10;Description automatically generated" width="825" height="403"/></figure>&#13;
    <p class="packt_figref">Figure 12.1: Breakpoints in the browser</p>&#13;
    <p class="normal">Then try to trigger the line of code, and when it gets triggered, it pauses. On the very right of the screen I can inspect all the variables and values:</p>&#13;
    <figure class="mediaobject"><img src="Images/B16682_12_02.png" alt="Graphical user interface, application&#13;&#10;&#13;&#10;Description automatically generated" width="339" height="707"/></figure>&#13;
    <p class="packt_figref">Figure 12.2: Inspecting breakpoint variables</p>&#13;
    <p class="normal">You can now <a id="_idIndexMarker635"/>go through your code with a fine-toothed comb: with the play icon on top, you can resume script execution (until it hits the next breakpoint or runs in to the same breakpoint again). With the round arrow icon at the top, I can go to the next line and inspect the values on the next line again.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">There are many options with breakpoints that we don't have space to cover here. For more detail on how you can debug your code with breakpoints, look in your chosen code editor's documentation or check the relevant Google Chrome documentation here: <a href="https://developer.chrome.com/docs/devtools/javascript/breakpoints/"><span class="url">https://developer.chrome.com/docs/devtools/javascript/breakpoints/</span></a>.</p>&#13;
    </div>&#13;
    <h3 id="_idParaDest-369" class="title">Practice exercise 12.4</h3>&#13;
    <p class="normal">Variable <a id="_idIndexMarker636"/>values can be tracked in the editor while debugging. The following exercise will demonstrate how to use the editor's breakpoints to check a value of a variable at a certain point in the running of the script. This is a simple example, but the same process can be used to find out information about larger scripts at specific points during execution, or establish where a problem may lie.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">There are minor differences and nuances in the way breakpoints operate in different editors, so please refer to the documentation of your environment for more of a detailed walk-through—this is intended to give you an idea of what breakpoints offer when it comes to debugging.</p>&#13;
    </div>&#13;
    <p class="normal">You can use the following short script as an example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> val = <span class="hljs-number">5</span>;&#13;
val += adder();&#13;
val += adder();&#13;
val += adder();&#13;
<span class="hljs-built_in">console</span>.log(val);&#13;
<span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">adder</span><span class="hljs-function">()</span>{&#13;
    <span class="hljs-keyword">let</span> counter = val;&#13;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;val;i++){&#13;
        counter++;&#13;
    }&#13;
<span class="hljs-keyword">return</span> counter ;&#13;
}&#13;
</code></pre>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">Remember to add <code class="Code-In-Text--PACKT-">&lt;script&gt;</code> tags and open the script as an HTML document if you're testing this in your browser console.</p>&#13;
    </div>&#13;
    <p class="normal">This exercise has been tested in a desktop editor but it is equally relevant to browser consoles and other environments. Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Open your script in your chosen editor, or the <strong class="screenText">Sources</strong> tab of your browser's <strong class="screenText">Inspect</strong> panel. Click to the left of the line of code where you want to add a breakpoint. A dot or other indicator will appear to indicate the breakpoint is set:<figure class="mediaobject"><img src="Images/B16682_12_03.png" alt="A screenshot of a computer&#13;&#10;&#13;&#10;Description automatically generated with low confidence" width="404" height="335"/></figure>&#13;
        <p class="packt_figref">Figure 12.3: Setting breakpoints</p>&#13;
      </li>&#13;
      <li class="numbered">Run the code with your new breakpoints: I have selected <strong class="screenText">Run</strong> | <strong class="screenText">Start Debugging</strong>, but this will vary depending on your editor. You can simply reload the web page if you're using the browser console to rerun the code with your new breakpoints accounted for:<figure class="mediaobject"><img src="Images/B16682_12_04.png" alt="Graphical user interface, text, application&#13;&#10;&#13;&#10;Description automatically generated" width="746" height="589"/></figure>&#13;
        <p class="packt_figref">Figure 12.4: Running code with breakpoints added</p>&#13;
      </li>&#13;
      <li class="numbered">You should now see the <a id="_idIndexMarker637"/>debugging console. There will be a tab that lists the variables in the code and the current values at the first breakpoint. It's called <strong class="screenText">VARIABLES</strong> in my editor, but it's the <strong class="screenText">Scope</strong> tab in the Chrome browser console.</li>&#13;
      <li class="numbered">You can use the menu options to move to the next breakpoint, stop debugging, or restart the breakpoint sequence. Press the play icon to move to the next breakpoint. It will update to have a value of 5, as specified by line 1, and pause at the first breakpoint. Note that the highlighted line has not been run yet:<figure class="mediaobject"><img src="Images/B16682_12_05.png" alt="A screenshot of a computer&#13;&#10;&#13;&#10;Description automatically generated with medium confidence" width="751" height="412"/></figure>&#13;
        <p class="packt_figref">Figure 12.5: Viewing variables in the console</p>&#13;
      </li>&#13;
      <li class="numbered">Press the play <a id="_idIndexMarker638"/>icon once more, and the script will run until it hits the next breakpoint, at which point the value of the variable will update as a result of the code on line 2:<figure class="mediaobject"><img src="Images/B16682_12_06.png" alt="Text&#13;&#10;&#13;&#10;Description automatically generated" width="535" height="445"/></figure>&#13;
        <p class="packt_figref">Figure 12.6: Progressing through breakpoints in a script</p>&#13;
      </li>&#13;
      <li class="numbered">Press play again to move to the next breakpoint, which increases the value of <code class="Code-In-Text--PACKT-">val</code> once more:<figure class="mediaobject"><img src="Images/B16682_12_07.png" alt="Text&#13;&#10;&#13;&#10;Description automatically generated" width="550" height="429"/></figure>&#13;
        <p class="packt_figref">Figure 12.7: The final breakpoint</p>&#13;
      </li>&#13;
      <li class="numbered">Once the last <a id="_idIndexMarker639"/>breakpoint is reached you will only see options to restart or stop the debugger. If you press stop, it will end the debugging process:<figure class="mediaobject"><img src="Images/B16682_12_08.png" alt="Text&#13;&#10;&#13;&#10;Description automatically generated" width="594" height="352"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 12.8: Breakpoints in the browser</p>&#13;
    <p class="normal">The final value of <code class="Code-In-Text--PACKT-">val</code> after <a id="_idIndexMarker640"/>the third breakpoint was revealed as <code class="Code-In-Text--PACKT-">135</code>. Write down the values of <code class="Code-In-Text--PACKT-">val</code> after the first and second calls to the <code class="Code-In-Text--PACKT-">adder()</code> function, which were revealed to you by using breakpoints.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">This was a basic exercise, but we invite you to test out using breakpoints on some larger scripts and get more comfortable in your understanding of how your code works during runtime.</p>&#13;
    </div>&#13;
    <h2 id="_idParaDest-370" class="title">Error handling</h2>&#13;
    <p class="normal">We have seen a lot of errors <a id="_idIndexMarker641"/>appear already. Until now, we let the program crash when it encountered an error. There are other ways to deal with errors. When we are dealing with code that depends on some sort of outside input, such as an API, user input, or a file we will need to deal with the errors that this input can cause.</p>&#13;
    <p class="normal">If we expect a certain piece of code to throw an error, we can surround this code with a <code class="Code-In-Text--PACKT-">catch</code> block. The error it might throw will be caught in this block.</p>&#13;
    <div class="note">&#13;
      <p class="Information-Box--PACKT-">You have to be careful not to use this too much, and you usually don't want to do this when you can just write better code to avoid the error in the first place.</p>&#13;
    </div>&#13;
    <p class="normal">Here is an example of a piece of code that throws an error, and is surrounded with a <code class="Code-In-Text--PACKT-">try</code> and <code class="Code-In-Text--PACKT-">catch</code> block. Let's assume the <code class="Code-In-Text--PACKT-">somethingVeryDangerous()</code> function might throw errors:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">try</span> {&#13;
  somethingVeryDangerous();&#13;
} <span class="hljs-keyword">catch</span> (e) {&#13;
  <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">TypeError</span>) {&#13;
    <span class="hljs-comment">// deal with TypeError exceptions</span>&#13;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RangeError</span>) {&#13;
    <span class="hljs-comment">// deal with RangeError exceptions</span>&#13;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">EvalError</span>) {&#13;
    <span class="hljs-comment">// deal with EvalError exceptions</span>&#13;
  } <span class="hljs-keyword">else</span> {&#13;
    <span class="hljs-comment">//deal with all other exceptions</span>&#13;
    <span class="hljs-keyword">throw</span> e; <span class="hljs-comment">//rethrow</span>&#13;
  }&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">If it throws an error, it will end up in the <code class="Code-In-Text--PACKT-">catch</code> block. Since <code class="Code-In-Text--PACKT-">Error</code> could mean many different errors, we are going to check for the exact error we are dealing with and write a specific handling of this error. We check the exact error class with the <code class="Code-In-Text--PACKT-">instanceof</code> operator. After the error handling, the rest of the code will continue to execute normally.</p>&#13;
    <p class="normal">You can do one more <a id="_idIndexMarker642"/>thing with a <code class="Code-In-Text--PACKT-">try</code> <code class="Code-In-Text--PACKT-">catch</code> block, and that is add a <code class="Code-In-Text--PACKT-">finally</code> block. This <code class="Code-In-Text--PACKT-">finally</code> block gets executed irrespective ofwhether errors are thrown. This is great for cleanup purposes. Here is a simple example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">try</span> {&#13;
  trySomething();&#13;
} <span class="hljs-keyword">catch</span> (e) {&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Oh oh"</span>);&#13;
} <span class="hljs-keyword">finally</span> {&#13;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Error or no error, I will be logged!"</span>);&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">We don't know the output of this code, since <code class="Code-In-Text--PACKT-">trySomething()</code> is not defined. If it were to throw an error, it would log <code class="Code-In-Text--PACKT-">Oh oh</code> to the console and then <code class="Code-In-Text--PACKT-">Error or no error, I will be logged!</code>. If <code class="Code-In-Text--PACKT-">trySomething()</code> didn't throw an error, it would only log the last part.</p>&#13;
    <p class="normal">Lastly, if, for whatever reason, you need to throw an error, you can do so with the <code class="Code-In-Text--PACKT-">throw</code> keyword, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">somethingVeryDangerous</span><span class="hljs-function">() </span>{&#13;
  <span class="hljs-keyword">throw</span> <span class="hljs-built_in">RangeError</span>();&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">This can be of great use whenever you need to deal with things out of your control, such as an API response, user input, or input from reading a file. If unexpected things happen, sometimes you'll have to throw an error to deal with it appropriately.</p>&#13;
    <h3 id="_idParaDest-371" class="title">Practice exercise 12.5</h3>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Using <code class="Code-In-Text--PACKT-">throw</code>, <code class="Code-In-Text--PACKT-">try</code>, and <code class="Code-In-Text--PACKT-">catch</code>, check if the value is a number, and if it's not, then create a custom error.</li>&#13;
      <li class="numbered">Create a function with one argument called <code class="Code-In-Text--PACKT-">val</code>.</li>&#13;
      <li class="numbered">Use <code class="Code-In-Text--PACKT-">try</code>, and within it add a condition that checks whether <code class="Code-In-Text--PACKT-">val</code> is a number using <code class="Code-In-Text--PACKT-">isNaN</code>. If true, then throw an error that states that it is not a number. Otherwise, output <code class="Code-In-Text--PACKT-">Got a number</code> to the console.</li>&#13;
      <li class="numbered">Use <code class="Code-In-Text--PACKT-">catch</code> to catch any errors and output the error values to the console.</li>&#13;
      <li class="numbered">Add <code class="Code-In-Text--PACKT-">finally</code> to run and output the value, and when the function has completed, also include the value of <code class="Code-In-Text--PACKT-">val</code>.</li>&#13;
      <li class="numbered">Create one request to the function with a string argument and another with a number. See the results in the console.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-372" class="title">Using cookies</h1>&#13;
    <p class="normal"><strong class="keyword">Cookies</strong> are small <a id="_idIndexMarker643"/>data files that are stored on your own computer and used by websites. Cookies were invented to store things about the user of the website. Cookies are strings with a special pattern. They contain key-value pairs, and these key-value pairs are separated by semi-colons.</p>&#13;
    <p class="normal">You can create a cookie and use it again later. Here is how you can create a cookie:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"name=Maaike;favoriteColor=black"</span>;&#13;
</code></pre>&#13;
    <p class="normal">This does not work in all browsers when you run it on the client side (such as in your <code class="Code-In-Text--PACKT-">&lt;script&gt;</code> tag). In Chrome, for example, you cannot set the cookies from the client side. You have to run the code from a server. (I have used Safari instead to do this here, but there are no guarantees about future support.) An alternative is the web storage API.</p>&#13;
    <p class="normal">It is also possible to start Chrome from the command line with certain settings enabled, or to enable the cookies in the settings under privacy preferences. Careful to turn this off afterward if you don't want it, though. This is how you can read from the cookie:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> cookie = <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-built_in">document</span>.cookie);&#13;
<span class="hljs-keyword">let</span> cookieList = cookie.split(<span class="hljs-string">";"</span>);&#13;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cookieList.length; i++) {&#13;
  <span class="hljs-keyword">let</span> c = cookieList[i];&#13;
  <span class="hljs-keyword">if</span> (c.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">" "</span>) {&#13;
    c = c.trim();&#13;
  }&#13;
  <span class="hljs-keyword">if</span> (c.startsWith(<span class="hljs-string">"name"</span>)) {&#13;
    alert(c.substring(<span class="hljs-number">5</span>, c.length)); &#13;
  }&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">This example gets all the<a id="_idIndexMarker644"/> cookies using <code class="Code-In-Text--PACKT-">decodeURIComponent()</code>, and then splits them on the <code class="Code-In-Text--PACKT-">;</code>. This leaves us with an array, <code class="Code-In-Text--PACKT-">cookieList</code>, with key-value pairs as strings. Next, we loop over all the key-value pairs. Trim them (remove the whitespace in front and at the back), and see whether they start with <code class="Code-In-Text--PACKT-">name</code>. This was the name of our cookie key.</p>&#13;
    <p class="normal">If we want to get the value, we have to start reading after the key, so at least the length of the key, which is 4 (name) in this case. This brings us to index 3 already. We also want to skip the equal sign on index 4, so we start at index 5. In this case, we are adding an alert to the name. Here is an example of a simple website that uses a cookie to greet the user:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">onchange</span><span class="hljs-tag">=</span><span class="hljs-string">"setCookie(this)"</span><span class="hljs-tag"> /&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag"> </span><span class="hljs-attr">onclick</span><span class="hljs-tag">=</span><span class="hljs-string">"sayHi('name')"</span><span class="hljs-tag">&gt;</span>Let's talk, cookie!<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">p</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"hi"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">p</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="javascript">      </span><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">setCookie</span><span class="hljs-function">(</span><span class="hljs-params">e</span><span class="hljs-function">) </span><span class="javascript">{</span>&#13;
<span class="javascript">        </span><span class="hljs-built_in">document</span><span class="javascript">.cookie = </span><span class="hljs-string">"name="</span><span class="javascript"> + e.value + </span><span class="hljs-string">";"</span><span class="javascript">;</span>&#13;
<span class="javascript">      }</span>&#13;
<span class="javascript">      </span><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">sayHi</span><span class="hljs-function">(</span><span class="hljs-params">key</span><span class="hljs-function">) </span><span class="javascript">{</span>&#13;
<span class="javascript">        </span><span class="hljs-keyword">let</span><span class="javascript"> name = getCookie(key);</span>&#13;
<span class="javascript">        </span><span class="hljs-built_in">document</span><span class="javascript">.getElementById(</span><span class="hljs-string">"hi"</span><span class="javascript">).innerHTML = </span><span class="hljs-string">"Hi "</span><span class="javascript"> + name;</span>&#13;
<span class="javascript">      }</span>&#13;
<span class="javascript">      </span><span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">getCookie</span><span class="hljs-function">(</span><span class="hljs-params">key</span><span class="hljs-function">) </span><span class="javascript">{</span>&#13;
<span class="javascript">        </span><span class="hljs-keyword">let</span><span class="javascript"> cookie = </span><span class="hljs-built_in">decodeURIComponent</span><span class="javascript">(</span><span class="hljs-built_in">document</span><span class="javascript">.cookie);</span>&#13;
<span class="javascript">        </span><span class="hljs-keyword">let</span><span class="javascript"> cookieList = cookie.split(</span><span class="hljs-string">";"</span><span class="javascript">);</span>&#13;
<span class="javascript">        </span><span class="hljs-keyword">for</span><span class="javascript"> (</span><span class="hljs-keyword">let</span><span class="javascript"> i = </span><span class="hljs-number">0</span><span class="javascript">; i &lt; cookieList.length; i++) {</span>&#13;
<span class="javascript">          </span><span class="hljs-keyword">let</span><span class="javascript"> c = cookieList[i];</span>&#13;
<span class="javascript">          </span><span class="hljs-keyword">if</span><span class="javascript"> (c.charAt(</span><span class="hljs-number">0</span><span class="javascript">) == </span><span class="hljs-string">" "</span><span class="javascript">) {</span>&#13;
<span class="javascript">            c = c.trim();</span>&#13;
<span class="javascript">          }</span>&#13;
<span class="javascript">          </span><span class="hljs-keyword">if</span><span class="javascript"> (c.startsWith(key)) {</span>&#13;
<span class="javascript">            </span><span class="hljs-built_in">console</span><span class="javascript">.log(</span><span class="hljs-string">"hi"</span><span class="javascript"> + c);</span>&#13;
<span class="javascript">            </span><span class="hljs-keyword">return</span><span class="javascript"> c.substring(key.length + </span><span class="hljs-number">1</span><span class="javascript">, c.length);</span>&#13;
<span class="javascript">          }</span>&#13;
<span class="javascript">        }</span>&#13;
<span class="javascript">      }</span>&#13;
<span class="javascript">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">If you are writing a new <a id="_idIndexMarker645"/>website, you probably should not be using this. However, whenever you need to work with older code, chances are you'll come across this. And now you know what it means and how to adjust it. Good for you!</p>&#13;
    <h2 id="_idParaDest-373" class="title">Practice exercise 12.6</h2>&#13;
    <p class="normal">Let's make a cookie builder. Create several functions that will allow you to interact with page cookies, including reading a cookie value by name, creating a new cookie using a name and setting it for a set number of days, and deleting a cookie. You can use the following HTML template to get you started:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Complete JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Set up your webpage, and in the JavaScript code, output the value of <code class="Code-In-Text--PACKT-">document.cookie</code>. It should be blank.</li>&#13;
      <li class="numbered">Create a function that will take the parameters for <code class="Code-In-Text--PACKT-">cookieName</code>, <code class="Code-In-Text--PACKT-">cookieValue</code>, and the number of days you want to set the cookie.</li>&#13;
      <li class="numbered">Check if <code class="Code-In-Text--PACKT-">days</code> is valid, and within the block of valid code, get the current date. Set a <code class="Code-In-Text--PACKT-">setTime</code> value for the cookie to expire in milliseconds by multiplying the days into milliseconds. </li>&#13;
      <li class="numbered">Change the date object of milliseconds until the cookie expires to a UTC string value.</li>&#13;
      <li class="numbered">Set <code class="Code-In-Text--PACKT-">document.cookie</code> to <code class="Code-In-Text--PACKT-">cookieName = cookieValue</code>, plus add the expiry details and lastly specify <code class="Code-In-Text--PACKT-">path=/</code>.</li>&#13;
      <li class="numbered">Create a function to create a test cookie with a value and expiry set after a number of days. Create a second cookie the same way, and when you refresh your page, you should see at least two cookies in the console.</li>&#13;
      <li class="numbered">Create a second function to read a cookie value, set the value as <code class="Code-In-Text--PACKT-">false</code>, and then create an array of the cookies split by semi-colons.</li>&#13;
      <li class="numbered">Loop through all the cookies and split again where the equal signs are. This will give you the first item with index 0 as the name of the cookie. Add a condition to check if the name is equal to the name that was requested in the function parameters. If it matches, assign the value of the second item in the index, which will be the value of the cookie with the selected name. Return <code class="Code-In-Text--PACKT-">cookievalue</code> in the function.</li>&#13;
      <li class="numbered">Add two console log messages using the function to read both cookies you have set earlier. Output the values of the cookies in the console.</li>&#13;
      <li class="numbered">To delete a cookie, you need to set a date prior to the current date. You can create a cookie with a <code class="Code-In-Text--PACKT-">-1</code> date and send the cookie with its selected name to be deleted by invoking the cookie creation function.</li>&#13;
      <li class="numbered">Try deleting a cookie by name.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-374" class="title">Local storage</h1>&#13;
    <p class="normal">We have looked at cookies as a way to save user data, but there is actually a more modern way to do this: <strong class="keyword">local storage</strong>. Local storage <a id="_idIndexMarker646"/>is an amazing fun topic that will add to your ability to make smart websites. With local storage, we can save key-value pairs in our web browser and use them again in a new session (when the browser is opened again later). The information is typically stored in a folder on the computer of the user, but this differs a bit by browser.</p>&#13;
    <p class="normal">This allows the website to store some information and retrieve it later, even after refreshing the page or closing the browser. The advantage of local storage over cookies is that they don't need to be passed around with every HTTP request, which is the case with cookies. Local storage just lives there and waits to be accessed.</p>&#13;
    <p class="normal">The <code class="Code-In-Text--PACKT-">localStorage</code> object <a id="_idIndexMarker647"/>is a property of the <code class="Code-In-Text--PACKT-">window</code> object that we have seen before. There are a few methods on the <code class="Code-In-Text--PACKT-">localStorage</code> object that we need to know to use it effectively. First of all, we need to be able to get and set key-value pairs on local storage. We use <code class="Code-In-Text--PACKT-">setItem()</code> whenever we want to save something and <code class="Code-In-Text--PACKT-">getItem()</code> whenever we want to retrieve the value later. Here is how to do it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!DOCTYPE </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">id</span><span class="hljs-tag">=</span><span class="hljs-string">"stored"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="javascript">      </span><span class="hljs-keyword">let</span><span class="javascript"> message = </span><span class="hljs-string">"Hello storage!"</span><span class="javascript">;</span>&#13;
<span class="javascript">      </span><span class="hljs-built_in">localStorage</span><span class="javascript">.setItem(</span><span class="hljs-string">"example"</span><span class="javascript">, message);</span>&#13;
<span class="javascript">      </span><span class="hljs-keyword">if</span><span class="javascript"> (</span><span class="hljs-built_in">localStorage</span><span class="javascript">.getItem(</span><span class="hljs-string">"example"</span><span class="javascript">)) {</span>&#13;
<span class="javascript">        </span><span class="hljs-built_in">document</span><span class="javascript">.getElementById(</span><span class="hljs-string">"stored"</span><span class="javascript">).innerHTML =</span>&#13;
<span class="javascript">          </span><span class="hljs-built_in">localStorage</span><span class="javascript">.getItem(</span><span class="hljs-string">"example"</span><span class="javascript">);</span>&#13;
<span class="javascript">      }</span>&#13;
<span class="javascript">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
  <span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">This code snippet outputs <code class="Code-In-Text--PACKT-">Hello storage!</code> on the page. You can add items to storage by specifying a key and a value with the setItem method. You can access <code class="Code-In-Text--PACKT-">localStorage</code> directly or via the <code class="Code-In-Text--PACKT-">window</code> object. Here we specify <code class="Code-In-Text--PACKT-">example</code> as the key and<code class="Code-In-Text--PACKT-"> Hello storage!</code> as the value and save it to local storage. Then we check whether the <code class="Code-In-Text--PACKT-">example</code> key is set in<a id="_idIndexMarker648"/> local storage and output the data by writing it to the <code class="Code-In-Text--PACKT-">innerHTML</code> of the <code class="Code-In-Text--PACKT-">div</code> with the ID <code class="Code-In-Text--PACKT-">stored</code>.</p>&#13;
    <p class="normal">If you go back to your code and turn off the <code class="Code-In-Text--PACKT-">setItem()</code> line before loading the page a second time, it still will output that value, since the information was stored when running the script the first time and never got deleted. Local storage doesn't expire, though it can be manually deleted.</p>&#13;
    <p class="normal">We can also retrieve a key using the index. This is useful whenever we need to loop through the key-value pairs and we don't know the names of the keys. This is how to retrieve a key by index:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">window</span>.localStorage.key(<span class="hljs-number">0</span>);&#13;
</code></pre>&#13;
    <p class="normal">In this case, the key is <code class="Code-In-Text--PACKT-">name</code>. In order to get the associated value, we can do this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">window</span>.localStorage.getItem(<span class="hljs-built_in">window</span>.localStorage.key(<span class="hljs-number">0</span>));&#13;
</code></pre>&#13;
    <p class="normal">We can also remove key-value pairs like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">window</span>.localStorage.removeItem(<span class="hljs-string">"name"</span>);&#13;
</code></pre>&#13;
    <p class="normal">And we can remove all the key-value pairs from the local storage in one call:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">window</span>.localStorage.clear();&#13;
</code></pre>&#13;
    <p class="normal">So, with <a id="_idIndexMarker649"/>local storage you can save values even after closing the browser. This allows for a lot of "smart" behavior, since your app is now able to remember things, such as what you've entered in a form, which settings you've toggled on a website, and what you've looked at previously.</p>&#13;
    <p class="normal">Please don't see this as an alternative that you can use to bypass the problems with cookies and privacy. Local storage raises the exact same issues as cookies, it's just less known. You will still have to mention on your website that you are tracking users and storing information, just like you need to do for cookies.</p>&#13;
    <h2 id="_idParaDest-375" class="title">Practice exercise 12.7</h2>&#13;
    <p class="normal">Let's create a local storage shopping list that will store values in the browser's local storage. This is an example of using JavaScript to convert from strings to useable JavaScript objects and back to strings that can be stored in local storage. You can use the following template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JavaScript<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="css">        </span><span class="hljs-selector-class">.ready</span><span class="css"> {</span>&#13;
<span class="css">            </span><span class="hljs-attribute">background-color</span><span class="css">: </span><span class="hljs-number">#ddd</span><span class="css">;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">color</span><span class="css">: red;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">text-decoration</span><span class="css">: line-through;</span>&#13;
<span class="css">        }</span>&#13;
<span class="css">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"main"</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">placeholder</span><span class="hljs-tag">=</span><span class="hljs-string">"New Item"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"test item"</span><span class="hljs-tag"> </span><span class="hljs-attr">maxlength</span><span class="hljs-tag">=</span><span class="hljs-string">"30"</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>Add<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">ul</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">ul</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">In the JavaScript code, select all the page elements as JavaScript objects.</li>&#13;
      <li class="numbered">Create a <code class="Code-In-Text--PACKT-">tasks</code> array with a value of the local <code class="Code-In-Text--PACKT-">tasklist</code> storage if it exists, otherwise set the <code class="Code-In-Text--PACKT-">tasks</code> array to an empty array. Using <code class="Code-In-Text--PACKT-">JSON.parse</code>, you can convert the string value to a useable object in JavaScript.</li>&#13;
      <li class="numbered">Loop through all the items in the <code class="Code-In-Text--PACKT-">tasklist</code> array; they will be stored as objects, with a name and a Boolean value for their checked status. Create a separate function to build the task item, adding it to the page from the list.</li>&#13;
      <li class="numbered">In the task generation function, create a new list item and a <code class="Code-In-Text--PACKT-">textNode</code>. Append <code class="Code-In-Text--PACKT-">textNode</code> to the list item. Append the list item to the page output area. If the task is marked complete with a Boolean value of <code class="Code-In-Text--PACKT-">true</code>, then add the <code class="Code-In-Text--PACKT-">style</code> class of <code class="Code-In-Text--PACKT-">ready</code>.</li>&#13;
      <li class="numbered">Add an event listener to the list item that will toggle the <code class="Code-In-Text--PACKT-">ready</code> class when clicked. Every time there is a change to any list item, you will also need to store that to the local storage. Create a task builder function that will store and ensure the visual list is the same as the local storage list. You will need to clear the current task list array and rebuild from the visual data, so create a function to handle the list building.</li>&#13;
      <li class="numbered">The task builder function will clear the current <code class="Code-In-Text--PACKT-">tasks</code> array, and select all the <code class="Code-In-Text--PACKT-">li</code> elements on the page. Loop through all the list items, getting the text value from the element, and checking if it contains the class of <code class="Code-In-Text--PACKT-">ready</code>. If it contains the <code class="Code-In-Text--PACKT-">ready</code> class, then mark the checked condition as true. Add the results to the <code class="Code-In-Text--PACKT-">tasks</code> array, and this will rebuild the array to ensure it matches with what the user sees visually. Send to a save tasks function to save the <code class="Code-In-Text--PACKT-">tasks</code> array in local storage, so if the page is refreshed, you will see the same list.</li>&#13;
      <li class="numbered">In the save tasks function, set the <code class="Code-In-Text--PACKT-">localstorage</code> item to the tasks array. You will need to stringify the object so that it can go into the string parameter of local storage.</li>&#13;
      <li class="numbered">Now, when you refresh the page, you will see the list of tasks. They can be crossed out by clicking them and new items can be added in the input field by pressing the button to submit new items.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-376" class="title">JSON</h1>&#13;
    <p class="normal"><strong class="keyword">JSON</strong> stands for <strong class="keyword">JavaScript Object Notation</strong>, which is nothing more than a data format. We saw this notation when <a id="_idIndexMarker650"/>we were creating our objects in JavaScript; however, JSON doesn't mean JavaScript objects, it's just a way of representing data using a similar format as JavaScript objects. It can also be easily converted to a JavaScript object.</p>&#13;
    <p class="normal">JSON is a standard used to communicate with APIs, including APIs that aren't written in JavaScript! APIs can accept data, for example, the data from a form on a website, in JSON format. And nowadays, APIs almost always send data back in JSON. Sending data from an API happens, for example, when you enter a web shop—the products typically come from a call to an API that is connected to a database. This data gets converted to JSON and is sent back to the website. Here is an example of JSON:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">{&#13;
  <span class="hljs-string">"name"</span> : <span class="hljs-string">"Malika"</span>,&#13;
  <span class="hljs-string">"age"</span> : <span class="hljs-number">50</span>,&#13;
  <span class="hljs-string">"profession"</span> : <span class="hljs-string">"programmer"</span>,&#13;
  <span class="hljs-string">"languages"</span> : [<span class="hljs-string">"JavaScript"</span>, <span class="hljs-string">"C#"</span>, <span class="hljs-string">"Python"</span>],&#13;
  <span class="hljs-string">"address"</span> : {&#13;
    <span class="hljs-string">"street"</span> : <span class="hljs-string">"Some street"</span>,&#13;
    <span class="hljs-string">"number"</span> : <span class="hljs-number">123</span>,&#13;
    <span class="hljs-string">"zipcode"</span> : <span class="hljs-string">"3850AA"</span>,&#13;
    <span class="hljs-string">"city"</span> : <span class="hljs-string">"Utrecht"</span>,&#13;
    <span class="hljs-string">"country"</span> : <span class="hljs-string">"The Netherlands"</span>&#13;
  }&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">This is an object that seems to describe a person. It has key-value pairs. The keys always have to be between quotes, but the values only have to be between quotes when they are strings. So, the first key is <code class="Code-In-Text--PACKT-">name</code> and the first value is <code class="Code-In-Text--PACKT-">Malika</code>.</p>&#13;
    <p class="normal">Lists of values (or JavaScript arrays) are indicated with <code class="Code-In-Text--PACKT-">[]</code>. The JSON object contains a list of <code class="Code-In-Text--PACKT-">languages</code>, which has the square brackets, and another object, <code class="Code-In-Text--PACKT-">address</code>. You can tell this by the curly brackets.</p>&#13;
    <p class="normal">There are actually only a few flavours <a id="_idIndexMarker651"/>in JSON:</p>&#13;
    <ul>&#13;
      <li class="bullet">Key-value pairs with values of the following types: string, number, Boolean, and null</li>&#13;
      <li class="bullet">Key-value pairs with lists, which have <code class="Code-In-Text--PACKT-">[</code> and <code class="Code-In-Text--PACKT-">]</code> that contain the items in the list</li>&#13;
      <li class="bullet">Key-value pairs with other objects, which have <code class="Code-In-Text--PACKT-">{</code> and <code class="Code-In-Text--PACKT-">}</code> that contain other JSON elements</li>&#13;
    </ul>&#13;
    <p class="normal">These three options can be combined, so an object can contain other objects and a list can contain other lists. We saw this already in the above example. Our object contained a nested address object.</p>&#13;
    <p class="normal">But this can be nested even further. A list can also contain objects, which can contain lists with objects, with lists, and so on. This might sound a bit complicated and that's exactly the point. Even though it is very simple, nesting all these options can still complicate JSON a bit. There is a reason we've placed it in our advanced topic chapter.</p>&#13;
    <p class="normal">Let's now have a look at a slightly more complex example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">{&#13;
    <span class="hljs-string">"companies"</span>: [&#13;
        {&#13;
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"JavaScript Code Dojo"</span>,&#13;
            <span class="hljs-string">"addresses"</span>: [&#13;
                {&#13;
                    <span class="hljs-string">"street"</span>: <span class="hljs-string">"123 Main street"</span>,&#13;
                    <span class="hljs-string">"zipcode"</span>: <span class="hljs-number">12345</span>,&#13;
                    <span class="hljs-string">"city"</span> : <span class="hljs-string">"Scott"</span>&#13;
                },&#13;
                {&#13;
                    <span class="hljs-string">"street"</span>: <span class="hljs-string">"123 Side street"</span>,&#13;
                    <span class="hljs-string">"zipcode"</span>: <span class="hljs-number">35401</span>,&#13;
                    <span class="hljs-string">"city"</span> : <span class="hljs-string">"Tuscaloosa"</span>&#13;
                }&#13;
            ]&#13;
        },&#13;
        {&#13;
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Python Code Dojo"</span>,&#13;
            <span class="hljs-string">"addresses"</span>: [&#13;
                {&#13;
                    <span class="hljs-string">"street"</span>: <span class="hljs-string">"123 Party street"</span>,&#13;
                    <span class="hljs-string">"zipcode"</span>: <span class="hljs-number">68863</span>,&#13;
                    <span class="hljs-string">"city"</span> : <span class="hljs-string">"Nebraska"</span>&#13;
                },&#13;
                {&#13;
                    <span class="hljs-string">"street"</span>: <span class="hljs-string">"123 Monty street"</span>,&#13;
                    <span class="hljs-string">"zipcode"</span>: <span class="hljs-number">33306</span>,&#13;
                    <span class="hljs-string">"city"</span> : <span class="hljs-string">"Florida"</span>&#13;
                }&#13;
            ]&#13;
        }&#13;
    ]&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">This is a list of companies, with two company objects on it. The companies have two key-value pairs: a name and an address list. Each of the address lists contains two addresses, and each address consists of three key-value pairs: <code class="Code-In-Text--PACKT-">street</code>, <code class="Code-In-Text--PACKT-">zipcode</code> and <code class="Code-In-Text--PACKT-">city</code>.</p>&#13;
    <h2 id="_idParaDest-377" class="title">Practice exercise 12.8</h2>&#13;
    <p class="normal">This exercise will demonstrate how you can create a valid JSON object that can be used as a JavaScript object. You will create a simple list of names and statuses that can be looped through and output the results to the console. You will load JSON data to JavaScript and output the results of the object's contents:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a JavaScript object that contains JSON formatted data. The object should contain at least two items and each item should be an object with at least two paired values.</li>&#13;
      <li class="numbered">Create a function that can be invoked that will loop through each item in the JavaScript JSON object and output the result to the console. Output each item of data to the console using <code class="Code-In-Text--PACKT-">console.log</code>.</li>&#13;
      <li class="numbered">Invoke the function and launch the JavaScript code.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-378" class="title">Parsing JSON</h2>&#13;
    <p class="normal">There are many <a id="_idIndexMarker652"/>libraries and tools available for parsing a JSON string into an object. A JavaScript string can be converted to a JSON object using the <code class="Code-In-Text--PACKT-">JSON.parse()</code> function. Data that is received from another place is always of value <code class="Code-In-Text--PACKT-">string</code>, so in order to treat it as an object, it needs to be converted. This is how to do it:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> str = <span class="hljs-string">"{\"name\": \"Maaike\", \"age\": 30}"</span>;&#13;
<span class="hljs-keyword">let</span> obj = <span class="hljs-built_in">JSON</span>.parse(str);&#13;
<span class="hljs-built_in">console</span>.log(obj.name, <span class="hljs-string">"is"</span>, obj.age);&#13;
</code></pre>&#13;
    <p class="normal">After parsing, it can be treated as an object. Therefore it will log <code class="Code-In-Text--PACKT-">Maaike is 30</code> to the console.</p>&#13;
    <p class="normal">The other way around is also necessary sometimes. Objects can be converted to a JSON string using the <code class="Code-In-Text--PACKT-">JSON.stringify()</code> method. It converts the object or value from JavaScript to a JSON string. You can see it in action here:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> dog = {&#13;
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"wiesje"</span>,&#13;
    <span class="hljs-string">"breed"</span>: <span class="hljs-string">"dachshund"</span>&#13;
};&#13;
<span class="hljs-keyword">let</span> strdog = <span class="hljs-built_in">JSON</span>.stringify(dog);&#13;
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> strdog);&#13;
<span class="hljs-built_in">console</span>.log(strdog);&#13;
</code></pre>&#13;
    <p class="normal">The type of <code class="Code-In-Text--PACKT-">strdog</code> becomes a string because it is being stringified. And it no longer has the properties <code class="Code-In-Text--PACKT-">name</code> and <code class="Code-In-Text--PACKT-">breed</code>. These will be undefined. This code snippet will log the following to the console:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">string&#13;
{"name":"wiesje","breed":"dachshund"}&#13;
</code></pre>&#13;
    <p class="normal">This can be useful for storing JSON data directly in a database, for example.</p>&#13;
    <h3 id="_idParaDest-379" class="title">Practice exercise 12.9</h3>&#13;
    <p class="normal">This exercise will demonstrate the use of JSON methods to parse JSON and convert string values to JSON. Using JSON methods with JavaScript, convert a JSON formatted string value to a JavaScript object and convert a JavaScript object into a string representation of the JSON object:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a JSON object with several items and objects. You can use the JSON object from the previous lesson.</li>&#13;
      <li class="numbered">Using the JSON <code class="Code-In-Text--PACKT-">stringify()</code> method, convert the JSON JavaScript object into a string version and assign it to a variable named <code class="Code-In-Text--PACKT-">newStr [{"name":"Learn JavaScript","status":true},{"name":"Try JSON","status":false}]</code>.</li>&#13;
      <li class="numbered">Using <code class="Code-In-Text--PACKT-">JSON.parse()</code>, convert the <code class="Code-In-Text--PACKT-">newStr</code> value back into an object and assign it to a variable named <code class="Code-In-Text--PACKT-">newObj</code>.</li>&#13;
      <li class="numbered">Iterate through the items in the <code class="Code-In-Text--PACKT-">newObj</code> and output the results to the console.</li>&#13;
    </ol>&#13;
    <h3 id="_idParaDest-380" class="title">Practice exercise 12.9 answers</h3>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">let</span> myList = [{&#13;
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Learn JavaScript"</span>,&#13;
    <span class="hljs-string">"status"</span>: <span class="hljs-literal">true</span>&#13;
},&#13;
{&#13;
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Try JSON"</span>,&#13;
    <span class="hljs-string">"status"</span>: <span class="hljs-literal">false</span>&#13;
}&#13;
];&#13;
<span class="hljs-keyword">const</span> newStr = <span class="hljs-built_in">JSON</span>.stringify(myList);&#13;
<span class="hljs-keyword">const</span> newObj = <span class="hljs-built_in">JSON</span>.parse(newStr);&#13;
newObj.forEach(<span class="hljs-function">(</span><span class="hljs-params">el</span><span class="hljs-function">)=&gt;</span>{&#13;
    <span class="hljs-built_in">console</span>.log(el);&#13;
});&#13;
</code></pre>&#13;
    <h1 id="_idParaDest-381" class="title">Chapter projects</h1>&#13;
    <h2 id="_idParaDest-382" class="title">Email extractor</h2>&#13;
    <p class="normal">Use the following HTML as a starter template<a id="_idIndexMarker653"/> and add the JavaScript code to make an email extractor function:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Complete JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">textarea</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"txtarea"</span><span class="hljs-tag"> </span><span class="hljs-attr">rows</span><span class="hljs-tag">=</span><span class="hljs-string">2</span><span class="hljs-tag"> </span><span class="hljs-attr">cols</span><span class="hljs-tag">=</span><span class="hljs-string">50</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">textarea</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>Get Emails<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">textarea</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"txtarea2"</span><span class="hljs-tag"> </span><span class="hljs-attr">rows</span><span class="hljs-tag">=</span><span class="hljs-string">2</span><span class="hljs-tag"> </span><span class="hljs-attr">cols</span><span class="hljs-tag">=</span><span class="hljs-string">50</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">textarea</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">In <a id="_idIndexMarker654"/> JavaScript, select both text areas and the button and set them as JavaScript objects.</li>&#13;
      <li class="numbered">Add an event listener to the button that will invoke a function that gets the content of the first <code class="Code-In-Text--PACKT-">textarea</code> and filters it to only accept email addresses.</li>&#13;
      <li class="numbered">Within the extracting function, get the content of the first input field. Using <code class="Code-In-Text--PACKT-">match()</code>, return an array of the email addresses that were matched from within the content from the first <code class="Code-In-Text--PACKT-">textarea</code>.</li>&#13;
      <li class="numbered">To remove any duplicates, create a separate array that will hold only unique values.</li>&#13;
      <li class="numbered">Loop through all the email addresses found and check whether each one is already in the <code class="Code-In-Text--PACKT-">holder</code> array, and if not, add it.</li>&#13;
      <li class="numbered">Using the <code class="Code-In-Text--PACKT-">join()</code> array method, you can now join together the results of the email addresses found within the content and output it into the second <code class="Code-In-Text--PACKT-">textarea</code>.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-383" class="title">Form validator</h2>&#13;
    <p class="normal">This project is an example of a <a id="_idIndexMarker655"/>typical form structure where you check the values inputted into the form and validate them before the content gets submitted. A response is returned to the user if the values do not meet the validation criteria in the code. Use the following HTML and CSS as a starting template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="css">        </span><span class="hljs-selector-class">.hide</span><span class="css"> {</span>&#13;
<span class="css">            </span><span class="hljs-attribute">display</span><span class="css">: none;</span>&#13;
<span class="css">        }</span>&#13;
<span class="css">        </span><span class="hljs-selector-class">.error</span><span class="css"> {</span>&#13;
<span class="css">            </span><span class="hljs-attribute">color</span><span class="css">: red;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">font-size</span><span class="css">: </span><span class="hljs-number">0.8em</span><span class="css">;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">font-family</span><span class="css">: sans-serif;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">font-style</span><span class="css">: italic;</span>&#13;
<span class="css">        }</span>&#13;
<span class="css">        </span><span class="hljs-selector-tag">input</span><span class="css"> {</span>&#13;
<span class="css">            </span><span class="hljs-attribute">border-color</span><span class="css">: </span><span class="hljs-number">#ddd</span><span class="css">;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">width</span><span class="css">: </span><span class="hljs-number">400px</span><span class="css">;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">display</span><span class="css">: block;</span>&#13;
<span class="css">            </span><span class="hljs-attribute">font-size</span><span class="css">: </span><span class="hljs-number">1.5em</span><span class="css">;</span>&#13;
<span class="css">        }</span>&#13;
<span class="css">    </span><span class="hljs-tag">&lt;/</span><span class="hljs-name">style</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">form</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"myform"</span><span class="hljs-tag">&gt;</span> Email :&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"email"</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"error hide"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span> Password :&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"password"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"password"</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"error hide"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span> User Name :&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"userName"</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"error hide"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">br</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"submit"</span><span class="hljs-tag"> </span><span class="hljs-attr">value</span><span class="hljs-tag">=</span><span class="hljs-string">"Sign Up"</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;/</span><span class="hljs-name">form</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
        &#13;
    <span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Using JavaScript, select all the page elements and set them as JavaScript objects so they are easier to select<a id="_idIndexMarker656"/> within the code. Also select all the page elements that have the <code class="Code-In-Text--PACKT-">error</code> class as an object.</li>&#13;
      <li class="numbered">Add an event listener to submit and capture the click, preventing the default form action.</li>&#13;
      <li class="numbered">Loop through all the page elements that have a class <code class="Code-In-Text--PACKT-">error</code> and add the <code class="Code-In-Text--PACKT-">hide</code> class, which will remove them from view since this is a new submission.</li>&#13;
      <li class="numbered">Using the regular expression for valid emails, test the results against the input value of the email field.</li>&#13;
      <li class="numbered">Create a function to respond to errors, which removes the <code class="Code-In-Text--PACKT-">hide</code> class from the element next to the element that triggered the event. Apply focus to that element within the function.</li>&#13;
      <li class="numbered">If there is an error that an input does not match the desired regex, pass the parameters to the error handling function you just created.</li>&#13;
      <li class="numbered">Check the password field input value to ensure only letters and numbers are used. Also check the length to ensure that it is 3-8 characters. If either are false, then add the error with the error function and create a message for the user. Set the error Boolean to <code class="Code-In-Text--PACKT-">true</code>.</li>&#13;
      <li class="numbered">Add in an <a id="_idIndexMarker657"/>object to track the form data creation and add values to the object by looping through all the inputs, setting the property name to be the same as the input name, and the value the same as the input value.</li>&#13;
      <li class="numbered">Before the end of the validation function, check if an error is still present, and if it is not, submit the form object.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-384" class="title">Simple math quiz</h2>&#13;
    <p class="normal">In this project, we will create a math quiz<a id="_idIndexMarker658"/> that will allow the user to respond to math questions. The application will check the responses and score the accuracy of the user's answers to the questions. You can use the following HTML template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-meta">&lt;!doctype </span><span class="hljs-meta-keyword">html</span><span class="hljs-meta">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>Complete JavaScript Course<span class="hljs-tag">&lt;/</span><span class="hljs-name">title</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">head</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"val1"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>+<span class="hljs-tag">&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span> <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"val2"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span> = <span class="hljs-tag">&lt;</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;</span>&#13;
        <span class="hljs-tag">&lt;</span><span class="hljs-name">input</span><span class="hljs-tag"> </span><span class="hljs-attr">type</span><span class="hljs-tag">=</span><span class="hljs-string">"text"</span><span class="hljs-tag"> </span><span class="hljs-attr">name</span><span class="hljs-tag">=</span><span class="hljs-string">"answer"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">span</span><span class="hljs-tag">&gt;&lt;</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>Check<span class="hljs-tag">&lt;/</span><span class="hljs-name">button</span><span class="hljs-tag">&gt;</span>&#13;
    <span class="hljs-tag">&lt;</span><span class="hljs-name">div</span><span class="hljs-tag"> </span><span class="hljs-attr">class</span><span class="hljs-tag">=</span><span class="hljs-string">"output"</span><span class="hljs-tag">&gt;&lt;/</span><span class="hljs-name">div</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">body</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">html</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">In JavaScript, wrap the code within a function, <code class="Code-In-Text--PACKT-">app</code>. Within the app function, create variable objects to contain all the page elements so they can be used in the script, and create a blank object called <code class="Code-In-Text--PACKT-">game</code>.</li>&#13;
      <li class="numbered">Add a <code class="Code-In-Text--PACKT-">DOMContentLoaded</code> event listener that invokes the app initialization once the page loads.</li>&#13;
      <li class="numbered">Within an <code class="Code-In-Text--PACKT-">init()</code> function, add an event listener to the button, listen for a click, and track the event into a function called <code class="Code-In-Text--PACKT-">checker</code>. Also within the <code class="Code-In-Text--PACKT-">init</code> function, load another function called <code class="Code-In-Text--PACKT-">loadQuestion()</code>.</li>&#13;
      <li class="numbered">Create a function to load the questions, and another function that can generate a random number from min and max values in the arguments.</li>&#13;
      <li class="numbered">In the <code class="Code-In-Text--PACKT-">loadQuestion()</code> function, generate two random values and add them to the game object. Calculate the result of both values added together and assign that value within the game object as well.</li>&#13;
      <li class="numbered">Assign and update the <code class="Code-In-Text--PACKT-">textContent</code> of the page elements that require the dynamic number values for the calculation question.</li>&#13;
      <li class="numbered">When the button is clicked, use a ternary operator to determine whether the answer to the question was correct or incorrect. Set the color to <code class="Code-In-Text--PACKT-">green</code> for correct, and to <code class="Code-In-Text--PACKT-">red</code> for incorrect.</li>&#13;
      <li class="numbered">Create a page element to <a id="_idIndexMarker659"/>output all the questions and keep track of the results. Within the <code class="Code-In-Text--PACKT-">checker()</code> function, append a new element to the HTML with a style color to indicate a correct or incorrect response. Display the first and second values as well as the answer, and show the user's response within brackets.</li>&#13;
      <li class="numbered">Clear the input field and load the next question.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-385" class="title">Self-check quiz</h1>&#13;
    <ol>&#13;
      <li class="numbered" value="1">What will the following regex expression return from the following words?&#13;
        <pre class="programlisting code"><code class="hljs-code">Expression / ([a-e])\w+/g&#13;
<span class="hljs-string">"Hope you enjoy JavaScript"</span>&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">Are cookies part of the document object?</li>&#13;
      <li class="numbered">What will the following code do to a JavaScript cookie?&#13;
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> mydate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();&#13;
mydate.setTime(mydate.getTime() - <span class="hljs-number">1</span>);&#13;
<span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"username=; expires="</span> + mydate.toGMTString(); &#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What is the output in the console from the following code?&#13;
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-keyword">const</span> a = <span class="hljs-string">"hello world"</span>;&#13;
(<span class="hljs-keyword">function</span><span class="hljs-function"> () </span>{&#13;
    <span class="hljs-keyword">const</span> a = <span class="hljs-string">"JavaScript"</span>;&#13;
})();&#13;
<span class="hljs-built_in">console</span>.log(a);&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What is the output in the console from the following code?&#13;
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-tag">&lt;</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
<span class="hljs-meta">"use strict"</span><span class="javascript">;</span>&#13;
<span class="javascript">myFun();</span>&#13;
<span class="hljs-built_in">console</span><span class="javascript">.log(a);</span>&#13;
<span class="hljs-keyword">function</span><span class="hljs-function"> </span><span class="hljs-title">myFun</span><span class="hljs-function">() </span><span class="javascript">{</span>&#13;
<span class="javascript">    a = </span><span class="hljs-string">"Hello World"</span><span class="javascript">;</span>&#13;
<span class="javascript">}</span>&#13;
<span class="hljs-tag">&lt;/</span><span class="hljs-name">script</span><span class="hljs-tag">&gt;</span>&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What is the output of the following code?&#13;
        <pre class="programlisting code"><code class="hljs-code"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">"a"</span>);&#13;
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {&#13;
<span class="hljs-built_in">    console</span>.log(<span class="hljs-string">"b"</span>);&#13;
}, <span class="hljs-number">0</span>);&#13;
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"c"</span>);&#13;
</code></pre>&#13;
      </li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-386" class="title">Summary</h1>&#13;
    <p class="normal">In this chapter, we had some important, more advanced topics that we still had to cover, but that you were probably not ready for earlier in the book. After this chapter, you should have deepened your understanding of JavaScript in several areas, first and foremost, regular expressions. With regex, we can specify patterns of strings and we can use these to search other strings for matches to our patterns.</p>&#13;
    <p class="normal">We also considered functions and the <code class="Code-In-Text--PACKT-">arguments</code> object, with which we can access arguments by their index. We continued with a look at JavaScript hoisting and strict mode, which enables us to use JavaScript with a few more rules. Getting used to JavaScript in strict mode is generally a good practice and is great preparation for working with JavaScript frameworks.</p>&#13;
    <p class="normal">Debugging and tweaking were also discussed: we can use breakpoints or log our output to the console to get an idea of what is going on. Handling errors well can prevent unnecessary crashes of our program. Finally, we looked at JavaScript cookie creation and the use of local storage, along with the use of JSON, a syntax for sending data around. We saw the different types of key-value pairs and how to parse JSON. We also saw how to store key-value pairs in the <code class="Code-In-Text--PACKT-">localStorage</code> object of <code class="Code-In-Text--PACKT-">window</code>.</p>&#13;
    <p class="normal">This chapter has deepened our understanding of JavaScript, and we learned some new things we need to know for modern JavaScript, but also a lot for when dealing with old (legacy) code. In the next chapter, we'll dive into an even more advanced topic: concurrency. This topic is about multitasking with your JavaScript code. </p>&#13;
  </div>&#13;
</div></body></html>