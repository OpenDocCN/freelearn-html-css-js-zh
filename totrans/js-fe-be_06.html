<html><head></head><body>
		<div><h1 id="_idParaDest-91"><em class="italic"><a id="_idTextAnchor090"/>Chapter 4</em>: Advanced Concepts of Vue.js</h1>
			<p>In this chapter, we look at advanced uses of Vue.js. We will study the handling of events in components, then the assembly of the various components in order to form a whole Vue.js application.</p>
			<p>Why is it important to know how to handle events in components?</p>
			<p>A Vue.js component is often a set of HTML elements, like building blocks, such as buttons, lists, and input fields. It is therefore essential to know how to manage the interaction of these elements with the possible actions of the user, such as clicking on a button, entering a value in an input field, or selecting an element from a list.</p>
			<p>Similarly, why is it important to know how to assemble the components?</p>
			<p>A web application brings together many elements, which in the end, will represent the application as a whole. The principle of Vue.js is to break down an application into components, then assemble them to form the complete application. We will have to learn how to divide an application into components, then assemble them by allowing them, for example, to share data.</p>
			<p>We end this chapter by showing how we can easily produce visual effects on your pages thanks to Vue.js.</p>
			<p>Here are the main topics we explain in the following pages:</p>
			<ul>
				<li>Managing events</li>
				<li>Assembling components</li>
				<li>Using visual effects</li>
			</ul>
			<h1 id="_idParaDest-92"><a id="_idTextAnchor091"/>Technical requirements</h1>
			<p>You can find the code files for this chapter on GitHub at: <a href="https://github.com/PacktPublishing/JavaScript-from-Frontend-to-Backend/blob/main/Chapter%204.zip">https://github.com/PacktPublishing/JavaScript-from-Frontend-to-Backend/blob/main/Chapter%204.zip</a>.</p>
			<h1 id="_idParaDest-93"><a id="_idTextAnchor092"/>Managing events</h1>
			<p>Now let’s see<a id="_idIndexMarker322"/> how to handle events with Vue.js. To do this, use the <code>v-on</code> directive, followed by the character <code>:</code> and the name of the event to be handled. For example, if you want to perform a particular process when a button is clicked, we will use the <code>click</code> event on the button and we will write <code>v-on:click</code> to handle the <code>click</code> event. The value of the directive (which follows the <code>=</code> sign) corresponds to the JavaScript expression to be executed (either a statement or a function call).</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Vue.js makes it easier to write <code>v-on:click</code> by writing <code>@click</code> more simply. This rule is valid for all events.</p>
			<p>In this example, we will implement a button that increments a reactive variable <code>count</code> on each click. We will also define an <code>incr()</code> method in the <code>methods</code> section of the component that increments the <code>count</code> variable:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Increment counter count (counter.js file)</p>
			<pre class="source-code">const Counter = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      count : 0</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">    <strong class="bold">&lt;button @click="count++"&gt;Increment counter by </strong></pre>
			<pre class="source-code"><strong class="bold">    count++&lt;/button&gt;</strong> </pre>
			<pre class="source-code">       &amp;nbsp;&amp;nbsp; count = {{count}} &lt;br&gt;&lt;br&gt;</pre>
			<pre class="source-code">    <strong class="bold">&lt;button @click="incr()"&gt;Increment counter by </strong></pre>
			<pre class="source-code"><strong class="bold">    incr()&lt;/button&gt; </strong></pre>
			<pre class="source-code">      &amp;nbsp;&amp;nbsp; count = {{count}}</pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">    incr() {</pre>
			<pre class="source-code">      this.count++;</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  }</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counter;</pre>
			<p>We have defined two buttons for which the value of <code>@click</code> is as follows:</p>
			<ul>
				<li><code>@click="count++"</code> (first button)</li>
				<li><code>@click="incr()"</code> (second button)</li>
			</ul>
			<p>We thus<a id="_idIndexMarker323"/> show the equivalence of these forms of writing.</p>
			<p>The counter is incremented by 1 with each click of the buttons. </p>
			<div><div><img src="img/Figure_4.01_B17416.jpg" alt="Figure 4.1 – Button click management&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.1 – Button click management</p>
			<p>It is possible to write several method calls in a row during the processing to be performed (separated by a comma or a semicolon). It is enough that these methods are defined in the <code>methods</code> section of the component.</p>
			<p>For example, <code>@click="incr();incr()"</code> allows the <code>incr()</code> method to be executed twice each time the button is clicked.</p>
			<p>We have explained here how to catch an event and handle it in a method defined in the <code>methods</code> section<a id="_idIndexMarker324"/> of the component. Let’s go further by using the parameters transmitted in the received event, for example, knowing which key on the keyboard was pressed.</p>
			<h1 id="_idParaDest-94"><a id="_idTextAnchor093"/>Using the $event parameter</h1>
			<p>Vue.js provides <a id="_idIndexMarker325"/>access to the <code>Event</code> object associated with the event. This object can then be used to get additional information about the event. The information is different depending on the type of event:</p>
			<ul>
				<li>Mouse coordinates or buttons clicked on the mouse for a mouse-related event</li>
				<li>Keyboard key used, or the combination of keys pressed (<em class="italic">Ctrl</em>, <em class="italic">Shift</em>, <em class="italic">Esc</em>, and so on) for a keyboard-related event</li>
			</ul>
			<p>The <code>Event</code> object can be accessed from the <code>$event</code> variable. It can be passed as a parameter to a processing method. This parameter will then be retrieved in the event processing function.</p>
			<p>Let’s see two examples of how to use this parameter when entering characters in an edit control:</p>
			<ul>
				<li>By displaying an error message as soon as the numerical value entered equals or exceeds the value 100</li>
				<li>By prohibiting the entry of characters other than numeric characters if the edit control can only contain numbers (this is an improvement of the previous example)</li>
			</ul>
			<h2 id="_idParaDest-95"><a id="_idTextAnchor094"/>Checking that the entered value is less than 100</h2>
			<p>Let’s use<a id="_idIndexMarker326"/> the <code>$event</code> parameter to check that the content of the <code>counter</code> input field is less than 100. If so, the <code>count</code> variable is updated with the entered value; otherwise, an error message is displayed.</p>
			<p>To achieve this, we use the <code>blur</code> event on the input field, and in the processing of the event, we retrieve the value of the input field. A reactive <code>message</code> variable is used to display an error message, if necessary:</p>
			<p class="callout-heading">Note</p>
			<p class="callout">The <code>blur</code> event is triggered when leaving the input field, for example, by clicking outside the input field.</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Display an error message if the counter is greater than 100 (counter.js file)</p>
			<pre class="source-code">const Counter = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      count : 0,</pre>
			<pre class="source-code">      message : ""</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">   <strong class="bold"> count (less than 100): &lt;input type="text" </strong></pre>
			<pre class="source-code"><strong class="bold">    :value="count" @blur="valid($event)" /&gt;</strong></pre>
			<pre class="source-code"> <strong class="bold">    &amp;nbsp;&amp;nbsp; count = {{count}} </strong></pre>
			<pre class="source-code"><strong class="bold">    &lt;br&gt;&lt;br&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">    &lt;span&gt;{{message}}&lt;/span&gt;</strong></pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">   <strong class="bold"> valid(event) {</strong></pre>
			<pre class="source-code"><strong class="bold">      this.message = "";  // reset of the error message </strong></pre>
			<pre class="source-code"><strong class="bold">                          // before each check</strong></pre>
			<pre class="source-code"><strong class="bold">      if (event.target.value &lt; 100) this.count = </strong></pre>
			<pre class="source-code"><strong class="bold">      event.target.value;</strong></pre>
			<pre class="source-code"><strong class="bold">      else this.message = "Error: count must be less than 100";</strong></pre>
			<pre class="source-code"><strong class="bold">    }</strong></pre>
			<pre class="source-code">  }</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counter;</pre>
			<p>The <code>$event</code> parameter is <a id="_idIndexMarker327"/>passed to the <code>valid(event)</code> processing function. The <code>event.target</code> property provides direct access to the HTML element. Its <code>value</code> property contains the value of the field.</p>
			<p>If you type a value less than 100 (here, 45), the counter is updated:</p>
			<div><div><img src="img/Figure_4.02_B17416.jpg" alt="Figure 4.2 – Entering an authorized value&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.2 – Entering an authorized value</p>
			<p>If you type a value greater than 100 (for example, <code>150</code>), an error is displayed and the old value of the counter (<code>45</code>) is restored.</p>
			<div><div><img src="img/Figure_4.03_B17416.jpg" alt="Figure 4.3 – Entering a prohibited value&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.3 – Entering a prohibited value</p>
			<p>Then, we’ll <a id="_idIndexMarker328"/>look at another use of <code>$event</code> parameter-allowing only digits to be entered. </p>
			<h2 id="_idParaDest-96"><a id="_idTextAnchor095"/>Allowing only digits to be entered</h2>
			<p>Another use of<a id="_idIndexMarker329"/> the <code>$event</code> parameter can be to only allow numbers to be entered into the field. Other keyboard keys are prohibited (except the <em class="italic">Backspace</em> and <em class="italic">Delete</em> keys, the right and left arrow keys, and the <em class="italic">Tab</em> key).</p>
			<p>For this, we use the <code>keydown</code> event, which is triggered each time a key on the keyboard <a id="_idIndexMarker330"/>is pressed:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Disallow input of non-numeric characters (counter.js file)</p>
			<pre class="source-code">const Counter = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      count : 0,</pre>
			<pre class="source-code">      message : ""</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">    count (less than 100):</pre>
			<pre class="source-code">    &lt;input type="text" :value="count" @blur="valid($event)" </pre>
			<pre class="source-code"><strong class="bold">    @keydown="verif($event)"</strong>/&gt;</pre>
			<pre class="source-code">      &amp;nbsp;&amp;nbsp; count = {{count}} </pre>
			<pre class="source-code">    &lt;br&gt;&lt;br&gt;</pre>
			<pre class="source-code">    &lt;span&gt;{{message}}&lt;/span&gt;</pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">    valid(event) {</pre>
			<pre class="source-code">      this.message = "";  // reset of the error message </pre>
			<pre class="source-code"><strong class="bold">                          </strong>// before each check</pre>
			<pre class="source-code">      if (event.target.value &lt; 100) this.count = event.target.</pre>
			<pre class="source-code">      value;</pre>
			<pre class="source-code">      else this.message = "Error: count must be less than 100";</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code"><strong class="bold">    verif(event) {</strong></pre>
			<pre class="source-code"><strong class="bold">      console.log(event.key);   // display in the console </strong></pre>
			<pre class="source-code"><strong class="bold">                                // the value of the key </strong></pre>
			<pre class="source-code"><strong class="bold">                                // pressed</strong></pre>
			<pre class="source-code"><strong class="bold">      if (event.key != "Backspace" &amp;&amp; event.key != "Delete" </strong></pre>
			<pre class="source-code"><strong class="bold">      &amp;&amp; </strong></pre>
			<pre class="source-code"><strong class="bold">          event.key != "ArrowLeft" &amp;&amp; event.key != </strong></pre>
			<pre class="source-code"><strong class="bold">          "ArrowRight" &amp;&amp;</strong></pre>
			<pre class="source-code"><strong class="bold">          event.key != "Tab") {</strong></pre>
			<pre class="source-code"><strong class="bold">        // forbid the key if it is not numeric</strong></pre>
			<pre class="source-code"><strong class="bold">        if (event.key &lt; "0" || event.key &gt; "9") </strong></pre>
			<pre class="source-code"><strong class="bold">        event.preventDefault();  // forbidden key</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">    }</strong></pre>
			<pre class="source-code">  }</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counter;</pre>
			<p>The event used to filter<a id="_idIndexMarker331"/> the keys corresponds to <code>keydown</code> and gets activated when pressing a key on the keyboard. We therefore indicate to process each key press using the <code>verif()</code> method defined in the <code>methods</code> section.</p>
			<p class="callout-heading">Using event.key and event.preventDefault()</p>
			<p class="callout">The <code>event.key</code> parameter contains the code of the key pressed. The key code is between “0” and “9” for a numeric value. To prohibit the other keys, we use the <code>event.preventDefault()</code> method (defined in JavaScript), which indicates not to take into account the event, therefore the pressing of the prohibited key.</p>
			<p>We learned how to create a component in <a href="B17416_03_ePub.xhtml#_idTextAnchor072"><em class="italic">Chapter 3</em></a>, <em class="italic">Getting Started with Vue.js</em>, and how to manage events in it (at the beginning of this chapter). A full application is composed<a id="_idIndexMarker332"/> of several components. Let’s now explain how to proceed to assemble several components to form a complete application.</p>
			<h1 id="_idParaDest-97"><a id="_idTextAnchor096"/>Assembling components</h1>
			<p>Vue.js divides <a id="_idIndexMarker333"/>an application into a set of components. These components are then assembled to form the final application.</p>
			<p>Let’s study an example of how to create components and then assemble the created components. The goal is to use three counters (associated with three input fields) like the one in the previous example, then display the total of these counters. The total updates, as numbers are typed into each of the input fields.</p>
			<p>We will create two components for this:</p>
			<ul>
				<li>The <code>&lt;counter&gt;</code> component is used to manage a counter.</li>
				<li>The <code>&lt;counters&gt;</code> component allows you to manage the three counters together and display the total.</li>
			</ul>
			<p>The <code>index.html</code> file will display the <code>&lt;counters&gt;</code> component in its <code>template</code> section:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">index.html file</p>
			<pre class="source-code">&lt;html&gt;</pre>
			<pre class="source-code">  &lt;head&gt;</pre>
			<pre class="source-code">    &lt;meta charset="utf-8" /&gt;</pre>
			<pre class="source-code">    &lt;script src="img/vue@next"&gt;&lt;/script&gt;</pre>
			<pre class="source-code">  &lt;/head&gt;</pre>
			<pre class="source-code">  &lt;body&gt;</pre>
			<pre class="source-code">    &lt;div id="app"&gt;&lt;/div&gt;</pre>
			<pre class="source-code">  &lt;/body&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">  &lt;script type="module"&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">    <strong class="bold">import Counters from "./counters.js";</strong></pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var app = Vue.createApp({</pre>
			<pre class="source-code">      components : {</pre>
			<pre class="source-code">        Counters:Counters</pre>
			<pre class="source-code">      },</pre>
			<pre class="source-code">      template : `</pre>
			<pre class="source-code">        <strong class="bold">&lt;counters /&gt;</strong></pre>
			<pre class="source-code">      `,</pre>
			<pre class="source-code">    });</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var vm = app.mount("div#app");</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">  &lt;/script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">&lt;/html&gt;</pre>
			<p>The included <code>counters.js</code> file describes the <code>&lt;counters&gt;</code> component. It partly repeats what has been explained in the previous sections, adding new concepts that we’ll now describe.</p>
			<p>These new concepts will explain how a parent component communicates with its child components (thanks to attributes, called <code>props</code>) and how a child component communicates with its parent component (thanks to events and the <code>$emit()</code> method).</p>
			<p>These two <a id="_idIndexMarker334"/>concepts make it possible to assemble the components between them by allowing them to communicate between a child component and a parent component.</p>
			<h2 id="_idParaDest-98"><a id="_idTextAnchor097"/>Using $emit() to communicate with a parent component</h2>
			<p>Let’s first<a id="_idIndexMarker335"/> look<a id="_idIndexMarker336"/> at the <code>&lt;counter&gt;</code> component<a id="_idIndexMarker337"/> file, which describes a counter associated with an input field:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">&lt;counter&gt; component (counter.js file)</p>
			<pre class="source-code">const Counter = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      <strong class="bold">count : 0,</strong></pre>
			<pre class="source-code">      <strong class="bold">old_value : 0</strong></pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">    &lt;input type="text" v-model="count" </pre>
			<pre class="source-code">       @keydown="verif($event)" </pre>
			<pre class="source-code">    <strong class="bold">   @input="calcul()" </strong></pre>
			<pre class="source-code">       @focus="focus()" </pre>
			<pre class="source-code">       @blur="blur()" /&gt;</pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">    verif(event) {</pre>
			<pre class="source-code">      if (event.key != "Backspace" &amp;&amp; event.key != "Delete" &amp;&amp; </pre>
			<pre class="source-code">          event.key != "ArrowLeft" &amp;&amp; event.key != </pre>
			<pre class="source-code"><strong class="bold">          </strong>"ArrowRight" &amp;&amp;</pre>
			<pre class="source-code">          event.key != "Tab") {</pre>
			<pre class="source-code">        // forbid the key if it is not numeric</pre>
			<pre class="source-code">        if (event.key &lt; "0" || event.key &gt; "9") </pre>
			<pre class="source-code"><strong class="bold">        </strong>event.preventDefault();  // key forbidden</pre>
			<pre class="source-code">      }</pre>
			<pre class="source-code">      this.old_value = event.target.value;</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code"> <strong class="bold">   calcul() {</strong></pre>
			<pre class="source-code"><strong class="bold">      this.$emit("sub", this.old_value || 0);  // subtract </strong></pre>
			<pre class="source-code"><strong class="bold">                                               // old value</strong></pre>
			<pre class="source-code"><strong class="bold">      this.$emit("add", this.count || 0);      // add new value</strong></pre>
			<pre class="source-code"><strong class="bold">    },</strong></pre>
			<pre class="source-code">    focus() {</pre>
			<pre class="source-code">      if (this.old_value == "0") this.count = "";</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code">    blur() {</pre>
			<pre class="source-code">      if (!parseInt(this.count)) {</pre>
			<pre class="source-code">        this.old_value = 0; </pre>
			<pre class="source-code">        this.count = 0;</pre>
			<pre class="source-code">      }</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code"> <strong class="bold"> emits : ["sub", "add"]    // declare events emitted to </strong></pre>
			<pre class="source-code"><strong class="bold">                            // the parent</strong></pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counter;</pre>
			<p>The <code>&lt;counter&gt;</code> component<a id="_idIndexMarker338"/> has <a id="_idIndexMarker339"/>been<a id="_idIndexMarker340"/> enriched with new methods, linked to new events to be taken into account during input. Also, a new reactive variable, <code>old_value</code>, has been created:</p>
			<ul>
				<li>The <code>old_value</code> variable contains the value that was entered in the field before pressing the key on the keyboard.</li>
				<li>The <code>count</code> variable contains the value that was entered in the field after pressing the key on the keyboard.</li>
			</ul>
			<p>Why make this distinction? Because to calculate the total of all the counters, it will be necessary, with each typed key, to remove the previous value from the field (before pressing the key) and add the new value (after pressing the key).</p>
			<p>Each keypress is handled by the <code>input</code> event, which here calls the <code>calcul()</code> method. As the calculation associated with the total of the three counters is performed at the higher level (in the <code>&lt;counters&gt;</code> component, which is the parent component), you must indicate to this parent component the sum to subtract (<code>old_value</code>) and the sum to add (<code>count</code>). This is done by sending <code>"sub"</code> and <code>"add"</code> events, using the <code>$emit(eventName, value)</code> method.</p>
			<p class="callout-heading">About the $emit(eventName, value) Method</p>
			<p class="callout">The <code>$emit(eventName, value)</code> method, executed from a component, sends the <code>eventName</code> event to the parent component, which can process it using the <code>@eventName</code> directive. The <code>value</code> parameter corresponds to the value to be transmitted if necessary.</p>
			<p>In addition, we indicate in the <code>emits</code> section of the component the list of events that this component can emit to its parent.</p>
			<p>This way of communicating between a child component (here, the <code>&lt;counter&gt;</code> component) and its parent (here, the <code>&lt;counters&gt;</code> component), using events, is the one recommended by Vue.js.</p>
			<p>Now let’s <a id="_idIndexMarker341"/>see<a id="_idIndexMarker342"/> the description<a id="_idIndexMarker343"/> of the <code>&lt;counters&gt;</code> component, which encompasses the three counters and the calculation of the total counters as you type in each one:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">&lt;counters&gt; component (counters.js file)</p>
			<pre class="source-code">import Counter from "./counter.js";</pre>
			<pre class="source-code">const Counters = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      total : 0</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  components : {</pre>
			<pre class="source-code">    Counter:Counter</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">  <strong class="bold">    Counter 1 : &lt;counter @add="add($event)" </strong></pre>
			<pre class="source-code"><strong class="bold">      @sub="sub($event)" /&gt; &lt;br&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">      Counter 2 : &lt;counter @add="add($event)" </strong></pre>
			<pre class="source-code"><strong class="bold">      @sub="sub($event)" /&gt; &lt;br&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">      Counter 3 : &lt;counter @add="add($event)" </strong></pre>
			<pre class="source-code"><strong class="bold">      @sub="sub($event)" /&gt; &lt;br&gt;&lt;br&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">      Total : {{total}} &lt;br&gt;</strong></pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">    add(value) {</pre>
			<pre class="source-code">      this.total += parseInt(value);</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code">    sub(value) {</pre>
			<pre class="source-code">      this.total -= parseInt(value);</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counters;</pre>
			<p>The <code>"add"</code> and <code>"sub"</code> events <a id="_idIndexMarker344"/>emitted<a id="_idIndexMarker345"/> in<a id="_idIndexMarker346"/> the <code>&lt;counter&gt;</code> child component are processed in the attributes of the <code>&lt;counter&gt;</code> component when used. The <code>add(value)</code> and <code>sub(value)</code> processing methods are registered in the parent component, which allows the value of the total to be changed each time a numeric key is pressed on the keyboard.</p>
			<p>As you type in the fields, <strong class="bold">Total</strong> updates:</p>
			<div><div><img src="img/Figure_4.04_B17416.jpg" alt="Figure 4.4 – Calculation of the sum of the three counters&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.4 – Calculation of the sum of the three counters</p>
			<p>We have seen how to communicate from a component to its parent using events. Now let’s look at<a id="_idIndexMarker347"/> how<a id="_idIndexMarker348"/> to <a id="_idIndexMarker349"/>communicate in the other direction, from a component to its child. For this, we use attributes called props here.</p>
			<h2 id="_idParaDest-99"><a id="_idTextAnchor098"/>Using props to communicate with children</h2>
			<p>We have<a id="_idIndexMarker350"/> seen <a id="_idIndexMarker351"/>that the communication <a id="_idIndexMarker352"/>of information from a child component to its parent is done with events. Communication in the reverse direction, from parent to child, is done through attributes called <code>props</code>. We have already seen the use of these attributes in the previous chapter, in the <em class="italic">Using attributes in components </em>section.</p>
			<p>In this example, we will improve the <code>&lt;counters&gt;</code> component so that we tell it the number of counters we want to display. For this, we use the <code>nb</code> attribute in the component. For example, we will write <code>&lt;counters nb="5" /&gt;</code> to display 5 counters on the page. Each counter is displayed as in the previous form, namely <code>Counter</code> followed by its index starting from 1 (see <em class="italic">Figure 4.5</em>).</p>
			<p>First, we will modify the <code>index.html</code> file to write the <code>&lt;counters&gt;</code> component using the <code>nb</code> attribute. Let’s <a id="_idIndexMarker353"/>modify<a id="_idIndexMarker354"/> the <code>index.html</code> file previously used:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Using &lt;counters nb=”5” /&gt; (index.html file)</p>
			<pre class="source-code">&lt;html&gt;</pre>
			<pre class="source-code">  &lt;head&gt;</pre>
			<pre class="source-code">    &lt;meta charset="utf-8" /&gt;</pre>
			<pre class="source-code">    &lt;script src="img/vue@next"&gt;&lt;/script&gt;</pre>
			<pre class="source-code">  &lt;/head&gt;</pre>
			<pre class="source-code">  &lt;body&gt;</pre>
			<pre class="source-code">    &lt;div id="app"&gt;&lt;/div&gt;</pre>
			<pre class="source-code">  &lt;/body&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">  &lt;script type="module"&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">    import Counters from "./counters.js";</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var app = Vue.createApp({</pre>
			<pre class="source-code">      components : {</pre>
			<pre class="source-code">        Counters:Counters</pre>
			<pre class="source-code">      },</pre>
			<pre class="source-code">      template : `</pre>
			<pre class="source-code">      <strong class="bold">  &lt;counters nb="5" /&gt;</strong></pre>
			<pre class="source-code">      `,</pre>
			<pre class="source-code">    });</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var vm = app.mount("div#app");</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">  &lt;/script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">&lt;/html&gt;</pre>
			<p>Now, we will <a id="_idIndexMarker355"/>modify<a id="_idIndexMarker356"/> the <code>counters.js</code> file to<a id="_idIndexMarker357"/> integrate the new <code>"nb"</code> props into the component:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Integration of the nb props in the &lt;counters&gt; component (counters.js file)</p>
			<pre class="source-code">import Counter from "./counter.js";</pre>
			<pre class="source-code">const Counters = {</pre>
			<pre class="source-code">  data() {</pre>
			<pre class="source-code">    return {</pre>
			<pre class="source-code">      total : 0</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  components : {</pre>
			<pre class="source-code">    Counter:Counter</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">  <strong class="bold">props : ["nb"],</strong></pre>
			<pre class="source-code"><strong class="bold">  computed : {</strong></pre>
			<pre class="source-code"><strong class="bold">    NB() {</strong></pre>
			<pre class="source-code"><strong class="bold">      var tab = [];</strong></pre>
			<pre class="source-code"><strong class="bold">      for(var i = 0; i &lt; this.nb; i++) tab.push(i+1);</strong></pre>
			<pre class="source-code"><strong class="bold">      return tab;</strong></pre>
			<pre class="source-code"><strong class="bold">    }</strong></pre>
			<pre class="source-code"><strong class="bold">  },</strong></pre>
			<pre class="source-code">  template : `</pre>
			<pre class="source-code">   <strong class="bold"> &lt;div v-for="i in NB"&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">      Counter {{i}} : &lt;counter @add="add($event)" </strong></pre>
			<pre class="source-code"><strong class="bold">      @sub="sub($event)" /&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">    &lt;/div&gt;</strong></pre>
			<pre class="source-code">    &lt;br&gt;</pre>
			<pre class="source-code">    Total : {{total}} &lt;br&gt;</pre>
			<pre class="source-code">  `,</pre>
			<pre class="source-code">  methods : {</pre>
			<pre class="source-code">    add(value) {</pre>
			<pre class="source-code">      this.total += parseInt(value);</pre>
			<pre class="source-code">    },</pre>
			<pre class="source-code">    sub(value) {</pre>
			<pre class="source-code">      this.total -= parseInt(value);</pre>
			<pre class="source-code">    }</pre>
			<pre class="source-code">  },</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">export default Counters;</pre>
			<p>The <code>"nb"</code> props<a id="_idIndexMarker358"/> are <a id="_idIndexMarker359"/>listed<a id="_idIndexMarker360"/> in the component’s <code>props</code> section. To display a list of counters, use the <code>v-for</code> directive on a <code>&lt;div&gt;</code> element.</p>
			<p class="callout-heading">How to Use the v-for Directive</p>
			<p class="callout">For the value of the <code>v-for</code> directive, you must specify an array to browse. To do this, we transform the value of the <code>"nb"</code> props into an array <code>[1, 2, 3, …, nb]</code>. This is done using a computed property named <code>NB</code>, which returns the desired array.</p>
			<p>The number of counters indicated when using the <code>&lt;counters nb="5"&gt;</code> component is now displayed.</p>
			<div><div><img src="img/Figure_4.05_B17416.jpg" alt="Figure 4.5 – Displaying five counters&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.5 – Displaying five counters</p>
			<p>We end the study of the Vue.js components here, which come together to form a full application.</p>
			<p>Now, let’s <a id="_idIndexMarker361"/>examine<a id="_idIndexMarker362"/> an aspect of Vue.js <a id="_idIndexMarker363"/>that helps you produce visual effects, allowing, for example, making HTML elements displayed on the HTML page appear or disappear using a visual effect.</p>
			<h1 id="_idParaDest-100"><a id="_idTextAnchor099"/>Using visual effects</h1>
			<p>Visual effects <a id="_idIndexMarker364"/>make it possible to make HTML pages more dynamic by bringing visual animations to them. For example, to delete an item in a list, you can make it gradually disappear using an opacity effect rather than deleting it directly without using a visual effect.</p>
			<p>It is possible to use visual effects with Vue.js, in particular, to make elements appear or disappear from the page. Visual effects that do not make HTML elements appear or disappear from the page (for example, making an element move by clicking on it) are also possible with Vue.js. You can refer to <a href="https://vuejs.org/guide/extras/animation.html">https://vuejs.org/guide/extras/animation.html</a> for more details on these types of animations. We do not explain these effects here because the available documentation is clear enough to use them.</p>
			<p>Going forward in this chapter, we will learn about the visual effects that are related to the appearance or disappearance of one or more elements on the page.</p>
			<p>The element we want to help appear or disappear (using the visual effect) must be inserted in a component named <code>&lt;transition&gt;</code>. This component is used by Vue.js to produce the effect.</p>
			<p>Moreover, Vue.js uses the definition of CSS classes in which the CSS properties of the effect are described. Simply define the contents of the CSS classes (described in the following section), and Vue.js uses them at the appropriate times to achieve the effect.</p>
			<p>The CSS classes used by Vue.js on an element depend on the state of the element: should it appear or disappear? Depending on its state (visible or not), the CSS classes differ.</p>
			<h2 id="_idParaDest-101"><a id="_idTextAnchor100"/>When the element appears</h2>
			<p>When the HTML<a id="_idIndexMarker365"/> element should appear, the names of the CSS classes used by Vue.js begin with the character string <code>"v-enter"</code>. The class name then contains the suffix <code>"-from"</code> or <code>"-to"</code>, which will be used to describe the CSS properties of the element at the start of the effect (with <code>"-from"</code>) or at the end of the effect (with <code>"-to"</code>).</p>
			<h3>CSS classes used by Vue.js</h3>
			<p>So, we<a id="_idIndexMarker366"/> will have the following two CSS classes:</p>
			<ul>
				<li><code>v-enter-from</code>: This CSS class describes the CSS properties at the start of the element’s appear effect.</li>
				<li><code>v-enter-to</code>: This CSS class describes the CSS properties at the end of the element’s appear effect.<p class="callout-heading">Note</p><p class="callout">Note that at the start of the appear effect, the element is not visible, but the CSS properties described in the <code>v-enter-from</code> class are applied to it immediately. If, for example, we enter the CSS <code>opacity</code> property equal to <code>1</code> in the CSS properties of the <code>v-enter-from</code> class, the element becomes immediately visible as soon as the appearance effect starts.</p></li>
			</ul>
			<p>Since the <code>v-enter-to</code> class describes the CSS properties of the element at the end of the effect, when the effect completes, Vue.js removes that CSS class from the element.</p>
			<p>We thus see that the CSS classes <code>v-enter-from</code> and <code>v-enter-to</code> are used to describe the CSS properties of an element during the effect but are no longer used afterward on the element (i.e., outside the duration of the effect).</p>
			<p>The appearance effect progresses the CSS properties described in <code>v-enter-from</code> to those described in <code>v-enter-to</code>. For this, Vue.js uses the <code>v-enter-active</code> class, which describes how each of the CSS properties evolves.</p>
			<h3>Example content of CSS classes</h3>
			<p>Let’s look at<a id="_idIndexMarker367"/> some sample content from each of the three CSS classes mentioned above, <code>v-enter-from</code>, <code>v-enter-to</code>, and <code>v-enter-active</code>:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-enter-from class example</p>
			<pre class="source-code">.v-enter-from {</pre>
			<pre class="source-code">  opacity: 0;</pre>
			<pre class="source-code">  background-color:#FFCCCC;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the element will be invisible at the start of the effect (<code>opacity:0</code>) and will have a background color (<code>background-color:#FFCCCC</code>):</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-enter-to class example</p>
			<pre class="source-code">.v-enter-to {</pre>
			<pre class="source-code">  opacity: 0.5;</pre>
			<pre class="source-code">  background-color:black;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the element will be half visible at the end of the effect (<code>opacity:0.5</code>) and will have a black background (<code>background-color:black</code>):</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-enter-active class example</p>
			<pre class="source-code">.v-enter-active {</pre>
			<pre class="source-code">  transition: opacity 2s, background-color 2s;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the CSS <code>opacity</code> and <code>background-color</code> properties must evolve, each for two seconds. As all the specified CSS properties evolve for the same amount of time, we can simplify the code by writing it in shortened form. Here’s how:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-enter-active class example (simplified form)</p>
			<pre class="source-code">.v-enter-active {</pre>
			<pre class="source-code">  transition: all 2s;</pre>
			<pre class="source-code">}</pre>
			<p>The <code>all</code> keyword<a id="_idIndexMarker368"/> overrides all specified CSS properties.</p>
			<h3>Using CSS classes</h3>
			<p>Now let’s show <a id="_idIndexMarker369"/>how to use these CSS classes in a program using a button that displays a paragraph with effect. The role of the button will be to hide or display, alternatively, a paragraph on which the effect will occur when the paragraph appears.</p>
			<p>This shows how the <code>v-enter-from</code>, <code>v-enter-to</code>, and <code>v-enter-active</code> CSS classes are used by Vue.js to produce an effect when an element appears on the page:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Use a button to produce the appearance effect (index.html file)</p>
			<pre class="source-code">&lt;html&gt;</pre>
			<pre class="source-code">  &lt;head&gt;</pre>
			<pre class="source-code">    &lt;meta charset="utf-8" /&gt;</pre>
			<pre class="source-code">    &lt;script src="img/vue@next"&gt;&lt;/script&gt;</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    &lt;style type="text/css"&gt;</pre>
			<pre class="source-code">    <strong class="bold">  .v-enter-from {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 0;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:#FFCCCC;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .v-enter-to {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 0.5;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:black;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .v-enter-active {</strong></pre>
			<pre class="source-code"><strong class="bold">        transition: opacity 2s, background-color 2s;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code">    &lt;/style&gt;</pre>
			<pre class="source-code">  &lt;/head&gt;</pre>
			<pre class="source-code">  &lt;body&gt;</pre>
			<pre class="source-code">    &lt;div id="app"&gt;&lt;/div&gt;</pre>
			<pre class="source-code">  &lt;/body&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">  &lt;script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">    var app = Vue.createApp({</pre>
			<pre class="source-code">      data() {</pre>
			<pre class="source-code">        return {</pre>
			<pre class="source-code">          show: false    // initially hidden</pre>
			<pre class="source-code">        }</pre>
			<pre class="source-code">      },</pre>
			<pre class="source-code">      template : `</pre>
			<pre class="source-code">     <strong class="bold">   &lt;button @click="show=!show"&gt;Produce the </strong></pre>
			<pre class="source-code"><strong class="bold">        effect&lt;/button&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">        &lt;transition&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">          &lt;p v-if="show"&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">            Paragraph 1</strong></pre>
			<pre class="source-code"><strong class="bold">          &lt;/p&gt;</strong></pre>
			<pre class="source-code"><strong class="bold">        &lt;/transition&gt;   </strong></pre>
			<pre class="source-code">      `,</pre>
			<pre class="source-code">    });</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var vm = app.mount("div#app");</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">  &lt;/script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">&lt;/html&gt;</pre>
			<p>We have described the contents of the <code>v-enter-from</code>, <code>v-enter-to</code>, and <code>v-enter-active</code> CSS classes, which will be used by Vue.js to produce the effect. Then we inserted the <code>&lt;transition&gt;</code> element, thus allowing Vue.js to know the element on which to apply the effect.</p>
			<p>The paragraph is hidden at startup (because the reactive variable <code>show</code> is set to <code>false</code>). Clicking the <code>show</code> variable to <code>true</code>, which starts the effect.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">The effect is started on the paragraph thanks to the <code>&lt;transition&gt;</code> component, which includes the paragraph to be displayed. It is thanks to this <code>&lt;transition&gt;</code> component that Vue.js knows the element on which to produce the effect.</p>
			<p>Notice that the effect lasts two seconds as indicated in the CSS <code>transition</code> property, and when the effect is finished, the CSS classes are removed from the <code>&lt;p&gt;</code> element, which then becomes a normal paragraph (without background color and with an opacity of 1). So, you see that the paragraph has an opacity of 0.5 at the end of the effect (the one indicated in <code>v-enter-to</code>), then suddenly changes to an opacity of 1 when the <code>v-enter-to</code> class is removed by Vue.js at the end of the effect.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">It is therefore preferable to indicate in the <code>v-enter-to</code> class the CSS values of the element when it no longer produces an effect, in order to make the effect more harmonious.</p>
			<p>Let’s run the <a id="_idIndexMarker370"/>previous program. When the program is launched, the paragraph is hidden:</p>
			<div><div><img src="img/Figure_4.06_B17416.jpg" alt="Figure 4.6 – The paragraph is hidden when the program is launched&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.6 – The paragraph is hidden when the program is launched</p>
			<p>After clicking the <code>v-enter-from</code>, <code>v-enter-to</code>, and <code>v-enter-active</code> classes.</p>
			<div><div><img src="img/Figure_4.07_B17416.jpg" alt="Figure 4.7 – After clicking on the Produce the effect button, the paragraph appears progressively&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.7 – After clicking on the Produce the effect button, the paragraph appears progressively</p>
			<p>Just before the effect ends, the paragraph has the CSS properties set in the <code>v-enter-to</code> class, so its background color is black, but with an opacity of 0.5, the background color remains gray, and<a id="_idIndexMarker371"/> the paragraph text is not visible.</p>
			<div><div><img src="img/Figure_4.08_B17416.jpg" alt="Figure 4.8 – Paragraph just before the end of the effect&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.8 – Paragraph just before the end of the effect</p>
			<p>At the end of the effect, the CSS classes are removed so that the paragraph appears in a normal way, in black and without a background color.</p>
			<div><div><img src="img/Figure_4.09_B17416.jpg" alt="Figure 4.9 – Paragraph at the end of the appear effect&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.9 – Paragraph at the end of the appear effect</p>
			<p>Once the paragraph has appeared, clicking on the <code>show</code> being set to <code>false</code> when the button is clicked.</p>
			<p>We have seen the different classes and stages when an element appears on the page. Now let’s see<a id="_idIndexMarker372"/> what happens when an element disappears from the page. We will see that there are many similarities between the appearance and disappearance of the element.</p>
			<h2 id="_idParaDest-102"><a id="_idTextAnchor101"/>When the element disappears</h2>
			<p>When the<a id="_idIndexMarker373"/> element should disappear, Vue.js uses CSS classes similar to the previous ones, replacing the string <code>"enter"</code> with the string <code>"leave"</code>.</p>
			<h3>CSS classes used by Vue.js</h3>
			<p>So, we will <a id="_idIndexMarker374"/>have the following two CSS classes:</p>
			<ul>
				<li><code>v-leave-from</code>: This CSS class describes the CSS properties at the start of the element’s disappearing effect.</li>
				<li><code>v-leave-to</code>: This CSS class describes the CSS properties at the end of the element’s disappearing effect.</li>
			</ul>
			<p>The disappearing effect is going to be to progress the CSS properties described in <code>v-leave-from</code> to those described in <code>v-leave-to</code>. After the effect is complete, the <code>v-leave-to</code> class is removed from the element’s CSS classes.</p>
			<p>To progress CSS properties between the values shown in these two classes, Vue.js uses the <code>v-leave-active</code> CSS class, which <a id="_idIndexMarker375"/>describes the progression of CSS properties.</p>
			<h3>Example content of CSS classes</h3>
			<p>Let’s look at<a id="_idIndexMarker376"/> some example content from each of the three CSS classes mentioned above: <code>v-leave-from</code>, <code>v-leave-to</code>, and <code>v-leave-active</code>:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-leave-from class example</p>
			<pre class="source-code">.v-leave-from {</pre>
			<pre class="source-code">  opacity: 1;</pre>
			<pre class="source-code">  background-color:#FFCCCC;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the element will be fully visible at the start of the effect (<code>opacity:1</code>) and will have a background color (<code>background-color:#FFCCCC</code>):</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-leave-to class example</p>
			<pre class="source-code">.v-leave-to {</pre>
			<pre class="source-code">  opacity: 0;</pre>
			<pre class="source-code">  background-color:black;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the element will be invisible at the end of the effect (<code>opacity:0</code>) and will have a black background color (<code>background-color:black</code>):</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-leave-active class example</p>
			<pre class="source-code">.v-leave-active {</pre>
			<pre class="source-code">  transition: opacity 2s, background-color 2s;</pre>
			<pre class="source-code">}</pre>
			<p>Here, we indicate that the CSS <code>opacity</code> and <code>background-color</code> properties must evolve, each for two seconds. As all the specified CSS properties evolve for the same amount of time, you can simplify the code by writing it in shortened form:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">v-leave-active class example</p>
			<pre class="source-code">.v-leave-active {</pre>
			<pre class="source-code">  transition: all 2s;</pre>
			<pre class="source-code">}</pre>
			<p>The <code>all</code> keyword<a id="_idIndexMarker377"/> overrides all specified CSS properties.</p>
			<h3>Using CSS classes</h3>
			<p>Now let’s show <a id="_idIndexMarker378"/>how to use these CSS classes in a program, using a button that hides a paragraph with an effect. It’s almost the same program as before, but here we produce an effect when the paragraph disappears:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Using a button to produce the disappearing effect (index.html file)</p>
			<pre class="source-code">&lt;html&gt;</pre>
			<pre class="source-code">  &lt;head&gt;</pre>
			<pre class="source-code">    &lt;meta charset="utf-8" /&gt;</pre>
			<pre class="source-code">    &lt;script src="img/vue@next"&gt;&lt;/script&gt;</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    &lt;style type="text/css"&gt;</pre>
			<pre class="source-code"><strong class="bold">      .v-leave-from {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 1;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:#FFCCCC;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .v-leave-to {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 0;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:black;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .v-leave-active {</strong></pre>
			<pre class="source-code"><strong class="bold">        transition: all 2s;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code">    &lt;/style&gt;</pre>
			<pre class="source-code">  &lt;/head&gt;</pre>
			<pre class="source-code">  &lt;body&gt;</pre>
			<pre class="source-code">    &lt;div id="app"&gt;&lt;/div&gt;</pre>
			<pre class="source-code">  &lt;/body&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">  &lt;script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">    var app = Vue.createApp({</pre>
			<pre class="source-code">      data() {</pre>
			<pre class="source-code">        return {</pre>
			<pre class="source-code">          <strong class="bold">show: true   // visible at start</strong></pre>
			<pre class="source-code">        }</pre>
			<pre class="source-code">      },</pre>
			<pre class="source-code">      template : `</pre>
			<pre class="source-code">        &lt;button @click="show=!show"&gt;Produce the effect&lt;/button&gt;</pre>
			<pre class="source-code">        &lt;transition&gt;</pre>
			<pre class="source-code">          &lt;p v-if="show"&gt;</pre>
			<pre class="source-code">            Paragraph 1</pre>
			<pre class="source-code">          &lt;/p&gt;</pre>
			<pre class="source-code">        &lt;/transition&gt;   </pre>
			<pre class="source-code">      `,</pre>
			<pre class="source-code">    });</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var vm = app.mount("div#app");</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">  &lt;/script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">&lt;/html&gt;</pre>
			<p>The <code>v-leave-from</code> class<a id="_idIndexMarker379"/> is applied at the beginning of the effect. It indicates that the element is visible (<code>opacity</code> at 1) and has a background color <code>#FFCCCC</code> (salmon).</p>
			<p>The <code>v-leave-to</code> class indicates the values of CSS properties when the effect ends. The paragraph becomes invisible (<code>opacity</code> at 0) and has a black background color. But as the element becomes more and more invisible (<code>opacity</code> tends toward 0), the black background color also becomes less and less visible.</p>
			<p>If we write the <code>enter</code> and <code>leave</code> classes in the CSS part in the same program, with each click on the button, we obtain an effect of appearing or disappearing for the paragraph concerned.</p>
			<p>The CSS classes used here have fixed names, regardless of the effect used. This does not allow using multiple effects, as the visual effects would all use the same CSS class names.</p>
			<p>For this, Vue.js <a id="_idIndexMarker380"/>allows you to give a name to each effect, and thus be able to use different CSS class names.</p>
			<h1 id="_idParaDest-103"><a id="_idTextAnchor102"/>Using a name for the effect</h1>
			<p>Classes<a id="_idIndexMarker381"/> of<a id="_idIndexMarker382"/> type <code>"v-enter-xxx"</code> or <code>"v-leave-xxx"</code> can be renamed to symbolize the effect with which they are associated. We just need to replace the character string <code>"v-"</code> with the name of the effect followed by <code>"-"</code>.</p>
			<p>For example, <code>"v-enter-from"</code> will be replaced by <code>"fade-enter-from"</code> to give the name <code>"fade"</code> to the effect. We then add the <code>name="fade"</code> attribute to the <code>&lt;transition&gt;</code> component, indicating <code>&lt;transition name="fade"&gt;</code>.</p>
			<p>This allows us to integrate several effects into our application, by defining the CSS classes corresponding to each effect.</p>
			<p>The previous program, integrating the effect named <code>"fade"</code> in the paragraph, is then written as follows:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Fade effect (index.html file)</p>
			<pre class="source-code">&lt;html&gt;</pre>
			<pre class="source-code">  &lt;head&gt;</pre>
			<pre class="source-code">    &lt;meta charset="utf-8" /&gt;</pre>
			<pre class="source-code">    &lt;script src="img/vue@next"&gt;&lt;/script&gt;</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    &lt;style type="text/css"&gt;</pre>
			<pre class="source-code">    <strong class="bold">  .fade-leave-from {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 1;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:#FFCCCC;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .fade-leave-to {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 0;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:black;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .fade-leave-active {</strong></pre>
			<pre class="source-code"><strong class="bold">        transition: all 2s;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      </strong></pre>
			<pre class="source-code"><strong class="bold">      .fade-enter-from {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 0;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:#FFCCCC;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .fade-enter-to {</strong></pre>
			<pre class="source-code"><strong class="bold">        opacity: 1;</strong></pre>
			<pre class="source-code"><strong class="bold">        background-color:black;</strong></pre>
			<pre class="source-code"><strong class="bold">      }</strong></pre>
			<pre class="source-code"><strong class="bold">      .fade-enter-active {</strong></pre>
			<pre class="source-code"><strong class="bold">        transition: opacity 2s, background-color 2s;</strong></pre>
			<pre class="source-code"><strong class="bold">      }  </strong>    </pre>
			<pre class="source-code">    &lt;/style&gt;</pre>
			<pre class="source-code">  &lt;/head&gt;</pre>
			<pre class="source-code">  &lt;body&gt;</pre>
			<pre class="source-code">    &lt;div id="app"&gt;&lt;/div&gt;</pre>
			<pre class="source-code">  &lt;/body&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">  &lt;script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">    var app = Vue.createApp({</pre>
			<pre class="source-code">      data() {</pre>
			<pre class="source-code">        return {</pre>
			<pre class="source-code">          show: true</pre>
			<pre class="source-code">        }</pre>
			<pre class="source-code">      },</pre>
			<pre class="source-code">      template : `</pre>
			<pre class="source-code">        &lt;button @click="show=!show"&gt;Produce the </pre>
			<pre class="source-code"><strong class="bold">        </strong>effect&lt;/button&gt;</pre>
			<pre class="source-code">        <strong class="bold">&lt;transition name="fade"&gt;</strong></pre>
			<pre class="source-code">          &lt;p v-if="show"&gt;</pre>
			<pre class="source-code">            Paragraph 1</pre>
			<pre class="source-code">          &lt;/p&gt;</pre>
			<pre class="source-code">        &lt;/transition&gt;   </pre>
			<pre class="source-code">      `,</pre>
			<pre class="source-code">    });</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">    var vm = app.mount("div#app");</pre>
			<pre class="source-code">    </pre>
			<pre class="source-code">  &lt;/script&gt;</pre>
			<pre class="source-code">  </pre>
			<pre class="source-code">&lt;/html&gt;</pre>
			<p>The <code>&lt;transition&gt;</code> component can only have one element, which will be the one on which the effect will occur. To include multiple elements, you must use the <code>&lt;transition-group&gt;</code> component, which<a id="_idIndexMarker383"/> we explain<a id="_idIndexMarker384"/> below.</p>
			<h1 id="_idParaDest-104"><a id="_idTextAnchor103"/>Producing an effect on several elements</h1>
			<p>The <code>&lt;transition&gt;</code> component<a id="_idIndexMarker385"/> can contain only one element. When the effect must be applied to several elements, it is necessary to create several <code>&lt;transition&gt;</code> components or group the elements in a <code>&lt;transition-group&gt;</code> component. In this example, let’s look at using the <code>&lt;transition-group&gt;</code> component:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">Using the &lt;transition-group&gt; component</p>
			<pre class="source-code">&lt;transition-group name="fade"&gt;</pre>
			<pre class="source-code">  &lt;p v-if="show"&gt;</pre>
			<pre class="source-code">    Paragraph 1</pre>
			<pre class="source-code">  &lt;/p&gt;</pre>
			<pre class="source-code">  &lt;p v-if="show"&gt;</pre>
			<pre class="source-code">    Paragraph 2</pre>
			<pre class="source-code">  &lt;/p&gt;</pre>
			<pre class="source-code">&lt;/transition-group&gt;   </pre>
			<p>The elements on which the effect occurs (here, the two paragraphs) are grouped in a <code>&lt;transition-group&gt;</code> element instead of the <code>&lt;transition&gt;</code> element that was used previously when there was a single paragraph on which the effect was produced.</p>
			<p>Now, we will take a look at how to write the CSS classes associated with some classic effects.</p>
			<h1 id="_idParaDest-105"><a id="_idTextAnchor104"/>Examples of commonly used effects</h1>
			<p>Below are some<a id="_idIndexMarker386"/> descriptions of effects. With a few lines of CSS code, you can easily produce classic effects such as the shrinking/enlargement of a paragraph (shrink effect), its gradual disappearance/appearance (opacity effect), and its vertical displacement (<code>ymove</code> effect). You are free to choose the names given to these effects and symbolize the effect produced.</p>
			<h2 id="_idParaDest-106"><a id="_idTextAnchor105"/>The shrink effect</h2>
			<p>To use the<a id="_idIndexMarker387"/> shrink<a id="_idIndexMarker388"/> effect (here called <code>"shrink"</code>), we use the CSS <code>font-size</code> property.</p>
			<p>At the beginning of the effect, the paragraph is of normal size:</p>
			<div><div><img src="img/Figure_4.10_B17416.jpg" alt="Figure 4.10 – The paragraph is normal size at the beginning of the disappearing effect&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.10 – The paragraph is normal size at the beginning of the disappearing effect</p>
			<p>Once the effect has started following a click on the button, the paragraph decreases in size until it disappears.</p>
			<div><div><img src="img/Figure_4.11_B17416.jpg" alt="Figure 4.11 – The paragraph decreases in size until it disappears&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.11 – The paragraph decreases in size until it disappears</p>
			<p>Once the<a id="_idIndexMarker389"/> paragraph has disappeared, it can reappear after <a id="_idIndexMarker390"/>another click on the button. The paragraph size will increase until it reaches its normal size:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">CSS classes to handle shrink effect</p>
			<pre class="source-code">.shrink-leave-from {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.shrink-leave-to {</pre>
			<pre class="source-code">  font-size: 0px;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.shrink-leave-active {</pre>
			<pre class="source-code">  transition: all 2s;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.shrink-enter-from {</pre>
			<pre class="source-code">  font-size: 0px;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.shrink-enter-to {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.shrink-enter-active {</pre>
			<pre class="source-code">  transition: all 2s;</pre>
			<pre class="source-code">}</pre>
			<p>The CSS class <code>shrink-leave-to</code> indicates, for the disappearance effect, to go to a font size of 0px, that is, a reduction to 0 of the font size for the paragraph, which makes the paragraph invisible.</p>
			<p>The <code>shrink-enter-from</code> CSS class tells the effect to start with a font size of 0px, gradually growing to the normal paragraph size when visible.</p>
			<p>If CSS properties are not indicated in a starting class (for example, the <code>shrink-leave-from</code> class does not contain the <code>font-size</code> property), this means that the current value of this CSS property is used in the element.</p>
			<p>Similarly, if CSS<a id="_idIndexMarker391"/> properties are not indicated in an <a id="_idIndexMarker392"/>arrival class (for example, the <code>shrink-enter-to</code> class does not contain the <code>font-size</code> property), this means that we are progressing toward the value of this CSS property of the element when it will be visible at the end of the effect.</p>
			<h2 id="_idParaDest-107"><a id="_idTextAnchor106"/>The opacity effect</h2>
			<p>The effect<a id="_idIndexMarker393"/> named <code>"fade"</code> uses the CSS <code>opacity</code> property. This <a id="_idIndexMarker394"/>effect consists of varying the CSS <code>opacity</code> property from 0 to 1 (to gradually make an element appear) or from 1 to 0 (to make it disappear).</p>
			<p>Here is, for example, the effect of disappearance. The paragraph is disappearing with an opacity that tends toward 0. When the opacity is at 0, the element will be completely invisible on the screen.</p>
			<div><div><img src="img/Figure_4.12_B17416.jpg" alt="Figure 4.12 – The paragraph has an opacity that decreases toward 0&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.12 – The paragraph has an opacity that decreases toward 0</p>
			<p>Once the paragraph is invisible, just click again on the <strong class="bold">Produce the effect</strong> button to make<a id="_idIndexMarker395"/> it<a id="_idIndexMarker396"/> reappear gradually:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">CSS classes to manage opacity</p>
			<pre class="source-code">.fade-leave-from {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.fade-leave-to {</pre>
			<pre class="source-code">  opacity : 0;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.fade-leave-active {</pre>
			<pre class="source-code">  transition: all 0.5s;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.fade-enter-from {</pre>
			<pre class="source-code">  opacity : 0;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.fade-enter-to {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.fade-enter-active {</pre>
			<pre class="source-code">  transition: all 1s;</pre>
			<pre class="source-code">}</pre>
			<p>The <code>fade-leave-to</code> CSS class indicates to go to an opacity of 0. The current opacity (of value 1) is the starting one. Since the initial value of the opacity is not defined in <code>fade-leave-from</code>, it will use the value defined by the CSS of the element (i.e., 1).</p>
			<p>Similarly, the <code>fade-enter-from</code> class indicates the current opacity at the start of the element’s<a id="_idIndexMarker397"/> appearance effect. The destination value<a id="_idIndexMarker398"/> of the opacity does not need to be specified as it will use the default value from the element CSS, that is, 1.</p>
			<h2 id="_idParaDest-108"><a id="_idTextAnchor107"/>The move-down effect</h2>
			<p>To manage this <a id="_idIndexMarker399"/>effect (here, called <code>"ymove"</code>), we use<a id="_idIndexMarker400"/> the CSS properties <code>transform</code> (set to <code>translateY(100px)</code>) and <code>opacity</code> (set to 0). This gradually moves the element 100px horizontally downward, gradually decreasing its opacity to 0. The element disappears as it moves down the page.</p>
			<p>For example, here is what is displayed when the element has started to slide down by decreasing its opacity, which makes it less visible:</p>
			<div><div><img src="img/Figure_4.13_B17416.jpg" alt="Figure 4.13 – The paragraph moves down the page by decreasing its opacity&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.13 – The paragraph moves down the page by decreasing its opacity</p>
			<p>As the effect <a id="_idIndexMarker401"/>continues, the paragraph moves <a id="_idIndexMarker402"/>down the page, until it reaches the distance of 100 pixels specified in the effect. The closer you get to this distance, the more the paragraph decreases in opacity, until it becomes invisible (opacity of 0).</p>
			<div><div><img src="img/Figure_4.14_B17416.jpg" alt="Figure 4.14 – The paragraph becomes almost invisible toward the end of the effect&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 4.14 – The paragraph becomes almost invisible toward the end of the effect</p>
			<p>Once the <a id="_idIndexMarker403"/>paragraph has disappeared, clicking on<a id="_idIndexMarker404"/> the <strong class="bold">Produce the effect</strong> button makes it reappear gradually from the bottom of the screen:</p>
			<p class="SC---Heading" lang="en-US" xml:lang="en-US">CSS classes to handle moving down</p>
			<pre class="source-code">.ymove-leave-from {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.ymove-leave-to {</pre>
			<pre class="source-code">  transform: translateY(100px);</pre>
			<pre class="source-code">  opacity : 0;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.ymove-leave-active {</pre>
			<pre class="source-code">  transition: all 0.5s;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.ymove-enter-from {</pre>
			<pre class="source-code">  transform: translateY(100px);</pre>
			<pre class="source-code">  opacity : 0;</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.ymove-enter-to {</pre>
			<pre class="source-code">}</pre>
			<pre class="source-code">.ymove-enter-active {</pre>
			<pre class="source-code">  transition: all 0.5s;</pre>
			<pre class="source-code">}</pre>
			<p>The <code>ymove-leave-to</code> CSS class indicates the values of the CSS properties toward which we want to vary the indicated CSS properties. The <code>transform</code> property can contain the <code>translateY(100px)</code> value, indicating to perform a vertical translation (<code>Y</code>) of 100 pixels. Adding an opacity of 0 makes the element disappear by moving it vertically.</p>
			<p>The <code>ymove-enter-from</code> CSS class allows you to indicate the values of CSS properties at the beginning of the appearance effect. The element is located at 100 pixels vertical distance, with an opacity of 0. The CSS properties will evolve to those specified in the <code>ymove-enter-to</code> class, and if nothing is specified in this class, the CSS properties usually used for an element (opacity of 1 and vertical distance of 0, i.e., the normal location) are those toward which we will evolve during the appearance effect.</p>
			<p>The CSS <code>transform</code> property<a id="_idIndexMarker405"/> is very useful<a id="_idIndexMarker406"/> for producing visual effects, for example, rotation, enlargement, and displacement.</p>
			<p>This brings us to the end of the chapter.</p>
			<h1 id="_idParaDest-109"><a id="_idTextAnchor108"/>Summary</h1>
			<p>After learning how to handle events and act when an external event (e.g., a click) occurs, we saw in this chapter how components created with Vue.js can be assembled to form complete applications. We learned the following:</p>
			<ul>
				<li>To communicate from a component to its parent, we use events.</li>
				<li>To communicate from a component to its child, we use the attributes in the component’s <code>props</code> section.</li>
			</ul>
			<p>Finally, to produce visual effects, all you have to do is write the CSS classes managed by Vue.js.</p>
			<p>In the next chapter, we will see an example of an application that allows us to put into practice the elements studied in the previous chapters.</p>
		</div>
	</body></html>