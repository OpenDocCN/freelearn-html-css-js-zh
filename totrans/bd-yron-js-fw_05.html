<html><head></head><body>
<div id="_idContainer053">
<h1 class="chapter-number" id="_idParaDest-74"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.1.1">5</span></h1>
<h1 id="_idParaDest-75"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.2.1">Framework Considerations</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapters, we primarily focused on learning from other framework projects to prepare for building our full stack JavaScript framework, which will include the ability to create backend infrastructure and frontend interfaces and will have capabilities to test both sides of these features. </span><span class="koboSpan" id="kobo.3.2">Even though our goal is a full stack framework for application development, you will be able to use what you learned from this experience and apply it to similar JavaScript projects. </span><span class="koboSpan" id="kobo.3.3">Existing projects’ architectural patterns and design decisions will help us orient our project and set it up for success. </span><span class="koboSpan" id="kobo.3.4">In this chapter, we will study three factors to consider when we plan out our framework that are useful for aspiring software architects and those considering being the responsible individuals behind larger technical </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">project decisions.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Items to cover for the purposes of our framework considerations are set </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">out here:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.7.1">Determining project goals</span></strong><span class="koboSpan" id="kobo.8.1">: Focusing on what you are building and who will be the main consumer and patron of the </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">framework’s APIs</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.10.1">Identifying framework problem spaces</span></strong><span class="koboSpan" id="kobo.11.1">: Aligning with the problem space of the new framework you </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">are developing</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.13.1">Technical design decisions</span></strong><span class="koboSpan" id="kobo.14.1">: Factors such as the technological stack, architecture, and development approach that shape your framework’s uniqueness from </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">other projects</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.16.1">In this chapter and generally in this book, we are considering an educational approach to framework building, which means that future chapters will cover the development of specific kinds of JavaScript frameworks, focusing on web application systems. </span><span class="koboSpan" id="kobo.16.2">However, you can utilize the gathered knowledge to build a framework that satisfies your </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">particular needs.</span></span></p>
<p><span class="koboSpan" id="kobo.18.1">The following image will help us focus on the consideration categories and highlights particular subsections that are useful to know as part of the planning and </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">development cycles:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer052">
<span class="koboSpan" id="kobo.20.1"><img alt="Figure 5.1: Framework development pillars" src="image/Figure_5.1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.21.1">Figure 5.1: Framework development pillars</span></p>
<h1 id="_idParaDest-76"><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.22.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.23.1">The technical requirements are similar to the preceeding chapters. </span><span class="koboSpan" id="kobo.23.2">Use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.24.1">chapter5</span></strong><span class="koboSpan" id="kobo.25.1"> directory from the book's repository to run </span><strong class="source-inline"><span class="koboSpan" id="kobo.26.1">npm install</span></strong><span class="koboSpan" id="kobo.27.1"> and then </span><strong class="source-inline"><span class="koboSpan" id="kobo.28.1">npm start</span></strong><span class="koboSpan" id="kobo.29.1"> to quickly get started with the code and samples that are mentioned in </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">this chapter.</span></span></p>
<h1 id="_idParaDest-77"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.31.1">Determining project goals</span></h1>
<p><span class="koboSpan" id="kobo.32.1">While contemplating </span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.33.1">building a new framework, you must identify your project’s objectives and stakeholders. </span><span class="koboSpan" id="kobo.33.2">These two factors are the main drivers behind your time and investment into building something new. </span><span class="koboSpan" id="kobo.33.3">Embarking on a new framework project requires understanding potential motivators and a clear insight into the goals, emphasizing the developer you support and their needs. </span><span class="koboSpan" id="kobo.33.4">These reasons can range from internal work use cases to open source hobby projects. </span><span class="koboSpan" id="kobo.33.5">Your scenario may very well differ but based on </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.34.1">Figure 5</span></em></span><em class="italic"><span class="koboSpan" id="kobo.35.1">.1</span></em><span class="koboSpan" id="kobo.36.1">, we can explore the first pillar—</span><em class="italic"><span class="koboSpan" id="kobo.37.1">project goals</span></em><span class="koboSpan" id="kobo.38.1">—as part of </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">this section.</span></span></p>
<h2 id="_idParaDest-78"><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.40.1">Context</span></h2>
<p><span class="koboSpan" id="kobo.41.1">Comprehending the context</span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.42.1"> of a project is fundamental to guiding its development and ensuring it meets the needs of its intended users. </span><span class="koboSpan" id="kobo.42.2">The context involves assessing factors such as the project’s purpose, target audience, and the environments in which it will be used. </span><span class="koboSpan" id="kobo.42.3">Two contexts for framework projects are along the </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">following themes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.44.1">Work-related </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">company-backed initiatives</span></span></li>
<li><span class="koboSpan" id="kobo.46.1">Public open source projects, often with an educational or </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">hobby nature</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.48.1">Each of these scenarios comes with its distinctive set of necessities </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">and considerations.</span></span></p>
<p><span class="koboSpan" id="kobo.50.1">Frameworks developed for particular business needs could have business objectives ranging from small start-up environments to large enterprises. </span><span class="koboSpan" id="kobo.50.2">Professional use cases, contextualized in building a framework for business needs, can drastically vary. </span><span class="koboSpan" id="kobo.50.3">For instance, similar to the initial development of the React library, a project can support a single platform such as Facebook. </span><span class="koboSpan" id="kobo.50.4">However, business needs can also include developing a framework for repeating use cases, such as deploying multiple services with the same </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">core architecture.</span></span></p>
<p><span class="koboSpan" id="kobo.52.1">Hobby/open source projects can grow from </span><strong class="bold"><span class="koboSpan" id="kobo.53.1">proofs of concept</span></strong><span class="koboSpan" id="kobo.54.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.55.1">PoCs</span></strong><span class="koboSpan" id="kobo.56.1">) or learning materials to widely used tools across the software industry. </span><span class="koboSpan" id="kobo.56.2">These are usually not monetarily impactful, but they can serve as a growth tool for your career and practical knowledge. </span><span class="koboSpan" id="kobo.56.3">Focus on expanding your skill set in particular software development and JavaScript </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">knowledge areas.</span></span></p>
<p><span class="koboSpan" id="kobo.58.1">It is a good idea to determine and align the project’s goals for your new framework before writing any code. </span><span class="koboSpan" id="kobo.58.2">If your project focuses on internal company use cases, such as supporting internal company products, then the goals are more tailored toward enhancing efficiency, improving collaboration, and streamlining the development process. </span><span class="koboSpan" id="kobo.58.3">Ultimately, all the planning and building support the main core goal—enabling the organization to ship higher-quality and more reliable </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">projects faster.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">Once your framework progresses, the context can potentially alter into something new. </span><span class="koboSpan" id="kobo.60.2">For example, if the framework was initially started as an internal project, further down the road, you could open source it and leverage the input from other developers who are not directly associated with it. </span><span class="koboSpan" id="kobo.60.3">It can also work the other way—a framework started as a hobby project could be picked up for internal professional use with new investment supported by commercial clients. </span><span class="koboSpan" id="kobo.60.4">Both of these scenarios are quite common in the software</span><a id="_idIndexMarker395"/> <span class="No-Break"><span class="koboSpan" id="kobo.61.1">development industry.</span></span></p>
<h2 id="_idParaDest-79"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.62.1">Stakeholders</span></h2>
<p><span class="koboSpan" id="kobo.63.1">The target audience</span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.64.1"> and stakeholders of your project are your framework’s customers. </span><span class="koboSpan" id="kobo.64.2">They are the ones that expect an easy-to-use system with adequate programming interfaces. </span><span class="koboSpan" id="kobo.64.3">Catering to their needs and expectations is vital for the success of your framework. </span><span class="koboSpan" id="kobo.64.4">These users are looking for a system that is easy to use and provides efficient programming interfaces, allowing them to develop applications and services with ease </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">and agility.</span></span></p>
<p><span class="koboSpan" id="kobo.66.1">To create a framework that appeals to your target audience, your investment into stakeholder support is essential to ensure that the developer experience is intuitive and user-friendly. </span><span class="koboSpan" id="kobo.66.2">Stakeholder support involves designing clear, well-organized resources and providing example code and use cases that solve everyday problems. </span><span class="koboSpan" id="kobo.66.3">Often, you will need to offer support to your stakeholders directly or through other means. </span><span class="koboSpan" id="kobo.66.4">You will encourage adaptation by making it easier for developers to understand and navigate </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">your framework.</span></span></p>
<p><span class="koboSpan" id="kobo.68.1">The robust programming interfaces that cater to the diverse needs of your audience also play an important role. </span><span class="koboSpan" id="kobo.68.2">By offering practical, adaptable, and efficient tools, you will empower your users to tackle their projects confidently and foster a sense of trust and loyalty toward </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">your framework.</span></span></p>
<p><span class="koboSpan" id="kobo.70.1">As a framework developer, remember that your audience’s needs and expectations should be at the forefront of your design process, so your aim should be to deliver a user-centric experience that stands out in the competitive landscape and becomes an invaluable asset to developers </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">and stakeholders.</span></span></p>
<p><span class="koboSpan" id="kobo.72.1">In the context of this book, the framework has the reader as the stakeholder, focusing on educational materials. </span><span class="koboSpan" id="kobo.72.2">If you are following along and creating your own framework, consider yourself the stakeholder. </span><span class="koboSpan" id="kobo.72.3">This makes things much easier; you have the freedom to alter and change the pathway of </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">your framework.</span></span></p>
<p><span class="koboSpan" id="kobo.74.1">In the next section, we look at several other considerations that could be beneficial to reflect upon before you </span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">start coding.</span></span></p>
<h2 id="_idParaDest-80"><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.76.1">Other considerations</span></h2>
<p><span class="koboSpan" id="kobo.77.1">Additional project </span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.78.1">considerations in framework development are very similar to those of a small or large team developing software projects. </span><span class="koboSpan" id="kobo.78.2">Helpful questions to consider as part of determining if your project needs to exist and should be built are along the </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">following themes:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.80.1">The general purpose of the framework</span></strong><span class="koboSpan" id="kobo.81.1">: This is derived from the core objectives; you should have a clear understanding of the primary reasons to deliver your project, identifying specific software-related problems and aiming to </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">solve them.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.83.1">Survey of existing tools</span></strong><span class="koboSpan" id="kobo.84.1">: Before building something new from scratch, evaluating projects already in the ecosystem is a good idea. </span><span class="koboSpan" id="kobo.84.2">This consideration will help you make a decision to internally use some of the tools or extend them to fit </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">your needs.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.86.1">Maintenance costs</span></strong><span class="koboSpan" id="kobo.87.1">: Depending on the size of resources to address your framework’s problem space, you need to understand time and money investments into the project. </span><span class="koboSpan" id="kobo.87.2">Projecting this will help you allocate resources appropriately and ensure the project’s </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">long-term sustainability.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.89.1">Innovative and distinctive features</span></strong><span class="koboSpan" id="kobo.90.1">: Identify unique selling points and advantages that your framework will offer compared to existing solutions in the ecosystem. </span><span class="koboSpan" id="kobo.90.2">This could include advanced functionality, enhanced performance, or unexplored approaches to solving </span><span class="No-Break"><span class="koboSpan" id="kobo.91.1">typical problems.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.92.1">Resourcing</span></strong><span class="koboSpan" id="kobo.93.1">: Assess your development team’s skills, expertise, and availability, and identify any gaps that may need to be addressed. </span><span class="koboSpan" id="kobo.93.2">This could involve hiring new team members or seeking external support to ensure the successful development of the framework. </span><span class="koboSpan" id="kobo.93.3">In some cases, you could be the only resource powering the development of this project. </span><span class="koboSpan" id="kobo.93.4">This comes with the advantages of efficient design making but puts you in the driving seat for the </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">whole project.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.95.1">Roadmap</span></strong><span class="koboSpan" id="kobo.96.1">: Develop a comprehensive roadmap outlining project milestones and feature support. </span><span class="koboSpan" id="kobo.96.2">By spending time on this, you can provide a clear vision for the development process and help keep the project on track while communicating the framework’s direction to </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">its stakeholders.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.98.1">Timeline</span></strong><span class="koboSpan" id="kobo.99.1">: Determine how much time you invest in the framework. </span><span class="koboSpan" id="kobo.99.2">This involves setting realistic deadlines for each project stage and considering potential risks and obstacles that may impact the timeline. </span><span class="koboSpan" id="kobo.99.3">By establishing a well-defined timeline, you can ensure that the project progresses efficiently and focuses on delivering value to its </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">intended audience.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.101.1">All the considerations mentioned in this section can contribute to your development process. </span><span class="koboSpan" id="kobo.101.2">Spending a little time figuring out the answer to all these considerations could greatly benefit your</span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.102.1"> project. </span><span class="koboSpan" id="kobo.102.2">A lot of these considerations will depend on the problem space of your framework. </span><span class="koboSpan" id="kobo.102.3">To help handle this, we will cover potential problem spaces in the </span><span class="No-Break"><span class="koboSpan" id="kobo.103.1">next section.</span></span></p>
<h1 id="_idParaDest-81"><a id="_idTextAnchor080"/><span class="koboSpan" id="kobo.104.1">Identifying framework problem spaces</span></h1>
<p><span class="koboSpan" id="kobo.105.1">Frameworks are </span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.106.1">designed to support the development of one or many projects, focusing on solving a particular problem space. </span><span class="koboSpan" id="kobo.106.2">We define a problem space as a set of challenges or a range of problems that the framework is prepared to address; this is the second pillar from </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.107.1">Figure 5</span></em></span><em class="italic"><span class="koboSpan" id="kobo.108.1">.1</span></em><span class="koboSpan" id="kobo.109.1">. </span><span class="koboSpan" id="kobo.109.2">A problem space can be a specific software application area in which the framework is intended to </span><span class="No-Break"><span class="koboSpan" id="kobo.110.1">be used.</span></span></p>
<p><span class="koboSpan" id="kobo.111.1">As we saw from examples of frameworks in previous chapters of this book, JavaScript has a broad reach in client and server environments. </span><span class="koboSpan" id="kobo.111.2">It enables us to build frameworks to fit our needs and technological requirements. </span><span class="koboSpan" id="kobo.111.3">For your brand new project, you could potentially be tackling a particular framework category. </span><span class="koboSpan" id="kobo.111.4">By focusing on the technical aspects of a unique project, combined with innovative features, you can make your project different from what is already available out there in </span><span class="No-Break"><span class="koboSpan" id="kobo.112.1">the wild.</span></span></p>
<h2 id="_idParaDest-82"><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.113.1">Popular problem spaces</span></h2>
<p><span class="koboSpan" id="kobo.114.1">Here are some </span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.115.1">potential development paths you could take in the JavaScript framework </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">problem space:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.117.1">Frontend frameworks</span></strong><span class="koboSpan" id="kobo.118.1">: Focused on building frontend applications’ frameworks, you can find ways to utilize the latest browser technologies to develop unique rendering techniques and improve on state management. </span><span class="koboSpan" id="kobo.118.2">Given that this is a popular category of frameworks with many existing solutions, a more straightforward approach is to write your own abstractions on top of these existing solutions—for example, internally using a project such as Vue.js while developing your own self-developed framework interfaces. </span><span class="koboSpan" id="kobo.118.3">This way, you can approach your problem space, focusing on its challenges and solving them instead of reinventing </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">the basics.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.120.1">Browser-focused solutions</span></strong><span class="koboSpan" id="kobo.121.1">: Similar to the previous point, you could take the approach of building browser-focused solutions, different from frameworks focused on web application development, and concentrate on utilizing new technologies available to web browsers. </span><span class="koboSpan" id="kobo.121.2">For instance, you could leverage WebAssembly (</span><a href="https://webassembly.org"><span class="koboSpan" id="kobo.122.1">webassembly.org</span></a><span class="koboSpan" id="kobo.123.1">) or WebGPU (</span><a href="https://w3.org/TR/webgpu"><span class="koboSpan" id="kobo.124.1">w3.org/TR/webgpu</span></a><span class="koboSpan" id="kobo.125.1">) to develop unique frameworks in the </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">client-side environment.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.127.1">Backend applications</span></strong><span class="koboSpan" id="kobo.128.1">: If you are building a new JavaScript framework for backend </span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.129.1">development, it is important to focus on reliability, scalability, and security features. </span><span class="koboSpan" id="kobo.129.2">You could start by looking over the examples from this book or elsewhere on the internet, then build a framework that addresses common backend challenges, such as working with certain types of databases, enabling different types of authentication, and rapid API </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">development techniques.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.131.1">Testing</span></strong><span class="koboSpan" id="kobo.132.1">: If you are building a new testing framework for JavaScript applications, you could focus on providing a simple and intuitive interface for writing and running tests. </span><span class="koboSpan" id="kobo.132.2">You could also enable built-in support for popular testing frameworks and libraries and integrations with continuous integration tools. </span><span class="koboSpan" id="kobo.132.3">You could also provide advanced testing features such as visual regression testing, unique parallelization and grouping techniques, and pattern-matching-powered test automation. </span><span class="koboSpan" id="kobo.132.4">In </span><a href="B19014_06.xhtml#_idTextAnchor089"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.133.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.134.1"> of this book, we will start developing a simple testing framework, while focusing on the learning process; it is a good contender for a simpler type </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">of framework.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.136.1">Native applications</span></strong><span class="koboSpan" id="kobo.137.1">: By building a new framework for native applications, you could focus on providing components and APIs that make creating responsive and high-performance applications easy. </span><span class="koboSpan" id="kobo.137.2">Often, these systems offer built-in support for mobile and desktop features, such as camera access, push notifications, and integration with native operating system features. </span><span class="koboSpan" id="kobo.137.3">This type of framework is challenging to develop due to the number of environments you have to support. </span><span class="koboSpan" id="kobo.137.4">Though, as we have seen examples in </span><a href="B19014_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.138.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.139.1"> and </span><a href="B19014_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.140.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.141.1">, with React Native and Electron, these kinds of projects are </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">not impossible.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.143.1">Embedded solutions</span></strong><span class="koboSpan" id="kobo.144.1">: This type of framework would focus on providing a simple and easy-to-use interface for programming and interacting with hardware devices. </span><span class="koboSpan" id="kobo.144.2">To create one of these, you must develop APIs for standard sensors and devices. </span><span class="koboSpan" id="kobo.144.3">These include working with external chipsets, motors, GPS, and Bluetooth accessories. </span><span class="koboSpan" id="kobo.144.4">The main focus behind this framework would be to create a unique approach to reduce memory and processor usage, as you are targeting embedded instruments. </span><span class="koboSpan" id="kobo.144.5">This is a more complex challenge with JavaScript, even though there have been many projects in the past that allowed the runtime to interact with </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">embedded devices.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.146.1">We explored several examples of more popular JavaScript frameworks in the previous chapters. </span><span class="koboSpan" id="kobo.146.2">However, JavaScript’s versatility extends beyond those we’ve already discussed. </span><span class="koboSpan" id="kobo.146.3">The</span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.147.1"> language can enable you to build new framework projects that cater to other niches. </span><span class="koboSpan" id="kobo.147.2">JavaScript has become ubiquitous in modern web development, allowing developers to build robust and </span><span class="No-Break"><span class="koboSpan" id="kobo.148.1">feature-rich applications.</span></span></p>
<h2 id="_idParaDest-83"><a id="_idTextAnchor082"/><span class="koboSpan" id="kobo.149.1">Other framework pathways</span></h2>
<p><span class="koboSpan" id="kobo.150.1">There are many other</span><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.151.1"> types of projects that JavaScript allows us to build; they all have their own considerations. </span><span class="koboSpan" id="kobo.151.2">In no particular order, let’s take a look at more framework </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">development pathways:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.153.1">Game development</span></strong><span class="koboSpan" id="kobo.154.1">: As JavaScript is the only target runtime available to the web browser, it ends up being the only solution for building games. </span><span class="koboSpan" id="kobo.154.2">Your JavaScript game development framework can provide tools and utilities that make it easy to build 2D or 3D games for web and mobile platforms. </span><span class="koboSpan" id="kobo.154.3">These utilities could include built-in support for physics engines, animation, and audio. </span><span class="koboSpan" id="kobo.154.4">In such a scenario, the framework could concentrate on providing advanced features, such as multiplayer support or virtual reality integration, as those features become more popular. </span><span class="koboSpan" id="kobo.154.5">Some popular JavaScript game development frameworks include Phaser, Pixi.js, PlayCanvas, and Babylon.js. </span><span class="koboSpan" id="kobo.154.6">Even though game development frameworks have specific requirements related to rendering and performance, you can still use knowledge from this book to structure this type </span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">of framework.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.156.1">Computation</span></strong><span class="koboSpan" id="kobo.157.1">: A new framework for computation and data science could potentially perform scientific computing and data analysis tasks. </span><span class="koboSpan" id="kobo.157.2">You could focus on providing a set of APIs for performing mathematical operations and working with data. </span><span class="koboSpan" id="kobo.157.3">This framework could have built-in support for popular data visualization libraries and statistical analysis tools. </span><span class="koboSpan" id="kobo.157.4">The potential for JavaScript computation frameworks is in the frontend presentation and backend computation layers. </span><span class="koboSpan" id="kobo.157.5">A single framework can combine both of </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">those possibilities.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.159.1">Visualization</span></strong><span class="koboSpan" id="kobo.160.1">: Similar </span><a id="_idIndexMarker404"/><span class="koboSpan" id="kobo.161.1">to the computation theme, there is room for better JavaScript data visualization frameworks. </span><span class="koboSpan" id="kobo.161.2">In visualization projects, you could focus on providing a set of tools and components for creating interactive and dynamic visualizations. </span><span class="koboSpan" id="kobo.161.3">You could also integrate with visualization libraries such as D3.js and explore advanced features such as real-time data streaming. </span><span class="koboSpan" id="kobo.161.4">As this niche is developing, you can find new ways to render and interact with information from many </span><span class="No-Break"><span class="koboSpan" id="kobo.162.1">data sources.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.163.1">Artificial intelligence</span></strong><span class="koboSpan" id="kobo.164.1">: If you decide to develop a JavaScript framework for AI and </span><strong class="bold"><span class="koboSpan" id="kobo.165.1">machine learning</span></strong><span class="koboSpan" id="kobo.166.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.167.1">ML</span></strong><span class="koboSpan" id="kobo.168.1">), you</span><a id="_idIndexMarker405"/><span class="koboSpan" id="kobo.169.1"> should prioritize providing a comprehensive set of APIs for building and training neural networks. </span><span class="koboSpan" id="kobo.169.2">Consider basing your framework on widely used ML APIs and libraries, such as </span><a id="_idIndexMarker406"/><span class="koboSpan" id="kobo.170.1">TensorFlow.js (</span><a href="https://tensorflow.org/js"><span class="koboSpan" id="kobo.171.1">tensorflow.org/js</span></a><span class="koboSpan" id="kobo.172.1">). </span><span class="koboSpan" id="kobo.172.2">The features of such a framework could include interoperability with various types of ML formats </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">and configurations.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.174.1">User interface (UI)</span></strong><span class="koboSpan" id="kobo.175.1">: A framework built around constructing UIs could be helpful for a different feature set from regular frontend applications. </span><span class="koboSpan" id="kobo.175.2">It could include capabilities for customizable components and responsive UIs. </span><span class="koboSpan" id="kobo.175.3">Innovative features could consist of styling and theming components utilizing modern CSS features. </span><span class="koboSpan" id="kobo.175.4">The framework could integrate with external libraries such as Tailwind CSS, Material UI, Bootstrap, and so on. </span><span class="koboSpan" id="kobo.175.5">Building a UI framework can be advantageous if you work in marketing or </span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">design-related environments.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.177.1">Depending on your framework goal, these are some potential framework pathways. </span><span class="koboSpan" id="kobo.177.2">In previous chapters of the book, we have covered the ins and outs of some classes of these frameworks in detail. </span><span class="koboSpan" id="kobo.177.3">This is not an exhaustive list of possible solutions within a JavaScript environment, but</span><a id="_idIndexMarker407"/><span class="koboSpan" id="kobo.178.1"> it showcases the many possibilities. </span><span class="koboSpan" id="kobo.178.2">The most popular and competitive category of frameworks is related to building </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">frontend applications.</span></span></p>
<p><span class="koboSpan" id="kobo.180.1">Now that we have a clearer vision of the problem space, in the next section, we can proceed to considerations with regard to the technical architectures of </span><span class="No-Break"><span class="koboSpan" id="kobo.181.1">framework projects.</span></span></p>
<h1 id="_idParaDest-84"><a id="_idTextAnchor083"/><span class="koboSpan" id="kobo.182.1">Technical architecture</span></h1>
<p><span class="koboSpan" id="kobo.183.1">In the previous sections </span><a id="_idIndexMarker408"/><span class="koboSpan" id="kobo.184.1">of this chapter, we identified our stakeholders—those who will directly benefit from our framework project. </span><span class="koboSpan" id="kobo.184.2">We also identified potential problem spaces. </span><span class="koboSpan" id="kobo.184.3">Those two factors give us a solid idea of what we want to build. </span><span class="koboSpan" id="kobo.184.4">In this section, we explore the third pillar from </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.185.1">Figure 5</span></em></span><em class="italic"><span class="koboSpan" id="kobo.186.1">.1</span></em><span class="koboSpan" id="kobo.187.1">—</span><em class="italic"><span class="koboSpan" id="kobo.188.1">technical architecture</span></em><span class="koboSpan" id="kobo.189.1">—to give us a focused look at the technical specificities of our </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">planned project.</span></span></p>
<h2 id="_idParaDest-85"><a id="_idTextAnchor084"/><span class="koboSpan" id="kobo.191.1">Abstraction levels and flexibility</span></h2>
<p><span class="koboSpan" id="kobo.192.1">The importance of </span><a id="_idIndexMarker409"/><span class="koboSpan" id="kobo.193.1">practical abstraction levels and allowing flexibility in code APIs of a JavaScript framework is an important design decision. </span><span class="koboSpan" id="kobo.193.2">As you develop your frameworks, these two principles are necessary to ensure the framework’s usability, maintainability, </span><span class="No-Break"><span class="koboSpan" id="kobo.194.1">and adaptability.</span></span></p>
<p><span class="koboSpan" id="kobo.195.1">As explored in </span><a href="B19014_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.196.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.197.1">, sensible abstraction levels are essential for providing developers with clean, easy-to-understand interfaces. </span><span class="koboSpan" id="kobo.197.2">The encapsulated complexities of the underlying implementation improve productivity and minimize the risk of errors as developers work with a higher-level, more intuitive API that shields them from </span><span class="No-Break"><span class="koboSpan" id="kobo.198.1">unnecessary complexity.</span></span></p>
<p><span class="koboSpan" id="kobo.199.1">The sensible abstraction levels promote modularity and reusability of code, as the framework’s features can be more easily connected and adapted to varying circumstances. </span><span class="koboSpan" id="kobo.199.2">Providing a level of modularity enables developers to build upon existing modules, fostering a developer-driven ecosystem of extensions that further enhance the framework’s capabilities. </span><span class="koboSpan" id="kobo.199.3">By striking the right balance between abstraction and flexibility, a JavaScript framework can cater to various projects, from small-scale to </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">complex applications.</span></span></p>
<p><span class="koboSpan" id="kobo.201.1">Allowing flexibility in code APIs is another critical aspect of a successful JavaScript framework. </span><span class="koboSpan" id="kobo.201.2">A flexible API accommodates different coding styles, paradigms, and use cases, enabling developers to tailor their approach to suit their unique requirements. </span><span class="koboSpan" id="kobo.201.3">This adaptability is essential in the fast-paced world of web development, where new tools, libraries, and patterns are constantly emerging. </span><span class="koboSpan" id="kobo.201.4">By offering a versatile API, a JavaScript framework can remain relevant and valuable in the face of these </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">evolving trends.</span></span></p>
<p><span class="koboSpan" id="kobo.203.1">One potential pitfall of abstraction is the creation of highly opinionated abstractions that impose strict constraints on how developers can use the framework. </span><span class="koboSpan" id="kobo.203.2">While abstractions can streamline specific use cases, they may hinder the framework’s overall flexibility and limit its applicability to a broader range of projects. </span><span class="koboSpan" id="kobo.203.3">If you would like to build a less opinionated framework, consider providing your stakeholders with expandable options, such as using different templating engines or various ways of managing state within </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">built applications.</span></span></p>
<p><span class="koboSpan" id="kobo.205.1">Striking the right </span><a id="_idIndexMarker410"/><span class="koboSpan" id="kobo.206.1">balance between abstraction and flexibility, and avoiding overly opinionated abstractions, will help you craft a versatile and enduring </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">JavaScript framework.</span></span></p>
<h2 id="_idParaDest-86"><a id="_idTextAnchor085"/><span class="koboSpan" id="kobo.208.1">Environment compatibility</span></h2>
<p><span class="koboSpan" id="kobo.209.1">JavaScript runs in</span><a id="_idIndexMarker411"/><span class="koboSpan" id="kobo.210.1"> diverse environments, including browsers, servers, mobile devices, and other unique hardware, each with unique characteristics, making compatibility a pressing factor in any framework’s success. </span><span class="koboSpan" id="kobo.210.2">Determining the runtime environment compatibility of your framework is about figuring out which runtimes to support and maintain. </span><span class="koboSpan" id="kobo.210.3">Generally, in JavaScript frameworks, it is about the time and technological investment choice of frontend and backend features. </span><span class="koboSpan" id="kobo.210.4">This includes browser-specific APIs and compatibility with different backend systems. </span><span class="koboSpan" id="kobo.210.5">Besides frontend and backend systems, JavaScript is supported in many </span><span class="No-Break"><span class="koboSpan" id="kobo.211.1">other environments.</span></span></p>
<p><span class="koboSpan" id="kobo.212.1">Framework developers face a significant challenge in ensuring compatibility with multiple JavaScript environments and the specific quirks of those environments. </span><span class="koboSpan" id="kobo.212.2">At a high level, this includes different types of browser engines and compatibility with different module systems. </span><span class="koboSpan" id="kobo.212.3">This task requires careful consideration and design decisions to ensure the framework works seamlessly across all </span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">targeted runtimes.</span></span></p>
<p><span class="koboSpan" id="kobo.214.1">The first design decision is about configuring compatibility for the appropriate JavaScript environment. </span><span class="koboSpan" id="kobo.214.2">Developers must consider the target environment for the framework and ensure that it is compatible with the chosen setting. </span><span class="koboSpan" id="kobo.214.3">For instance, if the framework is designed for web applications, the developers must ensure it works seamlessly across multiple browser versions and APIs. </span><span class="koboSpan" id="kobo.214.4">Incompatibilities may arise due to variations in browser capabilities, leading to problems such as inconsistent rendering or </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">unresponsive applications.</span></span></p>
<p><span class="koboSpan" id="kobo.216.1">Another significant </span><a id="_idIndexMarker412"/><span class="koboSpan" id="kobo.217.1">consideration when developing a new JavaScript framework is handling environment differences. </span><span class="koboSpan" id="kobo.217.2">Writing extra code-compatibility layers is valuable for minor and significant runtime differences. </span><span class="koboSpan" id="kobo.217.3">Handling runtime differences includes investing time in backward compatibility for both older browsers and older versions of server-side runtimes. </span><span class="koboSpan" id="kobo.217.4">In general, supporting multiple frontend JavaScript environments takes different versions of the same browser environment. </span><span class="koboSpan" id="kobo.217.5">For example, many browsers, such as Firefox, have various versions, and each version may have unique capabilities or features. </span><span class="koboSpan" id="kobo.217.6">Developers must ensure the framework is designed to handle these variations and provides optimal performance and functionality regardless of the </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">browser version.</span></span></p>
<p><span class="koboSpan" id="kobo.219.1">For instance, you must handle cross-runtime compatibility to enable server-side rendering or Node.js testing of frontend components. </span><span class="koboSpan" id="kobo.219.2">JavaScript server environments may require specific deliberations when building frameworks. </span><span class="koboSpan" id="kobo.219.3">They may have different APIs than browsers, and some features, such as the DOM, may not be available. </span><span class="koboSpan" id="kobo.219.4">Thus, developers must ensure that the framework is designed to handle such variations and provides optimal performance in server environments. </span><span class="koboSpan" id="kobo.219.5">Framework developers include JavaScript polyfills and similar code snippets, providing a fallback mechanism for new and missing features in other environments. </span><span class="koboSpan" id="kobo.219.6">These are essential when building a new framework that should work across </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">multiple domains.</span></span></p>
<p><span class="koboSpan" id="kobo.221.1">Ensuring compatibility with multiple JavaScript environments requires additional thorough testing during framework development and maintenance. </span><span class="koboSpan" id="kobo.221.2">Testing is essential in identifying and resolving compatibility issues early in the development cycle. </span><span class="koboSpan" id="kobo.221.3">For instance, we can use the automated testing tooling we saw in the previous chapter to test the framework on various browser versions and mobile devices to identify compatibility issues. </span><span class="koboSpan" id="kobo.221.4">Including these tests helps to ensure that the framework delivers optimal performance and functionality across all targeted environments. </span><span class="koboSpan" id="kobo.221.5">However, testing through all possible runtime use cases and quirks can be challenging, and running a test on all configurations your framework will be used in is impossible. </span><span class="koboSpan" id="kobo.221.6">Fortunately, compatibility issues significantly reduced as JavaScript runtimes matured. </span><span class="koboSpan" id="kobo.221.7">If you are developing a framework outside the browser, something similar to Electron or React Native, you have further challenges. </span><span class="koboSpan" id="kobo.221.8">You must ensure the framework is compatible with the multiple operating systems that you are designing your project for. </span><span class="koboSpan" id="kobo.221.9">For example, the operating system runtimes may have different capabilities, affecting the framework’s </span><span class="No-Break"><span class="koboSpan" id="kobo.222.1">feature set.</span></span></p>
<p><span class="koboSpan" id="kobo.223.1">Overall, you are able to define the supported JavaScript environments and take control of the types of runtimes you support in your framework, knowing that compatibility with multiple JavaScript </span><a id="_idIndexMarker413"/><span class="koboSpan" id="kobo.224.1">environments requires continuous maintenance and updates to your project. </span><span class="koboSpan" id="kobo.224.2">This maintenance includes compatibility with new browser versions or server environments that tweak their capabilities or add </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">new features.</span></span></p>
<h2 id="_idParaDest-87"><a id="_idTextAnchor086"/><span class="koboSpan" id="kobo.226.1">Utilizing libraries</span></h2>
<p><span class="koboSpan" id="kobo.227.1">It makes sense to</span><a id="_idIndexMarker414"/><span class="koboSpan" id="kobo.228.1"> commit to specific JavaScript libraries before developing a new framework. </span><span class="koboSpan" id="kobo.228.2">The use of existing JavaScript libraries will save you time—time you can use to focus on the framework’s features and technical architecture. </span><span class="koboSpan" id="kobo.228.3">It is a common pattern for frameworks to rely on libraries to build out the internals. </span><span class="koboSpan" id="kobo.228.4">These libraries often indirectly enable the framework feature set behind the scenes, including features such as data management, routing, interacting with the DOM, and abstracting away JavaScript runtime complexity. </span><span class="koboSpan" id="kobo.228.5">As the framework covers a more extensive feature set and shapes the development experience, the internal libraries focus on delivering a precise solution to a </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">particular problem.</span></span></p>
<p><span class="koboSpan" id="kobo.230.1">Choosing the right set of libraries can significantly impact the development process and the shape of your framework. </span><span class="koboSpan" id="kobo.230.2">The libraries you utilize in your framework will likely make you an expert user of them. </span><span class="koboSpan" id="kobo.230.3">However, balancing the benefits of using libraries with potential downsides, such as compatibility problems, API restrictions, and ongoing maintenance, </span><span class="No-Break"><span class="koboSpan" id="kobo.231.1">is necessary.</span></span></p>
<p><span class="koboSpan" id="kobo.232.1">As we explore other JavaScript frameworks, we can identify libraries they rely on for specific functionality. </span><span class="koboSpan" id="kobo.232.2">Depending on the architecture, your framework can build the library right into the framework or use it to extend aspects of your framework. </span><span class="koboSpan" id="kobo.232.3">If we look at Angular, we will find that it</span><a id="_idIndexMarker415"/><span class="koboSpan" id="kobo.233.1"> utilizes </span><strong class="bold"><span class="koboSpan" id="kobo.234.1">RxJS</span></strong><span class="koboSpan" id="kobo.235.1"> (</span><a href="https://rxjs.dev"><span class="koboSpan" id="kobo.236.1">rxjs.dev</span></a><span class="koboSpan" id="kobo.237.1">) for reactive programming, including features such as data observables, iteration, value mapping, and more. </span><span class="koboSpan" id="kobo.237.2">The RxJS library can be used </span><a id="_idIndexMarker416"/><span class="koboSpan" id="kobo.238.1">directly from within Angular components, such as the following </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.239.1">BookService</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.240.1"> service:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.241.1">
import { HttpClient } from '@angular/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs';
import { map, retry } from 'rxjs/operators';
@Injectable()
export class BookService {
  private baseUrl = '...';
  constructor(private http: HttpClient) {}
  getWeather(latitude: number, longitude: number):
    Observable&lt;any&gt; {
    const url = `${this.baseUrl}?latitude=${latitude}
      &amp;longitude=${longitude}&amp;current_weather=true`;
    return this.httpClient.get(url).pipe(retry(3));
  }}</span></pre>
<p><span class="koboSpan" id="kobo.242.1">The preceding code uses the </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">Observable</span></strong><span class="koboSpan" id="kobo.244.1"> class to return the </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">getWeather</span></strong><span class="koboSpan" id="kobo.246.1"> function first. </span><span class="koboSpan" id="kobo.246.2">From within your Angular classes, you can rely upon RxJS to provide many data-operating operators. </span><span class="koboSpan" id="kobo.246.3">In addition, the RxJS library provides error-handling operators, as seen in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">retry</span></strong><span class="koboSpan" id="kobo.248.1"> call in the preceding code. </span><span class="koboSpan" id="kobo.248.2">A detailed explanation of the library’s operators can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">at </span></span><a href="https://rxjs.dev/guide/operators"><span class="No-Break"><span class="koboSpan" id="kobo.250.1">rxjs.dev/guide/operators</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.251.1">.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.252.1">Exploring the RxJS example</span></p>
<p class="callout"><span class="koboSpan" id="kobo.253.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.254.1">chapter5</span></strong><span class="koboSpan" id="kobo.255.1"> directory in </span><a id="_idIndexMarker417"/><span class="koboSpan" id="kobo.256.1">the book repository includes an example of using Angular with the RxJS library. </span><span class="koboSpan" id="kobo.256.2">You can try this out on your own computer by running the interactive script from the chapter directory or executing </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">npm install</span></strong><span class="koboSpan" id="kobo.258.1">, and then </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">npm run dev</span></strong><span class="koboSpan" id="kobo.260.1"> from the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">angular-rxjs</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.262.1"> directory.</span></span></p>
<p class="callout"><span class="koboSpan" id="kobo.263.1">The example application will utilize the </span><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">BookService</span></strong><span class="koboSpan" id="kobo.265.1"> service presented previously to fetch data. </span><span class="koboSpan" id="kobo.265.2">The API data comes with additional properties that you can use to extend the existing application. </span><span class="koboSpan" id="kobo.265.3">Refer to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.266.1">README.md</span></strong><span class="koboSpan" id="kobo.267.1"> files for </span><span class="No-Break"><span class="koboSpan" id="kobo.268.1">additional information.</span></span></p>
<p><span class="koboSpan" id="kobo.269.1">In another example of library usage, Vue.js initially </span><a id="_idIndexMarker418"/><span class="koboSpan" id="kobo.270.1">used </span><strong class="bold"><span class="koboSpan" id="kobo.271.1">Vuex</span></strong><span class="koboSpan" id="kobo.272.1"> as a library for centralized state management. </span><span class="koboSpan" id="kobo.272.2">However, as the framework developed, the approach to managing the state changed. </span><span class="koboSpan" id="kobo.272.3">Vue has switched over to recommending and utilizing </span><strong class="bold"><span class="koboSpan" id="kobo.273.1">Pinia</span></strong><span class="koboSpan" id="kobo.274.1"> (</span><a href="https://pinia.vuejs.org"><span class="koboSpan" id="kobo.275.1">pinia.vuejs.org</span></a><span class="koboSpan" id="kobo.276.1">) for</span><a id="_idIndexMarker419"/><span class="koboSpan" id="kobo.277.1"> state management. </span><span class="koboSpan" id="kobo.277.2">With an intuitive approach based on the Flux architecture, the library closely related to Vue, it allows developers to use multiple stores to manage states, enables extensibility, and is much more closely aligned with the framework’s </span><a id="_idIndexMarker420"/><span class="koboSpan" id="kobo.278.1">features. </span><span class="koboSpan" id="kobo.278.2">Another example that we have seen in </span><a href="B19014_01.xhtml#_idTextAnchor015"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.279.1">Chapter 1</span></em></span></a><span class="koboSpan" id="kobo.280.1"> is Next.js, which uses the React library for rendering and other features. </span><span class="koboSpan" id="kobo.280.2">Next.js focuses on using primitives provided by React to abstract away complexities when using the </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">library directly.</span></span></p>
<p><span class="koboSpan" id="kobo.282.1">As you introduce libraries into your framework, be smart about choosing them. </span><span class="koboSpan" id="kobo.282.2">Often, it is more effortless to abstract away direct access to the libraries for the users of your framework. </span><span class="koboSpan" id="kobo.282.3">Otherwise, you must support particular library APIs in your framework, locking you into a specific coding pattern. </span><span class="koboSpan" id="kobo.282.4">Historically, Ember.js had to spin up an effort to decouple the framework from its usage of the jQuery library. </span><span class="koboSpan" id="kobo.282.5">This type of migration meant providing an update path for projects trying to keep up with the latest versions of </span><span class="No-Break"><span class="koboSpan" id="kobo.283.1">the framework.</span></span></p>
<p><span class="koboSpan" id="kobo.284.1">As your framework develops, you will find great benefits in the ecosystem of JavaScript libraries. </span><span class="koboSpan" id="kobo.284.2">The </span><a id="_idIndexMarker421"/><span class="koboSpan" id="kobo.285.1">challenge will be keeping up with the developing nature of these projects as the target </span><span class="No-Break"><span class="koboSpan" id="kobo.286.1">runtime evolves.</span></span></p>
<h2 id="_idParaDest-88"><a id="_idTextAnchor087"/><span class="koboSpan" id="kobo.287.1">Compiler tooling</span></h2>
<p><span class="koboSpan" id="kobo.288.1">In </span><em class="italic"><span class="koboSpan" id="kobo.289.1">Chapters 3</span></em><span class="koboSpan" id="kobo.290.1"> and </span><em class="italic"><span class="koboSpan" id="kobo.291.1">4</span></em><span class="koboSpan" id="kobo.292.1">, we</span><a id="_idIndexMarker422"/><span class="koboSpan" id="kobo.293.1"> examined instances of framework development patterns. </span><span class="koboSpan" id="kobo.293.2">These patterns included the use of compilers and other build tools for the purposes of framework development and structure. </span><span class="koboSpan" id="kobo.293.3">There’s no question that the tools utilized in these patterns make the development, refactoring, and maintenance workflow much more manageable. </span><span class="koboSpan" id="kobo.293.4">Therefore, unless there is a specific reason for your framework to avoid the benefits of these tools, it is firmly advisable to lean into </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">the ecosystem.</span></span></p>
<h3><span class="koboSpan" id="kobo.295.1">Build tooling and compilers</span></h3>
<p><span class="koboSpan" id="kobo.296.1">While writing the code</span><a id="_idIndexMarker423"/><span class="koboSpan" id="kobo.297.1"> of your framework project, you want to have a good feedback loop from the code changes you make. </span><span class="koboSpan" id="kobo.297.2">This feedback loop can come from running the project’s tests or having a sample application that utilizes your framework as you work on new features or bug fixes. </span><span class="koboSpan" id="kobo.297.3">This kind of iteration workflow can be configured with built-in JavaScript behaviors, or you could rely on a number of existing build tools and compilers. </span><span class="koboSpan" id="kobo.297.4">For the development process, the choice of compiler tooling can significantly impact and affect the efficiency of the development of your framework. </span><span class="koboSpan" id="kobo.297.5">Looking back at framework showcases, we have seen examples of using tools such as Rollup.js, </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">webpack</span></strong><span class="koboSpan" id="kobo.299.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.300.1">esbuild</span></strong><span class="koboSpan" id="kobo.301.1"> for web framework development </span><span class="No-Break"><span class="koboSpan" id="kobo.302.1">and packaging.</span></span></p>
<p><span class="koboSpan" id="kobo.303.1">The choice of these tools will depend on the precise requirements of your framework. </span><span class="koboSpan" id="kobo.303.2">While meticulously choosing to use these tools, you need to make sure to evaluate their benefits and drawbacks. </span><span class="koboSpan" id="kobo.303.3">In addition, the tools you choose should be suitable for both the development workflow and a good framework publishing workflow. </span><span class="koboSpan" id="kobo.303.4">You could decide to separate those two workflows, but then you could end up with too many tools that you need to maintain. </span><span class="koboSpan" id="kobo.303.5">For example, we can take some of these tools and consider the </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">following factors:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.305.1">The overall JavaScript runtime and feature support, such as features that include extensive JavaScript module format support and advanced features such as tree-shaking and intelligent </span><span class="No-Break"><span class="koboSpan" id="kobo.306.1">code bundling</span></span></li>
<li><span class="koboSpan" id="kobo.307.1">For frontend systems, evaluate browser and web </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">API support</span></span></li>
<li><span class="koboSpan" id="kobo.309.1">The complexity and flexibility of configuration when targeting different workflows and environments, potentially choosing zero-configuration tools versus </span><span class="No-Break"><span class="koboSpan" id="kobo.310.1">comprehensive configuration</span></span></li>
<li><span class="koboSpan" id="kobo.311.1">Build-time speed for both development and production builds of </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">the framework</span></span></li>
<li><span class="koboSpan" id="kobo.313.1">Maturity of the tool compared to other </span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">similar solutions</span></span></li>
<li><span class="koboSpan" id="kobo.315.1">Developer feature </span><a id="_idIndexMarker424"/><span class="koboSpan" id="kobo.316.1">set, such as </span><strong class="bold"><span class="koboSpan" id="kobo.317.1">Hot Module Replacement </span></strong><span class="koboSpan" id="kobo.318.1">(</span><strong class="bold"><span class="koboSpan" id="kobo.319.1">HMR</span></strong><span class="koboSpan" id="kobo.320.1">), development server, and instant </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">live reload</span></span></li>
<li><span class="koboSpan" id="kobo.322.1">Integration with external tools, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.323.1">test frameworks</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.324.1">Some of these factors </span><a id="_idIndexMarker425"/><span class="koboSpan" id="kobo.325.1">can differ depending on your framework’s problem space—for example, frontend versus </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">backend domains.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.327.1">Trying out esbuild</span></p>
<p class="callout"><span class="koboSpan" id="kobo.328.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.329.1">chapter5/esbuild</span></strong><span class="koboSpan" id="kobo.330.1"> directory in the book's repository includes a sample project that uses </span><strong class="source-inline"><span class="koboSpan" id="kobo.331.1">esbuild</span></strong><span class="koboSpan" id="kobo.332.1"> to bundle frontend files. </span><span class="koboSpan" id="kobo.332.2">You can refer to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.333.1">build.js</span></strong><span class="koboSpan" id="kobo.334.1"> file for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.335.1">esbuild</span></strong><span class="koboSpan" id="kobo.336.1"> compiler configuration. </span><span class="koboSpan" id="kobo.336.2">When you run this project locally on your machine, the tool will take the assets from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">src</span></strong><span class="koboSpan" id="kobo.338.1"> directory and output the resulting files into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">dist</span></strong><span class="koboSpan" id="kobo.340.1"> directory; these are later loaded into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">index.html</span></strong><span class="koboSpan" id="kobo.342.1"> file in the root of the project. </span><span class="koboSpan" id="kobo.342.2">The build steps are executed using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.343.1">npm run dev</span></strong><span class="koboSpan" id="kobo.344.1"> command from the </span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">project directory.</span></span></p>
<p><span class="koboSpan" id="kobo.346.1">With enough time investment, you can develop your own compiler or bundler. </span><span class="koboSpan" id="kobo.346.2">We have seen prior examples of custom framework compiler development with projects such as Svelte. </span><span class="koboSpan" id="kobo.346.3">Creating your own tooling is a larger undertaking, but this is something that could set your framework apart and has </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">immense potential.</span></span></p>
<h3><span class="koboSpan" id="kobo.348.1">JavaScript extensions</span></h3>
<p><span class="koboSpan" id="kobo.349.1">TypeScript and</span><a id="_idIndexMarker426"/><span class="koboSpan" id="kobo.350.1"> similar tools that </span><a id="_idIndexMarker427"/><span class="koboSpan" id="kobo.351.1">extend the JavaScript functionality get a special mention in the design decision section. </span><span class="koboSpan" id="kobo.351.2">These JavaScript language extensions have been at the core of framework development in recent years. </span><span class="koboSpan" id="kobo.351.3">Even if the popularity of using TypeScript in the framework development workflow might decrease over time, it will likely be replaced by other similar tooling that encompasses benefits not available directly with JavaScript. </span><span class="koboSpan" id="kobo.351.4">With TypeScript in particular, framework developers get a productivity boost from extra features such as static typing, interfaces, decorators, namespaces, and much more. </span><span class="koboSpan" id="kobo.351.5">All these are highly beneficial for </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">framework development.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">Suppose you are unsure about introducing an additional TypeScript workflow into your framework or have a specific JavaScript environment that conflicts with TypeScript’s tooling. </span><span class="koboSpan" id="kobo.353.2">In that case, you could consider a design decision to opt in for the JSDoc annotation version of TypeScript types. </span><span class="koboSpan" id="kobo.353.3">A range of supported types for JavaScript files with TypeScript annotations can be found at </span><a href="https://typescriptlang.org/docs/handbook/jsdoc-supported-types.html"><span class="koboSpan" id="kobo.354.1">typescriptlang.org/docs/handbook/jsdoc-supported-types.html</span></a><span class="koboSpan" id="kobo.355.1">. </span><span class="koboSpan" id="kobo.355.2">If you don’t mind the additional transpiling step and entirely opt into TypeScript’s ecosystem, then it can help you with many development hurdles, such as </span><span class="No-Break"><span class="koboSpan" id="kobo.356.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.357.1">Reducing the number of code issues identified </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">at runtime</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.359.1">Enabling faster refactoring of your code</span></strong><span class="koboSpan" id="kobo.360.1">: The ability to do this is much more critical in frameworks, as frameworks have much more dynamic code bases than routine web </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">application projects</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.362.1">Improved class-based programming concepts</span></strong><span class="koboSpan" id="kobo.363.1">: You can use additional building blocks such as interfaces, inheritance features, and more to have a well-designed </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">code base</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.365.1">Having a much more descriptive and documented code base</span></strong><span class="koboSpan" id="kobo.366.1">: This proactively benefits you and other teammates working on the project </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">with you</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.368.1">It allows you to utilize new syntax features faster</span></strong><span class="koboSpan" id="kobo.369.1">: TypeScript constantly adds new valuable features and is not bound by slow browser adoption of new </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">syntax features</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.371.1">All these benefits are highly useful, and ultimately it is a good design decision to use TypeScript or </span><a id="_idIndexMarker428"/><span class="koboSpan" id="kobo.372.1">TypeScript-like</span><a id="_idIndexMarker429"/><span class="koboSpan" id="kobo.373.1"> solutions to enhance the quality of your </span><span class="No-Break"><span class="koboSpan" id="kobo.374.1">coding experience.</span></span></p>
<h1 id="_idParaDest-89"><a id="_idTextAnchor088"/><span class="koboSpan" id="kobo.375.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.376.1">This chapter’s core ideas looked at several critical factors and considerations that we need to research and keep in mind as we start our new project. </span><span class="koboSpan" id="kobo.376.2">First is identifying the framework’s stakeholders and goals, these being the objectives and the audience that will benefit from having these objectives fulfilled. </span><span class="koboSpan" id="kobo.376.3">Then, we examined potential problem spaces, focusing on understanding the project types we can consider. </span><span class="koboSpan" id="kobo.376.4">Finally, we explored examples of specific JavaScript architectural design decisions that could shape </span><span class="No-Break"><span class="koboSpan" id="kobo.377.1">our project.</span></span></p>
<p><span class="koboSpan" id="kobo.378.1">Considering all this information will help you create a better framework project. </span><span class="koboSpan" id="kobo.378.2">Meanwhile, we will also use these framework considerations together throughout this book. </span><span class="koboSpan" id="kobo.378.3">We will start applying all these considerations in the next chapter, as we start building a new framework </span><span class="No-Break"><span class="koboSpan" id="kobo.379.1">from scratch.</span></span></p>
</div>
</body></html>