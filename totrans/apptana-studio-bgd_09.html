<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Collaborative Work with SVN and Git</h1></div></div></div><p>
<em>Collaborative work is an important topic at present. <a id="id511" class="indexterm"/>Many large projects are now being developed in a collaborative way. But this was not always easy for the developer. When many developers are working together on large projects, each developer must have a well-known area of work, and each developer must make sure that he doesn't interfere with the work of the other developers.</em>
</p><p>
<em>Without tools such as SVN or Git, large projects like jQuery or Linux Mint could not be possible. The developers of all these projects are distributed all over the world and they often work in different time zones and have different ways of working, but in the end all the parts are merged into one great project in SVN or Git.</em>
</p><p>
<em>So, SVN and Git are a great enrichment for all developers and essential for the fast progress of large web projects.</em>
</p><p>
<em>Let's take a look at how easy it is to work with SVN and Git in Aptana Studio.</em>
</p><p>In this chapter we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What views does the SVN perspective provide</li><li class="listitem" style="list-style-type: disc">Checking out an SVN Repository</li><li class="listitem" style="list-style-type: disc">Identifying files in different states within the Project Explorer</li><li class="listitem" style="list-style-type: disc">Updating and committing an SVN project</li><li class="listitem" style="list-style-type: disc">How to read the SVN history, compare versions, and restore an older version</li><li class="listitem" style="list-style-type: disc">Cloning a Git repository in order to receive a project</li><li class="listitem" style="list-style-type: disc">Working with a local Git repository</li><li class="listitem" style="list-style-type: disc">How to stage, unstage, revert, and commit within Git Repositories</li><li class="listitem" style="list-style-type: disc">Pushing and pulling remote Git Repositories</li></ul></div><div><div><div><div><h1 class="title"><a id="ch09lvl1sec114"/>Working with SVN</h1></div></div></div><p>At first we will take a look at the <strong>SVN</strong> perspective. We have already examined how to install the SVN plugin in <a class="link" href="ch02.html" title="Chapter 2. Basics and How to Use Perspectives and Views">Chapter 2</a>, <em>Basics and How to Use Perspectives and Views</em>. If you haven't installed it yet, switch back to <a class="link" href="ch02.html" title="Chapter 2. Basics and How to Use Perspectives and Views">Chapter 2</a> and install it.</p><p>The <strong>SVN</strong> perspective provides a group of views that help <a id="id512" class="indexterm"/>us to work with a Subversion server. You can open this perspective by using the Perspective menu in the top-right of the Aptana Studio window.</p><p>The important and most frequently used views related to SVN, which we will take a look at, are the <strong>SVN Repositories</strong> view, the <strong>Team</strong> | <strong>History</strong> view, and the <strong>SVN</strong> | <strong>Console</strong> view. These views are categorized as the views selection into the <strong>SVN</strong> and <strong>Team</strong> folder, as shown in the following screenshot:</p><div><img src="img/8246_09_01.jpg" alt="Working with SVN"/></div><p>The <strong>SVN Repositories</strong> view allows you to add new repositories and manage all available repositories. Additionally, you have the option to create new tags or branches of the Repository. These views belong to the <strong>SVN</strong> views, as shown in the following screenshot:</p><div><img src="img/8246_09_02.jpg" alt="Working with SVN"/></div><p>The <strong>History</strong> view allows you to get an overview about the project and revisions history. This view is used by SVN and Git projects; for this reason the view is stored in the <strong>Team</strong> views group. The <a id="id513" class="indexterm"/>
<strong>History</strong> view can be opened by the menu under <strong>Window</strong> | <strong>Show View</strong> | <strong>History</strong>. Here you can see all the revisions with their comments and data creation. Furthermore, you can get a view into all revisions of a file and you also have, the ability to compare all revisions. The following screenshot shows the <strong>History</strong> view:</p><div><img src="img/8246_09_06.jpg" alt="Working with SVN"/></div><p>Within the SVN <strong>Console</strong> view, you will find the output from all the SVN actions that are executed by Aptana Studio. Therefore, if you have an <a id="id514" class="indexterm"/>SVN conflict or something else, you can take a look at this <strong>Console</strong> view's output and you might locate the problem a bit faster. The <a id="id515" class="indexterm"/>SVN <strong>Console</strong> view was automatically integrated in the Aptana Studio Console, while the SVN plugin was installed. So if you need the SVN <strong>Console</strong> view, just open the general <strong>Console</strong> view from <strong>Window</strong> | <strong>Show view</strong> | <strong>Console</strong>. If the <strong>Console</strong> view is open, just use the View menu to select the <strong>Console</strong> type, which in this case is the <strong>SVN Console</strong> entry.</p><p>The following screenshot shows the <strong>Console</strong> view and how you can select <strong>SVN Console</strong>:</p><div><img src="img/8246_09_07.jpg" alt="Working with SVN"/></div><p>However, before we can start work with SVN, we have to add the related SVN Repository.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec115"/>Time for action – adding an SVN Repository</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Open the <strong>SVN</strong> perspective by using the Perspective <a id="id516" class="indexterm"/>menu in the top-right corner of the Aptana Studio window.</li><li class="listitem">Now, you should see the <strong>SVN Repositories</strong> view on the left-hand side of the Aptana Studio window. If it does not open automatically, open it by selecting the view from the navigation <strong>Window</strong> | <strong>Show view</strong> | <strong>SVN Repositories</strong>.</li><li class="listitem">In order to add a new SVN Repository, click on the small SVN icon with the plus sign at the top of the <strong>SVN Repositories</strong> view.</li><li class="listitem">You will now have to enter the address of the Subversion server in the pop up that appears, for example, <code class="literal">svn://219.199.99.99/svn_codeSnippets</code>.<div><img src="img/8246_09_08.jpg" alt="Time for action – adding an SVN Repository"/></div></li><li class="listitem">After you have clicked on the <strong>Finish</strong> button, Aptana Studio tries to reach the Subversion server in order to complete the process of adding a new Repository.</li><li class="listitem">If the Subversion server was reached and the SVN Repository is password protected, you will have to enter the access data for reading the SVN data.<div><img src="img/8246_09_09.jpg" alt="Time for action – adding an SVN Repository"/></div></li><li class="listitem">If you don't have the required access data available currently, you can abort the process and Aptana Studio will ask you whether you want to keep the location. If you click on <strong>NO</strong>, the newly <a id="id517" class="indexterm"/>added SVN Repository will be deleted, but if you click on <strong>YES</strong>, the location will remain. This allows you to retrieve the required access data later, enter them, and begin to work with the SVN Repository.<div><img src="img/8246_09_10.jpg" alt="Time for action – adding an SVN Repository"/></div></li><li class="listitem">Regardless of whether you keep the location or enter the required access data, the new SVN Repository will be listed in the SVN Repository view.</li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec130"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have added a new SVN Repository into Aptana Studio. The new Repository is now listed in our <strong>SVN Repositories</strong> view and we can check this out from there, or create new tags or branches.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec131"/>Checking out an SVN Repository</h2></div></div></div><p>After we have seen how to add a new SVN Repository to <a id="id518" class="indexterm"/>Aptana Studio, we also want to know how we <a id="id519" class="indexterm"/>can check this Repository in order to work with the contained source code.</p><p>You can do this, like many other things are done in Aptana Studio, in different ways. We will take a look at how we can do this directly from the <strong>SVN Repositories</strong> view, because every time we add a new Repository to Aptana Studio, we will also want to check it and use it as a project.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec116"/>Time for action – checking out an SVN Repository</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Open the <strong>SVN Repositories</strong> view.</li><li class="listitem">Expand the SVN Repository that you wish to check out. We do this because we want to check <a id="id520" class="indexterm"/>out the trunk directory from the Repository, not the tags and branches directory.</li><li class="listitem">Now, right-click on the trunk directory and select the <strong>Check Out...</strong> entry.</li><li class="listitem">Aptana Studio will now read the properties of the SVN Repository directly from the Subversion server. When all the required properties are received, the following window will appear on your screen:<div><img src="img/8246_09_11.jpg" alt="Time for action – checking out an SVN Repository"/></div></li><li class="listitem">First of all, we select the <strong>Check out as a project in the workspace</strong> option and enter the name of the new SVN project.</li><li class="listitem">After this, we select the revision that we want to check out. This is usually the head revision. This means that you want to check out the last committed one—called the head revision. But you can check out any revision number you want from the past. If this is so, just deselect the <strong>Check out HEAD revision</strong> checkbox and enter the number of the revision that you want to check out.</li><li class="listitem">In the last section, we select the <code class="literal">Fully recursive</code> option within the <strong>Depth</strong> drop-down list and uncheck the <a id="id521" class="indexterm"/><strong>Ignore externals</strong> checkbox, but select the <a id="id522" class="indexterm"/><strong>Allow unversioned obstructions</strong> checkbox.</li><li class="listitem">After you have selected these settings, click on the <strong>Next</strong> button.</li><li class="listitem">Finally, you can select the location where the project should be created. Normally, this is the current workspace, but sometimes the location is different from the workspace. Maybe you have a web server installed and want to place the source code directly into the <a id="id523" class="indexterm"/>web <a id="id524" class="indexterm"/>root, in order to run the web application directly on your local machine.<div><img src="img/8246_09_12.jpg" alt="Time for action – checking out an SVN Repository"/></div></li><li class="listitem">Finally, whether you select a different location for the project or not, you have to click on the <strong>Finish</strong> button to finalize the "Check out" into a new project.</li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec132"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have checked out an SVN Repository from the <strong>SVN Repositories</strong> view. In addition to that, we have seen how we can also check out the Repository source code into another location other than the workspace. Finally, you should now have a ready SVN project where you can start working.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec133"/>File states</h2></div></div></div><p>If you're now changing some lines within a source code file, the <strong>Project Explorer</strong> view and the <a id="id525" class="indexterm"/>
<strong>App Explorer</strong> view change the files' icon, so that you see a small white star on the black background. This means the file has changed since the last commit/update.</p><p>There are some more small icons, which give you information about the <a id="id526" class="indexterm"/>related files and directories. Let's take a closer look at the <strong>Label Decorations</strong> tab as shown in the following screenshot:</p><div><img src="img/8246_09_15.jpg" alt="File states"/></div><p>Now, we will discuss the symbols in the order shown in the previous screenshot:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The small rising arrow shows you that the <a id="id527" class="indexterm"/>file or directory is an external one.</li><li class="listitem" style="list-style-type: disc">The small yellow cylinder shows you that the file or directory is already under version control.</li><li class="listitem" style="list-style-type: disc">The red <strong>X</strong> shows you that this file or directory is marked for deletion. The next time you commit your changes, the file will be deleted.</li><li class="listitem" style="list-style-type: disc">The small blue cylinder shows you that the file or directory is switched. These are files or directories that belong to a different working copy other than their local parent directory.</li><li class="listitem" style="list-style-type: disc">The small blue plus symbol shows you that this already versioned file or directory needs to be added to the repository. These could be files or directories you may have renamed or moved to a different directory.</li><li class="listitem" style="list-style-type: disc">The small cornered square shows you that these files have a conflict with the repository.</li><li class="listitem" style="list-style-type: disc">The small white star on the black background shows you that these files or directories have been changed since the last commit.</li><li class="listitem" style="list-style-type: disc">If the file's or directory's icon has no small symbol, it means the file is ignored by the SVN Repository.</li><li class="listitem" style="list-style-type: disc">The small white hook on the black background shows you that this file or directory is locked.</li><li class="listitem" style="list-style-type: disc">The small red stop sign shows you that this file or directory is read-only.</li><li class="listitem" style="list-style-type: disc">The small yellow cylinder shows you that this file or directory is already under version control and unchanged since the last commit.</li><li class="listitem" style="list-style-type: disc">The small question mark shows you that this new file or directory isn't currently under version control.</li></ul></div><p>If you didn't find your icons in this list, or your icons look <a id="id528" class="indexterm"/>different, no problem. Just navigate to <strong>Window</strong> | <strong>Preferences</strong> and select the <strong>Label Decorations</strong> entry under <strong>Team</strong> | <strong>SVN</strong> within the tree. Here you will find all of the icons which are used.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec134"/>Committing an SVN Repository</h2></div></div></div><p>If you have finished extending your web application with some new features, you can nowcommit these changes so that the changes are stored in the Repository, and other developers can also update their working copies and get the <a id="id529" class="indexterm"/>new features.</p><p>But how can you simply commit the changed files?</p><p>Unlike a Git Repository, SVN allows you to commit changes in a tree from the Repository. By using Git, you can only commit changes in the complete Repository at once. But for now, we want to commit our SVN Repository changes, therefore just follow the steps mentioned in the following <em>Time for action – updating and committing an SVN Repository</em> section.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec117"/>Time for action – updating and committing an SVN Repository</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">The first step, before performing a <a id="id530" class="indexterm"/>commit, is to perform an update on your working copy. Therefore, we will start by doing this, Aptana Studio reads all new revisions from the Subversion server and merges them with your local working copy. In order to do this update, right-click on your project root and select <strong>Team</strong> | <strong>Update to HEAD</strong>.</li><li class="listitem">When your working copy is up to date, navigate to the <strong>App Explorer</strong> view or the <strong>Project Explorer</strong> view and right-click on the files or directories that you want to commit, and then select the <strong>Commit...</strong> <a id="id531" class="indexterm"/>entry in the <strong>Team</strong> option.<div><img src="img/8246_09_13.jpg" alt="Time for action – updating and committing an SVN Repository"/></div></li><li class="listitem">If you select a few directories or the whole project, the <strong>Commit</strong> window lists only those files within the selection that have changed since the last commit. So, you are able to select just the files and directories that you want to commit. Compose the selected files and <a id="id532" class="indexterm"/>directories as you need, and enter a comment in the top of the window.<div><div><h3 class="title"><a id="tip50"/>Tip</h3><p>
<strong>Why do you have to enter a comment while committing a change?</strong>
</p><p>Because, by committing the SVN Repository, it automatically saves the date, time, and your username; with this data the revision history stores information about <em>who has changed which file at what time</em>. In addition to that comes the commenting part. The comment should describe what kind of changes were made and what is their purpose.</p></div></div></li><li class="listitem">To finalize the commit, you just have to click on the <strong>OK</strong> button and the commit process will start.</li><li class="listitem">As described previously, you can see the output from all your SVN processes within the SVN <strong>Console</strong> view. In the following <a id="id533" class="indexterm"/><a id="id534" class="indexterm"/>screenshot you can see the result of our commit process:<div><img src="img/8246_09_14.jpg" alt="Time for action – updating and committing an SVN Repository"/></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec135"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have updated our working copy in order to commit our changes. Now the other developers can update their working copies too and can then work with your extensions.</p><div><div><h3 class="title"><a id="tip51"/>Tip</h3><p>Refer to <a class="link" href="ch11.html" title="Chapter 11. Optimizing Work and Increasing Collaboration">Chapter 11</a>, <em>Optimizing Work and Increasing Collaboration</em> to learn how to optimize this process.</p></div></div><p>It should be noted again that it's recommended to perform an update before every commit. You can perform an update in a single file tree node. You don't have to update your whole project every time, a single node can also be committed.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec136"/>Updating an SVN Repository</h2></div></div></div><p>Additionally, similar to the SVN check out, you have the option to update your working copy not only to the Head revision, but <a id="id535" class="indexterm"/>also to a special revision number. In order to do this, right-click on the project root within the <strong>Project Explorer</strong> view and select the <a id="id536" class="indexterm"/>
<strong>Update to Head...</strong> option or the <strong>Update to Version...</strong> option <a id="id537" class="indexterm"/>under the <strong>Team</strong> tab. After selecting one of these entries, Aptana Studio determines all the new files and files to be updated, downloads them from the Repository, and merges them with your local working copy.</p><p>Now you should have all the source code from your current project. But, how can you identify which parts of a file are new or have been changed?</p><p>No problem! Aptana Studio allows you not only to compare two different local files,  you can also compare files from different revisions in your <a id="id538" class="indexterm"/>Repository. Refer to the following <em>Time for action</em> section to understand how this works:</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec118"/>Time for action – using the SVN history and comparing files</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">First we will view the <a id="id539" class="indexterm"/>SVN history of a single file. You can do this on a whole directory or project also; for now we will do it on a single file, but the procedure is the <a id="id540" class="indexterm"/>same. Navigate to your SVN project in the <strong>App Explorer</strong> or <strong>Project Explorer</strong> view.</li><li class="listitem">Select the file or directory that you want to inspect, right-click on it and select the <strong>Show History</strong> entry in the <strong>Team</strong> tab.<div><img src="img/8246_09_16.jpg" alt="Time for action – using the SVN history and comparing files"/></div></li><li class="listitem">In the SVN <strong>History</strong> view (as shown in the previous screenshot), at the top you have a list of all the revisions, and the location where the selected file was changed and committed. In our case, the file was initially committed first in revision <strong>8</strong>, and updated in revision <strong>25</strong> and <strong>26</strong>. Additionally, you can see the date of the revision and the name of the user who had committed it. The last column is the <strong>Comment</strong> column, where you find more information about what was changed in the commit.<p>The list on the bottom area of the SVN <strong>History</strong> view depends on the selected revision in the top area and shows you which files are affected in the current selected scope of the <strong>History</strong> view.</p></li><li class="listitem">If you double-click on a single file in the bottom list, Aptana Studio loads the file in the selected revision from the Subversion server, <a id="id541" class="indexterm"/>and opens it in the related editor. In the head of the editor, you can see the number of opened revisions suffixed to the filename as shown in the following screenshot:<div><img src="img/8246_09_17.jpg" alt="Time for action – using the SVN history and comparing files"/></div><p>The file opens in read-only mode only because it is an already committed file.</p></li><li class="listitem">Now you know how to inspect an older version of a file from your SVN project, but it is also interesting to know <a id="id542" class="indexterm"/>what parts in the file have changed between the different versions.<p>For this purpose, you can use the <strong>Compare...</strong> function. Select the file you want to compare in the bottom area, right-click on it, and select the <strong>Compare...</strong> entry.</p><div><img src="img/8246_09_18.jpg" alt="Time for action – using the SVN history and comparing files"/></div></li><li class="listitem">The window, as shown in the following screenshot, allows you to select the two files that you want to compare. We already selected the first one by right-clicking on it. This file is automatically entered in the <strong>Compare from</strong> field. The <strong>Compare to</strong> field is automatically entered by Aptana Studio. Here, Aptana Studio just counts down one number. But, in our case (as shown in the previous screenshot) there is a revision <strong>25</strong>. In <a id="id543" class="indexterm"/>this case, since there was no revision <strong>25</strong>, Aptana Studio selected the revision <strong>8</strong> for comparing, because it was the last checked one since revision <strong>25</strong>.<div><img src="img/8246_09_19.jpg" alt="Time for action – using the SVN history and comparing files"/></div></li><li class="listitem">After choosing the two file revisions that you want to compare, just click on <strong>OK</strong> in order to load the <strong>Compare</strong> view.<div><div><h3 class="title"><a id="tip52"/>Tip</h3><p>
<strong>Switch between the Compare from and to fields</strong>
</p><p>If the Compare revisions fields have been entered in reverse order, simply click on the <a id="id544" class="indexterm"/>
<strong>Swap From and To</strong> button, and Aptana Studio will swap both the fields.</p></div></div></li><li class="listitem">Aptana Studio opens the <strong>Compare</strong> view of both these file revisions and you can inspect the differences. In our case (in the following screenshot), we compare revision <strong>27</strong> and <strong>26</strong>, as you can see from the revision number suffixed to the <a id="id545" class="indexterm"/>filenames at the top, revision <strong>27</strong> on the left and revision <strong>26</strong> on the right.<p>From the left to the right you can see all the differences. Here it is obvious that only three lines of comments were inserted. You can see a horizontal rule on line 19, which shows a difference. It also ends with a horizontal rule on line 21, where the row with a difference ends. In the space in the middle there is a gray column between both the text areas. In this column visual lines are shown which show the exact line where the new lines were added. In the left row, rows 19 to 21 are connected by a visual line with the right horizontal rule between row 18 and 19. This shows that the new lines were added in line 19.</p><p>A nice feature is, when you scroll the editor towards the left, the right editor will scroll automatically synchronous to the left editor.</p><div><img src="img/8246_09_20.jpg" alt="Time for action – using the SVN history and comparing files"/></div></li><li class="listitem">But, you don't have to always take the long way via the SVN <strong>History</strong> view, when you want to compare some files. You can also navigate to the <strong>App Explorer</strong> view or the <strong>Project Explorer</strong> <a id="id546" class="indexterm"/>view, select the file you want to compare, and right-click on it. In the context menu (as shown in the following screenshot), select the <strong>Compare with</strong> entry and you will get a submenu with the most frequent comparing options.<div><img src="img/8246_09_21.jpg" alt="Time for action – using the SVN history and comparing files"/></div></li></ol></div><p>If you want to compare two files that are both not in a subversion or maybe even in different projects, just select both of them by holding the <em>Ctrl</em> key within the <strong>Project Explorer</strong> view, right-click on one of the files, and <a id="id547" class="indexterm"/>select the <strong>Each other</strong> entry in the <strong>Compare With</strong> option. The <strong>Compare</strong> view of a compare will look similar to the following screenshot:</p><div><img src="img/8246_09_22.jpg" alt="Time for action – using the SVN history and comparing files"/></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec137"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have seen how easy it is to inspect what parts of a file have changed in the previous revisions by using the SVN <strong>History</strong> view. Starting with listing all available revisions of a file, we also discussed how to compare each of these revisions with each other. Comparing different files that maybe from other projects was also discussed in this section.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec138"/>Have a go hero – checking out an SVN Repository and working with it</h2></div></div></div><p>Now, your task is to add an SVN Repository to the Aptana Studio Repository view and then check it out directly into a project. <a id="id548" class="indexterm"/>After you have created your SVN project, go forward and work within it. Change some files and commit the changes. When you have committed some files, take a look into the SVN <strong>History</strong> view and see how the changes are displayed. Finally, choose one file from the SVN <strong>History</strong> view and compare it with the one from the Head Revision.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec139"/>Pop quiz – testing your newly acquired SVN knowledge</h2></div></div></div><p>Q1. What is recommended to be done before every commit?</p><div><ol class="orderedlist arabic"><li class="listitem">Checking out a fresh working copy</li><li class="listitem">Performing an update</li><li class="listitem">Performing a clean-up</li></ol></div><p>Q2. How can you identify the subversion state of your files within your project?</p><div><ol class="orderedlist arabic"><li class="listitem">Right-click on the file, select the <strong>Properties</strong> entry, and then select the <strong>Subversion</strong> section in the opening window.</li><li class="listitem">The files didn't have different states.</li><li class="listitem">You can identify the state of the file by the small symbol on the icon of the file.</li></ol></div><p>Q3. What should be done when you are working on your project and you notice that the performed changes are not what you want, and you want to restore the original state again?</p><div><ol class="orderedlist arabic"><li class="listitem">Delete the complete working copy and check them out again.</li><li class="listitem">Try to undo all the changes by using the <em>Ctrl</em> + <em>Z</em> shortcut.</li><li class="listitem">Select the related files and directories and revert the changes by using the context menu in the <strong>Project Explorer</strong> view.</li></ol></div><p>Q4. What should be done to compare two files from two different projects?</p><div><ol class="orderedlist arabic"><li class="listitem">You have to select both the files within the <strong>Project Explorer</strong> view, right-click on one of the files, and select the <strong>Each other</strong> entry under the <strong>Compare With</strong> option.</li><li class="listitem">Select the first file within the <strong>Project Explorer</strong> view, open it, and drop the second file within the same editor.</li><li class="listitem">You have to select both the files within the <strong>Project Explorer</strong> view and drag-and-drop these files into the editors area.</li></ol></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec119"/>Working with Git</h1></div></div></div><p>Just like SVN, Git is a version control and source code management system, and was initially developed by Linus Torvalds. The difference between SVN and Git is that Git is a distributed version control and SVN is a centralized version control.</p><p>Aptana Studio is shipped with a <a id="id549" class="indexterm"/>built-in support for <a id="id550" class="indexterm"/>Git source control. However, if you are using a Linux-based operating system, you have to install the Git package manually. You can use the following command to do this:</p><div><pre class="programlisting">apt-get install git</pre></div><p>If you are using a Windows-based operating system, you don't need to install any additional components. Aptana Studio is pre-packaged with portable Git and so you can start using Git with Aptana Studio immediately.</p><p>Cloning a Git Repository and creating a new project with this clone can be done in different ways. At this point, we will take a look at the fastest way to do this.</p><div><div><h3 class="title"><a id="tip53"/>Tip</h3><p>
<strong>What is happening?</strong>
</p><p>Like the SVN Processes, the Git Processes are also executed on the console. Therefore, there will be some output found after each action, with one small difference; that Git uses the Aptana Studio system console.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec120"/>Time for action – cloning a remote Git Repository</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the <strong>App Explorer</strong> view or the <strong>Project Explorer</strong> view. Right-click on the background of the view and <a id="id551" class="indexterm"/>select the <strong>Import...</strong> entry from the context menu.</li><li class="listitem">On the window that has opened (as shown in the following screenshot), expand the <code class="literal">Git</code> folder. Select the <strong>Git Repository as New Project</strong> entry and click on <strong>Next</strong>.<div><img src="img/8246_09_03.jpg" alt="Time for action – cloning a remote Git Repository"/></div></li><li class="listitem">Now we have to determine the <strong>URI</strong> of the Git Repository that we wish to clone. For this example, we will choose the <strong>Less Css</strong> project with the following URI<a class="ulink" href="https://github.com/cloudhead/less.js.git">https://github.com/cloudhead/less.js.git</a></li><li class="listitem">Next, select the <strong>Destination</strong> directory for the project in which the cloned files should be stored.<div><img src="img/8246_09_04.jpg" alt="Time for action – cloning a remote Git Repository"/></div></li><li class="listitem">Finally, you can complete the process by <a id="id552" class="indexterm"/>clicking on the <strong>Finish</strong> button.</li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec140"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have cloned a Git Repository and created a new Aptana Studio project in the same process, in which the source code is copied. We can now extend this project. The following screenshot shows you the <strong>Project Explorer</strong> view, where you can find your Git project:</p><div><img src="img/8246_09_05.jpg" alt="What just happened?"/></div><p>Sometimes, there are some files that should not be added to the Repository. In this instance, you can add these files to an ignore list similar to the SVN. Just select the related file, right-click on it, and select the <strong>Add to .gitignore</strong> entry under the <strong>Team</strong> entry. If it is the first file that was added to the ignore list, the Git Repository gets an additional <code class="literal">.gitignore</code> file in the same directory as the ignored file of the project.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec141"/>Creating a Git Repository</h2></div></div></div><p>Creating a Git Repository is quick and easy to do. Refer <a id="id553" class="indexterm"/>
<a id="id554" class="indexterm"/>to the following <em>Time for action</em> section to find out how to do this.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec121"/>Time for action – creating a new local Git Repository for a new or existing project</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">First, create a project if you want to create a local Git Repository for a new project.</li><li class="listitem">Now, navigate to your project within the <strong>Project Explorer</strong> view, right-click on it, and then select the <strong>Share Project...</strong> entry in the <strong>Team</strong> tab.</li><li class="listitem">In the window that opens, as shown in the following screenshot, you have to select the type of repository that you want to use. Select <strong>Aptana Git</strong> and click on <strong>Next</strong>.<div><img src="img/8246_09_23.jpg" alt="Time for action – creating a new local Git Repository for a new or existing project"/></div></li><li class="listitem">Configure the new Git repository. Aptana Studio creates the required infrastructure and saves them within the <code class="literal">.git</code> directory.<p>Select your project entry within the list, click on <strong>Create...</strong> and that's it. Aptana Studio creates the local repository and deactivates the <strong>Create...</strong> button, as the project is now a Git repository project.</p><div><img src="img/8246_09_24.jpg" alt="Time for action – creating a new local Git Repository for a new or existing project"/></div></li><li class="listitem">Finally, you can close the window by <a id="id555" class="indexterm"/><a id="id556" class="indexterm"/>clicking on the <strong>Finish</strong> button.</li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec142"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have created a new project (just in case the project was previously not available) and integrated these projects into a new Git Repository. Now, let's do a bit of work on managing our source code versions within our new Git repository.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec122"/>Time for action – working with a new local Git Repository</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the <strong>App Explorer</strong> view and create a <a id="id557" class="indexterm"/>new file, for example, create one with the name <code class="literal">hello.php</code> and write some PHP code in it. Now our <code class="literal">Git</code> project and the new file will look like the following screenshot:<div><img src="img/8246_09_25.jpg" alt="Time for action – working with a new local Git Repository"/></div></li><li class="listitem">The small question mark on the file icon shows you that this new file isn't currently under version control. In order to mark this file for the next commit, right-click on the new file and select the <strong>Stage</strong> entry. After this, the small question mark should change to a green plus sign.</li><li class="listitem">Now you have created a new file, written some code into it, and marked this file for the next commit.</li><li class="listitem">In order to commit the new file into the local Repository, right-click on the file and select the <a id="id558" class="indexterm"/><strong>Commit...</strong> entry.<div><img src="img/8246_09_26.jpg" alt="Time for action – working with a new local Git Repository"/></div></li><li class="listitem">The Commit window, similar to the previous screenshot, comes with four areas. At the top you will find the content from the currently selected file. At the bottom-left, you will find all the <a id="id559" class="indexterm"/>unstaged files; this includes all the files that you didn't want to commit. In the bottom-right, you will find all the staged files, also the files that you want to commit. Finally, at the bottom in the middle, you will find an area for a comment for the commit. Fill in a short comment about what you have done in the changed files and click on <strong>Commit</strong>.</li><li class="listitem">After Git  has finished  performing the commit, the area on the bottom-right with the staged files will be cleared. Now you can close the window by clicking on the <strong>Close</strong> button.<div><img src="img/8246_09_27.jpg" alt="Time for action – working with a new local Git Repository"/></div></li><li class="listitem">Now that we have checked our first file into the Git repository, we can go forward and add some new lines within our file. After that, we can save these changes and take a closer look at the <strong>App Explorer</strong> view (as shown in the following screenshot). We will see that there is an <strong>*</strong> symbol included between the file icon and the filename. <a id="id560" class="indexterm"/>This shows that this file is "dirty" (this means that this file has changed since the last commit).<div><img src="img/8246_09_28.jpg" alt="Time for action – working with a new local Git Repository"/></div></li><li class="listitem">After you have extended your web application and you are satisfied with the result, you may want to commit these changes. You can perform this in a similar way. First you have to stage the files that you want to commit and then click on the <a id="id561" class="indexterm"/><strong>Commit...</strong> button.<p>At the top of the commit window (as shown in the following screenshot), where the currently selected committed file is displayed, you can now see what has changed since the last commit.</p><p>Green rows are rows that have been added, and red rows are rows that have been removed.</p><p>The left column where the line numbers are located has been duplicated. The left-hand side line contains the line numbers from the previous committed file, the right-hand side one contains the new line numbers from the current version of the file.</p><div><img src="img/8246_09_29.jpg" alt="Time for action – working with a new local Git Repository"/></div></li><li class="listitem">In order to complete the commit process, click on the <strong>Commit</strong> button and then click on the <strong>Close</strong> button.</li><li class="listitem">If you have made some changes that you wish to undo, no problem. Right-click on the related file and select the <strong>Revert...</strong> entry. Now, Aptana Studio will restore the file to the last <a id="id562" class="indexterm"/>committed one.<p>If the <strong>Revert...</strong> entry is grayed out, you may have already staged the file you want to revert. Just select the <strong>Unstage...</strong> entry first and then revert your changes.</p></li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec143"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have worked with our local Git Repository project. In short, we have created new files, filled them with code, and committed the first version into the Git Repository. After that, we have extended our files and committed these changes too. Additionally, we have seen what should be done if you want to undo the changes that you've made.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec144"/>Pulling and pushing Git remote projects</h2></div></div></div><p>If you've finished working with the extension of your local clone for a project, or if you want to merge your local clone with a remote one in order <a id="id563" class="indexterm"/>
<a id="id564" class="indexterm"/>to get new extensions, you will come to the point where you need to use the <strong>Push</strong> and <strong>Pull</strong> functionality.</p><p>Firstly, we need to know what <strong>Push</strong> and <a id="id565" class="indexterm"/>
<a id="id566" class="indexterm"/>
<strong>Pull</strong> functions mean?</p><p>A <strong>Push</strong> <a id="id567" class="indexterm"/>function sends all the changes from a local Git Repository to a remote one and merges them on the remote side, whereas a <strong>Pull</strong> function pulls all the changes from a remote Git Repository and merges them with the local one.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec123"/>Time for action – pulling and pushing Git remote projects</h1></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Navigate to the project that you want to push, within the <strong>Project Explorer</strong> view.</li><li class="listitem">Ensure that all the files that you want to push are already committed to the local Git Repository, otherwise you might get the <a id="id568" class="indexterm"/><a id="id569" class="indexterm"/>message <strong>Everything up-to-date</strong>.</li><li class="listitem">Right-click on the project root and select the <strong>Push...</strong> entry in the <strong>Team</strong> tab.</li><li class="listitem">If an authorization for the remote Git Repository is required, you will see the following window where you can enter your username and password:<div><img src="img/8246_09_30.jpg" alt="Time for action – pulling and pushing Git remote projects"/></div></li><li class="listitem">After the Push process is complete, logging from the Git Repository within the <strong>Console</strong> view can be seen, as shown in the following screenshot:<div><img src="img/8246_09_31.jpg" alt="Time for action – pulling and pushing Git remote projects"/></div></li><li class="listitem">The Pull process is also easy and can be done quickly. Navigate to the project that you want to merge by pulling a remote Git Repository, within the Project Explorer view. Right-click on it and then select <strong>Team</strong> | <strong>Pull...</strong>.</li><li class="listitem">In the background, Aptana Studio loads the remote Repository and merges it with your local Repository.<p>After this process has completed and providing that no conflicts happen, the console shows you a list of all the files that are new or have <a id="id570" class="indexterm"/>
<a id="id571" class="indexterm"/>changed, as shown in the following screenshot:</p><div><img src="img/8246_09_32.jpg" alt="Time for action – pulling and pushing Git remote projects"/></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec145"/>
<em>What just happened?</em>
</h2></div></div></div><p>We have seen how easy it is to push and pull remote Git Repositories. After pulling a remote Repository, all the new and changed files from the remote side were merged with your local Repository. While pushing your local Repository, you merged your local extensions with the remote Repository so that other developers can pull these new features.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec146"/>Have a go hero – checking out a Git Repository</h2></div></div></div><p>Now your task is to create your own remote Git <a id="id572" class="indexterm"/>
<a id="id573" class="indexterm"/>Repository (maybe by a service like GitHub or something similar), and clone it within Aptana Studio into a local project. If the project is ready, begin to work within it and create source code files, stage them, and commit the progress in your work.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec147"/>Pop quiz– testing your newly acquired Git knowledge</h2></div></div></div><p>Q1. What's the difference between a Git version control and an SVN version control?</p><div><ol class="orderedlist arabic"><li class="listitem">There are no differences. Both contain the same logic just in different implementations.</li><li class="listitem">Git is a distributed version control and SVN is a centralized version control.</li><li class="listitem">Git is a centralized version control and SVN is a distributed version control.</li></ol></div><p>Q2. What can you do with the files that are not inserted into the Git Repository?</p><div><ol class="orderedlist arabic"><li class="listitem">Simply delete them from your project.</li><li class="listitem">Rename the file so that the filename begins with a point.</li><li class="listitem">Add these files to the <code class="literal">.gitignore</code> file.</li></ol></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec124"/>Summary</h1></div></div></div><p>By the end of this chapter, you should be familiar with SVN and Git Repositories. By working with SVN Repositories you should know, in detail, how to add a new Repository and, how to check out the Repository into a project. After adding and checking out, you should know how to work with the SVN project. This means that you have to know how to commit your local changes, update your local working copy, and know how to use the SVN history for your work.</p><p>While working with Git, you have not only seen how to clone a remote Git Repository and work with it within a local project, but also how to create your own local Git Repository. Within your local Git Repository, we had a look at the commit process and how to stage, unstage, and revert files. Finally, we had a look at how to push and pull a Git Repository.</p><p>In the next chapter, we will learn how to work in an optimal way with PHP within Aptana Studio.</p></div></body></html>