<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Starting with Backbone Marionette</h1></div></div></div><p>This practical guide provides clear steps to the basics of writing scalable applications using <code class="literal">Marionette.js</code>. As you progress through the initial examples, you will develop an understanding of how the framework components work together to create a composite application. But before we go through in-depth examples, here are some things that you will find in this introductory chapter:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Description and characteristics<code class="literal"> </code>of<code class="literal"> Marionette.js</code> </li><li class="listitem" style="list-style-type: disc">The role of <code class="literal">Marionette.js</code> in the Backbone applications</li><li class="listitem" style="list-style-type: disc">Benefits of the framework </li><li class="listitem" style="list-style-type: disc">An overview of architecture and scalability </li><li class="listitem" style="list-style-type: disc">Instructions for installation and documentation</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Introducing Marionette.js</h1></div></div></div><p>A composite application library for <code class="literal">Backbone.js</code> is <code class="literal">Backbone.marionette</code>, also known as <code class="literal">Marionette.js</code>. It gives <a id="id0" class="indexterm"/>us the core constructs and simplifies many of the patterns and practices that your JavaScript applications need to be scalable.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec06"/>Backbone needs Marionette.js</h2></div></div></div><p>An increasingly popular <a id="id1" class="indexterm"/>framework for building <a id="id2" class="indexterm"/>single-page and small- to mid-sized applications is <code class="literal">Backbone.js</code>. It provides a great set of building blocks to organize your frontend development and build applications that support mobile devices. However, it leaves much of the application design, architecture, and scalability to developers. Nevertheless, <code class="literal">Marionette.js</code> fills in some blanks that <code class="literal">Backbone.js</code> doesn't provide by itself and gives us conventions that you can take advantage of to build your own custom objects. Simply put, <code class="literal">Marionette.js</code> makes your life easier when you are developing the Backbone applications.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Key benefits of Marionette.js</h2></div></div></div><p>Adding a lot of key patterns and <a id="id3" class="indexterm"/>tools used to create real-world applications, <code class="literal">Marionette.js</code> found its place in Backbone. The following are some of the benefits that you can find within this framework:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Structure, organization, and patterns</li><li class="listitem" style="list-style-type: disc">Composite application architecture</li><li class="listitem" style="list-style-type: disc">Event-driven architecture with the event aggregator</li><li class="listitem" style="list-style-type: disc">Boilerplate for views can be reduced</li><li class="listitem" style="list-style-type: disc">Enterprise messaging pattern influence</li><li class="listitem" style="list-style-type: disc">Modularization options</li><li class="listitem" style="list-style-type: disc">Incremental use; because it's not an all or nothing framework, which means that you can use just the components you need</li><li class="listitem" style="list-style-type: disc">Support for nested views and layouts within visual regions</li><li class="listitem" style="list-style-type: disc">Built-in memory management and zombie killing in views, regions, and layouts</li></ul></div><p>A lot of application infrastructural components needed to build an application of any module size is provided by<code class="literal"> Marionette.js</code>.</p><p>A wide set of objects are provided by <code class="literal">Marionette.js</code> that facilitate the creation of well-structured applications of virtually any size and complexity. It achieves this goal by providing a collection of common design and implementation patterns found in the applications that the creator, Derick Bailey, used to develop the modular Backbone applications.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Building large applications</h2></div></div></div><p>When planning the <a id="id4" class="indexterm"/>architecture for your application, you normally try to think ahead as much as possible, attempting to achieve a decoupled architecture with functionality broken down into independent modules, and to avoid making direct calls between these modules. Therefore, you can add and remove modules without affecting its behavior.</p><div><table border="0" width="100%" cellspacing="0" cellpadding="0" class="blockquote" summary="Block quote"><tr><td valign="top"> </td><td valign="top"><p>"The secret to building large apps is never build large apps. Break your applications into small pieces. Then, assemble those testable, bite-sized pieces into your big application"</p></td><td valign="top"> </td></tr><tr><td valign="top"> </td><td colspan="2" align="right" valign="top" style="text-align: center">-- Justin Meyer, author of JavaScriptMVC.</td></tr></table></div><p>Consider that components tied to each other are difficult to change and scale without affecting each other. A very incremental and modular approach is provided by <code class="literal">Marionette.js</code>, using the module definition. It relies on the event aggregator to send messages between the modules to coordinate functionality from other parts of the system, without adding direct references to <a id="id5" class="indexterm"/>them among many more object types that facilitate the application's design.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Incremental use</h2></div></div></div><p>This is one of the basic concepts that the creator of <code class="literal">Marionette.js</code> used to create the framework. An incremental and <a id="id6" class="indexterm"/>modular approach is facilitated by<code class="literal"> Marionette.js</code>, providing the application object and the module architecture to scale applications across subapplications, features, and files. All of them are built to stand alone and to work with the core pieces of Backbone to accomplish the application's specific needs.</p><div><table border="0" width="100%" cellspacing="0" cellpadding="0" class="blockquote" summary="Block quote"><tr><td valign="top"> </td><td valign="top"><p>"The key is to acknowledge from the start that you have no idea how this will grow. When you accept that you don't know everything, you begin to design the system defensively ... You should spend most of your time thinking about interfaces rather than implementations."</p></td><td valign="top"> </td></tr><tr><td valign="top"> </td><td colspan="2" align="right" valign="top" style="text-align: center">-- Nicholas Zakas, author "High-performance JavaScript websites"</td></tr></table></div><p>One of the main benefits of <code class="literal">Marionette.js</code> is that you don't need to use all of its components. A jQuery-jQuery UI comparison can also be applied here. The fact that you use the jQuery calendar by any means forces you to use the entire UI library. The same can be applied to Marionette because the fact that you use just one of its components that makes sense for your application does not obligate you to use the other components of Marionette.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Installing Marionette.js</h1></div></div></div><p>We will go over how to download and <a id="id7" class="indexterm"/>set up a development environment so that you can get started with <code class="literal">Marionette.js</code> in some easy steps. If you're already comfortable with <a id="id8" class="indexterm"/>installing <code class="literal">Marionette.js</code>, you may want to skip the remaining parts of this chapter. Feel free to jump to <a class="link" href="ch02.html" title="Chapter 2. Our First Application">Chapter 2</a>, <em>Our First Application</em>.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Text editor</h2></div></div></div><p>While building large and scalable <a id="id9" class="indexterm"/>applications, you will spend most of your time on a code editor. We recommend that you use an editor that works for you. Notepad++ or Sublime Text are definitely good options. Sublime Text already has a lot of snippets and packages that will help you in your development.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Web browser</h2></div></div></div><p>Working with complex client-side <a id="id10" class="indexterm"/>applications requires a good set of developer tools. For the purpose of this guide, we will use mostly Google Chrome and Mozilla Firefox, but all the code and examples should work in all modern browsers (IE9+, Opera, and Safari).</p><p>We will use <a class="ulink" href="http://jsfiddle.net">jsfiddle.net</a> in order to show you the running examples. The use of this site is pretty simple and most of the time, you will only need to run the code to see it in action.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Prerequisites</h2></div></div></div><p>At the time of this writing, the current <a id="id11" class="indexterm"/>stable version of <code class="literal">Marionette.js</code> is v1.3.0 and it <a id="id12" class="indexterm"/>relies on the following libraries:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">JSON2.js</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">jQuery</code> (v1.7, v1.8, and v1.9)</li><li class="listitem" style="list-style-type: disc"><code class="literal">Underscore.js</code> (v1.4.4)</li><li class="listitem" style="list-style-type: disc"><code class="literal">Backbone.js</code> (v1.0.0)</li><li class="listitem" style="list-style-type: disc"><code class="literal">backbone.wreqr.js</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">backbone.babysitter.js</code></li></ul></div><p>We would like to point that having basic knowledge on Backbone and Underscore will help you to get the best out of this book and to understand the benefits of Marionette over plain Backbone development.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Getting Marionette.js</h2></div></div></div><p>The best way to get the latest build <a id="id13" class="indexterm"/>of <code class="literal">Marionette.js</code> is by going to the project website, <a class="ulink" href="http://marionettejs.com/">http://marionettejs.com/</a>.</p><p>They have a <strong>Pre-packaged</strong> <a id="id14" class="indexterm"/>option. The <code class="literal">.zip</code> <a id="id15" class="indexterm"/>contains all of the files that you need to get started with <code class="literal">Marionette.js</code>, including Backbone, jQuery, and other prerequisites. You can also download the <code class="literal">Marionette.js</code> file without all the dependencies and just use the CDN versions of these libraries if they are available.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Documentation</h2></div></div></div><p>You can <a id="id16" class="indexterm"/>download the documentation for each piece of <code class="literal">Marionette.js</code> from <a class="ulink" href="https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs">https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs</a>. The documentation is split into multiple files. <a id="id17" class="indexterm"/>The annotated source code <a id="id18" class="indexterm"/>can be found at <a class="ulink" href="http://marionettejs.com/docs/backbone.marionette.html">http://marionettejs.com/docs/backbone.marionette.html</a>. You can find articles, blog posts, presentations, FAQs, and more on its wiki page, <a class="ulink" href="https://github.com/marionettejs/backbone.marionette/wiki">https://github.com/marionettejs/backbone.marionette/wiki</a>.</p><p>Derick Bailey, the creator of Marionette, has created a sample application that can be used as a reference for building the Backbone applications with <code class="literal">Marionette.js</code>. The name of the application is <code class="literal">BBCloneMail</code> <a id="id19" class="indexterm"/>and it is a great example to demonstrate a composite application. You can find <a id="id20" class="indexterm"/>
<code class="literal">BBCloneMail</code> online at <a class="ulink" href="http://bbclonemail.heroku.com">http://bbclonemail.heroku.com</a> and the source code at <a class="ulink" href="http://github.com/derickbailey/bbclonemail">http://github.com/derickbailey/bbclonemail</a>.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Summary</h1></div></div></div><p>In this chapter, we looked at some of the core concepts and benefits that <code class="literal">Marionette.js</code> offers for building scalable applications. We also provided links to find, download, and install the basic tools needed to perform your development. In the next chapter, you will be introduced to the components or building blocks that make up the <code class="literal">Marionette.js</code> applications.</p></div></body></html>