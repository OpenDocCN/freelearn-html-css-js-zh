<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Working with Plugins"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Working with Plugins</h1></div></div></div><p>
<span class="emphasis"><em>Using web standards and JavaScript to build a native app may have its limitations, because apps developed using native code can interact deeply with the operating system. But this is only partially true when dealing with PhoneGap apps because its architecture allows developers to extend the framework capabilities with the help of custom plugins.</em></span>
</p><p>In this chapter you will:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Learn what a PhoneGap plugin is and how to install the plugins in your project</li><li class="listitem" style="list-style-type: disc">Know how to list all the installed plugins and remove unwanted plugins</li><li class="listitem" style="list-style-type: disc">Understand how to manage project plugins and their dependencies using Plugman</li><li class="listitem" style="list-style-type: disc">Discover how to implement the Device API in the project</li></ul></div><div class="section" title="An introduction to plugins"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec39"/>An introduction to plugins</h1></div></div></div><p>When you <a id="id209" class="indexterm"/>develop and deploy a new simple hybrid application, the application might not be doing anything advanced. We know hybrid applications are developed using standard web technologies such as HTML, CSS, and JavaScript. We need some mechanism for the application to interact with various device-level features. To achieve this, we use plugins with PhoneGap/Cordova APIs. Since version 3.0, all the PhoneGap APIs have been converted to plugins, which means having a deep understanding of the plugins is now even more important for a PhoneGap developer.</p><p>A PhoneGap plugin<a id="id210" class="indexterm"/> is a bridge between the WebView and the native platform on which the app is running.</p><p>In order to be productive quickly with PhoneGap plugins, it's important to keep in mind how the framework works. A PhoneGap app<a id="id211" class="indexterm"/> consists of three main layers. They are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The user interface, developed using HTML, CSS, and JavaScript</li><li class="listitem" style="list-style-type: disc">The business logic, developed in JavaScript</li><li class="listitem" style="list-style-type: disc">The PhoneGap framework, native code exposed to the business logic through a JavaScript API</li></ul></div><p>The user interface and the business logic are the app's main source code and the parts on which most developers concentrate their development efforts. The plugins are strictly integrated in the framework and are exposed to the user through JavaScript. You can imagine a plugin as an additional component of the framework that works similar to all the PhoneGap APIs.</p><div class="section" title="Getting started with plugins"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec38"/>Getting started with plugins</h2></div></div></div><p>Using plugins <a id="id212" class="indexterm"/>you can extend the PhoneGap framework in order to meet the needs of your app. This means that there are no compelling limitations but it also means that the source code of your app has to be maintained for different platforms. There are several plugins listed for <a id="id213" class="indexterm"/>all platforms at <a class="ulink" href="http://plugins.cordova.io">http://plugins.cordova.io</a>. In order to make sure that an existing plugin fits your needs, you have to double-check the compatibility with the PhoneGap version you are using in your project and eventually update the source code to be compliant. One of the strengths of PhoneGap is its continuous release model, because this speeds up the release of new features and bug fixing. But it also means that a plugin should be maintained in order to meet the deprecation policy of the framework. Refer to the online Wiki for updated information about<a id="id214" class="indexterm"/> upcoming deprecations at <a class="ulink" href="http://wiki.apache.org/cordova/DeprecationPolicy">http://wiki.apache.org/cordova/DeprecationPolicy</a>.</p><p>In order to use the features implemented in a custom plugin, you have to install it in your project. It's not an easy task to manually manage the plugins in a PhoneGap project; thankfully, there is a command-line tool that makes your life easier.</p><div class="section" title="Installing plugins"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec01"/>Installing plugins</h3></div></div></div><p>You<a id="id215" class="indexterm"/> can install plugins to your project using the CLI tools of Cordova. The following command will add the plugin to your project and make the necessary changes to the manifest files if required:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add PLUGIN.ID</strong></span>
</pre></div><p>Here, <code class="literal">PLUGIN.ID</code> is the ID of the plugin as registered in the plugin repository.</p><p>The following list summarizes the currently available APIs and the commands to run to add them to a <a id="id216" class="indexterm"/>PhoneGap project. If you want to remove a plugin, use the <code class="literal">$ cordova plugin remove</code> command instead.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Basic device information:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device API</strong></span>: This gets <a id="id217" class="indexterm"/>basic information related to the device<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-device</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>StatusBar API</strong></span>: This <a id="id218" class="indexterm"/>customizes the status bar background<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-statusbar</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Network and battery status:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Network API</strong></span>: This<a id="id219" class="indexterm"/> gets cellular network information<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-network-information </strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Battery API</strong></span>: This <a id="id220" class="indexterm"/>monitors the status of the device's battery<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-battery-status</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Accelerometer, compass, and geolocation:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device Motion (Accelerometer) API</strong></span>: This <a id="id221" class="indexterm"/>handles the device's motion sensor<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-device-motion</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device Orientation API</strong></span>: This <a id="id222" class="indexterm"/>gets the device orientation<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-device-orientation</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Geolocation API</strong></span>: This<a id="id223" class="indexterm"/> makes the application location-aware<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-geolocation</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Camera, media capture, and media playback:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Camera API</strong></span>: This<a id="id224" class="indexterm"/> captures a photo using the device's camera<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-camera</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Capture API</strong></span>: This<a id="id225" class="indexterm"/> captures all media files using the device<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-media-capture</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Media API</strong></span>: This <a id="id226" class="indexterm"/>records and plays back audio files<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-media</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Access files on device or network:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>File API</strong></span>: This<a id="id227" class="indexterm"/> accesses the filesystem of the device<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-file</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>File Transfer API</strong></span>: This<a id="id228" class="indexterm"/> uploads or downloads files using the API<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-file-transfer</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Notifications via dialog box or vibration:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Dialogs API</strong></span>: Using <a id="id229" class="indexterm"/>this, notifications and alerts are made easy<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add </strong></span>
<span class="strong"><strong>cordova-plugin-dialogs</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Vibration API</strong></span>: This<a id="id230" class="indexterm"/> vibrates the device<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-vibration</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Contacts:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Contacts API</strong></span>: This<a id="id231" class="indexterm"/> gives complete access to the device's contact list<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-contacts</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Globalization:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Globalization API</strong></span>: This<a id="id232" class="indexterm"/> adds locale support to the application<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-globalization</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">Splash screen:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Splash screen API</strong></span>: This <a id="id233" class="indexterm"/>shows and hides splash screen<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-splashscreen</strong></span>
</pre></div></li></ul></div></li><li class="listitem" style="list-style-type: disc">In-app browser:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>InApp Browser API</strong></span>: This<a id="id234" class="indexterm"/> launches any URLs in an in-app browser<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-inappbrowser</strong></span>
</pre></div></li></ul></div></li></ul></div><p>Although the<a id="id235" class="indexterm"/> simplest way to add the plugin is to use the plugin ID, there are other advanced options as well. These options help us customize the plugin installation. Instead of using the plugin ID, we can use the GitHub repo URL as shown here:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add URL_TO_THE_GITHUB_REPO</strong></span>
</pre></div><p>Here, <code class="literal">URL_TO_THE_GITHUB_REPO</code> is the path to the plugin (that is, API) repository.</p><p>For example, you can install the Device API plugin in the following way:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add https://github.com/apache/cordova-plugin-device.git</strong></span>
</pre></div><p>Alternatively, you can install the Device API plugin this way as well:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-device</strong></span>
</pre></div><p>If you are using PhoneGap CLI instead of Cordova CLI, you can use either of the following two commands provided here. The following example command installs the Camera plugin to your project.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap plugin add https://github.com/apache/cordova-plugin-camera.git</strong></span>
</pre></div><p>Alternatively, you can use the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ phonegap plugin add cordova-plugin-camera</strong></span>
</pre></div><p>If you would like to install a particular version of the plugin, you can specify it along with the plugin ID:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-camera@0.3.6</strong></span>
</pre></div><p>If you <a id="id236" class="indexterm"/>want to install a plugin from a local directory source, you can use the following format where you can specify the path to the source instead of the GIT repository URL:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>cordova plugin add /path/to/directory</strong></span>
</pre></div><p>PhoneGap will look in this directory and each of its subdirectories for the plugin.</p><div class="section" title="Listing installed plugins"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec01"/>Listing installed plugins</h4></div></div></div><p>To list all the <a id="id237" class="indexterm"/>plugins installed in the application project, you can use the <code class="literal">list</code> command. It has three variations and all will output the same:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin</strong></span>
<span class="strong"><strong>$ cordova plugin list</strong></span>
<span class="strong"><strong>$ cordova plugin ls</strong></span>
</pre></div><p>All the preceding three commands will list the plugins installed along with the plugin ID, version, and the full name.</p></div></div><div class="section" title="Removing plugins"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec02"/>Removing plugins</h3></div></div></div><p>Sometimes<a id="id238" class="indexterm"/> you may need to remove a plugin that you no longer want to use in your application. As with adding a plugin, removing a plugin is also simple. To remove a plugin, refer to it by the same plugin ID that appears in the listing. For example, here is how you would remove support for the Camera API from the project:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin rm cordova-plugin-camera</strong></span>
</pre></div><p>Alternatively, you can use this command for the same:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin remove cordova-plugin-camera</strong></span>
</pre></div><p>If you want to remove more than one plugin at a time, you can specify more than one argument:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin rm cordova-plugin-console cordova-plugin-camera</strong></span>
</pre></div></div></div><div class="section" title="Using plugins with Plugman"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec39"/>Using plugins with Plugman</h2></div></div></div><p>Plugins are <a id="id239" class="indexterm"/>installed <a id="id240" class="indexterm"/>and removed using a tool called <span class="strong"><strong>Plugman</strong></span>; from a developer's point of view, this is just a command available in the<a id="id241" class="indexterm"/> <code class="literal">cordova-cli</code> utility. The<a id="id242" class="indexterm"/> Apache Cordova Plugman project <a class="ulink" href="http://github.com/apache/cordova-plugman">http://github.com/apache/cordova-plugman</a> is an open source command-line utility distributed as an npm module to facilitate the installation and uninstallation of plugins. Plugman <a id="id243" class="indexterm"/>supports the Android, Amazon FireOS, BlackBerry 10, Windows Phone 8, and iOS platforms. The installation process is the same as any other npm module; remember that if you install it globally (using the <code class="literal">-g</code> option), you have to run the command as root:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ npm install plugman -g</strong></span>
</pre></div><p>Once installed, you<a id="id244" class="indexterm"/> can use the following several commands from your command-line tool to get the source code of a plugin, install and uninstall it, and package the plugin to be distributed with your app (Plugman is part of the <code class="literal">cordova-cli</code> tool; you don't have to install it if you are already using it):</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <code class="literal">--fetch</code> option<a id="id245" class="indexterm"/> retrieves a plugin from a directory, a Git repository, or by name, into the specified plugins directory:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ plugman --fetch https://github.com/phonegap-build/GAPlugin.git --plugins_dir PATH_TO_YOUR_PLUGINS_DIR</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">The <code class="literal">--install</code> option <a id="id246" class="indexterm"/>installs a plugin for a specific target platform in a PhoneGap project. The plugin can be installed by name or by URL:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ plugman --platform PLATFORM --project PLATFORM_PROJECT_PATH --plugin https://github.com/phonegap-build/GAPlugin.git</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>The <code class="literal">–-plugin</code> argument can be the name of the plugin or the path to a Git repository. By default, Plugman launches the <code class="literal">install</code> command and fetches the plugin if it doesn't exist in the <code class="literal">plugins</code> directory. For this reason the <code class="literal">--install</code> argument is optional.</p></div></div></li><li class="listitem" style="list-style-type: disc">The <code class="literal">--uninstall</code> option<a id="id247" class="indexterm"/> uninstalls a previously installed plugin by name:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ plugman --uninstall --platform PLATFORM --project PLATFORM_PROJECT_PATH --plugin PLUGIN_NAME</strong></span>
</pre></div></li><li class="listitem" style="list-style-type: disc">The <code class="literal">--list</code> option lists<a id="id248" class="indexterm"/> all the plugins previously fetched using Plugman.</li><li class="listitem" style="list-style-type: disc">The <code class="literal">--prepare</code> option<a id="id249" class="indexterm"/> sets up the plugin, properly injecting the JavaScript files needed and defining the appropriate permissions. The <code class="literal">--prepare</code> command is implicitly called when you install or uninstall a plugin.</li></ul></div><p>The keyword <code class="literal">PLATFORM</code> can have any of these values: <code class="literal">ios</code>, <code class="literal">android</code>, <code class="literal">amazon-fireos</code>, <code class="literal">blackberry10</code>, or <code class="literal">wp8</code>. Also note that Plugman is a lower-level CLI and hence you can add the plugins only for one platform at a given time. If there are multiple targeted platforms, you need to use the Plugman CLI to install the plugin for each of those platforms. However, if you use the Cordova CLI to install the plugins, it will install the plugins for all targeted platforms at once.</p><p>In order to add the plugin to a target platform, you can run the <code class="literal">compile</code> command or the <code class="literal">prepare</code> command.</p><p>When<a id="id250" class="indexterm"/> using Plugman as a standalone utility, you can specify variables at install time using the <code class="literal">--variable</code> argument. Such variables are necessary for plugins requiring API keys or other custom, user-defined parameters.</p><p>To get the entire list of Plugman commands and their syntax, you can use the global <code class="literal">help</code> command as shown here:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>plugman - help</strong></span>
</pre></div><p>Since the release <a id="id251" class="indexterm"/>of PhoneGap 3.0, all the APIs are available as external plugins; you will learn more about plugins later in this book. At this point, all you need to know is that treating each single API as a plugin allows you to compose a version of PhoneGap suited to your project needs.</p></div></div></div>
<div class="section" title="Exploring the Device API"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec40"/>Exploring the Device API</h1></div></div></div><p>Since we<a id="id252" class="indexterm"/> have covered the basics of using plugins in a Cordova/PhoneGap project, we will now look at an example of how to use the Device plugin.</p><p>Device API is one of the simplest APIs of PhoneGap/Cordova, which provides you with details about the device on which it's running. This is a great API to try when you first learn about plugins. Using the API, you can get the following properties of the device:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Device platform</li><li class="listitem" style="list-style-type: disc">Device unique ID</li><li class="listitem" style="list-style-type: disc">Device version number</li><li class="listitem" style="list-style-type: disc">Device model name</li></ul></div><p>You can use these properties to provide device-specific features to the users.</p></div>
<div class="section" title="Time for action &#x2013; accessing the Device API"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec41"/>Time for action – accessing the Device API</h1></div></div></div><p>You <a id="id253" class="indexterm"/>already used the <code class="literal">deviceready</code> event in <a class="link" href="ch02.html" title="Chapter 2. Building Your First PhoneGap Project">Chapter 2</a>, <span class="emphasis"><em>Building Your First PhoneGap Project</em></span>, to handle the bootstrap of our app. Use the device API to get information about the type of device you are running once the event is fired.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the command-line tool and create a new Cordova project using the Cordova command-line utility you installed before:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova create DeviceApi</strong></span>
</pre></div><p>This will create a new directory called <code class="literal">DeviceApi</code> in your current working directory.</p></li><li class="listitem">Move to the directory you just created:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cd DeviceAPI</strong></span>
</pre></div></li><li class="listitem">Add the platforms you want to test on the device API. For example, we add the Android platform:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova platform add android</strong></span>
</pre></div></li><li class="listitem">Install the device API plugin. You can also use the shortest way to install the plugin, as shown here, instead of using the entire GIT repository URL:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add cordova-plugin-device</strong></span>
</pre></div></li><li class="listitem">In the <code class="literal">www</code> folder inside the project folder you just created, open the <code class="literal">index.html</code> file and add a <code class="literal">div</code> element with <code class="literal">id</code> to render the device information that will be gathered using the PhoneGap API:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>&lt;div id='deviceInfo'&gt;Loading device properties...&lt;/div&gt;</strong></span>
</pre></div></li><li class="listitem">Define a listener for the <code class="literal">deviceready</code> event in order to access all the supported API properties:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>document.addEventListener("deviceready", onDeviceReady, false);</strong></span>
</pre></div></li><li class="listitem">Show <a id="id254" class="indexterm"/>the device information on the HTML page:<div class="informalexample"><pre class="programlisting">function onDeviceReady() {
  var element = document.getElementById('deviceInfo');

  element.innerHTML = 'Device Model: '  + device.model + '&lt;br /&gt;' + 
                      'Device Cordova: '  + device.cordova  + '&lt;br /&gt;' + 
                      'Device Platform: '  + device.platform + '&lt;br /&gt;' + 
                      'Device UUID: '     + device.uuid +    '&lt;br /&gt;' + 
                      'Device Version: '  + device.version  + '&lt;br /&gt;';
}</pre></div></li><li class="listitem">Build the project using the Cordova command-line utility:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova build</strong></span>
</pre></div></li><li class="listitem">View the application in the emulator by using the following command. It might take some time to start the emulator:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova run</strong></span>
</pre></div></li></ol></div><p>The entire code has been provided here for your reference:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;
&lt;meta name="format-detection" content="telephone=no" /&gt;
&lt;meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width;" /&gt;
&lt;title&gt;Hello Cordova&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id='deviceInfo'&gt;Loading device properties...&lt;/div&gt;

&lt;script type="text/javascript" src="cordova.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
        document.addEventListener('deviceready', onDeviceReady, false);

        function onDeviceReady() {
            var element = document.getElementById('deviceInfo');

            element.innerHTML = 'Device Model: ' +  device.model  + 
              '&lt;br /&gt;'  +  'Device Cordova: '  +  device.cordova  + 
              '&lt;br /&gt;'  +  'Device Platform: '  +  device.platform  + 
              '&lt;br /&gt;'  +  'Device UUID: '     +  device.uuid  +    
              '&lt;br /&gt;'  + 'Device Version: '  + device.version  +  '&lt;br /&gt;';

        }
        &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>This is how<a id="id255" class="indexterm"/> the output is going to look on the actual device. The values that you see on your actual device might vary depending on your device:</p><div class="mediaobject"><img src="graphics/B03476_04_01.jpg" alt="Time for action – accessing the Device API"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec40"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>You handled the <code class="literal">deviceready</code> event, accessing the relevant device information using the PhoneGap API. The device object you just used describes the device's hardware and software:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">device.platform</code>: This<a id="id256" class="indexterm"/> gets the operating system name</li><li class="listitem" style="list-style-type: disc"><code class="literal">device.uuid</code>: This gets<a id="id257" class="indexterm"/> the Universally Unique Identifier</li><li class="listitem" style="list-style-type: disc"><code class="literal">device.version</code>: This <a id="id258" class="indexterm"/>gets the operating system version</li><li class="listitem" style="list-style-type: disc"><code class="literal">device.cordova</code>: This<a id="id259" class="indexterm"/> gets the version of Cordova running on the device</li><li class="listitem" style="list-style-type: disc"><code class="literal">device.model</code>: This<a id="id260" class="indexterm"/> gets the model name</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note09"/>Note</h3><p>Due to the rolling release model of PhoneGap, it's strongly suggested that you always refer to the<a id="id261" class="indexterm"/> GitHub repository at <a class="ulink" href="https://github.com/apache/cordova-plugin-device">https://github.com/apache/cordova-plugin-device</a> in order to check whether a specific device API is going to be deprecated.</p></div></div></div></div>
<div class="section" title="Custom plugins"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec42"/>Custom plugins</h1></div></div></div><p>We saw the<a id="id262" class="indexterm"/> list of basic plugins available for Cordova/PhoneGap platforms and how to use them in our application. The developer is not limited to use only these small set of plugins. There are several hundreds of plugins available and many new plugins are added every day. Here are some of the most used third-party plugins. You should be careful on selecting the plugins based on their support for various platforms.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Social Sharing</strong></span>: This<a id="id263" class="indexterm"/> adds social sharing features <a id="id264" class="indexterm"/>to <a id="id265" class="indexterm"/>your application (<a class="ulink" href="http://plugreg.com/plugin/EddyVerbruggen/SocialSharing-PhoneGap-Plugin">http://plugreg.com/plugin/EddyVerbruggen/SocialSharing-PhoneGap-Plugin</a>)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Push Notifications</strong></span>: This <a id="id266" class="indexterm"/>sends custom <a id="id267" class="indexterm"/>push notifications <a id="id268" class="indexterm"/>to your users (<a class="ulink" href="http://plugreg.com/plugin/phonegap-build/PushPlugin">http://plugreg.com/plugin/phonegap-build/PushPlugin</a>)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Facebook Login</strong></span>: This <a id="id269" class="indexterm"/>enables users to log in<a id="id270" class="indexterm"/> to your <a id="id271" class="indexterm"/>application using Facebook (<a class="ulink" href="http://plugreg.com/plugin/Wizcorp/phonegap-facebook-plugin">http://plugreg.com/plugin/Wizcorp/phonegap-facebook-plugin</a>)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>ActionSheet</strong></span>: This <a id="id272" class="indexterm"/>shows wonderful action sheet <a id="id273" class="indexterm"/>menus in <a id="id274" class="indexterm"/>your application (<a class="ulink" href="http://plugreg.com/plugin/EddyVerbruggen/cordova-plugin-actionsheet">http://plugreg.com/plugin/EddyVerbruggen/cordova-plugin-actionsheet</a>)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>AppRate</strong></span>: This<a id="id275" class="indexterm"/> enables<a id="id276" class="indexterm"/> your users to add<a id="id277" class="indexterm"/> their feedback and rating for your application in the Google Play Store, Apple App Store, or in Windows Store (<a class="ulink" href="http://plugreg.com/plugin/pushandplay/cordova-plugin-apprate">http://plugreg.com/plugin/pushandplay/cordova-plugin-apprate</a>)</li></ul></div><p>You can install these plugins either from their GitHub URL or using their plugin ID if registered in the Cordova plugin's repository. Here are the two methods to install the Social Sharing plugin. You can use this command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin.git</strong></span>
</pre></div><p>You can also use this command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ cordova plugin add nl.x-services.plugins.socialsharing</strong></span>
</pre></div><p>For the complete list of plugins, you<a id="id278" class="indexterm"/> can refer to <a class="ulink" href="http://plugins.cordova.io">http://plugins.cordova.io</a> or <a class="ulink" href="http://plugreg.com">http://plugreg.com</a>.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec43"/>Summary</h1></div></div></div><p>In this chapter, you learned about plugins and how to list, add, and remove them from the application. Using these techniques, we saw how to install the Device API in your project and get the details of the device. In the coming chapters, we will see how to access the local device storage using the Storage API and how to list/read/write files using the File API.</p></div></body></html>