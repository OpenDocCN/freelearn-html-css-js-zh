<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Instant Ext JS Starter"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Instant Ext JS Starter</h1></div></div></div><p>Welcome to <span class="emphasis"><em>Instant Ext JS Starter</em></span>. This book has been especially created to provide you with all the information that you need to start with the Ext JS @ Sencha JavaScript framework. You will understand what the framework does, get started with building your first browser-based application/widget, and discover its rich and modern UI components.</p><p>This document contains the following sections:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>So, what is Ext JS?</em></span> looks at what Ext JS actually is, what you can do with it, and why it's so great.</li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Installation and environment setup</em></span> teaches you how to download and install Ext Js with minimum fuss and then how to set up a quick working environment. </li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Quick Start – Creating and defining your Ext JS application</em></span> explains to you the basics of the framework, class system, extend, apply, and a few other EXT JS built-in basic functions. </li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Top features you'll want to know about</em></span> explains the basics of the framework, class system, types of components, how to lay out the components and their containers, event mechanisms, and custom components and theming. </li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>People and places you should get to know</em></span> provides you with many useful links to the project page and forums, as well as a number of helpful articles, tutorials, and contributors.</li></ul></div><div class="section" title="So, what is Ext JS?"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec03"/>So, what is Ext JS?</h1></div></div></div><p>
<span class="strong"><strong>Ext JS</strong></span> is a JavaScript library that makes it (relatively) easy to create cross-platform browser and desktop-style user interfaces in a web application. It supports the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Component model</li><li class="listitem" style="list-style-type: disc">Layouts </li><li class="listitem" style="list-style-type: disc">Plugin free charting</li><li class="listitem" style="list-style-type: disc">Drawing </li><li class="listitem" style="list-style-type: disc">CSS theming</li></ul></div><p>JavaScript is a classless, prototype-oriented language but Ext JS follows a class-based approach to make the code extensible and scalable over time. Class names can be grouped into packages with namespaces using the object property dot-notation (<code class="literal">.</code>). Namespaces allow developers to write structured and maintainable code, use libraries without the risk of overwriting functions, avoid cluttering the global namespace, and provide an ability to encapsulate the code. </p><p>The strength of the framework lies in its component design. The bundled, basic default components can be easily extended as per your needs and the extended components can be re-used. A new component can also be created by combining one or more default components.</p><p>The framework includes many default components such as windows, panels, toolbars, drop-down menus, menu bars, dialog boxes, grids, trees, and much more, each with their own configuration properties (configs), component properties, methods, events, and CSS classes. </p><p>The <span class="strong"><strong>configs</strong></span> are user-configurable at runtime while instantiating, whereas component properties are references to objects used internally by class. <span class="strong"><strong>Component properties</strong></span> belong to the prototype of the class and affect all the instances of the class. The <span class="strong"><strong>properties</strong></span> of the individual components determine the look and feel. The <span class="strong"><strong>methods</strong></span> help in achieving a certain action. The <span class="strong"><strong>user interaction</strong></span> triggers the equivalent Ext JS events apart from triggering the DOM events. </p><p>A cross-browser web application with header, footer, left column section with links, a content with a CSS grid/table (with add, edit, and delete actions for each row of the grid), and a form with few text fields and a submit button can be created with ease using Ext JS's layout mechanism, few default components, and the CSS theme.</p><p>For the preceding application, the border layout can be used with the north region for the header, south region for the footer, west region for the left column links, and center region for the content. The content area can have a horizontal layout, with the grid and form panel components with text fields and buttons. </p><p>Creating the preceding application from scratch without using the framework will take a lot more time than it would take by using it. Moreover, this is just one screen, and as the development progresses with more and more features, incorporating new layouts and creating new components will be a tedious process. </p><p>All the components or a group of components with their layout can be made a custom component and re-used with different data (that is, the grid data can be modified with new data and re-used in a different page).</p><p>Developers need not worry about the cross-platform compatibility issues, since the framework takes care of this, and they can concentrate on the core logic.</p><p>The helper functions of the <code class="literal">Ext.DomQuery</code> class can be used for querying the DOM. The error handling can be done by using the <code class="literal">Ext.Error</code> class, which is a wrapper for the native JavaScript Error object. </p><p>A simple webpage with a minimal UI too can make use of this framework in many ways.</p><p>Native JavaScript offers utility classes such as <code class="literal">Array</code>, <code class="literal">Number</code>, <code class="literal">Date</code>, <code class="literal">Object</code>, <code class="literal">Function</code>, and <code class="literal">String</code>, but is limited in what can be done with it across different browsers. Ext JS provides its own version of these classes that works in all the browsers along with offering extra functionality.</p><p>Any Ext JS component can be added to an existing web page by creating an instance of it. For example, a tab feature can be added to an existing web page by creating a new Ext JS <code class="literal">Ext.tab</code> tab component and adding it to an existing <code class="literal">div</code> container, by referring the div elements <code class="literal">id</code> attribute to the <code class="literal">renderTo</code> config property of the tab. The backend communication with your server-side code can be done by using simplified cross-browser <code class="literal">Ext.Ajax</code> class methods. </p><p>Ext JS 4 supports all major web browsers, from Internet Explorer 6 to the latest version of Google Chrome. The recommended browsers for development and debugging are Google Chrome 10+, Apple Safari 5+, and Mozilla Firefox 4+.</p><p>Both commercial and open source licenses are available for Ext JS.</p></div></div>
<div class="section" title="Installation and environment setup"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec04"/>Installation and environment setup</h1></div></div></div><p>In five easy steps, you can be ready with Ext JS and start the development. </p><div class="section" title="Step 1 – What do you need?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec03"/>Step 1 – What do you need?</h2></div></div></div><p>You need the following components for the installation and environment setup:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Web browser</strong></span>: Any of the leading browsers mentioned in previous section. For this book, we will consider Mozilla Firebug with the Firebug debugger plugin installed.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Web server</strong></span>: To start with, a local web server is not required, but it will be required if communication with a server is required to make AJAX calls.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ext JS 4 SDK</strong></span>: Download the Ext JS bundle from <a class="ulink" href="http://www.sencha.com/products/extjs/download/">http://www.sencha.com/products/extjs/download/</a>.</li></ul></div><p>Click on the <span class="strong"><strong>Download</strong></span> button on the left side of the page.</p></div><div class="section" title="Step 2 – Installing the browser and debugger"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec04"/>Step 2 – Installing the browser and debugger</h2></div></div></div><p>Any supported browser mentioned in the previous section can be used for the tutorial. For simplicity and debugging options, we will use the latest Firefox and Firebug debugger plugin. Download the latest Firefox plugin from <a class="ulink" href="http://www.mozilla.org/en-US/firefox/fx/#desktop">http://www.mozilla.org/en-US/firefox/fx/#desktop</a> and Firebug from <a class="ulink" href="https://getfirebug.com/">https://getfirebug.com/</a>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note01"/>Note</h3><p>Other browser debugging options are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Google Chrome</strong></span>: Chrome Developer Tools (<span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Developer tools</strong></span>)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Safari</strong></span>: Go to <span class="strong"><strong>Settings</strong></span> | <span class="strong"><strong>Preferences</strong></span> |<span class="strong"><strong>Advanced</strong></span>, select <span class="strong"><strong>Show Develop menu in menu bar</strong></span>; navigate to <span class="strong"><strong>Develop</strong></span> | <span class="strong"><strong>Show Web Inspector</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Internet Explorer</strong></span>: Go to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Developer Tools</strong></span></li></ul></div></div></div></div><div class="section" title="Step 3 – Installing the web server"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec05"/>Step 3 – Installing the web server</h2></div></div></div><p>Install the web server and unpack Ext JS. </p><p>The URLs that provide information for installing the Apache web server on various operating systems are provided as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The instructions for installing Apache on Windows can be found at <a class="ulink" href="http://httpd.apache.org/docs/current/platform/windows.html">http://httpd.apache.org/docs/current/platform/windows.html</a></li><li class="listitem" style="list-style-type: disc">The instructions for installing Apache on Linux can be found at <a class="ulink" href="http://httpd.apache.org/docs/current/install.html">http://httpd.apache.org/docs/current/install.html</a></li><li class="listitem" style="list-style-type: disc">Mac OS X comes with a built-in Apache installation, which you can enable by navigating to <span class="strong"><strong>System Preferences</strong></span> | <span class="strong"><strong>Sharing</strong></span>, and selecting the <span class="strong"><strong>Web Sharing</strong></span> checkbox</li></ul></div><p>Install Apache or any other web server in your system. Browse to <a class="ulink" href="http://yourwebserver.com">http://yourwebserver.com</a> or <code class="literal">http://localhost</code>, and check that the installation is successful.</p><p>The <a class="ulink" href="http://yourwebserver.com">http://yourwebserver.com</a> link will show something similar to the the following screenshot, which confirms that Apache is installed successfully:</p><div class="mediaobject"><img src="graphics/6108OS_02_01.png.jpg" alt="Step 3 – Installing the web server"/></div></div><div class="section" title="Step 4 – Unpacking Ext JS"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec06"/>Step 4 – Unpacking Ext JS</h2></div></div></div><p>In this tutorial, we will use Apache for Windows. Unpack the Ext JS bundle into the web server's root directory (<code class="literal">htdocs</code>). Rename the <code class="literal">Ext JS</code> folder with long version numbers to <code class="literal">extjs4</code> for simplicity. The root directory varies, depending upon your operating system and web server.</p><p>The Apache root directory path for various operating system are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Windows</strong></span>: <code class="literal">C:\Program Files\Apache Software Foundation\Apache2.2\htdocs</code></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Linux</strong></span>: <code class="literal">/var/www/</code></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Mac OS X</strong></span>: <code class="literal">/Library/WebServer/Documents/</code></li></ul></div><p>The downloaded EXT JS bundle is packed with examples along with required sources. Browse to <code class="literal">http://yourwebserver.com/extjs4</code>, and make sure that it loads the Ext JS index page. This page provides access to all the examples to play around with the API. The <span class="strong"><strong>API Docs</strong></span> link at bottom-right of the page lists the API information with a search text field at the top-right side of the page. As we progress through the tutorial, please refer to the API as and when required:</p><div class="mediaobject"><img src="graphics/6108OS_02_02.png.jpg" alt="Step 4 – Unpacking Ext JS"/></div></div><div class="section" title="Step 5 –Testing Ext JS library."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Step 5 –Testing Ext JS library.</h2></div></div></div><p>A basic Ext JS application page will have a link tag with an Ext JS CSS file (<code class="literal">ext-all.css</code>), a script tag for the Ext JS library, and scripts related to your own application. In this example, we don't have any application-specific JavaScripts.</p><p>Create an HTML file named <code class="literal">check.html</code> with the code that follows beneath the <code class="literal">httpd</code> folder. </p><p>
<code class="literal">Ext.onReady</code> is a method, which is executed when all the scripts are fully loaded. <code class="literal">Ext.Msg.alert</code> is a message box that shows a message to the user. The first parameter is the title and the second parameter is the message:</p><div class="informalexample"><pre class="programlisting">&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"&gt;
&lt;title&gt;Ext JS started Setup Test&lt;/title&gt;

&lt;link rel="stylesheet" type="text/css" href="../extjs4/resources/css/ext-all.css"&gt;&lt;/link&gt;

&lt;script type="text/javascript" src="../extjs4/ext-all-dev.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;

<span class="strong"><strong>Ext.onReady(function() {</strong></span>
<span class="strong"><strong>    Ext.Msg.alert("Ext JS 4 Starter","Welcome to Ext 4 Starter!");</strong></span>
<span class="strong"><strong>    });  </strong></span>

&lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;

&lt;/html&gt; </pre></div><p>The following screenshot shows <code class="literal">check.html</code> in action:</p><div class="mediaobject"><img src="graphics/6108OS_02_03.png.jpg" alt="Step 5 –Testing Ext JS library."/></div></div><div class="section" title="And that's it"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>And that's it</h2></div></div></div><p>By now, you should have a working installation of Ext JS, and should be able to play around and discover more about it.</p></div></div>
<div class="section" title="Quick start &#x2013; Creating and defining your Ext JS application"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec05"/>Quick start – Creating and defining your Ext JS application</h1></div></div></div><p>This section will explain how to create an application, define and create a class, and load the class on demand and a few other EXT JS built-in basic functions.</p><div class="section" title="Step 1 – Preparing for an Ext JS application"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Step 1 – Preparing for an Ext JS application</h2></div></div></div><p>The core library is packaged in three different ways:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">ext.js</code>: This is the production version, which is minified and compressed</li><li class="listitem" style="list-style-type: disc"><code class="literal">ext-debug.js</code>: This is the unminified development version</li><li class="listitem" style="list-style-type: disc"><code class="literal">ext-dev.js</code>: This is the unminified development version, but outputs detailed error messages and warnings </li></ul></div><p>To start with, create the following.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A folder called <code class="literal">ExtJSStarter</code> under the <code class="literal">httpd</code> root folder</li><li class="listitem" style="list-style-type: disc">Three folders named <code class="literal">app</code>, <code class="literal">data</code>, and <code class="literal">resources</code> respectively</li><li class="listitem" style="list-style-type: disc">An <code class="literal">index.html</code> file, from where the application will be hosted</li><li class="listitem" style="list-style-type: disc">A <code class="literal">starerApp.js</code> file through which all the application level JavaScript files are dynamically loaded on an as-needed basis</li></ul></div><p>The resulting structure will be as follows:</p><p>httpd</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">extjs4</code> (unpacked ExtJS Framework and renamed to <code class="literal">extjs4</code>)</li><li class="listitem" style="list-style-type: disc"><code class="literal">ExtJSStarter</code><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">app</code> (folder for application-specific JavaScript files)</li><li class="listitem" style="list-style-type: disc"><code class="literal">data</code> (folder for data)</li><li class="listitem" style="list-style-type: disc"><code class="literal">resources</code> (folder for images and CSS files)</li><li class="listitem" style="list-style-type: disc"><code class="literal">starterApp.js</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">index.html</code></li></ul></div></li></ul></div><p>The core library is packaged in three different ways: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">ext.js</code>: This is the production version, which is minified and compressed </li><li class="listitem" style="list-style-type: disc"><code class="literal">ext-debug.js</code>: This is the unminified development version</li><li class="listitem" style="list-style-type: disc"><code class="literal">ext-dev.js</code>: This is the unminified development version, but outputs detailed error messages and warnings </li></ul></div><p>A basic Ext JS application page will have a <code class="literal">link</code> tag with an Ext JS CSS file (<code class="literal">ext-all.css</code>), a <code class="literal">script</code> tag for <code class="literal">ext-dev.js</code>, and scripts related to your own application:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Ext JS started Index Page &lt;/title&gt;
&lt;meta name="Author" content="Nagarajan Bhava"&gt;
<span class="strong"><strong>&lt;link rel="stylesheet" type="text/css" </strong></span>
<span class="strong"><strong>href="../ext-4.1.1a/resources/css/ext-all.css"&gt;&lt;/link&gt;</strong></span>
<span class="strong"><strong>&lt;script type="text/javascript" src="../../extjs4/ext-dev.js"&gt;</strong></span>
<span class="strong"><strong>&lt;/script&gt;</strong></span>
<span class="strong"><strong>&lt;script type="text/javascript" src="../ExtJSStarter/starterApp.js"&gt;</strong></span>
<span class="strong"><strong>&lt;/script&gt;</strong></span>
&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt; Ext JS Starter &lt;h2&gt; 
&lt;/body&gt;
&lt;/html&gt;</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>The Ext JS library can also be loaded alternatively from CDN: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://cdn.sencha.io/ext-4.0.7-gpl/ext-all.js">http://cdn.sencha.io/ext-4.0.7-gpl/ext-all.js</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://cdn.sencha.io/ext-4.0.7-gpl/resources/css/ext-all.css">http://cdn.sencha.io/ext-4.0.7-gpl/resources/css/ext-all.css</a></li></ul></div></div></div><p>The following screenshot shows the index page as loaded in the browser with the Firebug having the <span class="strong"><strong>Net</strong></span> tab open. The bottom Firebug debugger pane is made visible by clicking on the Firebug bug icon at the top-right corner of the browser window. It shows a list of files the browser has requested:</p><div class="mediaobject"><img src="graphics/6108OS_03_01.png.jpg" alt="Step 1 – Preparing for an Ext JS application"/></div></div><div class="section" title="Step 2 – The MVC architecture"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Step 2 – The MVC architecture</h2></div></div></div><p>
<span class="strong"><strong>Model View Controller</strong></span> (<span class="strong"><strong>MVC</strong></span>) is a well-known software architecture pattern, which separates the representation of information from the user's interaction with it. Ext JS comes with this architecture by default, and defines the architecture as follows.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Model</strong></span>: It is collection of data fields, which persist through the data package. A model can be linked to another model using association and data steams, using proxy. It updates views when the data changes.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>View</strong></span>: A view requests the information from the model that it needs to generate an output representation.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Controller</strong></span>: It holds application logic. It also instantiates models, stores, and views. It listens for events and modifies models and views.</li></ul></div><p>Ext JS provides controllers with the <code class="literal">refs</code> property to gain reference to components inside the app, and a <code class="literal">control</code> method to take action based on the events that the referenced components fire. The <span class="emphasis"><em>Top features you will want to know about</em></span> section deals in detail about handling events with controllers.</p></div><div class="section" title="Step 3 – Defining your Ext JS application"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Step 3 – Defining your Ext JS application</h2></div></div></div><p>Every Ext JS application starts with a call to <code class="literal">Ext.application()</code> to provide global settings, root namespace, references to other JavaScript files, and a <code class="literal">launch</code> function to execute the application.</p><p>Inside <code class="literal">starterApp.js</code>, define an application named <code class="literal">app</code> for the global namespace.</p><p>Define a <code class="literal">launch</code> function that outputs <code class="literal">Welcome to Ext Starter Tutorial</code> in the console and in the alert box.</p><p>The Firebug console appears similar to the following code snippet:</p><div class="informalexample"><pre class="programlisting">Ext.application({
  name :'app',  
requires:['Ext.window.MessageBox'],
  launch:function(){
    console.log("Welcome to Ext Starter Tutorial");
    Ext.Msg.alert("Message"," Welcome to Ext Starter Tutorial");
  }
});</pre></div><p>The preceding code snippet creates a global variable named <code class="literal">app</code>, and adds a <code class="literal">requires</code> property to load the Ext JS message box class on demand. All that the Ext JS application uses is only a single global variable. All application classes reside in this single namespace. When the page is ready, it calls the <code class="literal">launch</code> function and executes the <code class="literal">console.log</code> and <code class="literal">Ext.Msg.alert()</code> statement. </p><p>Using namespaces in JavaScript is a recommended practice to reduce the number of objects and functions that are added to the global scope in our applications. Namespaces are not built into the language, but the same benefits can be achieved by creating a single object (that is, <code class="literal">app</code>) and adding all our objects and functions to this object. It also helps to avoid the object collision, when using one JavaScript library with another one:</p><div class="mediaobject"><img src="graphics/6108OS_03_02.png.jpg" alt="Step 3 – Defining your Ext JS application"/></div></div><div class="section" title="Step 4 – Understanding the Ext JS class hierarchy"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Step 4 – Understanding the Ext JS class hierarchy</h2></div></div></div><p>The Ext JS framework is bundled with many well-organized classes that provide encapsulation and strong typing. Many classes in Ext JS are implemented as singletons with a set of static methods. </p><p>The class hierarchy starts from <code class="literal">Ext.Base</code> and drills down to various other class/components. A panel component is defined as <code class="literal">Ext.panel.panel</code>, and the class hierarchy will be similar to the following:</p><div class="mediaobject"><img src="graphics/6108OS_03_03.png.jpg" alt="Step 4 – Understanding the Ext JS class hierarchy"/></div><p>Please refer to the following links for API reference:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Offline API</strong></span>: <a class="ulink" href="http://yourservername.com/extjs4/%20docs/index.html">http://yourservername.com/extjs4/ docs/index.html</a> </li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Online API</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/">http://docs.sencha.com/ext-js/4-0/</a></li></ul></div><p>The API provides an easy "search" text field to search for a particular component. Searching for <code class="literal">panel</code> reveals a list of items that matches the word <code class="literal">panel</code>. Clicking on <span class="strong"><strong>Ext.panel.Panel</strong></span> loads the panel API document. The top section shows links to configs, properties, methods, and events supported by the <code class="literal">panel</code> class. Explore all the provided options and get familiar with its usage.</p><p>As an example, search for the <code class="literal">Ext.</code> application that was used to launch an application in the previous step in the <span class="strong"><strong>Search</strong></span> field, and get familiar with the API:</p><div class="mediaobject"><img src="graphics/6108OS_03_04.png.jpg" alt="Step 4 – Understanding the Ext JS class hierarchy"/></div><p>The names of the classes map directly to the file paths in which they are stored. The panel class is stored at <a class="ulink" href="http://yourservername.com/extjs4/src/panel/Panel.js">http://yourservername.com/extjs4/src/panel/Panel.js</a>. The link <a class="ulink" href="http://yourservername.com/extjs4/src">http://yourservername.com/extjs4/src</a> is mapped to the <code class="literal">Ext</code> class.</p></div><div class="section" title="Step 5 – Defining and creating the Ext JS class"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Step 5 – Defining and creating the Ext JS class</h2></div></div></div><p>A class in Ext JS 4 is defined using <code class="literal">Ext.define()</code>. <code class="literal">Ext.define()</code> detects and creates a new namespace as required, extends a class, and defers the creation of a new class if the class being extended has not been defined.</p><p>A class definition for <code class="literal">app.extJsBook</code> with its properties can be illustrated by the following code snippet:</p><div class="informalexample"><pre class="programlisting">Ext.define('app.extJsBook'){  
  config:{
    title:'',
    price:'',
    author:''
  },
  constructor:function(config){
    this.initConfig(config)
  }
};</pre></div><p>The preceding code snippet is explained as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Config</code>: This allows to specify parameters that can be changed while instantiation</li><li class="listitem" style="list-style-type: disc"><code class="literal">Constructor</code>: This is called during instantiation of the objects</li><li class="listitem" style="list-style-type: disc"><code class="literal">initConfig(config)</code>: This creates <code class="literal">setter</code> and <code class="literal">getter</code> methods for config properties (that is, <code class="literal">setTitle()</code>, <code class="literal">getTitle()</code>, <code class="literal">setprice()</code>, <code class="literal">getPrice()</code>, <code class="literal">setAuthor()</code>, and <code class="literal">getAuthor()</code>)</li></ul></div><p>The <code class="literal">app.extJsBook</code> class can be instantiated by using the <code class="literal">Ext.create()</code> method as illustrated in the following code snippet:</p><div class="informalexample"><pre class="programlisting">//Setting values using setter methods.

var book = Ext.create('app.extjsBook');
book.setTitle("ExtJSStarter");
book.setPrice("10$");
book.setAuthor('John');
    
console.log("Message 1 - ",book.getTitle());
//This message will be overridden by the second message
Ext.Msg.alert("Message 1 - ",book.getTitle());

// Setting values during instantiation

var book2 = Ext.create('app.extjsBook',{
  title:'Ext JS Upgrade',
  author:'Alex',
  price:'20$'    
});
Ext.Msg.alert("Message 2 - ",book2.getTitle());</pre></div><p>Add the code snippet of class definition and creation inside the <code class="literal">launch</code> method of <code class="literal">Ext.application</code> that was created in step 3.</p><p>Executing <code class="literal">index.html</code> will output something similar to the following screenshot. Please note that the message box shown is only the third message, and all previous messages have been overridden but are shown in the console for clarity:</p><div class="mediaobject"><img src="graphics/6108OS_03_05.png.jpg" alt="Step 5 – Defining and creating the Ext JS class"/></div><p>To understand the component architecture, let's move the class definition to a separate file called <code class="literal">extjsBook</code> under the <code class="literal">ExtJSStarter/apps</code> directory. Add the name of the <code class="literal">app.extjsBook</code> class to the <code class="literal">requires</code> attribute of the application to load the class dynamically:</p><div class="informalexample"><pre class="programlisting">Ext.application({
  name:'app',    
  requires:['Ext.window.MessageBox',
<span class="strong"><strong>       'app.extjsBook'],</strong></span>
  launch:function(){
    console.log("Welcome to Ext Starter Tutorial");
    Ext.Msg.alert("Message","Welcome to Ext Starter Tutorial");
    
    var book = Ext.create('app.extjsBook');
    book.setTitle("ExtJSStarter");
    book.setPrice("10$");
    book.setAuthor('John');
    
    console.log("Message 1 - " +book.getTitle());
    Ext.Msg.alert("Message 2- ",book.getTitle());

    var book2 = Ext.create('app.extjsBook',{
      title:'Ext JS Upgrade',
      author:'Alex',
      price:'20$'    
    });
    Ext.Msg.alert("Message 2 - ",book2.getTitle());
  }

});</pre></div><p>
<code class="literal">Ext.define()</code> provides two other important methods, which are <code class="literal">applyProperty()</code> and <code class="literal">updateProperty()</code>. The <code class="literal">apply</code> property is used to add additional logic to the setters, whereas the update <code class="literal">property</code> is used to do post processing or notification after the value has been set. In order to see both new and old values in the console, set <code class="literal">author</code> twice (that is, call <code class="literal">book.setAuthor()</code> in the application code twice).</p><p>The following code snippet changes the book title to uppercase and logs the new and old value of the author:</p><div class="informalexample"><pre class="programlisting">Ext.define('app.extjsBook',{      
  config:{
    title:'',
    price:'',
    author:''
  },
  constructor:function(config){
    this.initConfig(config)
  },
// changing the title to upper case
  applyTitle:function(value){
<span class="strong"><strong>    return Ext.String.capitalize(value.toUpperCase());</strong></span>
  },
//Logging both new and old value
  updateAuthor:function(newValue, oldValue){
    console.log("NewVal- " +newValue +":"+ "Old Val- " +oldValue);  }
});</pre></div><p>The highlighted code to capitalize the author name uses <code class="literal">Ext.String.capitalize()</code> , an Ext JS version of the native JavaScript <code class="literal">String</code> utility class. </p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>A class's functionality can also be added to another class using the <code class="literal">mixins</code> property. A static method can be added using the <code class="literal">static</code> property.</p></div></div></div><div class="section" title="Step 6 – Instantiating Ext JS components"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Step 6 – Instantiating Ext JS components</h2></div></div></div><p>Components can be created either by using the <code class="literal">Ext.create()</code> method or by using the component's <code class="literal">xtype</code> property as a member of the parent component's <code class="literal">items</code> config.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.container.AbstractContainer</code> in the class hierarchy provides the <code class="literal">items</code> configuration property to all its component sub-classes to add a single item, or an array of child components to the specified container. </li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Abstractcomponent</code> provides the <code class="literal">xtype</code> property, which is a shorter alternative to creating objects than using a full class name. Using <code class="literal">xtype</code> is the most common way to define component instances, especially in a container. </li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>
<code class="literal">Ext.create</code> is just like using the <code class="literal">new</code> keyword, and it will create the class right away, whereas with <code class="literal">xtype</code>, the class will not be created until it is needed. This is called <span class="strong"><strong>lazy-instantiation</strong></span>. A hidden tab or panel with components laid using <code class="literal">xtype</code> will not be loaded until the tab or panel is visible, thereby increasing the performance of the page load time.</p></div></div><p>For example, the following code snippet illustrates a panel with 5 px padding on all four sides and 300 px width, containing text fields and two custom buttons rendered in the document's DOM body using the <code class="literal">renderTo</code> property:</p><div class="informalexample"><pre class="programlisting">var extjsBookPanel = Ext.create('Ext.panel.Panel', {
      bodyPadding: 5, 
      width: 300,
      title: 'extjsBookPanel',
      items: [{
<span class="strong"><strong>          xtype: 'textfield',</strong></span>
          fieldLabel: 'Publish date'        
        },
<span class="strong"><strong>        Ext.create('app.extjsButton', {</strong></span>
          text: 'Custom button instantiated'+ 
             'using Ext.create()',       
        }),  {
<span class="strong"><strong>          xtype: 'extjsButton',</strong></span>
          text:'Custom button instantiated using xtype'            }],
<span class="strong"><strong>      renderTo: Ext.getBody()</strong></span>
    });</pre></div><p>Three components have been included inside the item's configuration property. The <code class="literal">renderTo</code> property can be either an ID of an element or an element. <code class="literal">Ext.getBody()</code> returns the current document body as <code class="literal">Ext.Element</code>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A text field: A text field is instantiated using the <code class="literal">xtype</code> text field. Ext JS provides <code class="literal">xtype</code> for most of its available components.</li><li class="listitem" style="list-style-type: disc">Custom button component 1: An <code class="literal">app.extjsButton</code> button component is instantiated using the <code class="literal">Ext.create()</code> method, as discussed in a previous step.</li><li class="listitem" style="list-style-type: disc">Custom button component 2: An <code class="literal">app.extjsButton</code> button component is instantiated using a custom <code class="literal">xtype</code> name. In order for this to work, our <code class="literal">app.extjsBook</code> class definition needs to have <code class="literal">xtype</code> and <code class="literal">extend</code> properties specified along with a call to its parent <code class="literal">Button</code> class, as follows:<div class="informalexample"><pre class="programlisting">Ext.define('app.extjsBook',{
<span class="strong"><strong>  xtype:'extjsButton',</strong></span>
<span class="strong"><strong>  extend:'Ext.button.Button',</strong></span>
  constructor:function(config){
 //Call Ext.button.Button parent class
    this.callParent(arguments);
  }  
});</pre></div></li></ul></div><p>Adding the preceding code inside the application's <code class="literal">launch</code> function and with the modified <code class="literal">app.extjsButton</code> class property to support <code class="literal">xtype</code> will display something similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/6108OS_03_06.png.jpg" alt="Step 6 – Instantiating Ext JS components"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>
<code class="literal">xtype</code> for all EXT JS components can be found at <a class="ulink" href="http://docs.sencha.com/ext-js/4-1/#!/api/Ext.enums.Widget">http://docs.sencha.com/ext-js/4-1/#!/api/Ext.enums.Widget</a>.</p></div></div></div><div class="section" title="Step 7 – Using Ext JS Lang functions"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>Step 7 – Using Ext JS Lang functions</h2></div></div></div><p>Native JavaScript offers a variety of utility classes such as <code class="literal">Array</code>, <code class="literal">Date</code>, <code class="literal">Number</code>, <code class="literal">Object</code>, and <code class="literal">String</code>. Ext JS provides its own version of utility classes for a smooth and consistent development experience across all browsers. It also provides extra functionality that is not available in native JavaScript. The available functions offer additional benefits. These can be found under <code class="literal">Ext.Array</code>, <code class="literal">Ext.Date</code>, <code class="literal">Ext.Number</code>, and so on. Making use of these  functions wherever applicable will help to concentrate on core application logic, saving development time spent working on conversion utilities. A developer-specific class can also be added to the <code class="literal">Ext</code> namespace using <code class="literal">Ext.Define</code> with specific methods:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Array.contains(array,item)</code> can check whether or not the given array contains the specified item.</li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Date</code> supports a broad range of date formats that comes in handy while working with dates.<p>For example,  <code class="literal">Ext.Date.format(new Date(), 'Y-m-d'))</code> can be used to show the current date in YEAR-MM-DD format.</p></li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Function</code> provides functions to manage the ability to call functions with more features and control. <p>For example, <code class="literal">Ext.Function.defer()</code> can be used to call a function after the number of milliseconds specified, optionally in a specific scope.</p></li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Number</code> provides six methods to handle numeric values. <p>For example, <code class="literal">Ext.Number.randomInt(10,20)</code> returns a random integer between 10 and 20.</p></li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.Object</code> provides about 10 methods to query and manipulate objects and JSON data structures. <p>For example, <code class="literal">Ext.Object.fromQueryString('bookName=ExtJs&amp;type=ebook')</code> outputs <code class="literal">{bookName:'ExtJs', type:'ebook'}</code>.</p></li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.String</code> provides useful methods to manipulate strings.<p>For example, <code class="literal">htmlEncode(value)</code> converts certain characters (<code class="literal">&amp;</code>, <code class="literal">&lt;</code>, <code class="literal">&gt;</code>, <code class="literal">'</code>, and <code class="literal">"</code>) to their HTML character equivalents, for literal display in web pages.</p></li></ul></div></div></div>
<div class="section" title="Top features you'll want to know about"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec06"/>Top features you'll want to know about</h1></div></div></div><p>This section will deal with various Ext JS containers, components, forms, controllers, layouts, event mechanism, data package, templates, and so on.</p><div class="section" title="1 – Layout mechanism"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>1 – Layout mechanism</h2></div></div></div><p>Ext JS container requires a layout to manage the sizing, positioning and layering of the child components. It provides different types of layouts to cater for most of the positioning requirements that anyone will come across.</p><p>A simple HTML container with the <code class="literal">div</code> HTML element with CSS styling can be rendered easily with a few lines of code using the layout configuration property. The Ext JS layout mechanism takes care of generating the HTML element containers with clearly applied styles using the default CSS. </p><p>The following table lists the type of layouts, the component position depiction, and explains where it can be utilized. These layouts can be used either as they are, or combined with more than one, or in a nested fashion. Each layout provides specific configuration properties to size and position the child components. If the layout configuration is not specified, it uses a default layout manager that renders the components sequentially, one after the other. As we go through learning different components, different layouts will be shown to position the components. </p><p>The layouts and component depiction table is as follows:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Layout name</p>
</th><th style="text-align: left" valign="bottom">
<p>Component position depiction</p>
</th><th style="text-align: left" valign="bottom">
<p>Where to use?</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Absolute</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_A.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To position like CSS style positioning with X-Y coordinates</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Accordion</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_B.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To display one panel (that is, a page or a section) at a time in a stacked list of panels.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Anchor</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_C.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To position the child components relative to their container. </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Border</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_D.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To lay different components on all the four sides (that is, north, south, east, and west) with the necessary center region. It provides collapse and resize behaviors.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Card (Tab Panel)</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_E.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To create tabs for each section with tab names.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Card (Wizard)</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_F.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To have a stack of pages one above the other, and show one page at a time hiding all others.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Column</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_G.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To have content sections in different columns.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Fit</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_H.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To stretch and fill the child component with its container. </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Table</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_I.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To create tables in the form of a standard HTML table.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>vBox</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_J.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To show the components vertically one below the other. It requires <code class="literal">height</code> for fixed height or <code class="literal">flex</code> to stretch the available height with respect to its container.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>hBox</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_K.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>To show the components horizontally, one after another in a serial fashion. It requires <code class="literal">width</code> for a fixed width or <code class="literal">flex</code> to stretch to the available width with respect to its container. </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Nested Layout</p>
</td><td style="text-align: left" valign="top">
<div class="mediaobject"><img src="graphics/6108OS_01_L.jpg" alt="1 – Layout mechanism"/></div>
</td><td style="text-align: left" valign="top">
<p>A column layout is nested inside a card (tab panel) layout.</p>
</td></tr></tbody></table></div><p>The layouts in action can be visually seen at <a class="ulink" href="http://dev.sencha.com/deploy/ext-4.0.0/examples/layout-browser/layout-browser.html">http://dev.sencha.com/deploy/ext-4.0.0/examples/layout-browser/layout-browser.html</a>.</p></div><div class="section" title="2 – Containers"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>2 – Containers</h2></div></div></div><p>Ext JS provides three types of containers:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.container.Viewport (xtype:viewport)</code>: This is a special container that renders itself to the document body, thereby taking the whole browser viewable area. A page will only have one viewport and it does not provide scrolling.</li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.container.Container (xtype: container)</code>: This is a top-level container class for most of the Ext JS components, such as panels and windows. It provides the addition, removal, and insertion behavior to all its children.</li><li class="listitem" style="list-style-type: disc"><code class="literal">Ext.container.ButtonGroup (xtype:buttongroup)</code>: This container provides a way to arrange buttons in a group, in tabular format. This may be used when an application needs a task bar at the top or bottom of a panel.</li></ul></div><div class="section" title="Ext.container.Viewport"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Ext.container.Viewport</h3></div></div></div><p>The viewport represents the viewable browser area equivalent to its available height and width. It renders itself to the page document body and resizes itself to the size of the browser. The viewport still requires layouts to position its child components. The following code snippet creates a viewport with a panel in it using <code class="literal">xtype</code> and the <code class="literal">fit</code> layout. Please note that the panel's <code class="literal">width</code> property has no meaning as the <code class="literal">fit</code> layout overrides the width and stretches the panel to its browser's window size. The code snippet shows a panel titled <code class="literal">Viewport Panel</code> and content <code class="literal">'A Panel inside viewport'</code>.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Ext.create("Ext.container.Viewport",{</strong></span>
layout:'fit',
items:[{
<span class="strong"><strong>    xtype:'panel',</strong></span>
    width:300,
    html:'A Panel inside viewport',
    title:'Viewport Panel'
  }]
});</pre></div></div><div class="section" title="Ext.container.Container"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Ext.container.Container</h3></div></div></div><p>A container can be created by just replacing the <code class="literal">xtype</code> property from <code class="literal">panel</code> to <code class="literal">container</code>. <code class="literal">container</code> is just a container without any title. The API for <code class="literal">container</code> does not have the <code class="literal">title</code> property defined as <code class="literal">container</code>, as it is just a container to lay and group child components and does not require any title.</p><p>The code snippet that follows, creates a container with a text field and a <code class="literal">submit</code> button with a margin of 5 px on its top, 5 px on its right, 0 px on its bottom, and 5 px on its left, and <code class="literal">vbox</code> (vertical box) layout.</p><p>Notice that a <code class="literal">style</code> property is added to the text field to provide a custom CSS specification margin bottom and the color. The <code class="literal">defaults</code> property is used to apply default settings to all its child items. In this case, <code class="literal">margin</code> is applied to both text fields and button.</p><p>Try replacing the <code class="literal">layout</code> property with <code class="literal">hbox</code> (horizontal box) instead of <code class="literal">vbox</code> and see the difference. The <code class="literal">hbox</code> layout lays the components horizontally one after the other:</p><div class="informalexample"><pre class="programlisting">Ext.create("Ext.container.Viewport",{
  layout:'fit',
  items:[{
    xtype:'container',        
    // html:'A Panel inside viewport',
    defaults:{
      margin:'5 5 0 5'
    },    
    layout:'vbox',
    items:[{
        xtype:'textfield',
        fieldLabel:'Name',
/*
* Custom CSS specification. The 'defaults' margin property need to be * commented in order to see the effect of marginBottom.  
*/
    style:{marginBottom:'20px',color:'blue'}
        
      },{
        xtype:'button',
        text:'submit'
      }]
    }]
});</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>The panel provides additional functions, such as including the store in the configuration, toolbar support on all four sides (<code class="literal">lbar</code>, <code class="literal">tbar</code>, <code class="literal">fbar</code>, and <code class="literal">rbar</code>), and it can be made floatable that cannot be found in container.</p></div></div></div><div class="section" title="Ext.container.ButtonGroup"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Ext.container.ButtonGroup </h3></div></div></div><p>Button group provides a container for grouping the buttons and menus. Add the following code snippet to the <code class="literal">items</code> configuration of <code class="literal">Ext.container.Viewport</code> to visualize the button group. The following code snippet creates a button group type component with three buttons grouped together under the title <code class="literal">Days</code>. The <code class="literal">columns</code> property determines the number of column buttons:</p><div class="informalexample"><pre class="programlisting">{
  xtype:'buttongroup',
  columns:3,
  title:'Days',
  items:[{xtype:'button',text:1},
     {xtype:'button',text:2},
     {xtype:'button',text:2}]
}</pre></div></div></div><div class="section" title="3 – Components and data package"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>3 – Components and data package</h2></div></div></div><p>Ext JS includes various components. This sections deals with the tab panel and grid panel along with the data package.</p><div class="section" title="Tabpanel"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Tabpanel</h3></div></div></div><p>
<span class="strong"><strong>Tabpanel</strong></span> is a container that uses header-less panels and creates a modified button for each panel to look like a tab. It utilizes a card layout to lay child components.</p><p>The code snippet that follows creates a tab panel of size 400 x 400 pixels, with two panels representing two tabs named <code class="literal">Page1</code> and <code class="literal">Page2</code> in the document's body. The first item does not have <code class="literal">xtype</code> specified, but ExtJS considers the default panel <code class="literal">xtype</code>. The <code class="literal">renderTo</code> property can be either a DOM element or the ID of the element. The <code class="literal">activeTab</code> property is used to set the active tab using its item index position. Uncomment <code class="literal">layout:'fit'</code> (comment both width and height) and observe that the tab panel takes up the whole browser. Uncomment <code class="literal">layout:'absolute'</code>, <code class="literal">x:'10'</code>, and <code class="literal">y:'10'</code> (leave <code class="literal">layout:'fit'</code> commented), and observe that the tab panel is 10 px, absolutely positioned 10 px at x and y:</p><div class="informalexample"><pre class="programlisting">Ext.create('Ext.tab.Panel', {  
width: 400,
height: 400,
activeTab:0,
//layout:'fit',
  //layout:'absolute',
  //x:10, y:10,
   renderTo: document.body,
   items: [{    
   title:'Page 1',
    html:'Page1'
    }, {
    xtype:'panel',
   title:'Page 2',
    html:'Page2'   
  }]
});</pre></div><p>The tab panel or panel can have docked items on all the four sides to place the toolbars or tab bars. Add the following code to the tab panel:</p><div class="informalexample"><pre class="programlisting">dockedItems:[{
    xtype:'toolbar', dock:'bottom',
    items:[{xtype:'button', text:'Docked Button'}]
  }],</pre></div><p>The preceding code snippet creates a toolbar with a button docked at the bottom position and sets to the <code class="literal">dockedItems</code> property.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>
<code class="literal">Ext.tab.Panel</code> internally uses card layout in its implementation. <code class="literal">Ext.container.Container</code> can be used with a card layout when there is no requirement for tab buttons.</p></div></div></div><div class="section" title="Container with card layout"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Container with card layout</h3></div></div></div><p>Try creating a container with two items in the container, with a card layout as shown in the following code snippet. Only one item (that is, first panel titled <code class="literal">Page 1</code>) will be displayed as the second panel (<code class="literal">Page 2</code>) is stacked under the first one. Uncomment the line <code class="literal">cardComp.getLayout().setActiveItem(1)</code> to bring the second item (<code class="literal">Page 2</code>) to the front and hide all the others. The <code class="literal">getLayout()</code> method provides the card layout used by the container, and <code class="literal">setActiveItem(ComponentIndex)</code> shows the item at the specified index hiding all the other items:</p><div class="informalexample"><pre class="programlisting">var cardComp =Ext.create('Ext.container.Container', {
  layout:'card',
  width: 400,
  height: 400,
  renderTo: document.body,
  items: [{
    title: 'Page 1',
    html:'Page1'
  }, {
    title: 'Page 2',
    html:'Page2'
    
  }]
});
//Show the second item visible by uncommenting this line.
//cardComp.getLayout().setActiveItem(1);</pre></div></div><div class="section" title="Data package"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Data package</h3></div></div></div><p>The new ExtJS 4 data package enables you to retrieve, decode, and use the data in the application. The core classes of data package are <code class="literal">Model</code>, <code class="literal">Proxy</code>, and <code class="literal">Store</code>.</p><p>
<code class="literal">Model</code> represents the data or records in a store. It also includes field definitions, data validation rules, other models' associations, and proxy information for connecting to the server. It can have five types of validation rules, such as <code class="literal">presence</code>, <code class="literal">length</code>, <code class="literal">format</code>, <code class="literal">inclusion</code>, and <code class="literal">exclusion</code>, and a field may have more than one validation rule defined. It can also have custom methods defined.</p><p>Under the <code class="literal">app/model</code> folder, define a model by extending the <code class="literal">Ext.data.Model</code> class as indicated in the following example and save it as <code class="literal">Users.js</code>. The code snippet provides a custom method <code class="literal">capitalizeName</code> and adds the <code class="literal">length(to 2)</code> validation rule for the field <code class="literal">age</code>. It attaches the Ajax proxy to model and binds the model to a store:</p><div class="informalexample"><pre class="programlisting">Ext.define('app.model.Users',{
  extend:'Ext.data.Model',
  idProperty:'name', //default to id
  fields: [
      {name: 'name',type:'string'}, 
      {name:'email'},
      {name:'age',type:'int'},
      {name:'employed',type:'boolean'}
  ],      
  capitalizeName:function(){
    this.set('name',Ext.util.Format.uppercase(this.get('name')));
  },
  validations:[
    {type:'length',field:'age',min:2}
  ],
});</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note08"/>Note</h3><p>Include the new component class to the application's <code class="literal">require</code> property in <code class="literal">starterApp.js</code>, whenever the Firebug console complains.</p></div></div><p>
<code class="literal">Proxy</code> handles the loading and saving of data. It defines the connection between the browser and the server. It stores the load data via proxy into an array of data models. There are four types of server proxies, namely Ajax, REST, JSONP, and Direct, and three types of client proxies, namely Local storage, In-memory and Session storage. We will configure the Ajax <code class="literal">type</code> proxy in this tutorial:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ajax</strong></span>: It sends requests to a server on the same domain.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>JSONP</strong></span>: It sends requests to a different domain by dynamically instantiating the <code class="literal">script</code> tag.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>REST</strong></span>: It sends requests via a restful backend.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Direct</strong></span>: It sends requests using <code class="literal">Ext.direct.Manager</code>. It provides a facility to invoke server methods directly from the ExtJS code as if it is calling directly from JavaScript. Please refer to <a class="ulink" href="http://www.sencha.com/products/extjs/extdirect">http://www.sencha.com/products/extjs/extdirect</a> for more info.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>LocalStorage</strong></span>: It uses the new HTML 5 localStorage API to save <code class="literal">Model</code> data locally on the client browser. HTML 5 local storage is a way for web pages to store named key/value pairs locally, within the client web browser.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>In-memory</strong></span>: It uses local variables to store data and hence the data is lost upon page refresh.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Session storage</strong></span>: It uses HTML 5 Session storage for storing and retrieving data via a unique ID.</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note09"/>Note</h3><p>
<span class="strong"><strong>DirectJEngine</strong></span> (<a class="ulink" href="http://code.google.com/p/directjngine/">http://code.google.com/p/directjngine/</a>) provides the infrastructure to invoke server e-Java classes directly from the Ext JS API.</p></div></div><p>Add the following configuration property to the preceding model:</p><div class="informalexample"><pre class="programlisting">proxy:{
  type:'ajax',
<span class="strong"><strong>  url:'/ExtjsStarter/data/Users.json'</strong></span>
}</pre></div><p>Under Apache's <code class="literal">htdocs/ExtJSStarter/data</code> folder, create a file called <code class="literal">Users.json</code> and add the following JSON data:</p><div class="informalexample"><pre class="programlisting">[{name:'David',email:'david@motorola.com',age:32,employed:true},
{name:'Jonny',email:'jonny@sencha.com',age:20,employed:false},
{name:'Anthony',email:'anthony@google.com',age:42.5,employed:true},
{name:'Steffi',email:'steffi@facebook.com',age:26,employed:true}]</pre></div><p>The store class <code class="literal">Ext.data.Store</code> encapsulates the client-side data of the <code class="literal">Model</code> objects. It provides various methods to query, insert, remove, load, sort, and manage records. Add the following code below the model to bind the model to the new store and auto load upon creation. The loaded store contains the model bounded data from <code class="literal">Users.json</code>:</p><div class="informalexample"><pre class="programlisting">var extJS_UserStore = Ext.create('Ext.data.Store',{
<span class="strong"><strong>  model:'app.model.Users',</strong></span>
  autoLoad:true    
});</pre></div><p>Let's make use of the created store in a grid panel to visualize the data in the browser in the section that follows.</p></div><div class="section" title="Grid panel"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Grid panel</h3></div></div></div><p>
<span class="strong"><strong>Grids</strong></span> are used extensively to show a large amount of data in a tabular fashion, with sorting and filtering capabilities. ExtJS provided a robust grid component with various models for manipulating rows and columns. Grid comprises a store and a set of grid columns to render.</p><p>Create a grid panel with four columns, each associated with a <code class="literal">dataIndex</code> property. The column header <code class="literal">dataIndex</code> property uniquely identifies what records from the store should be added to each column. The <code class="literal">store</code> property defines a loaded store. The grid panel needs to be rendered to a DOM element in order to see it in the browser:</p><div class="informalexample"><pre class="programlisting">var extJS_UserGrid = Ext.create('Ext.grid.Panel',{
  title:'Ext JS Users List',
<span class="strong"><strong>  store:extJS_UserStore, //created in previous chapter</strong></span>
  columns:[
    {header:'Name',dataIndex:'name'},    
    {header:'Age',dataIndex:'age',width:30},
    {header:'Employed',dataIndex:'employed'},
    {header:'Email',dataIndex:'email',flex:1}
  ]

});</pre></div><p>Let's add the grid to the first panel (that is, <code class="literal">Page 1</code>) of the tab panel created. Please notice that a grid panel is added to the first panel item (that is, <code class="literal">Page 1</code>):</p><div class="informalexample"><pre class="programlisting">Ext.create('Ext.tab.Panel', {
  width: 400,
 height: 200,  
  dockedItems:[{
    xtype:'toolbar',
    dock:'bottom',
    items:[{text:'Docked Button'}]
  }],
  renderTo: document.body,
  items: [{    
   title: 'Page 1',
    items:[
<span class="strong"><strong>      extJS_UserGrid    </strong></span>
    ]
  }, {
    xtype:'panel',
   title: 'Page 2',    
    html:'Page2'
    
  }]
});</pre></div><p>Loading the code in the browser will show something similar to the next screenshot. It shows two panels (<span class="strong"><strong>Page 1</strong></span> and <span class="strong"><strong>Page 2</strong></span>). The <span class="strong"><strong>Page 1</strong></span> tab is active by default and it shows the grid panel with four columns and the loaded JSON data from the store using the AJAX proxy. Try clicking on the header and observe that the columns can be sorted:</p><div class="mediaobject"><img src="graphics/6108OS_04_01.png.jpg" alt="Grid panel"/></div></div><div class="section" title="Infinite scrolling"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Infinite scrolling </h3></div></div></div><p>Infinite scrolling/paging of a grid to scroll through thousands of records without the performance penalties of rendering all the records on the screen at once can be done using the <code class="literal">verticalScroller</code> property. </p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note10"/>Note</h3><p>
<span class="strong"><strong>Floating components</strong></span>: Any component subclass can be made floatable by using the <code class="literal">floating:true config</code> property. Floating components are managed by <code class="literal">ZindexManager</code> and are constrained to their parent containers.</p></div></div></div></div><div class="section" title="4 – Traversing Ext JS components"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>4 – Traversing Ext JS components</h2></div></div></div><p>Ex JS provides two ways to query the components, one way by using <code class="literal">Ext.ComponentManager</code> globally and the other way within <code class="literal">Ext.container.Container</code> on the document with a CSS-like syntax selector.</p><p>Components can be retrieved using <code class="literal">id</code>, <code class="literal">itemId</code>, and <code class="literal">xtype</code>, including the selector and operators for pattern matching.</p><p>Consider an outer panel with a text field, a button, and an inner panel with an inner text field in it, as follows:</p><div class="informalexample"><pre class="programlisting">Ext.create('Ext.Panel',{
  title:'ExtJS',
<span class="strong"><strong>  id:'outerPanel',</strong></span>
  items:[
  {  
    xtype:'textfield',
<span class="strong"><strong>    id:'outerTextId',</strong></span>
  },{  
    xtype:'button',
    text:'Submit',
<span class="strong"><strong>    id:'buttonId'</strong></span>
  },{
    xtype:'panel',
<span class="strong"><strong>    id:'innerPanel',</strong></span>
    items:[{  
      xtype:'textfield',
      fieldLabel:'Country',
<span class="strong"><strong>      id:'innerTextId',</strong></span>
      cls:'innerTextCls'
    }]
  }]
});</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>
<code class="literal">Ext.ComponentQuery.query("#id')</code> returns an array, whereas <code class="literal">Ext.getCmp('id')</code> returns an object. <code class="literal">Ext.ComponentQuery.query("#id')[0]</code> and <code class="literal">Ext.getCmp('id')</code> are identical.</p></div></div><p>The following table illustrates the use of different ways to select and traverse the field using different methods available:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Selection methods</p>
</th><th style="text-align: left" valign="bottom">
<p>Return component object</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('outerPanel').down('button');</code>
</p>
<p>
<code class="literal">Ext.getCmp('outerTextId') .nextSibling()   Ext.getCmp('outerTextId').next() </code>
</p>
<p>
<code class="literal">Ext.getCmp('outerTextId').nextNode();</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Button</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('buttonId').previousSibling() and Ext.getCmp('buttonId').prev()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Outer text field</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.ComponentQuery.query('textfield[cls=innerTextCls]')</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Inner text field</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('outerTextId').up()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Outer panel – form </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('innerPanel').down()</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Inner text field</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('innerTextId').</code>
</p>
<p>
<code class="literal">findParentByType('panel')</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Inner panel</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Ext.getCmp('buttonId').</code>
</p>
<p>
<code class="literal">findParentByType('panel')</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Outer panel</p>
</td></tr></tbody></table></div></div><div class="section" title="5 – Working with forms"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>5 – Working with forms</h2></div></div></div><p>A form in Ext JS refers to an <code class="literal">Ext.form.Panel</code> class that provides a standard container for all the <code class="literal">form</code> elements. It automatically creates a <code class="literal">BasicForm</code> object for managing any <code class="literal">Ext.form.field.Field</code> objects that are added to the container. By default, the form panel is configured with an anchor layout for its child items, and can be changed if required. It provides various configuration properties and methods to manage and handle the fields.</p><p>Ext JS 4 supports the following form fields:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Checkbox and checkbox group</li><li class="listitem" style="list-style-type: disc">Combo box</li><li class="listitem" style="list-style-type: disc">Display field (display only text field) and hidden</li><li class="listitem" style="list-style-type: disc">HTML editor</li><li class="listitem" style="list-style-type: disc">Date and number</li><li class="listitem" style="list-style-type: disc">Radio and radio group</li><li class="listitem" style="list-style-type: disc">Slider and spinner (fields with a pair of up/down spinner arrow buttons)</li><li class="listitem" style="list-style-type: disc">Text, trigger (text wrapper that adds clickable buttons), and text area</li><li class="listitem" style="list-style-type: disc">Time and file</li></ul></div><p>All fields provide getter and setter methods, which are events and methods for tracking and validating values. A few important basic <code class="literal">form</code> methods that are used frequently are provided as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">getFieldValues</code>: It returns all the field values in the form of name-value pairs</li><li class="listitem" style="list-style-type: disc"><code class="literal">getFields</code>: It returns all the fields</li><li class="listitem" style="list-style-type: disc"><code class="literal">getValues</code>: It returns all the string field values in the form name-value pairs</li><li class="listitem" style="list-style-type: disc"><code class="literal">findField('id')</code>: It finds a specific Ext JS fields using its ID</li><li class="listitem" style="list-style-type: disc"><code class="literal">isValid</code>: It checks for validity</li><li class="listitem" style="list-style-type: disc"><code class="literal">markInvalid(error)</code>: It marks the field as invalid</li></ul></div><p>The <code class="literal">form</code> fields can be enabled and disabled on validation change using the <code class="literal">formBind</code> and <code class="literal">disabled</code> properties. The preceding code snippet illustrates a form panel with a text field that is validated against a non-empty string length between 2 and 10, a checkbox, and submit button that gets enabled only when the text field value is valid. </p><p>The validation rules on text fields are defined by specifying the following properties:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">allowBlank</code>, <code class="literal">maskRe</code>, <code class="literal">regex</code>, and <code class="literal">stripCharsRe</code> </li><li class="listitem" style="list-style-type: disc"><code class="literal">maxLength</code> and <code class="literal">minLength</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">validator</code>, <code class="literal">validationChange</code>, and <code class="literal">vType</code></li></ul></div><p>Validation on a field happens by default and can be deferred by setting the <code class="literal">validateOnChange</code> property to <code class="literal">false</code> and invoking validation by using the <code class="literal">validate()</code>, <code class="literal">isValid()</code>, and <code class="literal">hasInvalidField()</code> methods.</p><p>The validation error messages are customized using <code class="literal">blanktext</code>, <code class="literal">maxlengthText</code>, <code class="literal">regexText</code>, and <code class="literal">vTypeText</code>. </p><p>
<code class="literal">vType</code>: <code class="literal">Ext.form.field.vTypes</code> is a virtual type implementation that defines ExtJS-specific default and custom validation (that is, custom <code class="literal">vType</code> for user specific validation) rules. Ext JS provides default <code class="literal">vType</code> properties, such as <code class="literal">email</code>, <code class="literal">URL</code>, <code class="literal">alpha</code>, and <code class="literal">alphanum</code>. </p><p>The following code snippet illustrates a form panel with a text field, a checkbox, and a button for AJAX submission. The highlighted lines provide the validation rules for the fields via properties. The <code class="literal">Ext.form.Basic.submit()</code> button posts the data to an application server using the HTTP <code class="literal">post</code> action to the URL specified in <code class="literal">url</code> property and alerts the user with a success or failure message.</p><p>The code snippet for the form panel is as follows:</p><div class="informalexample"><pre class="programlisting">{
  xtype:'form',bodyPadding:10,
  title:'A Form Panel',
  width:300,height:400,
<span class="strong"><strong>  url:'http://someurl.com/extjs.jsp',</strong></span>
  items:[{
    xtype:'textfield',
    fieldLabel:'Name',
<span class="strong"><strong>    vType:'alpha', //only alphabets are allowed</strong></span>
<span class="strong"><strong>    allowBlank:false, minLength:2, maxLength:10  </strong></span>
  } ,{
    xtype:'checkbox',
    boxLabel:'I agree terms and conditions',
    name:'termsCB',
<span class="strong"><strong>    formBind:true,disabled:true</strong></span>
  }],
  buttons:[{
    text:'Submit',
<span class="strong"><strong>    formBind:true,</strong></span>
<span class="strong"><strong>    disabled:true,</strong></span>
    handler:function(){
      var form = this.up('form').getForm();
      if(form.isValid()){  
        form.submit({
          success:function(form,action){Ext.Msg.alert("Success".action.result.msg");
          },
          failure:function(form,action){
            Ext.Msg.alert("Success".action.result.msg);
          }
        });  //submit end
      }//form isValid end
     
    }}]//buttons end
  }]
}</pre></div><p>The preceding form panel code is processed by the following server response:</p><div class="informalexample"><pre class="programlisting">//_________ Server Response ___________________________
/**
Note: Please be informed that the response can be of JSON type also. Hence failure case can be categorized with ids and can be reported accordingly. 
{
  "success":true,
  "msg":"Data Submitted Successfully"
}
{
  "success":false,
  "msg":"Data Submission failed"  
}
**/</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note12"/>Note</h3><p>A Basic Form's <code class="literal">getValue()</code> method returns only the string values and <code class="literal">getFieldValue()</code> returns all type-specific data values (for example, <code class="literal">Date</code> objects for date fields, <code class="literal">Boolean</code> for combo boxes, and so on)</p></div></div></div><div class="section" title="6 – Templates"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>6 – Templates</h2></div></div></div><p>
<code class="literal">Ext.XTemplate</code> is used to do the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Generating HTML output from arrays and store data</li><li class="listitem" style="list-style-type: disc">Basic conditional processing (<code class="literal">for</code> and <code class="literal">if</code> statements) and custom member support</li><li class="listitem" style="list-style-type: disc">Executing inline code with built-in template variables </li></ul></div><p>A simple template can be defined using the <code class="literal">Ext.XTemplate</code> constructor by passing an HTML fragment (with fields in curly braces as an argument, as illustrated in the following code snippet). It also provides a <code class="literal">&lt;tpl&gt;</code> tag for operators to repeat the <code class="literal">template</code> block for an array and an <code class="literal">if</code> operator for conditional processing. It can also have member functions.</p><p>The following code snippet creates a template and applies the object and array to it:</p><div class="informalexample"><pre class="programlisting">var tplObj = Ext.create('Ext.XTemplate',
  '&lt;div&gt; Hi {user}, How are you?&lt;/br&gt; Are you from {city}&lt;/div&gt;');
tplObj.compile();
tplObj.applyTemplate({user:'Tony',city:'London'}) //Object

var tplArray = Ext.create('Ext.XTemplate',
    '&lt;div&gt; Hi {0}, How are you?&lt;/br&gt; You are from {1}&lt;/div&gt;');
tplArray.compile();
tplArray.applyTemplate(['Tony','London']) //Array

&lt;tpl for="xxx"&gt;
  //HTML fragment
&lt;/tpl&gt;
&lt;/tpl&gt;</pre></div><p>The <code class="literal">html</code> fragment can have either the fields or the array index inside curly braces, as shown in the preceding code snippet. The <code class="literal">applyTemplate</code> method replaces the <code class="literal">{user}</code> and the <code class="literal">{city}</code> values in the template. The template values can be an array (if the parameters are numeric) or an object.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note13"/>Note</h3><p>Check out more on template examples at <a class="ulink" href="http://docs.sencha.com/ext-js/4-1/#!/api/Ext.XTemplate">http://docs.sencha.com/ext-js/4-1/#!/api/Ext.XTemplate</a>.</p></div></div></div><div class="section" title="7 – Controllers and events"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>7 – Controllers and events</h2></div></div></div><p>Controllers are responsible for events from various components that occur within our app. Let's create a grid view controller (using the grid panel created in the <span class="emphasis"><em>Quick start – Creating and defining your Ext JS application</em></span> section), a new app, and an HTML file that loads the app and checks how the events are handled in the controller. It provides a central location to manage all the events of the application components.</p><p>Create a file called <code class="literal">app/view/ extjsUsersListView.js</code>, and add the following code to it. Please note that the store defined in the grid is already loaded using <code class="literal">app.model.Users</code> (<code class="literal">app</code>/<code class="literal">model</code>/<code class="literal">users</code>) referred in <span class="emphasis"><em>Data package</em></span> section:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Ext.define('app.view.extjsUsersListView',{</strong></span>
  extend: 'Ext.grid.Panel',
<span class="strong"><strong>  alias : 'widget.extjsUsersList', </strong></span>
  title : 'Ext JS Users', 
  initComponent: function() {
<span class="strong"><strong>    this.store=extJS_UserStore,</strong></span>
    this.columns=[
      {header:'Name',dataIndex:'name'},    
      {header:'age',dataIndex:'age',width:30},
      {header:'employed',dataIndex:'employed'},
      {header:'Email',dataIndex:'email',flex:1}
    ]    
   this.callParent(arguments);
  }
});</pre></div><p>Create a file called <code class="literal">app/controller/ extjsUsersController.js</code>, and add the following code to it:</p><p>The following code snippet defines a controller <code class="literal">app.controller. extjsUsersController</code> by extending <code class="literal">Ext.app.Controller</code>. The controller's <code class="literal">views</code> property is configured with the view created in previous section. The <code class="literal">init()</code> method defines how the events are handled in the controller through the <code class="literal">control</code> function. This function can either refer to the references or the xtypes. The reference <code class="literal">'viewport &gt; panel'</code> uses the <code class="literal">Ext.ComponentQuery</code> syntax to point to the UI components and finds the direct child panel inside the viewport. The <code class="literal">'extjsUsersList'</code> xtype refers to the grid panel (that is, <code class="literal">view extjsUsersListView'</code>) for which we want to control the <code class="literal">itemclick</code> and <code class="literal">afterrender</code> events:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>Ext.define('app.controller. extjsUsersController, {</strong></span>
 extend: 'Ext.app.Controller',
  views: [
<span class="strong"><strong>    extjsUsersListView'</strong></span>
  ],  
  init: function() {
<span class="strong"><strong>   console.log('Initialized!');</strong></span>
</pre></div><div class="informalexample"><pre class="programlisting">    this.control({
      // Events of panel referred through Ext.ComponentQuery
     'viewport &gt; panel': {
      //This event is fired, as the grid panel extends panel. 
        render: this.onPanelRendered
     },
      // Events of grid panel referred through its xtype
<span class="strong"><strong>      'extjsUsersList': {</strong></span>
      itemclick: this.editUser,
        afterrender:this.gridAfterRender
     }
    });   
  }, 
  onPanelRendered: function() {
<span class="strong"><strong>    console.log('The panel was rendered');</strong></span>
  },
  gridAfterRender: function(grid, opts) {
<span class="strong"><strong>   console.log('Grid Component rendered');</strong></span>
<span class="strong"><strong>  },</strong></span>
  editUser: function(grid, record) {
<span class="strong"><strong>   console.log('Clicked on ' + record.get('name'));</strong></span>
  }
})</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note14"/>Note</h3><p>
<code class="literal">'alias'</code> is a property and refers to a short name of a custom class for defining xtypes using <code class="literal">widget.&lt;xtypeName&gt;</code>. For example, <code class="literal">widget.usergrid</code> and <code class="literal">widget.userPanel</code>.</p></div></div><p>Create an application file <code class="literal">mvcApp.js</code> under the <code class="literal">ExtJSStarter</code> folder and add the following code to it. The <code class="literal">controllers</code> property in the application is configured with <code class="literal">extjsUsersController</code>, which is created in the previous section, and the grid component (<code class="literal">extjsUsersList</code>) is added to the viewport. Please refer to the <code class="literal">alias</code> property of the <code class="literal">grid</code> component for the xtype name mentioned:</p><div class="informalexample"><pre class="programlisting">Ext.application({
  name:'app',    
  requires:['Ext.window.MessageBox','app.model.Users',
<span class="strong"><strong>    'app.controller.extjsUsersController',</strong></span>
<span class="strong"><strong>    'app.view.extjsUsersListView',</strong></span>
    'Ext.container.Viewport','Ext.grid.Panel'
  ],  
  controllers: [
    'extjsUsersController'
  ],  
  launch:function(){
     Ext.create('Ext.container.Viewport', {     
     items: [
        {xtype:'extjsUsersList' }
      ]
    });
  }
});</pre></div><p>Create a file called <code class="literal">mvcApp.html</code> under the <code class="literal">ExtJSStarter</code> folder, and add the following code to it:</p><div class="informalexample"><pre class="programlisting">&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Ext Js started Index Page &lt;/title&gt;
&lt;meta name="Author" content="Nagarajan Bhava"&gt;
&lt;link rel="stylesheet" type="text/css"     href="../extjs4/resources/css/ext-all.css"&gt;&lt;/link&gt;
&lt;script type="text/javascript" src="../../extjs4/ext-    dev.js"&gt;&lt;/script&gt;
<span class="strong"><strong>&lt;script type="text/javascript"     src="../ExtJSStarter/data/Users.json"&gt;&lt;/script&gt;</strong></span>
<span class="strong"><strong> &lt;script type="text/javascript"     src="../ExtJSStarter/mvcApp.js"&gt;&lt;/script&gt;</strong></span>
&lt;/head&gt;
<span class="strong"><strong>&lt;body&gt;</strong></span>
<span class="strong"><strong>&lt;/body&gt;</strong></span>
<span class="strong"><strong>&lt;/html&gt;</strong></span>
</pre></div><p>Loading <code class="literal">http://yourservername.com/ExtJSStarter/mvcApp.html</code> with the Firebug debugger on will show something similar to the next screenshot.</p><p>The initialized application renders the panel and grid panel, and listens to the <code class="literal">itemclick</code> event. When the page is loaded, the application's <code class="literal">init</code> method is called and followed by the rendering of panel. Clicking any rows will fire the <code class="literal">itemclick</code> event and log the message in the console:</p><div class="mediaobject"><img src="graphics/6108OS_04_02.png.jpg" alt="7 – Controllers and events"/></div></div><div class="section" title="8 – Event handling"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>8 – Event handling</h2></div></div></div><p>Events in Ext JS are either DOM or JavaScript events. Event sources in Ext JS are an extension of the <code class="literal">Ext.Observable</code> class. The event properties are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Event</strong></span> is a message sent (fired) by an event source to inform listeners that something happened in the view</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Event source</strong></span> is an object that can fire events</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Event listener</strong></span> is a function that is called when an event source fires an event</li><li class="listitem" style="list-style-type: disc">Events can be fired using the <code class="literal">on</code> function</li></ul></div><p>
<span class="strong"><strong>DOM events</strong></span>: Browsers that display HTML pages watch for user actions and fire events if the actions are occurring on DOM elements. Ext JS's <code class="literal">Ext.Element</code> function wraps DOM elements together with their events, and provides a way to call the same event handlers in a different way:</p><div class="informalexample"><pre class="programlisting">//Basic way
&lt;div id="divId" onclick="alert('You clicked me')"&gt;Click Here!&lt;/div&gt;
//Ext JS way
 Ext.get(divId).on('click', function() {alert('You clicked me');});</pre></div><p>JavaScript Events: During development, it is normal to have events from JavaScript objects other than DOM events. The following code snippet add a listener to Ext JS panel.</p><div class="informalexample"><pre class="programlisting">//Create panel
var myPanel = new Ext.Panel({...}); 
// Add event "some_Event"
myPanel.on('some_event', function(…) {…});   </pre></div><p>Custom events can be added by using the <code class="literal">addEvents()</code> and <code class="literal">fireEvent()</code> methods, as shown in the following code snippet:</p><div class="informalexample"><pre class="programlisting">MyPanel = Ext.extend(Ext.Panel, {
  initComponent:function() {
    ...
     this.callParent(arguments);
    ...
    // add custom events
    this.addEvents('loaded');
  },
  load:function(cfg) {
    ....
    // fire loaded event
    this.fireEvent('loaded', this, cfg);
  }  
});</pre></div><p>Events can be relayed from the outcome of specified observations of the preceding code if they are fired by its execution. Assuming that the content panel mentioned in the preceding section is inside a window (<code class="literal">win</code>), it will tell the window to handle the <code class="literal">'loaded'</code> event from the content panel:</p><div class="informalexample"><pre class="programlisting">win.relayEvents(MyPanel, ['loaded']); 
win.on( {
   'loaded' : function (panel, obj) {...},
   scope : this
});</pre></div></div><div class="section" title="9 – Other advanced features"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>9 – Other advanced features</h2></div></div></div><p>A few other advanced features are listed as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>JSBuilder</strong></span>: This is a cross-platform Java application that allows you to customize your JavaScript and CSS files for building your projects. It uses JSON-based (<a class="ulink" href="http://en.wikipedia.org/wiki/JSON">http://en.wikipedia.org/wiki/JSON</a>) configurations and the YUI compressor (<a class="ulink" href="http://yui.github.com/yuicompressor/">http://yui.github.com/yuicompressor/</a>) for minification.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Drawing and charting</strong></span>: Ext JS provides a robust HTML 5 based drawing and charting packages that enables one to create cross-browser and cross-device graphics in a versatile way.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Theming</strong></span>: Ext JS 4 has a brand-new theming system to customize the look of your application while still supporting all browsers.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>HTML5 local storage</strong></span>: The local storage proxy <code class="literal">Ext.data.proxy.LocalStorage</code> uses the new HTML5 <code class="literal">localStorage</code> API to save <code class="literal">Model</code> data locally on the client browser. HTML5 local storage is a way for web pages to store named key/value pairs locally, within the client web browser. Like cookies, this data persists even after you navigate away from the website, close your browser tab, or exit your browser.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Animation</strong></span>: CSS 3 based animations using keyframes can be made using the <code class="literal">Ext.fx.Animator</code> class. </li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>History management</strong></span>: History management using <code class="literal">Ext.util.History</code> allows you to register arbitrary application states on navigation actions, which can later be used to reset the application when the user navigates forward or backward through the browser history.</li></ul></div></div></div>
<div class="section" title="People and places you should get to know"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec07"/>People and places you should get to know</h1></div></div></div><p>This tutorial has been created from the experience gained using references from Ext JS APIs, forums, tutorials, and guides from Sencha's official site <a class="ulink" href="http://www.sencha.com/">http://www.sencha.com/</a>.</p><p>If you need help with <span class="emphasis"><em>Instant Ext JS Starter</em></span>, here are some people and places that will prove invaluable.</p><div class="section" title="Official sites"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Official sites</h2></div></div></div><p>The official sites for download, training, and FAQs are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ext JS</strong></span>: <a class="ulink" href="http://www.sencha.com">http://www.sencha.com</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Training</strong></span>: <a class="ulink" href="http://www.sencha.com/training/">http://www.sencha.com/training/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Download</strong></span>: <a class="ulink" href="http://www.sencha.com/products/extjs/download/">http://www.sencha.com/products/extjs/download/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Licencing FAQs</strong></span>: <a class="ulink" href="http://www.sencha.com/legal/open-source-faq/">http://www.sencha.com/legal/open-source-faq/</a></li></ul></div></div><div class="section" title="Articles and tutorials"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>Articles and tutorials</h2></div></div></div><p>The following list provides useful articles and tutorials to help you to explore more about the framework:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>API</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/">http://docs.sencha.com/ext-js/4-0/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Examples</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/example">http://docs.sencha.com/ext-js/4-0/#!/example</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Getting started guide</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#/guide/getting_started">http://docs.sencha.com/ext-js/4-0/#/guide/getting_started</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Saki's (An example page from an active Ext JS forum member) page</strong></span>: <a class="ulink" href="http://examples.extjs.eu/">http://examples.extjs.eu/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Theming</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/guide/theming">http://docs.sencha.com/ext-js/4-0/#!/guide/theming</a> and <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/video/19159630">http://docs.sencha.com/ext-js/4-0/#!/video/19159630</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Drawing and charting</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/guide/drawing_and_charting">http://docs.sencha.com/ext-js/4-0/#!/guide/drawing_and_charting</a></li></ul></div></div><div class="section" title="Community"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec27"/>Community</h2></div></div></div><p>If you are in need of any help, then forums and support will come handy:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sencha official forum</strong></span>: The registration can be done at <a class="ulink" href="http://www.sencha.com/forum/register.php">http://www.sencha.com/forum/register.php</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Ext JS 4 Forum</strong></span>: <a class="ulink" href="http://www.sencha.com/forum/forumdisplay.php?79-Ext-JS-Community-Forums-4.x">http://www.sencha.com/forum/forumdisplay.php?79-Ext-JS-Community-Forums-4.x</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sencha Support</strong></span>: <a class="ulink" href="http://www.sencha.com/support/">http://www.sencha.com/support/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>User FAQs</strong></span>: <a class="ulink" href="http://www.sencha.com/support/faq/">http://www.sencha.com/support/faq/</a></li></ul></div></div><div class="section" title="Links"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec28"/>Links</h2></div></div></div><p>A few links for building JavaScripts, CSS, and unit testing are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Chrome developer tools page</strong></span>: <a class="ulink" href="https://developers.google.com/chrome-developer-tools/docs/overview">https://developers.google.com/chrome-developer-tools/docs/overview</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>HTML5 offline storage</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/video/17844271">http://docs.sencha.com/ext-js/4-0/#!/video/17844271</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Unit testing with Jasmine</strong></span>: <a class="ulink" href="http://docs.sencha.com/ext-js/4-0/#!/guide/testing">http://docs.sencha.com/ext-js/4-0/#!/guide/testing</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>JSBuilder (Javascript and CSS builder tool)</strong></span>: <a class="ulink" href="http://www.sencha.com/products/jsbuilder">http://www.sencha.com/products/jsbuilder</a></li></ul></div></div><div class="section" title="Books"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec29"/>Books</h2></div></div></div><p>The following books provide an insight into the internals of JavaScript and help with deep understanding of the core of EXT JS or any other JavaScript framework:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>JavaScript: The Good Parts</em></span>, <span class="emphasis"><em>Douglas Crockford</em></span>, <span class="emphasis"><em>O'Reilly Media/Yahoo Press</em></span></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>JavaScript Patterns</em></span>, <span class="emphasis"><em>Stoyan Stefanov</em></span>, <span class="emphasis"><em>O'Reilly Media</em></span></li><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Pro JavaScript Techniques</em></span>, <span class="emphasis"><em>John Resig</em></span>, <span class="emphasis"><em>Apress</em></span></li></ul></div></div><div class="section" title="Blogs"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Blogs</h2></div></div></div><p>Jozef Sakalos, also known as Saki, is one of the leading forum members, who actively participates in many queries and provides excellent solutions. You can find his blog at <a class="ulink" href="http://blog.extjs.eu/">http://blog.extjs.eu/</a>.</p></div><div class="section" title="Twitter"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec31"/>Twitter</h2></div></div></div><p>Follow Aaron Conron, who leads the Sencha Architect team on <a class="ulink" href="https://twitter.com/aconran">https://twitter.com/aconran</a>.</p></div></div></body></html>