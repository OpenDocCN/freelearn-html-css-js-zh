<html><head></head><body><div id="book-columns"><div id="book-inner"><div class="chapter" title="Chapter Appendix. Building Interactive Analytics in Minutes"><div class="titlepage"><div><div><h1 class="title"><a id="appA"/><span class="koboSpan" id="kobo.1.1">Chapter Appendix. Building Interactive Analytics in Minutes</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">In this appendix we will cover:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.3.1">Learning Crossfilter.js library</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.4.1">Charting with dimensions using dc.js</span></li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec91"/><span class="koboSpan" id="kobo.5.1">Introduction</span></h1></div></div></div><p><span class="koboSpan" id="kobo.6.1">Congratulations! </span><span class="koboSpan" id="kobo.6.2">You have finished an entire book on data visualization with D3. </span><span class="koboSpan" id="kobo.6.3">Together we have explored various topics and techniques. </span><span class="koboSpan" id="kobo.6.4">At this point you will probably agree that building interactive, accurate, and aesthetically appealing data visualization is not a trivial matter even with the help of a powerful library like D3. </span><span class="koboSpan" id="kobo.6.5">It typically takes days or even weeks to finish a professional data visualization project even without counting the effort usually required on the backend. </span><span class="koboSpan" id="kobo.6.6">What if you need to build an interactive visualization quickly, or a proof-of-concept before a full-fledged visualization project can be commenced, and you need to do just that not in weeks or days, but minutes. </span><span class="koboSpan" id="kobo.6.7">In this appendix we will introduce you to two interesting JavaScript libraries that allow you to do just that: building quick in-browser interactive multidimensional data visualization in minutes.</span></p></div></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="The crossfilter.js library"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec92"/><span class="koboSpan" id="kobo.1.1">The crossfilter.js library</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">Crossfilter is also a library created by D3's author </span><span class="emphasis"><em><span class="koboSpan" id="kobo.3.1">Mike Bostock</span></em></span><span class="koboSpan" id="kobo.4.1">, initially used to power analytics for Square Register.</span></p><div class="blockquote"><blockquote class="blockquote"><p>
<span class="emphasis"><em><span class="koboSpan" id="kobo.5.1">Crossfilter is a JavaScript library for exploring large multivariate datasets in browser. </span><span class="koboSpan" id="kobo.5.2">Crossfilter supports extremely fast (&lt;30ms) interaction with coordinated views, even with datasets containing a million or more records.</span></em></span>
</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p>
<span class="emphasis"><em><span class="koboSpan" id="kobo.6.1">-Crossfilter Wiki (August 2013)</span></em></span>
</p></blockquote></div><p><span class="koboSpan" id="kobo.7.1">In other words, Crossfilter is a library that you can use to generate data dimensions on large and typically flat multivariate datasets. </span><span class="koboSpan" id="kobo.7.2">So what is a data dimension? </span><span class="koboSpan" id="kobo.7.3">A data dimension can be considered as a type of data grouping or categorization while each dimensional data element is a categorical variable. </span><span class="koboSpan" id="kobo.7.4">Since this is still a pretty abstract concept, let's take a look at the following JSON dataset and see how it can be transformed into dimensional dataset using Crossfilter. </span><span class="koboSpan" id="kobo.7.5">Assume that we have the following flat dataset in JSON describing payment transactions in a bar:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.8.1">[ 
  {"date": "2011-11-14T01:17:54Z", "quantity": 2, "total": 190,    "tip": 100, "type": "tab"}, 
  {"date": "2011-11-14T02:20:19Z", "quantity": 2, "total": 190,    "tip": 100, "type": "tab"}, 
  {"date": "2011-11-14T02:28:54Z", "quantity": 1, "total": 300,    "tip": 200, "type": "visa"}, 
.. 
</span><span class="koboSpan" id="kobo.8.2">] 
</span></pre><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note86"/><span class="koboSpan" id="kobo.9.1">Note</span></h3><p><span class="koboSpan" id="kobo.10.1">Sample dataset borrowed from Crossfilter Wiki: </span><a class="ulink" href="https://github.com/square/crossfilter/wiki/API-Reference">
<span><span class="koboSpan" id="kobo.11.1">https://github.com/square/crossfilter/wiki/API-Reference</span></span>
</a><span class="koboSpan" id="kobo.12.1">.</span></p></div></div><p><span class="koboSpan" id="kobo.13.1">How many dimensions do we see here in this sample dataset? </span><span class="koboSpan" id="kobo.13.2">The answer is: it has as many dimensions as the number of different ways that you can categorize the data. </span><span class="koboSpan" id="kobo.13.3">For example, since this data is about customer payment, which is observation on time series, obviously the </span><code class="literal"><span class="koboSpan" id="kobo.14.1">date</span></code><span class="koboSpan" id="kobo.15.1"> is a dimension. </span><span class="koboSpan" id="kobo.15.2">Secondly, the payment type is naturally a way to categorize data; therefore, </span><code class="literal"><span class="koboSpan" id="kobo.16.1">type</span></code><span class="koboSpan" id="kobo.17.1"> is also a dimension.
</span></p><p><span class="koboSpan" id="kobo.18.1">
The next dimension is bit tricky since technically we can model any of the field in the dataset as dimension or its derivatives; however, we don't want to make something as a dimension if it does not help us slice the data more efficiently or provide more insight into what the data is trying to say. </span><span class="koboSpan" id="kobo.18.2">The total and tip fields have very high cardinality, which usually is an indicator for poor dimension unless we group them into different buckets (though tip/total, that is, tip in percentage could be an interesting dimension); however, the </span><code class="literal"><span class="koboSpan" id="kobo.19.1">quantity</span></code><span class="koboSpan" id="kobo.20.1"> field is likely to have a relatively small cardinality assuming people don't buy thousands of drinks in this bar, therefore, we choose to use quantity as our third dimension. </span><span class="koboSpan" id="kobo.20.2">Now, here is what the dimensional logical model looks like:</span></p><p>
</p><div class="mediaobject"><span class="koboSpan" id="kobo.21.1"><img src="graphics/image_65_001.jpg" alt="The crossfilter.js library"/></span></div><p>
</p><p><span class="koboSpan" id="kobo.22.1">Dimensional Dataset</span></p><p><span class="koboSpan" id="kobo.23.1">These dimensions allow us to look at the data from a different angle, and if combined will allow us to ask some pretty interesting questions, for example:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.24.1">Are customers who pay by tab more likely to buy in larger quantity?</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.25.1">Are customers more likely to buy larger quantity on Friday night?</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.26.1">Are customers more likely to tip when using tab versus cash?</span></li></ul></div><p><span class="koboSpan" id="kobo.27.1">Now, you can see why dimensional dataset is such a powerful idea. </span><span class="koboSpan" id="kobo.27.2">Essentially, each dimension gives you a different lens to view your data, and when combined, they can quickly turn raw data into knowledge. </span><span class="koboSpan" id="kobo.27.3">A good analyst can quickly use this kind of tool to formulate a hypothesis, hence gaining knowledge from data.</span></p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec278"/><span class="koboSpan" id="kobo.28.1">How to do it...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.29.1">Now, we understand why we would want to establish dimensions with our dataset; let's see how this can be done using Crossfilter:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.30.1">var timeFormat = d3.time.format.iso; 
var data = crossfilter(json); // &lt;-A 
 
var hours = data.dimension(function(d){ 
  return d3.time.hour(timeFormat.parse(d.date)); // &lt;-B 
}); 
var totalByHour = hours.group().reduceSum(function(d){ 
  return d.total; 
}); 
 
var types = data.dimension(function(d){return d.type;}); 
var transactionByType = types.group().reduceCount(); 
         
var quantities = data.dimension(function(d){return d.quantity;}); 
var salesByQuantity = quantities.group().reduceCount(); 
</span></pre></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec279"/><span class="koboSpan" id="kobo.31.1">How it works...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.32.1">As shown in the preceding section, creating dimensions and groups are quite straight-forward in Crossfilter. </span><span class="koboSpan" id="kobo.32.2">First step before we can create anything is to feed our JSON dataset, loaded using D3, through Crossfilter by calling the </span><code class="literal"><span class="koboSpan" id="kobo.33.1">crossfilter</span></code><span class="koboSpan" id="kobo.34.1"> function (line </span><code class="literal"><span class="koboSpan" id="kobo.35.1">A</span></code><span class="koboSpan" id="kobo.36.1">). </span><span class="koboSpan" id="kobo.36.2">Once that's done, you can create your dimension by calling the </span><code class="literal"><span class="koboSpan" id="kobo.37.1">dimension</span></code><span class="koboSpan" id="kobo.38.1"> function and pass in an accessor function that will retrieve the data element that can be used to define the dimension. </span><span class="koboSpan" id="kobo.38.2">In the case for </span><code class="literal"><span class="koboSpan" id="kobo.39.1">type</span></code><span class="koboSpan" id="kobo.40.1"> we will simply pass in </span><code class="literal"><span class="koboSpan" id="kobo.41.1">function(d){return d.type;}</span></code><span class="koboSpan" id="kobo.42.1">. </span><span class="koboSpan" id="kobo.42.2">You can also perform data formatting or other task in dimension function (for example, date formatting on line </span><code class="literal"><span class="koboSpan" id="kobo.43.1">B</span></code><span class="koboSpan" id="kobo.44.1">). </span><span class="koboSpan" id="kobo.44.2">After creating the dimensions, we can perform the categorization or grouping by using the dimension, so </span><code class="literal"><span class="koboSpan" id="kobo.45.1">totalByHour</span></code><span class="koboSpan" id="kobo.46.1"> is a grouping that sums up total amount of the sale for each hour, while </span><code class="literal"><span class="koboSpan" id="kobo.47.1">salesByQuantity</span></code><span class="koboSpan" id="kobo.48.1"> is a grouping of counting the number of transactions by quantity. </span><span class="koboSpan" id="kobo.48.2">To better understand how </span><code class="literal"><span class="koboSpan" id="kobo.49.1">group</span></code><span class="koboSpan" id="kobo.50.1"> works, we will take a look at what the group object looks like. </span><span class="koboSpan" id="kobo.50.2">If you invoke the </span><code class="literal"><span class="koboSpan" id="kobo.51.1">all</span></code><span class="koboSpan" id="kobo.52.1"> function on the </span><code class="literal"><span class="koboSpan" id="kobo.53.1">transactionsByType</span></code><span class="koboSpan" id="kobo.54.1"> group you will get the following objects back:</span></p><p>
</p><div class="mediaobject"><span class="koboSpan" id="kobo.55.1"><img src="graphics/5530_App_02.jpg" alt="How it works..."/></span></div><p>
</p><p><span class="koboSpan" id="kobo.56.1">Crossfilter group objects</span></p><p><span class="koboSpan" id="kobo.57.1">We can clearly see that </span><code class="literal"><span class="koboSpan" id="kobo.58.1">transactionByType</span></code><span class="koboSpan" id="kobo.59.1"> group is essentially a grouping of the data element by its type while counting the total number of data elements within each group since we had called </span><code class="literal"><span class="koboSpan" id="kobo.60.1">reduceCount</span></code><span class="koboSpan" id="kobo.61.1"> function when creating the group.</span></p><p><span class="koboSpan" id="kobo.62.1">The following are the description for functions we used in this example:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.63.1">crossfilter</span></code><span class="koboSpan" id="kobo.64.1">: Creates a new crossfilter with given records if specified. </span><span class="koboSpan" id="kobo.64.2">Records can be any array of objects or primitives.</span></li><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.65.1">dimension</span></code><span class="koboSpan" id="kobo.66.1">: Creates a new dimension using the given value accessor function. </span><span class="koboSpan" id="kobo.66.2">The function must return naturally-ordered values, that is, values that behave correctly with respect to JavaScript's </span><code class="literal"><span class="koboSpan" id="kobo.67.1">&lt;</span></code><span class="koboSpan" id="kobo.68.1">, </span><code class="literal"><span class="koboSpan" id="kobo.69.1">&lt;=</span></code><span class="koboSpan" id="kobo.70.1">, </span><code class="literal"><span class="koboSpan" id="kobo.71.1">&gt;=</span></code><span class="koboSpan" id="kobo.72.1">, and </span><code class="literal"><span class="koboSpan" id="kobo.73.1">&gt;</span></code><span class="koboSpan" id="kobo.74.1"> operators. </span><span class="koboSpan" id="kobo.74.2">This typically means primitives: Booleans, numbers, or strings.</span></li><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.75.1">dimension.group</span></code><span class="koboSpan" id="kobo.76.1">: Creates a new grouping for the given dimension, based on the given </span><code class="literal"><span class="koboSpan" id="kobo.77.1">groupValue</span></code><span class="koboSpan" id="kobo.78.1"> function, which takes a dimension value as input and returns the corresponding rounded value.</span></li><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.79.1">group.all</span></code><span class="koboSpan" id="kobo.80.1">: Returns all groups, in ascending natural order by key.</span></li><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.81.1">group.reduceCount</span></code><span class="koboSpan" id="kobo.82.1">: A shortcut function to count the records; returns this group.</span></li><li class="listitem" style="list-style-type: disc"><code class="literal"><span class="koboSpan" id="kobo.83.1">group.reduceSum</span></code><span class="koboSpan" id="kobo.84.1">: A shortcut function to sum records using the specified value accessor function.</span></li></ul></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec280"/><span class="koboSpan" id="kobo.85.1">There's more...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.86.1">We have only touched a very limited number of Crossfilter functions. </span><span class="koboSpan" id="kobo.86.2">Crossfilter provides a lot more capability when it comes to how dimension and group can be created; for more information please check out its API reference: </span><a class="ulink" href="https://github.com/square/crossfilter/wiki/API-Reference">
<span><span class="koboSpan" id="kobo.87.1">https://github.com/square/crossfilter/wiki/API-Reference</span></span>
</a><span class="koboSpan" id="kobo.88.1">.</span></p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec281"/><span class="koboSpan" id="kobo.89.1">See also</span></h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.90.1">Data Dimension: </span><a class="ulink" href="http://en.wikipedia.org/wiki/Dimension_(data_warehouse)">
<span><span class="koboSpan" id="kobo.91.1">http://en.wikipedia.org/wiki/Dimension_(data_warehouse)</span></span>
</a></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.92.1">Cardinality: </span><a class="ulink" href="http://en.wikipedia.org/wiki/Cardinality">
<span><span class="koboSpan" id="kobo.93.1">http://en.wikipedia.org/wiki/Cardinality</span></span>
</a></li></ul></div><p><span class="koboSpan" id="kobo.94.1">At this point we have everything we want to analyze. </span><span class="koboSpan" id="kobo.94.2">Now, let's see how this can be done in minutes instead of hours or days.</span></p></div></div></div></div>
<div id="book-columns"><div id="book-inner"><div class="section" title="Dimensional charting - dc.js"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec93"/><span class="koboSpan" id="kobo.1.1">Dimensional charting - dc.js</span></h1></div></div></div><p><span class="koboSpan" id="kobo.2.1">Visualizing Crossfilter dimensions and groups is precisely the reason why </span><code class="literal"><span class="koboSpan" id="kobo.3.1">dc.js</span></code><span class="koboSpan" id="kobo.4.1"> was created. </span><span class="koboSpan" id="kobo.4.2">This handy JavaScript library was created by your humble author and is designed to allow you to visualize Crossfilter dimensional dataset easily and quickly. </span><span class="koboSpan" id="kobo.4.3">This library was originally created by your humble author now maintained by a group of community contributor led by Gordon Woodhull.</span></p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note87"/><span class="koboSpan" id="kobo.5.1">Note</span></h3><p><span class="koboSpan" id="kobo.6.1">dc.js version 2.0 beta that we used in this chapter has not yet been upgrade to D3 v4.x therefore you will notice usage and references to old D3 v3 API which is somewhat different from what we have witnessed so far in this book.</span></p></div></div><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec282"/><span class="koboSpan" id="kobo.7.1">Getting ready</span></h2></div></div></div><p><span class="koboSpan" id="kobo.8.1">Open your local copy of the following file as reference:</span></p><p>
<a class="ulink" href="https://github.com/NickQiZhu/d3-cookbook-v2/blob/master/src/appendix-a/dc.html">
<span><span class="koboSpan" id="kobo.9.1">https://github.com/NickQiZhu/d3-cookbook-v2/blob/master/src/appendix-a/dc.html</span></span>
</a>
</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec283"/><span class="koboSpan" id="kobo.10.1">How to do it...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.11.1">In this example we will create three charts:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.12.1">A line chart for visualizing total amount of transaction on time series</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.13.1">A pie chart to visualize number of transactions by payment type</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.14.1">A bar chart showing number of sales by purchase quantity</span></li></ul></div><p><span class="koboSpan" id="kobo.15.1">Here is what the code looks like:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.16.1">&lt;div id="area-chart"&gt;&lt;/div&gt; 
&lt;div id="donut-chart"&gt;&lt;/div&gt; 
&lt;div id="bar-chart"&gt;&lt;/div&gt; 
... 
</span><span class="koboSpan" id="kobo.16.2">dc.lineChart("#area-chart") 
                .width(500) 
                .height(250) 
                .dimension(hours) 
                .group(totalByHour) 
                .x(d3.time.scale().domain([ 
                 timeFormat.parse("2011-11-14T01:17:54Z"),  
                  timeFormat.parse("2011-11-14T18:09:52Z") 
])) 
                .elasticY(true) 
                .xUnits(d3.time.hours) 
                .renderArea(true) 
                .xAxis().ticks(5); 
 
        dc.pieChart("#donut-chart") 
                .width(250) 
                .height(250) 
                .radius(125) 
                .innerRadius(50) 
                .dimension(types) 
                .group(transactionByType); 
                 
        dc.barChart("#bar-chart") 
                .width(500) 
                .height(250) 
                .dimension(quantities) 
                .group(salesByQuantity) 
                .x(d3.scale.linear().domain([0, 7])) 
                .y(d3.scale.linear().domain([0, 12])) 
                .centerBar(true); 
 
        dc.renderAll(); 
</span></pre><p><span class="koboSpan" id="kobo.17.1">This generates a group of coordinated interactive charts:</span></p><p>
</p><div class="mediaobject"><span class="koboSpan" id="kobo.18.1"><img src="graphics/image_65_003.jpg" alt="How to do it..."/></span></div><p>
</p><p><span class="koboSpan" id="kobo.19.1">Interactive dc.js charts</span></p><p><span class="koboSpan" id="kobo.20.1">When you click or drag your mouse across these charts you will see the underlying Crossfilter dimensions being filtered accordingly on all charts:</span></p><p>
</p><div class="mediaobject"><span class="koboSpan" id="kobo.21.1"><img src="graphics/image_65_004.jpg" alt="How to do it..."/></span></div><p>
</p><p><span class="koboSpan" id="kobo.22.1">Filtered dc.js charts</span></p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec284"/><span class="koboSpan" id="kobo.23.1">How it works...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.24.1">As we have seen through this example, </span><code class="literal"><span class="koboSpan" id="kobo.25.1">dc.js</span></code><span class="koboSpan" id="kobo.26.1"> is designed to generate standard chart-based visualization on top of Crossfilter. </span><span class="koboSpan" id="kobo.26.2">Each </span><code class="literal"><span class="koboSpan" id="kobo.27.1">dc.js</span></code><span class="koboSpan" id="kobo.28.1"> chart is designed to be interactive so user can apply dimensional filter by simply interacting with the chart. </span><code class="literal"><span class="koboSpan" id="kobo.29.1">dc.js</span></code><span class="koboSpan" id="kobo.30.1"> is built entirely on D3, therefore, its API is very D3-like and I am sure with the knowledge you have gained from this book you will feel quite at home when using </span><code class="literal"><span class="koboSpan" id="kobo.31.1">dc.js</span></code><span class="koboSpan" id="kobo.32.1">. </span><span class="koboSpan" id="kobo.32.2">Charts are usually created in the following steps.</span></p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="koboSpan" id="kobo.33.1">First step creates a chart object by calling one of the chart creation functions while passing in a D3 selection for its anchor element, which in our example is the </span><code class="literal"><span class="koboSpan" id="kobo.34.1">div</span></code><span class="koboSpan" id="kobo.35.1"> element to host the chart:
</span><pre class="programlisting"><span class="koboSpan" id="kobo.36.1">      &lt;div id="area-chart"&gt;&lt;/div&gt; 
      ... 
      </span><span class="koboSpan" id="kobo.36.2">dc.lineChart("#area-chart") 
</span></pre></li><li class="listitem"><span class="koboSpan" id="kobo.37.1">Then we set the </span><code class="literal"><span class="koboSpan" id="kobo.38.1">width</span></code><span class="koboSpan" id="kobo.39.1">, </span><code class="literal"><span class="koboSpan" id="kobo.40.1">height</span></code><span class="koboSpan" id="kobo.41.1">, </span><code class="literal"><span class="koboSpan" id="kobo.42.1">dimension</span></code><span class="koboSpan" id="kobo.43.1">, and </span><code class="literal"><span class="koboSpan" id="kobo.44.1">group</span></code><span class="koboSpan" id="kobo.45.1"> for each chart:
</span><pre class="programlisting"><span class="koboSpan" id="kobo.46.1">        chart.width(500) 
             .height(250) 
             .dimension(hours) 
             .group(totalByHour) 
</span></pre></li></ol></div><p><span class="koboSpan" id="kobo.47.1">For coordinate charts rendered on a Cartesian plane you also need to set the </span><code class="literal"><span class="koboSpan" id="kobo.48.1">x</span></code><span class="koboSpan" id="kobo.49.1"> and </span><code class="literal"><span class="koboSpan" id="kobo.50.1">y</span></code><span class="koboSpan" id="kobo.51.1"> scale:</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.52.1">chart.x(d3.time.scale().domain([ 
  timeFormat.parse("2011-11-14T01:17:54Z"),  
  timeFormat.parse("2011-11-14T18:09:52Z") 
])).elasticY(true) 
</span></pre><p><span class="koboSpan" id="kobo.53.1">In this first case, we explicitly set the x axis scale while letting the chart automatically calculate the y-scale for us. </span><span class="koboSpan" id="kobo.53.2">While in the next case we set both x and y scale explicitly.</span></p><pre class="programlisting"><span class="koboSpan" id="kobo.54.1">chart.x(d3.scale.linear().domain([0, 7])) 
        .y(d3.scale.linear().domain([0, 12])) 
</span></pre></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec285"/><span class="koboSpan" id="kobo.55.1">There's more...</span></h2></div></div></div><p><span class="koboSpan" id="kobo.56.1">Different charts have different functions for customizing their look-and-feel and you can see the complete API reference at </span><a class="ulink" href="https://github.com/dc-js/dc.js/blob/master/web/docs/api-latest.md">
<span><span class="koboSpan" id="kobo.57.1">https://github.com/dc-js/dc.js/blob/master/web/docs/api-latest.md</span></span>
</a><span class="koboSpan" id="kobo.58.1">.</span></p><p><span class="koboSpan" id="kobo.59.1">Leveraging </span><code class="literal"><span class="koboSpan" id="kobo.60.1">crossfilter.js</span></code><span class="koboSpan" id="kobo.61.1"> and </span><code class="literal"><span class="koboSpan" id="kobo.62.1">dc.js</span></code><span class="koboSpan" id="kobo.63.1"> allows you to build sophisticated data analytics dashboard fairly quickly. </span><span class="koboSpan" id="kobo.63.2">The following is a demo dashboard for analyzing the NASDAQ 100 Index for the last 20 years </span><a class="ulink" href="https://dc-js.github.io/dc.js/">
<span><span class="koboSpan" id="kobo.64.1">https://dc-js.github.io/dc.js/</span></span>
</a><span class="koboSpan" id="kobo.65.1">:</span></p><p>
</p><div class="mediaobject"><span class="koboSpan" id="kobo.66.1"><img src="graphics/image_65_006.jpg" alt="There's more..."/></span></div><p>
</p><p><span class="koboSpan" id="kobo.67.1">dc.js NASDAQ demo</span></p><p><span class="koboSpan" id="kobo.68.1">At the time of writing this book, </span><code class="literal"><span class="koboSpan" id="kobo.69.1">dc.js</span></code><span class="koboSpan" id="kobo.70.1"> supports the following chart types:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.71.1">Bar chart (stackable)</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.72.1">Line chart (stackable)</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.73.1">Area chart (stackable)</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.74.1">Pie chart</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.75.1">Bubble chart</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.76.1">Composite chart</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.77.1">Choropleth map</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.78.1">Boxplot</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.79.1">Heatmap</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.80.1">Sparkline</span></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.81.1">Bubble overlay chart</span></li></ul></div><p><span class="koboSpan" id="kobo.82.1">And many more, see this page for a complete list of supported chart types </span><span>
<a class="ulink" href="http://dc-js.github.io/dc.js/examples/"><span class="koboSpan" id="kobo.83.1">http://dc-js.github.io/dc.js/examples/</span></a>
</span><span class="koboSpan" id="kobo.84.1">. </span><span class="koboSpan" id="kobo.84.2">For more information on the </span><code class="literal"><span class="koboSpan" id="kobo.85.1">dc.js</span></code><span class="koboSpan" id="kobo.86.1"> 'library please check out our Wiki page at </span><a class="ulink" href="https://github.com/dc-js/dc.js">
<span><span class="koboSpan" id="kobo.87.1">https://github.com/dc-js/dc.js</span></span>
</a><span class="koboSpan" id="kobo.88.1">.</span></p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec286"/><span class="koboSpan" id="kobo.89.1">See also</span></h2></div></div></div><p><span class="koboSpan" id="kobo.90.1">The following are some other useful D3 based reusable charting libraries. </span><span class="koboSpan" id="kobo.90.2">Although, unlike </span><code class="literal"><span class="koboSpan" id="kobo.91.1">dc.js</span></code><span class="koboSpan" id="kobo.92.1"> they are not designed to work with Crossfilter natively nevertheless they tend to be richer and more flexible when tackling general visualization challenges:</span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.93.1">NVD3: </span><a class="ulink" href="http://nvd3.org/">
<span><span class="koboSpan" id="kobo.94.1">http://nvd3.org/</span></span>
</a></li><li class="listitem" style="list-style-type: disc"><span class="koboSpan" id="kobo.95.1">Rickshaw: </span><a class="ulink" href="http://code.shutterstock.com/rickshaw/">
<span><span class="koboSpan" id="kobo.96.1">http://code.shutterstock.com/rickshaw/</span></span>
</a></li></ul></div></div></div></div></div></body></html>