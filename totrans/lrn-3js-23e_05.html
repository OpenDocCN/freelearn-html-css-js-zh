<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Learning to Work with Geometries</h1></div></div></div><p>In the previous chapters, you learned a lot about how to work with Three.js. You know how to create a basic scene, add lighting, and configure the material for your meshes. In <a class="link" href="ch02.html" title="Chapter 2. Basic Components That Make Up a Three.js Scene">Chapter 2</a>, <em>Basic Components That Make Up a Three.js Scene</em>, we touched upon, but didn't really go into the details of, the available geometries that Three.js provides and that you can use to create your 3D objects. In this and the next chapter, we'll walk you through all the geometries (except <code class="literal">THREE.Line</code>, which we discussed in the previous chapter) Three.js provides out of the box. In this chapter, we'll look at the following geometries:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.CircleGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.RingGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.PlaneGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.ShapeGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.BoxGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.SphereGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.CylinderGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.TorusGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.TorusKnotGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.PolyhedronGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.IcosahedronGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.OctahedronGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.TetraHedronGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.DodecahedronGeometry</code></li></ul></div><p>And in the next chapter, we'll have a look at the following complex geometries:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.ConvexGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.LatheGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.ExtrudeGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.TubeGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.ParametricGeometry</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">THREE.TextGeometry</code></li></ul></div><p>So let's look at all the basic geometries that Three.js has to offer.</p><div><div><div><div><h1 class="title"><a id="ch05lvl1sec30"/>The basic geometries provided by Three.js</h1></div></div></div><p>In Three.js, we <a id="id449" class="indexterm"/>have a couple of geometries that result in a two-dimensional mesh and a larger number of geometries that create a three-dimensional mesh. In this section, we'll first look at the 2D geometries: <code class="literal">THREE.CircleGeometry</code>, <code class="literal">THREE.RingGeometry</code>, <code class="literal">THREE.PlaneGeometry</code>, and <code class="literal">THREE.ShapeGeometry</code>. After that, we'll explore all the basic 3D geometries that are available.</p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec41"/>Two-dimensional geometries</h2></div></div></div><p>Two-dimensional objects<a id="id450" class="indexterm"/> look like flat objects and, as the name implies, only have two dimensions. The first two-dimensional geometry on the list is <code class="literal">THREE.PlaneGeometry</code>.</p><div><div><div><div><h3 class="title"><a id="ch05lvl3sec06"/>THREE.PlaneGeometry</h3></div></div></div><p>A <code class="literal">PlaneGeometry</code> <a id="id451" class="indexterm"/>object can be used <a id="id452" class="indexterm"/>to create a very simple two-dimensional rectangle. For an example of this geometry, look at the <code class="literal">01-basic-2d-geometries-plane.html</code> example in the sources for this chapter. A rectangle created using <code class="literal">PlaneGeometry</code> is shown in the following screenshot:</p><div><img src="img/2215OS_05_01.jpg" alt="THREE.PlaneGeometry"/></div><p>Creating <a id="id453" class="indexterm"/>this geometry is very simple, as follows:</p><div><pre class="programlisting">new THREE.PlaneGeometry(width, height,widthSegments,heightSegments);</pre></div><p>In this example<a id="id454" class="indexterm"/> for <code class="literal">THREE.PlaneGeometry</code>, you can change these properties and directly see the effect it has on the resulting 3D object. An explanation of these properties is shown in the following table:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">width</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>This is<a id="id455" class="indexterm"/> the width of the rectangle.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id456" class="indexterm"/> is the height of the rectangle.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">widthSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id457" class="indexterm"/> is the number of segments the width should be divided into. This defaults to <code class="literal">1</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">heightSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id458" class="indexterm"/> is the number of segments the height should be divided into. This defaults to <code class="literal">1</code>.</p>
</td></tr></tbody></table></div><p>As you can see, this is not a very complex geometry. You just specify the size, and you're done. If you want to create more faces (for example, when you want to create a checkered pattern), you can use the <code class="literal">widthSegments</code> and <code class="literal">heightSegments</code> properties to divide the geometry into smaller faces.</p><p>Before we move on to the next geometry, here's a quick note on the material that is used for this example, and which we also use for most of the other examples in this chapter. We use the following method to create a mesh based on the geometry:</p><div><pre class="programlisting">function createMesh(geometry) {

  // assign two materials
  var meshMaterial = new THREE.MeshNormalMaterial();
  meshMaterial.side = THREE.DoubleSide;
  var wireframeMaterial = new THREE.MeshBasicMaterial();
  wireFrameMaterial.wireframe = true;

  // create a multimaterial
  var mesh = THREE.SceneUtils.createMultiMaterialObject(geometry,[meshMaterial,wireframeMaterial]);
  return mesh;
}</pre></div><p>In this function, we <a id="id459" class="indexterm"/>create a multimaterial mesh based on the mesh provided. The first material used is <code class="literal">THREE.MeshNormalMaterial</code>. As you learned in the previous chapter, <code class="literal">THREE.MeshNormalMaterial</code> creates colored faces based on its normal vector (the orientation of the face). We also set this material to be double-sided (<code class="literal">THREE.DoubleSide</code>). If we don't do this, we won't see this object when its back is turned to the camera. Besides <code class="literal">THREE.MeshNormalMaterial</code>, we also add <code class="literal">THREE.MeshBasicMaterial</code>, on which we enable the wireframe property. This way, we can nicely see the 3D shape of the object and the faces that are created for a specific geometry.</p><div><div><h3 class="title"><a id="tip13"/>Tip</h3><p>If you want to access the properties of a geometry after it has been created, you can't just say <code class="literal">plane.width</code>. To access the properties of a geometry, you have to use the <code class="literal">parameters</code> property of the object. So, to get the <code class="literal">width</code> property of the <code class="literal">plane</code> object we created in this section, you'd have to use <code class="literal">plane.parameters.width</code>.</p></div></div></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec07"/>THREE.CircleGeometry</h3></div></div></div><p>You<a id="id460" class="indexterm"/> can <a id="id461" class="indexterm"/>probably already guess what <code class="literal">THREE.CircleGeometry</code> creates. With this geometry, you can create a very simple two-dimensional circle (or partial circle). Let's first look at the example for this geometry, <code class="literal">02-basic-2d-geometries-circle.html</code>. In the following screenshot, you can find an example <a id="id462" class="indexterm"/>where we created <code class="literal">THREE.CircleGeometry</code> with a <code class="literal">thetaLength</code> value that is smaller than <code class="literal">2 * PI</code>:</p><div><img src="img/2215OS_05_02.jpg" alt="THREE.CircleGeometry"/></div><p>Note that <code class="literal">2 * PI</code> represents a complete circle in radians. If you'd rather work with degrees than radians, converting between them is very easy. The following two functions can help you to convert between radians and degrees, as follows:</p><div><pre class="programlisting">function deg2rad(degrees) {
  return degrees * Math.PI / 180;
}

function rad2deg(radians) {
  return radians * 180 / Math.PI;
}</pre></div><p>In this example, you can see and control a mesh created using <code class="literal">THREE.CircleGeometry</code>. When you create <code class="literal">THREE.CircleGeometry</code>, you can specify a few properties that define what the circle looks like, as follows:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id463" class="indexterm"/>radius of a circle defines its size. The radius is the distance from the center of the circle to its side. The default value is <code class="literal">50</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">segments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id464" class="indexterm"/> property defines the number of faces that are used to create the circle. The minimum number is <code class="literal">3</code>, and if not specified, this number defaults to <code class="literal">8</code>. A higher value means a smoother circle.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaStart</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id465" class="indexterm"/>property defines the position from which to start drawing the circle. This value can range from <code class="literal">0</code> to <code class="literal">2 * PI</code>, and the default value is <code class="literal">0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaLength</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id466" class="indexterm"/>property defines to what extent the circle is completed. This defaults to <code class="literal">2 * PI</code> (a full circle) when not specified. For instance, if you specify <code class="literal">0.5 * PI</code> for this value, you'll get a quarter circle. Use this property together with the <code class="literal">thetaStart</code> property to define the shape of the circle.</p>
</td></tr></tbody></table></div><p>You can <a id="id467" class="indexterm"/>create a full circle using the following snippet of code:</p><div><pre class="programlisting">new THREE.CircleGeometry(3, 12);</pre></div><p>If you wanted to create half a circle from this geometry, you'd use something like this:</p><div><pre class="programlisting">new THREE.CircleGeometry(3, 12, 0, Math.PI);</pre></div><p>Before moving on to the next geometry, a quick note on the orientation that Three.js uses when creating these two-dimensional shapes (<code class="literal">THREE.PlaneGeometry</code>, <code class="literal">THREE.CircleGeometry</code>, and <code class="literal">THREE.ShapeGeometry</code>): Three.js creates these objects <em>standing up</em>, so they lie along the <em>x</em>-<em>y</em> plane. This is very logical since they are two-dimensional shapes. However, often, especially with <code class="literal">THREE.PlaneGeometry</code>, you want to have the mesh lying down on the ground (the <code class="literal">x</code>-<code class="literal">z</code> plane)—some sort of ground area on which you can position the rest of your objects. The easiest way to create a two-dimensional object that is horizontally orientated instead of vertically is by rotating the mesh a quarter rotation backwards (<code class="literal">-PI/2</code>) around its <em>x</em> axis, as follows:</p><div><pre class="programlisting">mesh.rotation.x =- Math.PI/2;</pre></div><p>That's all for <code class="literal">THREE.CircleGeometry</code>. The next geometry, <code class="literal">THREE.RingGeometry</code>, looks a lot like <code class="literal">THREE.CircleGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec08"/>THREE.RingGeometry</h3></div></div></div><p>With<a id="id468" class="indexterm"/> <code class="literal">THREE.RingGeometry</code>, you <a id="id469" class="indexterm"/>can create a 2D object that not only closely resembles <code class="literal">THREE.CircleGeometry</code>, but also allows you to define a hole in the center (see <code class="literal">03-basic-3d-geometries-ring.html</code>):</p><div><img src="img/2215OS_05_03.jpg" alt="THREE.RingGeometry"/></div><p>
<code class="literal">THREE.RingGeometry</code> doesn't have any required properties (see the next table for the default values), so to create this geometry, you only have to specify the following:</p><div><pre class="programlisting">Var ring = new THREE.RingGeometry();</pre></div><p>You can further customize the appearance of the ring geometry by passing the following arguments into the constructor:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">innerRadius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>The<a id="id470" class="indexterm"/> inner radius of a circle defines the size of the center hole. If this property is set to <code class="literal">0</code>, no hole will be shown. The default value is <code class="literal">0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">outerRadius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>The <a id="id471" class="indexterm"/>outer radius of a circle defines its size. The radius is the distance from the center of the circle to its side. The default value is <code class="literal">50</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id472" class="indexterm"/> is the number of diagonal segments that will be used to create the circle. A higher value means a smoother ring. The default value is <code class="literal">8</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">phiSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id473" class="indexterm"/> is the number of segments required to be used along the length of the ring. The default value is <code class="literal">8</code>. This doesn't really affect the smoothness of the circle but increases the number of faces.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaStart</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id474" class="indexterm"/>defines the position from which to start drawing the circle. This value can range from <code class="literal">0</code> to <code class="literal">2 * PI</code>, and the default value is <code class="literal">0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaLength</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id475" class="indexterm"/>defines the extent to which the circle is completed. This defaults to <code class="literal">2 * PI</code> (a full circle) when not specified. For instance, if you specify <code class="literal">0.5 * PI</code> for this value, you'll get a quarter circle. Use this property together with the <code class="literal">thetaStart</code> property to define the shape of the circle.</p>
</td></tr></tbody></table></div><p>In the next section, we'll look at the last of the two-dimensional shapes: <code class="literal">THREE.ShapeGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec09"/>THREE.ShapeGeometry</h3></div></div></div><p>
<code class="literal">THREE.PlaneGeometry</code> and <code class="literal">THREE.CircleGeometry</code> have<a id="id476" class="indexterm"/> limited<a id="id477" class="indexterm"/> ways of customizing their appearance. If you want to create custom two-dimensional shapes, you can use <code class="literal">THREE.ShapeGeometry</code>. With <code class="literal">THREE.ShapeGeometry</code>, you have a couple of functions you can call to create your own shapes. You can compare this functionality with the <code class="literal">&lt;path&gt;</code> element functionality that is also available to the HTML canvas element and SVG. Let's start with an example, and after that, we'll show you how you can use the various functions to draw your own shape. The <code class="literal">04-basic-2d-geometries-shape.html</code> example can be found in the sources of this chapter. The following screenshot shows this example:</p><div><img src="img/2215OS_05_04.jpg" alt="THREE.ShapeGeometry"/></div><p>In this example, you<a id="id478" class="indexterm"/> can see a custom-created two-dimensional shape. Before going into a description of the properties, first let's look at the code that is used to create this shape. Before we create <code class="literal">THREE.ShapeGeometry</code>, we first have to create <code class="literal">THREE.Shape</code>. You can trace these steps by looking at the previous screenshot, where we start in the bottom-right corner. Here's how we created <code class="literal">THREE.Shape</code>:</p><div><pre class="programlisting">function drawShape() {
  // create a basic shape
  var shape = new THREE.Shape();

  // startpoint
  shape.moveTo(10, 10);

  // straight line upwards
  shape.lineTo(10, 40);

  // the top of the figure, curve to the right
  shape.bezierCurveTo(15, 25, 25, 25, 30, 40);

  // spline back down
  shape.splineThru(
    [new THREE.Vector2(32, 30),
      new THREE.Vector2(28, 20),
      new THREE.Vector2(30, 10),
    ])

  // curve at the bottom
  shape.quadraticCurveTo(20, 15, 10, 10);

  // add 'eye' hole one
  var hole1 = new THREE.Path();
  hole1.absellipse(16, 24, 2, 3, 0, Math.PI * 2, true);
  shape.holes.push(hole1);

  // add 'eye hole 2'
  var hole2 = new THREE.Path();
  hole2.absellipse(23, 24, 2, 3, 0, Math.PI * 2, true);
  shape.holes.push(hole2);

  // add 'mouth'
  var hole3 = new THREE.Path();
  hole3.absarc(20, 16, 2, 0, Math.PI, true);
  shape.holes.push(hole3);

  // return the shape
  return shape;
}</pre></div><p>In this piece<a id="id479" class="indexterm"/> of code, you can see that we created the outline of this shape using lines, curves, and splines. After that, we punched a number of holes in this shape using the <code class="literal">holes</code> property of <code class="literal">THREE.Shape</code>. In this section, though, we're talking about <code class="literal">THREE.ShapeGeometry</code> and not <code class="literal">THREE.Shape</code>. To create a geometry from <code class="literal">THREE.Shape</code>, we need to pass in <code class="literal">THREE.Shape</code> (returned in our case from the <code class="literal">drawShape()</code> function) as the argument to <code class="literal">THREE.ShapeGeometry</code>, as follows:</p><div><pre class="programlisting">new THREE.ShapeGeometry(drawShape());</pre></div><p>The result from this function is a geometry that can be used to create a mesh. There is also an alternative way of creating <code class="literal">THREE.ShapeGeometry</code> when you already have a shape. You can call <code class="literal">shape.makeGeometry(options)</code>, which will return an instance of <code class="literal">THREE.ShapeGeometry</code> (for an explanation of the options, see the next table).</p><p>Let's first look at the parameters you can pass in to <code class="literal">THREE.ShapeGeometry</code>:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">shapes</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>These<a id="id480" class="indexterm"/> are one or more <code class="literal">THREE.Shape</code> objects that are used to create <code class="literal">THREE.Geometry</code>. You can either pass in a single <code class="literal">THREE.Shape</code> object or an array of <code class="literal">THREE.Shape</code> objects.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">options</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>You<a id="id481" class="indexterm"/> can also pass in some <code class="literal">options</code> that are applied to all the shapes passed in with the <code class="literal">shapes</code> argument. An explanation of these options is given here:</p>
<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">curveSegments</code>: This property determines how smooth the curves created from the shape are. The default value is <code class="literal">12</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">material</code>: This is the <code class="literal">materialIndex</code> property used for the faces created for the specified shapes. When you use <code class="literal">THREE.MeshFaceMaterial</code> together with this geometry, the <code class="literal">materialIndex</code> property determines which of the materials passed in is used for the faces of the shapes passed in.</li><li class="listitem" style="list-style-type: disc"><code class="literal">UVGenerator</code>: When you use a texture with your material, the UV mapping determines what part of a texture is used for a specific face. With the <code class="literal">UVGenerator</code> property, you can pass in your own object that will create the UV settings for the faces that are created for the shapes passed in. More information on UV settings can be found in <a class="link" href="ch10.html" title="Chapter 10. Loading and Working with Textures">Chapter 10</a>, <em>Loading and Working with Textures</em>. If none are specified, <code class="literal">THREE.ExtrudeGeometry.WorldUVGenerator</code> is used.</li></ul></div>
</td></tr></tbody></table></div><p>The most important part of <code class="literal">THREE.ShapeGeometry</code> is <code class="literal">THREE.Shape</code>, which you use to create the shape, so let's look at the list of drawing functions<a id="id482" class="indexterm"/> you can use to create <code class="literal">THREE.Shape</code> (note that these are actually functions of the <code class="literal">THREE.Path</code> object, from which <code class="literal">THREE.Shape</code> extends):</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">moveTo(x,y)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Move<a id="id483" class="indexterm"/> the drawing position to the <em>x</em> and <em>y</em> coordinates specified. </p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">lineTo(x,y)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Draw a<a id="id484" class="indexterm"/> line from the current position (for example, set by the <code class="literal">moveTo</code> function) to the <em>x</em> and <em>y</em> coordinates provided.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">quadraticCurveTo(aCPx, aCPy, x, y)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>You can use<a id="id485" class="indexterm"/> two different ways of specifying curves. You can use this <code class="literal">quadraticCurveTo</code> function, or you can use the <code class="literal">bezierCurveTo</code> function (see the next table row). The difference between these two functions is how you specify the curvature of the curve. The following figure explains the differences between these two options:</p>
<div><img src="img/2215OS_05_05.jpg" alt="THREE.ShapeGeometry"/></div>
<p>For a quadratic curve, we need to specify one additional point (using the <code class="literal">aCPx</code> and <code class="literal">aCPy</code> arguments), and the curve is based solely on that point and, of course, the specified end point (from the <em>x</em> and <em>y</em> arguments). For a cubic curve (used by the <code class="literal">bezierCurveTo</code> function), you specify two additional points to define the curve. The start point is the current position of the path.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">bezierCurveTo(aCPx1, aCPy1, aCPx2, aCPy2,  x, y)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id486" class="indexterm"/>draws a curve based on the arguments supplied. For an explanation, see the previous table entry. The curve is drawn based on the two coordinates that define the curve (<code class="literal">aCPx1</code>, <code class="literal">aCPy1</code>, <code class="literal">aCPx2</code>, and <code class="literal">aCPy2</code>) and the end coordinate (<em>x</em> and <em>y</em>). The start point is the current position of the path.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">splineThru(pts)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id487" class="indexterm"/> function draws a fluid line through the set of coordinates provided (<code class="literal">pts</code>). This argument should be an array of <code class="literal">THREE.Vector2</code> objects. The start point is the current position of the path.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">arc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id488" class="indexterm"/>draws a circle (or part of a circle). The circle starts from the current position of the path. Here, <code class="literal">aX</code> and <code class="literal">aY</code> are used as offsets from the current position. Note that <code class="literal">aRadius</code> sets the size of the circle and <code class="literal">aStartAngle</code> and <code class="literal">aEndAngle</code> define how large a part of the circle is drawn. The Boolean property <code class="literal">aClockwise</code> determines whether the circle is drawn clockwise or counterclockwise.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">absArc(aX, aY, aRadius, aStartAngle, aEndAngle, AClockwise)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>See the <a id="id489" class="indexterm"/>description of <code class="literal">arc</code>. The position is absolute instead of relative to the current position.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>See the <a id="id490" class="indexterm"/>description of <code class="literal">arc</code>. As an addition, with the <code class="literal">ellipse</code> function, we can separately set the <em>x</em> radius and the <em>y</em> radius.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">absEllipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>See the <a id="id491" class="indexterm"/>description of <code class="literal">ellipse</code>. The position is absolute instead of relative to the current position.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fromPoints(vectors)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>If you pass in<a id="id492" class="indexterm"/> an array of <code class="literal">THREE.Vector2</code> (or <code class="literal">THREE.Vector3</code>) objects into this function, Three.js will create a path using straight lines from the supplied vectors.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">holes</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The <code class="literal">holes</code> property <a id="id493" class="indexterm"/>contains an array of <code class="literal">THREE.Shape</code> objects. Each of the objects in this array is rendered as a hole. A good example of this is the example we saw at the beginning of this section. In that code fragment, we added three <code class="literal">THREE.Shape</code> objects to this array. One for the left eye, one for the right eye, and one for the mouth of our main <code class="literal">THREE.Shape</code> object. </p>
</td></tr></tbody></table></div><p>In this example, we created <code class="literal">THREE.ShapeGeometry</code> from a <code class="literal">THREE.Shape</code> object using the new <code class="literal">THREE.ShapeGeometry(drawShape()))</code> constructor. The <code class="literal">THREE.Shape</code> object itself also has a few <a id="id494" class="indexterm"/>helper functions you can use to create geometries. They are as follows:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">makeGeometry(options)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id495" class="indexterm"/> returns <code class="literal">THREE.ShapeGeometry</code> from <code class="literal">THREE.Shape</code>. For more information on the available options, look at the properties of <code class="literal">THREE.ShapeGeometry</code>, which we discussed earlier.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">createPointsGeometry(divisions)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id496" class="indexterm"/>converts the shape to a set of points. The <code class="literal">divisions</code> property defines how many points are returned. If this value is higher, more points are returned and the resulting line is smoother. The divisions apply to each part of the path separately.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">createSpacedPointsGeometry(divisions)</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Even<a id="id497" class="indexterm"/> this converts the shape into a set of points, but this time, apply the division to the complete path at once. </p>
</td></tr></tbody></table></div><p>When you create a set of points, use <code class="literal">createPointsGeometry</code> or <code class="literal">createSpacedPointsGeometry</code>; you can use the created points to draw a line, as follows:</p><div><pre class="programlisting">new THREE.Line( shape.createPointsGeometry(10), new THREE.LineBasicMaterial( { color: 0xff3333, linewidth: 2 } ) );</pre></div><p>When you click on the <strong>asPoints</strong> or <strong>asSpacedPoints</strong> buttons in the example, you'll see something like this:</p><div><img src="img/2215OS_05_06.jpg" alt="THREE.ShapeGeometry"/></div><p>That's it for the two-dimensional shapes. The next part will show and explain the basic three-dimensional shapes.</p></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec42"/>Three-dimensional geometries</h2></div></div></div><p>In this <a id="id498" class="indexterm"/>section on the basic three-dimensional <a id="id499" class="indexterm"/>geometries, we'll start with the geometry we've already seen a couple of times: <code class="literal">THREE.BoxGeometry</code>.</p><div><div><div><div><h3 class="title"><a id="ch05lvl3sec10"/>THREE.BoxGeometry</h3></div></div></div><p>
<code class="literal">THREE.BoxGeometry</code><a id="id500" class="indexterm"/> is a very simple <a id="id501" class="indexterm"/>3D geometry that allows you to create a box by specifying its width, height, and depth. We've added an example, <code class="literal">05-basic-3d-geometries-cube.html</code>, where you can play around with these properties.  The following screenshot shows this geometry:</p><div><img src="img/2215OS_05_07.jpg" alt="THREE.BoxGeometry"/></div><p>As you can see in this example, by changing the <code class="literal">width</code>, <code class="literal">height</code>, and <code class="literal">depth</code> properties of <code class="literal">THREE.BoxGeometry</code>, you can control the size of the resulting mesh. These three properties are also mandatory when you create a new cube, as follows:</p><div><pre class="programlisting">new THREE.BoxGeometry(10,10,10);</pre></div><p>In the example, you can also see a couple of other properties that you can define on the cube. The following table explains all the properties:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Width</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>This is<a id="id502" class="indexterm"/> the width of the cube. This is the length of the vertices of the cube along the <em>x</em> axis.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id503" class="indexterm"/> is the height of the cube. This is the length of the vertices of the cube along the <em>y</em> axis.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">depth</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id504" class="indexterm"/> is the depth of the cube. This is the length of the vertices of the cube along the <em>z</em> axis.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">widthSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id505" class="indexterm"/> is the number of segments into which we divide a face along the cube's <em>x</em> axis. The default value is <code class="literal">1</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">heightSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id506" class="indexterm"/> is the number of segments into which we divide a face along the cube's <em>y</em> axis. The default value is <code class="literal">1</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">depthSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id507" class="indexterm"/>is the number of segments into which we divide a face along the cube's <em>z</em> axis. The default value is <code class="literal">1</code>.</p>
</td></tr></tbody></table></div><p>By increasing the various segment properties, you divide the six main faces of the cube into smaller faces. This is useful if you want to set specific material properties on parts of the cube using <code class="literal">THREE.MeshFaceMaterial</code>. <code class="literal">THREE.BoxGeometry</code> is a very simple geometry. Another simple one is <code class="literal">THREE.SphereGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec11"/>THREE.SphereGeometry</h3></div></div></div><p>With <a id="id508" class="indexterm"/>
<code class="literal">SphereGeometry</code>, you can <a id="id509" class="indexterm"/>create a three-dimensional sphere. Let's dive straight into the example, <code class="literal">06-basic-3d-geometries-sphere.html</code>:</p><div><img src="img/2215OS_05_08.jpg" alt="THREE.SphereGeometry"/></div><p>In the <a id="id510" class="indexterm"/>previous screenshot, we show you a half-open sphere that was created based on <code class="literal">THREE.SphereGeometry</code>. This geometry is a very flexible one and can be used to create all kinds of sphere-related geometries. A basic <code class="literal">THREE.SphereGeometry</code>, though, can be created as easily as this: <code class="literal">new</code> <code class="literal">THREE.SphereGeometry()</code>. The following properties can be used to tune what the resulting mesh looks like:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id511" class="indexterm"/>is used to set the radius for the sphere. This defines how large the resulting mesh will be. The default value is <code class="literal">50</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">widthSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id512" class="indexterm"/>is the number of segments to be used vertically. More segments means a smoother surface. The default value is <code class="literal">8</code> and the minimum value is <code class="literal">3</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">heightSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id513" class="indexterm"/> is the number of segments to be used horizontally. The more the segments, the smoother the surface of the sphere. The default value is <code class="literal">6</code> and the minimum value is <code class="literal">2</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">phiStart</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id514" class="indexterm"/> determines where to start drawing the sphere along its <em>x</em> axis. This can range from <code class="literal">0</code> to <code class="literal">2 * PI</code>. The default value is <code class="literal">0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">phiLength</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id515" class="indexterm"/> determines how far from <code class="literal">phiStart</code> the sphere is be drawn. <code class="literal">2 * PI</code> will draw a full sphere and <code class="literal">0.5 * PI</code> will draw an open quarter sphere. The default value is <code class="literal">2 * PI</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaStart</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id516" class="indexterm"/>determines where to start drawing the sphere along its <em>x</em>-axis. This can range from <code class="literal">0</code> to <code class="literal">PI</code>, and the default value is <code class="literal">0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">thetaLength</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id517" class="indexterm"/>determines how far from <code class="literal">phiStart</code> the sphere is drawn. The <code class="literal">PI</code> value is a full sphere, whereas <code class="literal">0.5 * PI</code> will draw only the top half of the sphere. The default value is <code class="literal">PI</code>.</p>
</td></tr></tbody></table></div><p>The <code class="literal">radius</code>, <code class="literal">widthSegments</code>, and <code class="literal">heightSegments</code> properties should be clear. We've already seen these kinds of properties in other examples. The <code class="literal">phiStart</code>, <code class="literal">phiLength</code>, <code class="literal">thetaStart</code>, and <code class="literal">thetaLength</code> properties are a bit harder to understand without looking at an example. Luckily though, you can experiment with these properties from the menu in the <code class="literal">06-basic-3d-geometries-sphere.html</code> example and create interesting geometries such as these:</p><div><img src="img/2215OS_05_09.jpg" alt="THREE.SphereGeometry"/></div><p>The next one on the list is <code class="literal">THREE.CylinderGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec12"/>THREE.CylinderGeometry</h3></div></div></div><p>With<a id="id518" class="indexterm"/> this geometry, we can <a id="id519" class="indexterm"/>create cylinders and cylinder-like objects. As for all the other geometries, we also have an example (<code class="literal">07-basic-3d-geometries-cylinder.html</code>) that lets you experiment with the properties of this geometry, the screenshot for which is as follows:</p><div><img src="img/2215OS_05_10.jpg" alt="THREE.CylinderGeometry"/></div><p>When you<a id="id520" class="indexterm"/> create <code class="literal">THREE.CylinderGeometry</code>, there aren't any mandatory arguments. So you can create a cylinder by just calling <code class="literal">new THREE.CylinderGeometry()</code>. You can pass in a number of properties, as you can see in the example, to alter the appearance of this cylinder. The properties are explained in this table:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radiusTop</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id521" class="indexterm"/>sets the size this cylinder will have at the top. The default value is <code class="literal">20</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radiusBottom</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id522" class="indexterm"/> sets the size this cylinder will have at the bottom. The default value is <code class="literal">20</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id523" class="indexterm"/>property sets the height of the cylinder. The default height is <code class="literal">100</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radialSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id524" class="indexterm"/>determines the number of segments along the radius of the cylinder. This defaults to <code class="literal">8</code>. More segments means a smoother cylinder.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">heightSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id525" class="indexterm"/> determines the number of segments along the height of the cylinder. The default value is <code class="literal">1</code>. More segments means more faces.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">openEnded</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id526" class="indexterm"/>determines whether or not the mesh is closed at the top and the bottom. The default value is <code class="literal">false</code>.</p>
</td></tr></tbody></table></div><p>These are all very basic properties you can use to configure the cylinder. One interesting aspect, though, is when you use a negative radius for the top (or for the bottom). If you do this, you can use this geometry to create an hourglass-like shape, as shown in the following screenshot. One thing to note here, as you can see from the colors, is that the top half in this case is turned inside out. If you use a material that isn't configured with <code class="literal">THREE.DoubleSide</code>, you won't see the top half.</p><div><img src="img/2215OS_05_11.jpg" alt="THREE.CylinderGeometry"/></div><p>The next geometry is <code class="literal">THREE.TorusGeometry</code>, which you can use to create donut-like shapes.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec13"/>THREE.TorusGeometry</h3></div></div></div><p>A torus is<a id="id527" class="indexterm"/> a simple shape that<a id="id528" class="indexterm"/> looks<a id="id529" class="indexterm"/> like a donut. The following screenshot, which you can get yourself by opening the <code class="literal">08-basic-3d-geometries-torus.html</code> example, shows <code class="literal">THREE.TorusGeometry</code> in action:</p><div><img src="img/2215OS_05_12.jpg" alt="THREE.TorusGeometry"/></div><p>Just like most of the simple geometries, there aren't any mandatory arguments when creating <code class="literal">THREE.TorusGeometry</code>. The following table lists the arguments you can specify when you create this geometry:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id530" class="indexterm"/> sets the size of the complete torus. The default value is <code class="literal">100</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tube</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id531" class="indexterm"/> sets the radius of the tube (the actual donut). The default value for this attribute is <code class="literal">40</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radialSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id532" class="indexterm"/> determines the number of segments to be used along the length of the torus. The default value is <code class="literal">8</code>. See the effect of changing this value in the demo.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tubularSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id533" class="indexterm"/>determines the number of segments to be used along the width of the torus. The default value is <code class="literal">6</code>. See the effect of changing this value in the demo.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">arc</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>With <a id="id534" class="indexterm"/>this property, you can control whether the torus is drawn full circle. The default of this value is <code class="literal">2 * PI</code> (a full circle).</p>
</td></tr></tbody></table></div><p>Most of these are very basic properties that you've already seen. The <code class="literal">arc</code> property, however, is a very interesting one. With this property, you define whether the donut makes a full circle or only a partial one. By experimenting with this property, you can create very interesting meshes, such as the following one with an arc set to <code class="literal">0.5 * PI</code>:</p><div><img src="img/2215OS_05_13.jpg" alt="THREE.TorusGeometry"/></div><p>
<code class="literal">THREE.TorusGeometry</code><a id="id535" class="indexterm"/> is a very straightforward geometry. In the next section, we'll look at a geometry that almost shares its name but is much less straightforward: <code class="literal">THREE.TorusKnotGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec14"/>THREE.TorusKnotGeometry</h3></div></div></div><p>With<a id="id536" class="indexterm"/> <code class="literal">THREE.TorusKnotGeometry</code>, you <a id="id537" class="indexterm"/>can create a torus knot. A torus knot<a id="id538" class="indexterm"/> is a special kind of knot that looks like a tube that winds around itself a couple of times. The best way to explain this is by looking at the <code class="literal">09-basic-3d-geometries-torus-knot.html</code> example. The following screenshot shows this geometry:</p><div><img src="img/2215OS_05_14.jpg" alt="THREE.TorusKnotGeometry"/></div><p>If you open this example and play around with the <code class="literal">p</code> and <code class="literal">q</code> properties, you can create all kinds of beautiful geometries. The <code class="literal">p</code> property defines how often the knot winds around its axis, and <code class="literal">q</code> defines how much the knot winds around its interior.If this sounds a bit vague, don't worry. You don't need to understand these properties to create beautiful knots, such as the one shown in the following screenshot (for those interested in the details, Wikipedia has a<a id="id539" class="indexterm"/> good article on this subject at <a class="ulink" href="http://en.wikipedia.org/wiki/Torus_knot">http://en.wikipedia.org/wiki/Torus_knot</a>):</p><div><img src="img/2215OS_05_15.jpg" alt="THREE.TorusKnotGeometry"/></div><p>With the example<a id="id540" class="indexterm"/> for this geometry, you can play around with the following properties and see the effect various combinations of <code class="literal">p</code> and <code class="literal">q</code> have on this geometry:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This sets the <a id="id541" class="indexterm"/>size of the complete torus. The default value is <code class="literal">100</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tube</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id542" class="indexterm"/>sets the radius of the tube (the actual donut). The default value for this attribute is <code class="literal">40</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radialSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id543" class="indexterm"/> determines the number of segments to be used along the length of the torus knot. The default value is <code class="literal">64</code>. See the effect of changing this value in the demo.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tubularSegments</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id544" class="indexterm"/>determines the number of segments to be used along the width of the torus knot. The default value is <code class="literal">8</code>. See the effect of changing this value in the demo.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">p</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This <a id="id545" class="indexterm"/>defines the shape of the knot, and the default value is <code class="literal">2</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">q</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This<a id="id546" class="indexterm"/> defines the shape of the knot, and the default value is <code class="literal">3</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">heightScale</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>With <a id="id547" class="indexterm"/>this property, you can stretch out the torus knot. The default value is <code class="literal">1</code>.</p>
</td></tr></tbody></table></div><p>The next geometry on the list is the last one of the basic geometries: <code class="literal">THREE.PolyhedronGeometry</code>.</p></div><div><div><div><div><h3 class="title"><a id="ch05lvl3sec15"/>THREE.PolyhedronGeometry</h3></div></div></div><p>With this<a id="id548" class="indexterm"/> geometry, you can<a id="id549" class="indexterm"/> easily create polyhedrons. A polyhedron<a id="id550" class="indexterm"/> is a geometry that has only flat faces and straight edges. Most often, though, you won't use this geometry directly. Three.js provides a number of specific polyhedrons you can use directly without having to specify the vertices and the faces of <code class="literal">THREE.PolyhedronGeometry</code>. We'll discuss these polyhedrons later on in this section. If you do want to use <code class="literal">THREE.PolyhedronGeometry</code> directly, you have to specify the vertices and the faces (just as we did for the cube in <a class="link" href="ch03.html" title="Chapter 3. Working with the Different Light Sources Available in Three.js">Chapter 3</a>, <em>Working with the Different Light Sources Available in Three.js</em>). For instance, we can create a simple tetrahedron (also see <code class="literal">THREE.TetrahedronGeometry</code> in this chapter) like this:</p><div><pre class="programlisting">var vertices = [
  1,  1,  1, 
  -1, -1,  1, 
  -1,  1, -1, 
  1, -1, -1
];

var indices = [
  2, 1, 0, 
  0, 3, 2, 
  1, 3, 0, 
  2, 3, 1
];

polyhedron = createMesh(new THREE.PolyhedronGeometry(vertices, indices, controls.radius, controls.detail));</pre></div><p>To construct <code class="literal">THREE.PolyhedronGeometry</code>, we pass in the <code class="literal">vertices</code>, <code class="literal">indices</code>, <code class="literal">radius</code>, and <code class="literal">detail</code> properties. The <a id="id551" class="indexterm"/>resulting <code class="literal">THREE.PolyhedronGeometry</code> object is shown in the <code class="literal">10-basic-3d-geometries-polyhedron.html</code> example (select <strong>type</strong> as: <strong>Custom</strong> in the menu in the top-right corner):</p><div><img src="img/2215OS_05_16.jpg" alt="THREE.PolyhedronGeometry"/></div><p>When you create a polyhedron, you can pass in the following four properties:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Property</p>
</th><th style="text-align: left" valign="bottom">
<p>Mandatory</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">vertices</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>These <a id="id552" class="indexterm"/>are the points that make up the polyhedron.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">indices</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Yes</p>
</td><td style="text-align: left" valign="top">
<p>These<a id="id553" class="indexterm"/> are the faces that need to be created from the vertices.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">radius</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>This is <a id="id554" class="indexterm"/>the size of the polyhedron. This defaults to <code class="literal">1</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">detail</code>
</p>
</td><td style="text-align: left" valign="top">
<p>No</p>
</td><td style="text-align: left" valign="top">
<p>With <a id="id555" class="indexterm"/>this property, you can add additional detail to the polyhedron. If you set this to <code class="literal">1</code>, each triangle in the polyhedron will be split into four smaller triangles. If you set this to <code class="literal">2</code>, those four smaller triangles will each be again split into four smaller triangles, and so on.</p>
</td></tr></tbody></table></div><p>At the beginning of this section, we mentioned that Three.js comes with a couple of polyhedrons out of the box. In the following subsections, we'll quickly show you these.</p><p>All these polyhedron types can be viewed by looking at the <code class="literal">09-basic-3d-geometries-polyhedron.html</code> example.</p><div><div><div><div><h4 class="title"><a id="ch05lvl4sec01"/>THREE.IcosahedronGeometry</h4></div></div></div><p>
<code class="literal">THREE.IcosahedronGeometry</code> creates a polyhedron that has 20 identical <a id="id556" class="indexterm"/>triangular faces created from 12 vertices. When creating<a id="id557" class="indexterm"/> this polyhedron, all you need to specify are the <code class="literal">radius</code> and <code class="literal">detail</code> levels. This screenshot shows a polyhedron created using <code class="literal">THREE.IcosahedronGeometry</code>:</p><div><img src="img/2215OS_05_17.jpg" alt="THREE.IcosahedronGeometry"/></div></div><div><div><div><div><h4 class="title"><a id="ch05lvl4sec02"/>THREE.TetrahedronGeometry</h4></div></div></div><p>The tetrahedron<a id="id558" class="indexterm"/> is one of the simplest polyhedrons. This <a id="id559" class="indexterm"/>polyhedron only contains four triangular faces created from<a id="id560" class="indexterm"/> four vertices. You create <code class="literal">THREE.TetrahedronGeometry</code> just like the other polyhedrons provided by Three.js, by specifying the <code class="literal">radius</code> and <code class="literal">detail</code> levels. Here's a screenshot that shows a tetrahedron created using <code class="literal">THREE.TetrahedronGeometry</code>:</p><div><img src="img/2215OS_05_18.jpg" alt="THREE.TetrahedronGeometry"/></div></div><div><div><div><div><h4 class="title"><a id="ch05lvl4sec03"/>THREE.Octahedron Geometry</h4></div></div></div><p>Three.js also<a id="id561" class="indexterm"/> provides <a id="id562" class="indexterm"/>an implementation of an octahedron. As the <a id="id563" class="indexterm"/>name implies, this polyhedron has 8 faces. These faces are created from 6 vertices. The following screenshot shows this geometry:</p><div><img src="img/2215OS_05_19.jpg" alt="THREE.Octahedron Geometry"/></div></div><div><div><div><div><h4 class="title"><a id="ch05lvl4sec04"/>THREE.DodecahedronGeometry</h4></div></div></div><p>The final <a id="id564" class="indexterm"/>polyhedron<a id="id565" class="indexterm"/> geometry provided by Three.js is <code class="literal">THREE.DodecahedronGeometry</code>. This polyhedron has 12 faces. The following screenshot shows this geometry:</p><div><img src="img/2215OS_05_20.jpg" alt="THREE.DodecahedronGeometry"/></div><p>That's the end of this chapter on the basic two-dimensional and three-dimensional geometries provided by Three.js.</p></div></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec31"/>Summary</h1></div></div></div><p>In this chapter, we discussed all of the standard geometries Three.js has to offer. As you saw, there are a whole lot of geometries you can use right out of the box. To best learn how to use the geometries, experiment with the geometries. Use the examples in this chapter to get to know the properties you can use to customize the standard set of geometries available from Three.js. It is also a good thing that when you start with geometries, you choose a basic material; don't go directly for the complex materials, but start simple with <code class="literal">THREE.MeshBasicMaterial</code> with the wireframe set to <code class="literal">true</code>, or <code class="literal">THREE.MeshNormalMaterial</code>. That way, you'll get a much better picture of the true shape of a geometry. For two-dimensional shapes, it's important to remember that they are placed on the <em>x</em>-<em>y</em> plane. If you want to have a two-dimensional shape horizontally, you'll have to rotate the mesh around the <em>x</em> axis for <code class="literal">-0.5 * PI</code>. And finally, take care that if you're rotating a two-dimensional shape, or a three-dimensional shape that is <em>open</em> (for example, a cylinder or a tube), remember to set the material to <code class="literal">THREE.DoubleSide</code>. If you don't do this, the inside or the back of your geometry won't be shown.</p><p>In this chapter, we focused on simple, straightforward meshes. Three.js also provides ways to create complex geometries. In the following chapter, you'll learn how to create these.</p></div></body></html>