<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Creating Our First App with Ionic 2</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem">Setting up a development environment</li><li class="listitem">Creating a HelloWorld app via the CLI</li><li class="listitem">Creating a HelloWorld app via Ionic Creator</li><li class="listitem">Viewing the app using your web browser</li><li class="listitem">Viewing the app using the Ionic CLI</li><li class="listitem">Viewing the app using Xcode for iOS</li><li class="listitem">Viewing the app using Genymotion for Android</li><li class="listitem">Viewing the app using Ionic View</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Introduction</h1></div></div></div><p>There are many options for developing mobile applications today. Native applications require a unique implementation for each platform, such as iOS, Android, and Windows phone. It's required for some cases such as high-performance CPU and GPU processing with lots of memory consumption. Any application that does not need over-the-top graphics and intensive CPU processing could benefit greatly from a cost-effective, write once and run anywhere HTML5 mobile implementation.</p><p>For those who choose the HTML5 route, there are many great choices in this active market. Some options may be very easy to start, but they could be very hard to scale or could face performance problems. Commercial options are generally expensive for small developers to discover product and market fit. The best practice is to think of the users first. There are instances where a simple responsive design website is a better choice; for example, when a business mainly has fixed content with minimal updating required or the content is better off on the web for SEO purposes.</p><p>The Ionic Framework has several advantages over its competitors, as shown:</p><div><ul class="itemizedlist"><li class="listitem">It's written on top of AngularJS. Ionic 1.x was based on AngularJS 1.x, while Ionic 2.0 is on top of AngularJS 2.0.</li><li class="listitem">UI performance is strong because of its usage of the <code class="literal">requestAnimationFrame()</code> technique.</li><li class="listitem">It offers a<a id="id0" class="indexterm"/> beautiful and comprehensive set of default styles, similar to a mobile-focused twitter Bootstrap.</li><li class="listitem"><strong>Sass</strong> is available for <a id="id1" class="indexterm"/>quick, easy, and effective theme customization.</li></ul></div><p>There have been many significant changes between the launch of AngularJS 1.x and 2.0. All of these changes are applicable to Ionic 2 as well. Consider the<a id="id2" class="indexterm"/> following examples:</p><div><ul class="itemizedlist"><li class="listitem">AngularJS 2.0 utilizes <strong>TypeScript</strong>, which is<a id="id3" class="indexterm"/> a superset of the <strong>ECMAScript 6</strong> (<strong>ES6</strong>) standard, to build your code into JavaScript. This allows the<a id="id4" class="indexterm"/> developers to leverage TypeScript features, such as type checking, during the complication step.</li><li class="listitem">There will be no more Controllers and Directives in AngularJS. Earlier, a controller was assigned to a DOM node while a directive converted a template into a component-like architecture. However, it is very hard to scale and debug large AngularJS 1.x applications due to the misuse of Controllers and/or issues with conflicting directives. Moving to AngularJS 2.0, there is only a single concept of Component, which eventually has a selector corresponding to an HTML template and a class containing functions.</li><li class="listitem">The <code class="literal">$scope</code> object will no longer exist in AngularJS 2.0 because all properties are now defined inside a component. This is actually good news because debugging errors in <code class="literal">$scope</code> (especially with nested scenarios) is very difficult in AngularJS 1.x.</li><li class="listitem">Finally, AngularJS 2.0 promises to have better performance and supports both ES5 and ES6 standards. You could write AngularJS 2.0 in TypeScript, Dart or just pure JavaScript.</li></ul></div><p>In this chapter, you will go through several HelloWorld examples to Bootstrap your Ionic app. This process will give you a quick skeleton to start building more comprehensive apps. The majority of apps have similar user experience flows, such as tabs and side menus.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Setting up a development environment</h1></div></div></div><p>Before you create your first app, your environment must have the required components ready. These components ensure a smooth process of development, build and test. The default Ionic project folder is based on Cordova's. Therefore, you need the Ionic CLI to automatically add the correct platform (that is, iOS, Android, or Windows phone) and build the project. This <a id="id5" class="indexterm"/>will ensure all Cordova plugins are included properly. The tool has many options to run your app in the browser or simulator with live reload.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Getting ready</h2></div></div></div><p>You need to install Ionic and its dependencies to get started. Ionic itself is just a collection of CSS styles, AngularJS components, and standard Cordova plugins. It's also a command-line tool to help manage all technologies, such as Cordova and Bower. The installation process will give you a command line to generate the initial code and build the app.</p><p>Ionic uses npm as<a id="id6" class="indexterm"/> the installer, which is included when installing Node.js. Please install the latest version of Node.js from <a class="ulink" href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>.</p><p>You will need to install Cordova, <code class="literal">ios-sim</code> (iOS Simulator) and Ionic:</p><div><pre class="programlisting">
<strong>$ npm install -g cordova ionic ios-sim</strong>
</pre></div><p>You can install all three components with this single command line instead of issuing three command lines separately. The <code class="literal">-g</code> parameter is to install the package globally (not just in the current directory).</p><p>For Linux and Mac, you may need to use the <code class="literal">sudo</code> command to allow system access, as shown:</p><div><pre class="programlisting">
<strong>$ sudo npm install -g cordova ionic ios-sim</strong>
</pre></div><p>The following are a <a id="id7" class="indexterm"/>few common options for an <strong>Integrated Development Environment</strong> (<strong>IDE</strong>):</p><div><ul class="itemizedlist"><li class="listitem">Xcode for iOS</li><li class="listitem">Android Studio for Android</li><li class="listitem">Microsoft Visual Studio Code (VS Code)</li><li class="listitem">Sublime Text (<a class="ulink" href="http://www.sublimetext.com/">http://www.sublimetext.com/</a>) for web <a id="id8" class="indexterm"/>development</li></ul></div><p>All of these have a free license. You could code directly in Xcode or Android Studio but those are somewhat heavy-duty for web apps, especially when you have a lot of windows open and just need something simple to code. Sublime Text is free for non-commercial developers but you have to purchase a license if you are a commercial developer. Most frontend developers would prefer to use Sublime Text for coding HTML and JavaScript because it's very lightweight and comes with a well-supported developer community. Sublime Text has been around for a long time and is very user-friendly. However, there are many features in Ionic 2 that make Visual Studio Code very compelling. For example, it has the look and feel of a full IDE without being bulky. You could debug JavaScript directly inside VS <a id="id9" class="indexterm"/>Code as well as getting autocomplete (for example, IntelliSense). The following instructions cover both Sublime Text and VS Code, although the rest of this book will use VS Code.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How to do it…</h2></div></div></div><p>VS Code works on Mac, Windows, and Linux. Here are<a id="id10" class="indexterm"/> the instructions</p><div><ol class="orderedlist arabic"><li class="listitem">Visit <a class="ulink" href="https://code.visualstudio.com">https://code.visualstudio.com</a>.</li><li class="listitem">Download and install for your specific OS.</li><li class="listitem">Unzip the downloaded file.</li><li class="listitem">Drag the <code class="literal">.app</code> file into the <code class="literal">Applications</code> folder and drag it to Mac's Dock.</li><li class="listitem">Open Microsoft Visual Studio code.</li><li class="listitem">Press <em>Ctrl</em> + <em>Shift</em> + <em>p</em> to open command palette.</li><li class="listitem">Type <code class="literal">shell command</code> in command palette.</li><li class="listitem">Click on the <code class="literal">Shell Command: Install 'code' command in PATH</code> command to install the script to add Visual Studio Code in your terminal <code class="literal">$PATH</code>.</li><li class="listitem">Restart Visual Studio Code to take effect.</li><li class="listitem">Later on, you can just do <code class="literal">code.</code> (including the dot) directly from the Ionic project folder and VS Code will automatically open that folder as a project:<div><h3 class="title"><a id="note02"/>Note</h3><p>Note that the following screenshots are done via Mac.</p></div><div><img src="img/image00197.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">If you decide to use Sublime Text, you will <a id="id11" class="indexterm"/>need Package Control (<a class="ulink" href="https://packagecontrol.io/installation">https://packagecontrol.io/installation</a>), which is similar to a <strong>Plugin Manager</strong>. Since Ionic uses Sass, it's <a id="id12" class="indexterm"/>optional to install the Sass Syntax <a id="id13" class="indexterm"/>Highlighting package.</li><li class="listitem">Navigate to <strong>Sublime Text</strong> | <strong>Preferences</strong> | <strong>Package Control</strong>:<div><img src="img/image00198.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Go to <strong>Package Control: Install Package</strong>. You could also just type the commands partially (that is, <code class="literal">inst</code>) and it will automatically select the right option:<div><img src="img/image00199.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Type <code class="literal">Sass</code> and the <a id="id14" class="indexterm"/>search results will show one option for <strong>TextMate &amp; Sublime Text</strong>. Select that item to install:<div><img src="img/image00200.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>
</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>There's More…</h2></div></div></div><p>There are tons of <a id="id15" class="indexterm"/>Sublime Text packages that you may want to use, such as HTML, JSHint, JSLint, Tag, and ColorPicker You can visit <a class="ulink" href="https://sublime.wbond.net/browse/popular">https://sublime.wbond.net/browse/popular</a> for additional needs.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Creating a HelloWorld app via the CLI</h1></div></div></div><p>It's quickest to start<a id="id16" class="indexterm"/> your app using the existing templates. Ionic gives <a id="id17" class="indexterm"/>you the following three standard out-of-the-box templates via the command line:</p><div><ul class="itemizedlist"><li class="listitem"><strong>Blank</strong>: This is a simple<a id="id18" class="indexterm"/> page with minimal JavaScript code.</li><li class="listitem"><strong>Tabs</strong>: These are multiple pages<a id="id19" class="indexterm"/> with routes. A route URL goes to a tab.</li><li class="listitem"><strong>Side menu</strong>: This is<a id="id20" class="indexterm"/> a template with a left/right menu with center content area.</li></ul></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec15"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">To set up the app with a blank template from Ionic, use this command:<div><pre class="programlisting">
<strong>  $ ionic start HelloWorld_Blank blank --v2</strong>
</pre></div><div><h3 class="title"><a id="note03"/>Note</h3><p>If you don't have an account in <a class="ulink" href="http://ionic.io">ionic.io</a>, the command line will ask for it. You could either press <em>y</em> or <em>n</em> to continue. It's not mandatory to have an account at this step.</p></div></li><li class="listitem">If you replace blank with tabs, it will create a tab template, as shown:<div><pre class="programlisting">
<strong>  $ ionic start HelloWorld_Tabs tabs</strong>
</pre></div></li><li class="listitem">Similarly, the following command will create an app with a side menu:<div><pre class="programlisting">
<strong>  $ ionic start HelloWorld_Sidemenu sidemenu --v2</strong>
</pre></div></li></ol><div></div><p>The side menu template is the most common template as it provides a very nice routing example with different pages in the <code class="literal">/app/pages</code> folder.</p><p>Additional guidance for the<a id="id21" class="indexterm"/> Ionic CLI is available on the GitHub page, <a class="ulink" href="https://github.com/driftyco/ionic-cli">https://github.com/driftyco/ionic-cli</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec16"/>How it works…</h2></div></div></div><p>This chapter will show you how to quickly start your code base and visualize the result. More details about AngularJS 2.0 and its template syntax will be discussed across various chapters of this book. However, the core concepts are as follows:</p><div><ul class="itemizedlist"><li class="listitem"><strong>Component</strong>: AngularJS 2.0 is very <a id="id22" class="indexterm"/>modular because you could write your code in a file and use an export class to turn it into a component. If you are familiar with AngularJS 1.x, this is similar to a Controller and how it binds with a DOM node. A component will have its own private and public properties and methods (that is, functions). To tell whether a class is an AngularJS component or not, you have to use the <code class="literal">@Component</code> decorator. This is another new concept in TypeScript since you could enforce characteristics (metadata) on any class so that they behave in a certain way.</li><li class="listitem"><strong>Template</strong>: A template is an HTML string or a separate <code class="literal">.html</code> file that tells AngularJS how to render <a id="id23" class="indexterm"/>a component. This concept is very similar to any other frontend and backend framework. However, AngularJS 2.0 has its own syntax to allow simple logic on the DOM, such as repeat rendering (<code class="literal">*ngFor</code>), event binding (click), or custom tags (<code class="literal">&lt;my-tag&gt;</code>).</li><li class="listitem"><strong>Directive</strong>: This allows <a id="id24" class="indexterm"/>you to manipulate the DOM, since the directive is bound to a DOM <a id="id25" class="indexterm"/>object. So, <code class="literal">*ngFor</code> and <code class="literal">*ngIf</code> would be examples of directives<a id="id26" class="indexterm"/> because they alter the behavior of that DOM.</li><li class="listitem"><strong>Service</strong>: This refers to the<a id="id27" class="indexterm"/> abstraction to manage models or collections of complex logic beside get/set required. There is no service decorator as with a component. So, any class could be a service.</li><li class="listitem"><strong>Pipe</strong>: This is <a id="id28" class="indexterm"/>mainly used to process an expression in the template and return some data (that is, rounding numbers and adding currency) using the <code class="literal">{{ expression | filter }}</code> format. For example, <code class="literal">{{amount | currency}}</code> will return <code class="literal">$100</code> if the <code class="literal">amount</code> variable is <code class="literal">100</code>.</li></ul></div><p>Ionic automatically creates a project folder structure that would look as follows:</p><div><img src="img/image00201.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>You will spend most of your time in the <code class="literal">/app</code> folder, because that's where your application components<a id="id29" class="indexterm"/> will be placed. This is very different from Ionic 1.x because the <code class="literal">/www</code> folder here is actually compiled by TypeScript. If you build the <a id="id30" class="indexterm"/>app for iOS, the Ionic build command line will also create another copy at <code class="literal">/platforms/ios/www</code>, which is specifically for Cordova to point to. Another interesting change in AngularJS 2.0 is that all custom JS and CSS files are placed in the same subfolder or in <code class="literal">/app/pages</code>. Since AngularJS 2.0 is component based, each component will come with HTML, CSS, and JS. If you add in more JavaScript modules, you can put them in the <code class="literal">/app</code> folder, or a better practice is to use <code class="literal">npm install</code> so that it's automatically added in the <code class="literal">/node_modules</code> folder. Ionic 2 completely got rid of Grunt and Bower. Everything is simplified into just <code class="literal">package.json</code>, where your third-party dependencies will be listed.</p><p>There is no need to modify the <code class="literal">/platforms</code> or <code class="literal">/plugins</code> folder manually unless troubleshooting needs to be done. Otherwise, the Ionic or Cordova CLI will automate the content inside these<a id="id31" class="indexterm"/> folders.</p><p>By default, from<a id="id32" class="indexterm"/> the Ionic template, the AngularJS app name is called <code class="literal">MyApp</code>. You will see something like this in <code class="literal">app.js</code>, which is the Bootstrap file for the entire app:</p><div><img src="img/image00202.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>This is acting as the <code class="literal">root</code> of your app and all content will be injected inside <code class="literal">&lt;ion-app&gt;&lt;/ion-app&gt;</code> of <code class="literal">index.html</code>.</p><p>Note that if you double-click on the <code class="literal">index.html</code> file to open it in the browser, it will show a blank page. This doesn't mean that the app isn't working. The reason for this is that the Angular component of Ionic dynamically loads all the .<code class="literal">js</code> files and this behavior requires server access via the <code class="literal">http://</code> protocol. If you open a file locally, the browser automatically treats it as a file protocol (<code class="literal">file://</code>), and therefore Angular will not have the ability to load additional <code class="literal">.js</code> modules to run the app properly. There are several methods of running the app, which will be discussed later.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Creating a HelloWorld app via Ionic Creator</h1></div></div></div><p>Another way to start <a id="id33" class="indexterm"/>your app codebase is to use <strong>Ionic Creator</strong>. This is a great interface builder to accelerate your app development with the<a id="id34" class="indexterm"/> drag and drop style. You<a id="id35" class="indexterm"/> can quickly take the existing components and position them to visualize how it should look in the app via a web-based interface. Most common components, such as buttons, images, and checkboxes, are available.</p><p>Ionic Creator<a id="id36" class="indexterm"/> allows the user to export everything as a project with all <code class="literal">.html</code>, <code class="literal">.css</code>, and <code class="literal">.js</code> files. You should be able edit content in the <code class="literal">/app</code> folder to build on top of the interface.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec17"/>Getting ready</h2></div></div></div><p>Ionic Creator requires<a id="id37" class="indexterm"/> registration for a free account at <a class="ulink" href="https://creator.ionic.io/">https://creator.ionic.io/</a> to get started.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Create a <a id="id38" class="indexterm"/>new project called <strong>myApp</strong>:<div><img src="img/image00203.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Validate to ensure that you see the following screen:<div><img src="img/image00204.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p><p>The center area is your app interface. The left side gives you a list of <strong>Pages</strong>. Each <a id="id39" class="indexterm"/>page is a single route. You also have access to a number of UI components that you would <a id="id40" class="indexterm"/>normally have to code by hand in an html file. The panel on the right shows the properties of any selected component.</p><p>You're free to do whatever you need to do here by dropping components to the center screen. If you need to create a new page, you have to click on the plus sign in the <strong>Pages</strong> panel. Each page is represented as a link, which is basically a route in Angular UI Router's definition. To navigate to another page (for example, after clicking a button), you can just change the link property and point to that page.</p><p>There is an edit button on top where you can toggle back and forth between the edit mode and preview mode. It's very useful to see how your app will look and behave.</p></li><li class="listitem">Once completed, click the export button on the top in the navigation bar. You have the following four options:<div><ul class="itemizedlist"><li class="listitem">Use the Ionic CLI tool to get the code</li><li class="listitem">Download the project as a ZIP file</li><li class="listitem">Export it to<a id="id41" class="indexterm"/> native code (similar to PhoneGap Build), as shown:<div><img src="img/image00205.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Export it to<a id="id42" class="indexterm"/> the preview mode using the Creator app, as follows:</li></ul></div><div><img src="img/image00206.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>The best way to learn Ionic Creator is to play with it. You can add a new page and pick out any of the existing templates. The following example shows a <strong>Login</strong> page template:</p><div><img src="img/image00207.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p><p>Here is<a id="id43" class="indexterm"/> how it should look out of the box (after export or download):</p><div><img src="img/image00208.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec19"/>There's More…</h2></div></div></div><p>To switch to the<a id="id44" class="indexterm"/> preview mode, where you can see the UI in a device simulator, click on the switch button in the top right to enable Test, as illustrated:</p><div><img src="img/image00209.jpeg" alt="There's More…"/></div><p style="clear:both; height: 1em;"> </p><p>In this mode, you<a id="id45" class="indexterm"/> should be able to interact with the components in the web browser as if they're actually deployed on the device.</p><p>If you break something, it's very<a id="id46" class="indexterm"/> simple to start a new project. It's a great tool to use for prototyping and to get the initial template or project scaffolding. You should continue coding in your regular IDE for the rest of the app. Ionic Creator doesn't do everything for you, yet. For example, if you want to access specific Cordova plugin features, you have to write that code separately.</p><p>Also, if you want to tweak the interface outside of what is allowed within Ionic Creator, it will also require specific modifications to the <code class="literal">.html</code> and <code class="literal">.css</code> files.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Viewing the app using your web browser</h1></div></div></div><p>In order to run the web app, you need to turn your <code class="literal">/www</code> folder into a web server. Again, there are many methods to do this and people tend to stick with one or two ways to keep things simple. A few other options are unreliable, such as Sublime Text's live watch package or static page<a id="id47" class="indexterm"/> generator (for example, the Jekyll and Middleman apps). They are slow to detect changes and may freeze your IDE. So those<a id="id48" class="indexterm"/> won't be mentioned here.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Getting ready</h2></div></div></div><p>The recommended method is to use the <code class="literal">ionic serve</code> command line. It basically launches an HTTP server so that you can open your app in a desktop browser.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec21"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">First, you need to be in the <code class="literal">project</code> folder. Let's assume that it is the Side Menu HelloWorld:<div><pre class="programlisting">
<strong>  $ cd HelloWorld_Sidemenu</strong>
</pre></div></li><li class="listitem">From there, just issue the simple command line, as shown:<div><pre class="programlisting">
<strong>  $ ionic serve</strong>
</pre></div></li></ol><div></div><p>That's it! There is no need to go into the <code class="literal">/www</code> folder or figure out which port to use. The command line will provide the following options while the web server is running:</p><div><img src="img/image00210.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p><p>The most <a id="id49" class="indexterm"/>common option to use here is <code class="literal">r</code> to restart or <code class="literal">q</code> to quit when you are done.</p><p>There are<a id="id50" class="indexterm"/> additional steps to view the app with the correct device resolution:</p><div><ol class="orderedlist arabic"><li class="listitem">Install Google Chrome if it's not already on your computer.</li><li class="listitem">Open the link (for example, <code class="literal">http://localhost:8100/</code>) from ionic serve in Google Chrome.</li><li class="listitem">Turn on Developer Tools. For example, in Mac's Google Chrome, navigate to <strong>View</strong> | <strong>Developer</strong> | <strong>Developer</strong> <strong>Tools</strong>.<div><img src="img/image00211.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on the <a id="id51" class="indexterm"/>small mobile icon in the Chrome Developer Tools area, as illustrated:<div><img src="img/image00212.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">There will be a <a id="id52" class="indexterm"/>long list of devices to pick from, as shown:<div><img src="img/image00213.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">After <a id="id53" class="indexterm"/>selecting a device, you need to<a id="id54" class="indexterm"/> refresh the page to ensure that the UI is updated. Chrome should give you the exact view resolution of the device.<div><img src="img/image00214.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>Most developers<a id="id55" class="indexterm"/> would prefer to use this method to code as you can debug the app using Chrome Developer Tools. It works exactly like any <a id="id56" class="indexterm"/>other web application. You can create breakpoints or output variables to the console.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How it works…</h2></div></div></div><p>Note that ionic serve is actually watching everything under the <code class="literal">/app</code> folder and transpiling the TypeScript code into JavaScript under <code class="literal">/www</code> on the fly. This makes sense because there is no need for the system to scan through every single file when the probability for it to change is very small.</p><p>While the web server is running, you can go back to the IDE and continue coding. For example, let's open <code class="literal">page1.html</code> or any other template file and change the first line to this:</p><div><pre class="programlisting">&lt;ion-view view-title="Updated Playlists"&gt;</pre></div><p>Go back to the web browser where Ionic opened the new page; the app interface will change the title bar right away without requiring you to refresh the browser. This is a very nice feature when there is a lot of back and forth between code change and checking on how it works or looks in the app instantly.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Viewing the app using the Ionic CLI</h1></div></div></div><p>So far, you have been testing the web app portion of Ionic. Most of the time, you will need to actually run<a id="id57" class="indexterm"/> the app on a physical device or at least an emulator to see how the app behaves and whether all native features work.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec23"/>Getting Ready</h2></div></div></div><p>You will need to have the<a id="id58" class="indexterm"/> emulator installed. iOS emulator comes when you do <code class="literal">npm install -g ios-sim</code> and the Android emulator comes with Android Studio. To test the app on a physical device, you must connect the device to your computer via a USB connection.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec24"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Add the specific platform (such as iOS) and build the app using the following command line:<div><pre class="programlisting">
<strong>  $ ionic platform add ios</strong>
<strong>  $ ionic build ios</strong>
</pre></div><div><h3 class="title"><a id="note04"/>Note</h3><p>Note that you need to do the <code class="literal">platform add</code> before building the app. However, if you use the standard template from the Ionic CLI, it should already have the iOS platform included. To build and run for Android, you can replace iOS with Android.</p></div></li><li class="listitem">To emulate the app using the iOS emulator, use the following command line:<div><pre class="programlisting">
<strong>  $ ionic emulate ios</strong>
</pre></div></li><li class="listitem">To run the app on the actual physical iPhone device, use the command line as shown:<div><pre class="programlisting">
<strong>  $ ionic run ios --device</strong>
</pre></div></li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Viewing the app using Xcode for iOS</h1></div></div></div><p>You could run the app<a id="id59" class="indexterm"/> using Xcode (in Mac) as <a id="id60" class="indexterm"/>well.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec25"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">Go to the <code class="literal">/platforms/ios</code> folder.</li><li class="listitem">Look for the folder with <code class="literal">.xcodeproj</code> and open it in Xcode.</li><li class="listitem">Click on the iOS Device icon and select your choice of iOS simulator:<div><img src="img/image00215.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on the<a id="id61" class="indexterm"/> run button and you should be able to see the app running in the simulator.</li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec26"/>There's more…</h2></div></div></div><p>You can connect a <a id="id62" class="indexterm"/>physical device via a USB port and it will show up in the iOS Device list for you to pick. Then, you can deploy the app directly on your device. Note that iOS developer membership is required for this. This method is more complex than just viewing the app via a web browser.</p><p>However, it's a must when you want to test out your code related to device features, such as camera or maps. If you change code in the <code class="literal">/app</code> folder and want to again run it in Xcode, you have to do <code class="literal">ionic build ios</code> first, because the running code is in the <code class="literal">Staging</code> folder of your Xcode project, as illustrated:</p><div><img src="img/image00216.jpeg" alt="There's more…"/></div><p style="clear:both; height: 1em;"> </p><p>For debugging, the Xcode Console can output JavaScript logs as well. However, you could use the more<a id="id63" class="indexterm"/> advanced features of Safari's <strong>Web Inspector</strong> (which is similar to Google Chrome's Developer Tools) to debug your app. Note that only Safari can debug a web app running on a connected physical iOS device<a id="id64" class="indexterm"/> because Chrome does not support this on a Mac. It's easy to enable this capability, and it can be done with the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Allow remote debugging for iOS device by navigating to <code class="literal">Settings</code> | <strong>Safari</strong> | <strong>Advanced</strong> and enabling <strong>Web</strong> <strong>Inspector</strong>:<div><img src="img/image00217.jpeg" alt="There's more…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Connect the physical iOS device to your Mac via USB and run the app.</li><li class="listitem">Open the Safari browser.</li><li class="listitem">Select <strong>Develop</strong> | <strong>your device's name (or iOS Simulator)</strong> | <strong>index.html</strong>, as shown:<div><img src="img/image00218.jpeg" alt="There's more…"/></div><p style="clear:both; height: 1em;"> </p><div><h3 class="title"><a id="note05"/>Note</h3><p>If you don't<a id="id65" class="indexterm"/> see the <strong>Develop</strong> menu in Safari, you need to navigate to <strong>Preferences</strong> &gt; <strong>Advanced</strong> and check on <strong>Show Develop menu in menu bar</strong>
</p></div></li></ol><div></div><p>Safari will open a new<a id="id66" class="indexterm"/> console just for that specific device just as it's running within the computer's Safari.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Viewing the app using Genymotion for Android</h1></div></div></div><p>While it's possible to<a id="id67" class="indexterm"/> install the Google Android simulator, many developers have an inconsistent experience on<a id="id68" class="indexterm"/> a Mac. There are many commercial and free alternatives that offer more convenience and a wide range of device support. <strong>Genymotion</strong> provides some unique advantages, such as allowing <a id="id69" class="indexterm"/>users to switch the Android model and version, supporting networking from within the app, and allowing SD card simulation.</p><p>In this section, you will learn how to set up Android developer environment (on a Mac in this case) first. Then, you will install and configure Genymotion for mobile app development.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec27"/>How to do it…</h2></div></div></div><div><ol class="orderedlist arabic"><li class="listitem">The first step is to set up the Android environment properly for development. Download and install Android<a id="id70" class="indexterm"/> Studio from <a class="ulink" href="https://developer.android.com/studio/index.html">https://developer.android.com/studio/index.html</a>.<div><h3 class="title"><a id="note06"/>Note</h3><p>You might be asked to install other libraries if your machine doesn't have the correct dependencies. If that is the case, you should run <code class="literal">sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0 lib32stdc++6</code> from the command line to install.</p></div></li><li class="listitem">Run Android <a id="id71" class="indexterm"/>Studio.</li><li class="listitem">You need to install all the required packages, such as Android SDK. Just click <strong>Next</strong> twice at the setup wizard screen and click on the <strong>Finish</strong> button to start the packages' installation.<div><img src="img/image00219.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">After the<a id="id72" class="indexterm"/> installation is completed, you need to install additional packages and other SDK versions. On the <strong>Quick Start</strong> screen, select <strong>Configure</strong>, as illustrated:<div><img src="img/image00220.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">After <a id="id73" class="indexterm"/>this, select <strong>SDK</strong> <strong>Manager</strong>, as <a id="id74" class="indexterm"/>shown:<div><img src="img/image00221.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">It's good practice to install the previous version, such as <strong>Android</strong> <strong>5.0.1</strong> and <strong>5.1.1</strong>. You may also want to install all <code class="literal">Tools</code> and <code class="literal">Extras</code> for later use:<div><img src="img/image00222.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Click on<a id="id75" class="indexterm"/> the <strong>Install packages…</strong> button.</li><li class="listitem">Check the box on <strong>Accept License</strong> and select <strong>Install</strong>.</li><li class="listitem">The SDK Manager will give you an SDK Path on the top. Make a copy of this path because <a id="id76" class="indexterm"/>you need to modify the environment path.</li><li class="listitem">Go to the terminal and type the following command:<div><pre class="programlisting">
<strong>  $ touch ~/.bash_profile; open ~/.bash_profile.</strong>
</pre></div></li><li class="listitem">This will open a text editor to edit your <code class="literal">bash profile</code> file. Insert the following line where <code class="literal">/YOUR_PATH_TO/android-sdk</code> should be the SDK Path that you copied earlier:<div><pre class="programlisting">
<strong>  export ANDROID_HOME=/YOUR_PATH_TO/android-sdk</strong>
<strong>  export PATH=$ANDROID_HOME/platform-tools:$PATH</strong>
<strong>  export PATH=$ANDROID_HOME/tools:$PATH</strong>
</pre></div></li><li class="listitem">Save and close that text editor.</li><li class="listitem">Go back to terminal and type.<div><pre class="programlisting">
<strong>  $ source ~/.bash_profile</strong>
<strong>  $ echo $ANDROID_HOME</strong>
</pre></div></li><li class="listitem">You should see<a id="id77" class="indexterm"/> the output as your SDK Path. This verifies that you have correctly configured the Android developer environment.</li><li class="listitem">The next step is to<a id="id78" class="indexterm"/> install and configure Genymotion. Download and install Genymotion and<a id="id79" class="indexterm"/> Genymotion Shell from <a class="ulink" href="http://genymotion.com">genymotion.com</a>.</li><li class="listitem">Run Genymotion.</li><li class="listitem">Click on the <strong>Add</strong> button to start adding a new Android device, as illustrated:<div><img src="img/image00223.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Select a device that you want to simulate. In this case, let select <strong>Samsung Galaxy S5</strong>, as follows:<div><img src="img/image00224.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">You will see the<a id="id80" class="indexterm"/> device being added to your virtual devices. Click on that device.<div><img src="img/image00225.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Then <a id="id81" class="indexterm"/>click on <strong>Start</strong>:<div><img src="img/image00226.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">The simulator will take a few seconds to start and will show another window. This is just a blank simulator without your app running inside yet:<div><img src="img/image00227.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Run<a id="id82" class="indexterm"/> Genymotion Shell.</li><li class="listitem">From Genymotion Shell, you <a id="id83" class="indexterm"/>need to get a device list and keep the IP address of the device attached, which is Samsung Galaxy S5. Type <code class="literal">devices list:</code><div><img src="img/image00228.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Type <code class="literal">adb connect 192.168.56.101</code> (or whatever the IP address was that you saw earlier <a id="id84" class="indexterm"/>from the <code class="literal">devices list</code> command line).</li><li class="listitem">Type <code class="literal">adb devices</code> to confirm<a id="id85" class="indexterm"/> that it is connected.</li><li class="listitem">Type <code class="literal">ionic platform add android</code> to add Android as a platform for your app.</li><li class="listitem">Finally, type <code class="literal">ionic run android</code>.</li><li class="listitem">You should be able to see the Genymotion window showing your app.<div><img src="img/image00229.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>Although there<a id="id86" class="indexterm"/> are many steps to get this <a id="id87" class="indexterm"/>working, it's a lot less likely that you have to go through the same process over. Once your environment is set up, all you need to do is to leave Genymotion running, while writing code. If there is a need to test the app in different Android devices, it's easy to add another virtual device in Genymotion and connect to it.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Viewing the app using Ionic View</h1></div></div></div><p>
<strong>Ionic View</strong> is an app <a id="id88" class="indexterm"/>viewer that you can download from the App Store or Google Play. When you are in the development process and the app is not completed, you don't want to submit it to either Apple or Google right away but limit <a id="id89" class="indexterm"/>access to your testers. Ionic View can help load your own app inside Ionic View and make it behave like a real app with some access to native device features. Additionally, Ionic View lets you use your app on an iOS device without any certificate requirement.</p><p>Since Ionic View<a id="id90" class="indexterm"/> uses Cordova <strong>InAppBrowser</strong> plugin to launch your app, all the device features have to be hacked to make it work. Currently, Ionic View only supports SQLite, battery, camera, device motion, device orientation, dialog/notification, geolocation, globalization, network information, vibration, keyboard, status bar, barcode scanner, and zip. It's a good idea to check the updated support list prior to using Ionic View to ensure that your app works properly.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec28"/>How to do it…</h2></div></div></div><p>There are two ways to use Ionic View. You can either upload your own app or load someone else's app ID. If you test your own app, follow these steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Download Ionic View from either App Store or Google Play.</li><li class="listitem">Make sure to register an account on <a class="ulink" href="http://ionic.io">ionic.io</a>.</li><li class="listitem">Go to your app's <code class="literal">project</code> folder.</li><li class="listitem">Search for ionic upload.</li><li class="listitem">Enter your credentials.</li><li class="listitem">The CLI will upload the entire app and give you the app ID, which is <code class="literal">152909f7</code> in this case. You may want to keep this app ID to share with other testers later.<div><img src="img/image00230.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Open the Ionic View app on the mobile device and log in if you haven't done so already.</li><li class="listitem">Now you should be able to see the app name on your <strong>MY APPS</strong> page. Go ahead and select the app name (<strong>myApp</strong> in this case), as illustrated:<div><img src="img/image00231.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Select <strong>VIEW APP</strong> to<a id="id91" class="indexterm"/> run the <a id="id92" class="indexterm"/>app, as shown:<div><img src="img/image00232.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">You will see that the app interface appears with initial instructions on how to exit the app. Since<a id="id93" class="indexterm"/> your app will<a id="id94" class="indexterm"/> cover the full screen of Ionic View, you need to swipe down using three fingers, as illustrated, to exit back to Ionic View:<div><img src="img/image00233.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>If there is no code update, the process is the same except that you need to select <strong>SYNC TO LATEST</strong> from the menu.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec29"/>There's more…</h2></div></div></div><p>To summarize, there <a id="id95" class="indexterm"/>are several benefits of using Ionic View, some of which are as follows:</p><div><ul class="itemizedlist"><li class="listitem">It's convenient because there is only one command line to push the app</li><li class="listitem">Anyone <a id="id96" class="indexterm"/>can access your app by entering the app ID</li><li class="listitem">There is no need to even have iOS developer membership to start developing with Ionic. Apple has its own <code class="literal">TestFlight</code> app, in which the use case is very similar</li><li class="listitem">You can stay agile in the developer process by having testers test the app as you develop it</li><li class="listitem">Ionic View has a wide range of device feature support and continues to grow</li></ul></div></div></div></body></html>