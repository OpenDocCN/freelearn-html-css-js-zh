<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components"><div class="book" id="MSDG2-798adc86542b445d8a1bb648e10b6714"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04" class="calibre1"/>Chapter 4. Ionic Components</h1></div></div></div><p class="calibre10">In this chapter, we will be learning how to use some more complex Ionic components and controls. We will be creating a more advanced version of our to-do list application we created in <a class="calibre1" title="Chapter 2. To-Do List App" href="part0019_split_000.html#I3QM1-798adc86542b445d8a1bb648e10b6714">Chapter 2</a>, <span class="strong"><em class="calibre14">To-Do List App</em></span>, using some more advanced built-in Ionic list components. We will call this more advanced to-do list application <code class="email">Bucket-List</code> app. The idea behind this application is that it will allow us to enter all the interesting things we want to try in a lifetime. Therefore, we can enter the names of places we want to visit, the names of activities we want to do, and so on.</p></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components">
<div class="book" title="Creating a new to-do list application"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch04lvl1sec17" class="calibre1"/>Creating a new to-do list application</h1></div></div></div><p class="calibre10">In <a class="calibre1" title="Chapter 2. To-Do List App" href="part0019_split_000.html#I3QM1-798adc86542b445d8a1bb648e10b6714">Chapter 2</a>, <span class="strong"><em class="calibre14">To-Do List App</em></span>, we created a simple to-do list application with the Ionic blank template. We were able to get this application to work by allowing us to add items into our to-do list application. We<a id="id110" class="calibre1"/> will be creating a new to-do list application using the Ionic blank template for us to add our new, more advanced components to <a id="id111" class="calibre1"/>our brand new BucketList application. Let's go ahead and create this new blank application by following the following steps. We will be calling our new application <code class="email">Bucket-List</code> in order to differentiate it from the one we created in <a class="calibre1" title="Chapter 2. To-Do List App" href="part0019_split_000.html#I3QM1-798adc86542b445d8a1bb648e10b6714">Chapter 2</a>, <span class="strong"><em class="calibre14">To-Do List App</em></span>.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To create the <a id="id112" class="calibre1"/><code class="email">Bucket-List</code> app, fire up a terminal window on your computer and navigate to the <code class="email">Desktop</code> folder of your computer by running the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre11">cd Desktop</strong></span>
</pre></div></li><li class="listitem" value="2">After navigating to the <code class="email">Desktop</code> folder of your computer, go ahead and run the following command to create the <code class="email">Bucket-List</code> application based on the Ionic blank template:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre11">ionic start Bucket-List blank</strong></span>
</pre></div></li><li class="listitem" value="3">This command will create a new blank Ionic application called <code class="email">Bucket-List</code>. When this command has finished running, navigate to the project of your application via the command line by running the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre11">cd Bucket-List </strong></span>
</pre></div></li></ol><div class="calibre26"/></div><p class="calibre10">Now you have successfully completed the process of creating your <code class="email">Bucket-List</code> application, and we can start <a id="id113" class="calibre1"/>developing the app by adding features to it.</p></div></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components">
<div class="book" title="Creating a new to-do list application">
<div class="book" title="Overview of the Bucket-List app"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch04lvl2sec19" class="calibre1"/>Overview of the Bucket-List app</h2></div></div></div><p class="calibre10">To understand <a id="id114" class="calibre1"/>what we are trying to build, have a closer look at the following screenshot. We aim to achieve a final app that closely resembles what we have in the following screenshot:</p><div class="mediaobject"><img src="../images/00017.jpeg" alt="Overview of the Bucket-List app" class="calibre12"/></div><p class="calibre13"> </p><div class="book" title="Breaking down the app"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch04lvl3sec09" class="calibre1"/>Breaking down the app</h3></div></div></div><p class="calibre10">A good way to build Ionic apps is by building them in bits. For our <code class="email">Bucket-List</code> application, we can start by <a id="id115" class="calibre1"/>first developing the user interface and then writing the code behind it to enable it to work. Our user interface will contain an input box to enter a new item into our bucket list. Secondly, we have to design the UI for the list of <code class="email">Bucket-List</code> items.</p></div></div></div></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components">
<div class="book" title="Creating a new to-do list application">
<div class="book" title="Designing the UI"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch04lvl2sec20" class="calibre1"/>Designing the UI</h2></div></div></div><p class="calibre10">Designing the <a id="id116" class="calibre1"/>UI involves two main implementations:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Implementing the<a id="id117" class="calibre1"/> input box</li><li class="listitem">Implementing the <code class="email">ion-list</code> element</li></ul></div><p class="calibre10">We will have a look at each.</p><div class="book" title="Implementing the input box"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch04lvl3sec10" class="calibre1"/>Implementing the input box</h3></div></div></div><p class="calibre10">The first thing we<a id="id118" class="calibre1"/> are going to implement is an input box. This input box is the form where the users of our app will enter an interesting item they wish to add in the <code class="email">Bucket-List</code> application. This will be in the form of an HTML textarea input box with some Ionic CSS styles applied to it in order to give it a more mobile look and feel. There also will be a button next to the input box with the label <span class="strong"><strong class="calibre11">ADD</strong></span>. This button will be what we tap after we have typed some text and want it to appear as a part of our list. Perform the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open up the <code class="email">Bucket-List</code> application you created earlier in your favorite text editor.</li><li class="listitem" value="2">Now, open the <code class="email">index.html</code> file that can be found in the <code class="email">www</code> folder of your project. You will see a screen that closely resembles what we have in the following screenshot:<div class="mediaobject"><img src="../images/00018.jpeg" alt="Implementing the input box" class="calibre12"/></div><p class="calibre25"> </p></li></ol><div class="calibre26"/></div><p class="calibre10">You can see that this boilerplate code already contains some code for some custom Ionic elements just like <a id="id119" class="calibre1"/>we saw in our first application in <a class="calibre1" title="Chapter 2. To-Do List App" href="part0019_split_000.html#I3QM1-798adc86542b445d8a1bb648e10b6714">Chapter 2</a>, <span class="strong"><em class="calibre14">To-Do List App</em></span> all of which are prefixed with <code class="email">ion</code>. Pay close attention to the <code class="email">&lt;ion-content&gt;</code> element! This element is the element that contains the bits and pieces of our application or the content area. It is in between this element that we are going to place all the markup for our <code class="email">Bucket-List</code> application.</p><p class="calibre10">Let's start by placing the code for the input box of our application. I have provided the code for our input box in the following code block. You are to place this code within the <code class="email">&lt;ion-content&gt;</code> element in your <code class="email">index.html</code> file:</p><div class="informalexample"><pre class="programlisting">&lt;div class="list"&gt;

&lt;div class="item item-input-inset"&gt;
&lt;label class="item-input-wrapper"&gt;
&lt;input type="text"&gt;
&lt;/label&gt;
&lt;button class="button button-small"&gt;
      Add
&lt;/button&gt;
&lt;/div&gt;

&lt;/div&gt;</pre></div><p class="calibre10">The preceding code is the HTML code that will display an input box and a button as we described earlier. If you pay close attention to the markup, you will see that some elements contain some classes. These classes are custom Ionic classes that are available as part of the Ionic CSS. The Ionic CSS comes with a lot of nifty classes and features, but for now just be aware of these classes and know that they are part of the Ionic CSS.</p><p class="calibre10">If you run your app<a id="id120" class="calibre1"/> in the browser using the <code class="email">ionic serve</code> method, you should be able to see something that looks very similar to what I have in the following screenshot. Enter the following command in a terminal window to<a id="id121" class="calibre1"/> run your app using the <code class="email">ionic serve</code> method. Make sure you run it from the root folder of your project:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre11">ionic serve</strong></span>
</pre></div><p class="calibre10">You should be able to see the input box with the button placed on its right-hand side.</p><div class="mediaobject"><img src="../images/00019.jpeg" alt="Implementing the input box" class="calibre12"/></div><p class="calibre13"> </p></div><div class="book" title="Implementing the ion-list application"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch04lvl3sec11" class="calibre1"/>Implementing the ion-list application</h3></div></div></div><p class="calibre10">The next step of<a id="id122" class="calibre1"/> developing our <code class="email">Bucket-List</code> application is to implement the <code class="email">ion-list</code> application. We are going to use one of the<a id="id123" class="calibre1"/> built-in components called <code class="email">ion-list</code>. The <code class="email">ion-list</code> element is a component for creating and rendering lists. It has a lot of cool features that let us render complex lists that can have side options. Take a look at the following screenshot that shows the mail app from an iOS mobile device showing a list of features that we can implement using <code class="email">ion-list</code>:</p><div class="mediaobject"><img src="../images/00020.jpeg" alt="Implementing the ion-list application" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">As seen above, one of the most obvious features we can implement with <code class="email">ion-list</code> is the ability to show <a id="id124" class="calibre1"/>options when we swipe on a<a id="id125" class="calibre1"/> list item. It also has other features like the ability to delete items or rearrange them.</p><div class="book" title="Using ion-list for our Bucket-List app"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec04" class="calibre1"/>Using ion-list for our Bucket-List app</h4></div></div></div><p class="calibre10">For our <code class="email">Bucket-List</code> application, we<a id="id126" class="calibre1"/> will be aiming to use the <code class="email">&lt;ion-list&gt;</code> component to render every item we enter through the input box. In addition, we would want to be able to delete each item from the list by simply swiping from the left and thus revealing a delete button, which we can click. The following screenshot gives a sample graphic breakdown of what we aim to achieve and what items are involved:</p><div class="mediaobject"><img src="../images/00021.jpeg" alt="Using ion-list for our Bucket-List app" class="calibre12"/></div><p class="calibre13"> </p><div class="book" title="The ion-list component"><div class="book"><div class="book"><div class="book"><h5 class="title4"><a id="ch04lvl5sec01" class="calibre28"/>The ion-list component</h5></div></div></div><p class="calibre10">The first thing we <a id="id127" class="calibre1"/>will do is implement the code for our <code class="email">&lt;ion-list&gt;</code> component. The following code is the code for<code class="email">&lt;ion-list&gt;</code>. You are to copy this code and place it just below the code for the input box you already implemented:</p><div class="informalexample"><pre class="programlisting">&lt;ion-list&gt;

&lt;/ion-list&gt;</pre></div><p class="calibre10">This is the top-level component needed to create our <code class="email">&lt;ion-list&gt;</code>component. The <code class="email">&lt;ion-list&gt;</code>component has some attributes that let us perform some more complex implementations. We will not be exploring these attributes but it is worth knowing that they do exist.</p><p class="calibre10">The next step is to<a id="id128" class="calibre1"/> implement the child item for our<code class="email">&lt;ion-list&gt;</code> component. Each item in an <code class="email">&lt;ion-list&gt;</code>component is called <code class="email">&lt;ion-item&gt;</code>.</p></div><div class="book" title="ion-item"><div class="book"><div class="book"><div class="book"><h5 class="title4"><a id="ch04lvl5sec02" class="calibre28"/>ion-item</h5></div></div></div><p class="calibre10">As briefly noted in the<a id="id129" class="calibre1"/> previous subsection about the <code class="email">&lt;ion-list&gt;</code>component, each item in an <code class="email">&lt;ion-list&gt;</code> is called an <code class="email">&lt;ion-item&gt;</code>. Within an <code class="email">&lt;ion-item&gt;</code>, we will put the code for what we want each list item to render. It is also the <code class="email">&lt;ion-item&gt;</code> where we will use Angular's <code class="email">ng-repeat</code> feature. For our <a id="id130" class="calibre1"/>application, we simply want to render the name of each <code class="email">Bucket-List</code> item. This means that we can think of every <code class="email">Bucket-List</code> item as an <code class="email">&lt;ion-item&gt;</code>.</p><p class="calibre10">For now, we are just going to have some dummy text in our implementation showing how a <code class="email">Bucket-List</code> item will prospectively look. The following block of code is the implementation of our <code class="email">&lt;ion-item&gt;</code> representing a <code class="email">Bucket-List </code>item in our app:</p><div class="informalexample"><pre class="programlisting">&lt;ion-item&gt;
&lt;h2&gt;Bucket List Item&lt;/h2&gt;
&lt;/ion-item&gt;</pre></div><p class="calibre10">This is a sample representation of our <code class="email">&lt;ion-item&gt;</code>. If you still have your app running in the browser via the <code class="email">ionic serve</code> technique, you should be able to see the <code class="email">&lt;ion-item&gt;</code> rendered just like in the following screenshot:</p><div class="mediaobject"><img src="../images/00022.jpeg" alt="ion-item" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">Now, with that<a id="id131" class="calibre1"/> implementation completed, there is one more thing we need to do in order to finish the implementation of the user interface of our <code class="email">Bucket-List</code> app. The one thing remaining is the delete feature. Remember from <a id="id132" class="calibre1"/>our initial implementation plan that we want the user to be able to swipe each item in our list and have a <span class="strong"><strong class="calibre11">Delete</strong></span> button revealed. Luckily for us, the <code class="email">&lt;ion-item&gt;</code> component has a neat feature for this called the <code class="email">&lt;ion-option&gt;</code>.</p><div class="book" title="ion-option-button"><div class="book"><div class="book"><div class="book"><h6 class="title5"><a id="ch04lvl6sec01" class="calibre28"/>ion-option-button</h6></div></div></div><p class="calibre10">The <code class="email">&lt;ion-option-button&gt;</code> component lives<a id="id133" class="calibre1"/> within an <code class="email">&lt;ion-item&gt;</code> component as its child. Its sole purpose is to allow us to define buttons that we can reveal when the user of our app swipes from the right of each <code class="email">&lt;ion-item&gt;</code>component just like in the original sample screenshot of our implementations. To get<a id="id134" class="calibre1"/> this implementation underway, copy the following code and paste it just before the closing tag of your <code class="email">&lt;ion-item&gt;</code> component markup:</p><div class="informalexample"><pre class="programlisting">&lt;ion-option-button class="button-assertive"&gt;
     Delete
&lt;/ion-option-button&gt;</pre></div><p class="calibre10">If you have a look at the preceding code, you can see that<code class="email">&lt;ion-option-button&gt;</code> has a class attribute of <code class="email">button-assertive</code>. This is also another Ionic class that is used to define a red button by default on Ionic buttons. Ionic has some built-in classes to easily add colors to elements. We <a id="id135" class="calibre1"/>will be discussing<a id="id136" class="calibre1"/> this later on in this book but for now just be aware of this feature.</p><p class="calibre10">By now, your final code for your<code class="email">&lt;ion-item&gt;</code>component should look something similar to what I have in the following code block:</p><div class="informalexample"><pre class="programlisting">&lt;ion-item&gt;

&lt;h2&gt;Bucket List Item&lt;/h2&gt;

&lt;ion-option-button class="button-assertive"&gt;
         Delete
&lt;/ion-option-button&gt;

&lt;/ion-item&gt;</pre></div><p class="calibre10">Your final code for your <code class="email">&lt;ion-content&gt; </code>component should closely resemble what we have in the following code block:</p><div class="informalexample"><pre class="programlisting">&lt;ion-content&gt;
&lt;div class="list"&gt;
&lt;div class="item item-input-inset"&gt;
&lt;label class="item-input-wrapper"&gt;
&lt;input type="text"&gt;
&lt;/label&gt;
&lt;button class="button button-small"&gt;
              Add
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;ion-list&gt;
&lt;ion-item&gt;

&lt;h2&gt;Bucket List Item&lt;/h2&gt;

&lt;ion-option-button class="button-assertive"&gt;
              Delete
&lt;/ion-option-button&gt;

&lt;/ion-item&gt;
&lt;/ion-list&gt;

&lt;/ion-content&gt;</pre></div><p class="calibre10">With this, we have completed the implementation of the user interface of our <code class="email">Bucket-List</code> application using the <code class="email">&lt;ion-list&gt;</code> component. Provided you still have your app running in the<a id="id137" class="calibre1"/> browser via the <code class="email">ionic serve</code> technique, go and try to swipe the sample list item in your app from the left-hand<a id="id138" class="calibre1"/> side. You should be able to see a <span class="strong"><strong class="calibre11">Delete</strong></span> button when you do this. See the following screenshot for guidance:</p><div class="mediaobject"><img src="../images/00023.jpeg" alt="ion-option-button" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">With this step completed, we are finished with the user interface of our application completely. Now, it is time we start to wire up the app by focusing on the Angular code that we will be writing<a id="id139" class="calibre1"/> to ensure our application works the way we want it to.</p></div></div></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components">
<div class="book" title="Creating a new to-do list application">
<div class="book" title="Writing the Angular code for our Bucket-List app"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch04lvl2sec21" class="calibre1"/>Writing the Angular code for our Bucket-List app</h2></div></div></div><p class="calibre10">Before we begin, let's recap what<a id="id140" class="calibre1"/> behavior we <a id="id141" class="calibre1"/>want to implement in order for our application to work the way we want it to.</p><div class="book" title="Coding our input box"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch04lvl3sec12" class="calibre1"/>Coding our input box</h3></div></div></div><p class="calibre10">The first thing we<a id="id142" class="calibre1"/> want is to be able to enter some text into our input box later. After we enter the text, we want to click the <span class="strong"><strong class="calibre11">Add</strong></span> button<a id="id143" class="calibre1"/> and have this text entered into an array that holds all out <code class="email">Bucket-List</code> items. To begin this first, we create our Angular controller that will hold all the logic for our app.</p><div class="book" title="Creating the controller"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec05" class="calibre1"/>Creating the controller</h4></div></div></div><p class="calibre10">Open to the <code class="email">app.js</code> file of <a id="id144" class="calibre1"/>your application in your favorite IDE. This file can be found in the <code class="email">js</code> folder, which is found in the <code class="email">www</code> folder of your app.</p><div class="informalexample"><pre class="programlisting">www/js/app.js</pre></div><p class="calibre10">There should already be a folder called <code class="email">starter</code> with code similar to that which I have in the following code block:</p><div class="informalexample"><pre class="programlisting">angular.module('starter', ['ionic'])

.run(function($ionicPlatform) {
  $ionicPlatform.ready(function() {
    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
    // for form inputs)
if(window.cordova&amp;&amp;window.cordova.plugins.Keyboard) {
cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
    }
    if(window.StatusBar) {
StatusBar.styleDefault();
    }
  });
})</pre></div><p class="calibre10">To begin, we will first start by creating a controller called <code class="email">BucketListController</code> just after where we declared our module. If you have done this correctly, you should have code that closely resembles the following:</p><div class="informalexample"><pre class="programlisting">angular.module('starter', ['ionic'])

    .controller('BucketListController', function ($scope) {

    })

.run(function($ionicPlatform) {
      $ionicPlatform.ready(function() {
        // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
        // for form inputs)
if(window.cordova&amp;&amp;window.cordova.plugins.Keyboard) {
cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
        }
        if(window.StatusBar) {
StatusBar.styleDefault();
        }
      });
    })</pre></div><p class="calibre10">With this done, we<a id="id145" class="calibre1"/> have now completed the process of creating our controller called <code class="email">BucketLisController</code>. This controller is where all the logic for our app will live.</p></div><div class="book" title="Creating the input box model"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec06" class="calibre1"/>Creating the input box model</h4></div></div></div><p class="calibre10">We are going to need<a id="id146" class="calibre1"/> to create a model that will be bound to our input box. This model will be in the form of an object, and it will hold the data that will be represented by the text we enter in our input box. We will call this model <code class="email">bucketListItem</code>. To create this model, simply enter the following code within <code class="email">BucketListController</code> that you just created in the previous step:</p><div class="informalexample"><pre class="programlisting">$scope.bucketListItem = {
title : ''
};</pre></div><p class="calibre10">The preceding code is initializing the model for our <code class="email">bucketListItem</code> model. This model has a property called <code class="email">title</code> that will hold the text of what we type in the input box at every point in time.</p></div><div class="book" title="Creating an array for the Bucket-List items"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec07" class="calibre1"/>Creating an array for the Bucket-List items</h4></div></div></div><p class="calibre10">The aim of our<a id="id147" class="calibre1"/> app is to have a list of the <code class="email">Bucket-List</code> items. These items, as we enter them in our input box, will need to be stored in an array. We are going to create this array, and we will simply call it <code class="email">bucketListItems</code>. This array is what we will use in Angular's <code class="email">ng-repeat</code> attribute to iterate and render in our view. To create this array for our <code class="email">Bucket-List</code> items, simply attach an array called <code class="email">bucketListItems</code> to the <code class="email">$scope</code> variable of your controller. The following code illustrates this step:</p><div class="informalexample"><pre class="programlisting">$scope.bucketListItems = [];</pre></div></div><div class="book" title="Implementing code for the Add button"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec08" class="calibre1"/>Implementing code for the Add button</h4></div></div></div><p class="calibre10">The final step to ensure that we are able to add items to our Bucket-List app with the input is by writing the code in the form of a function for the <span class="strong"><strong class="calibre11">Add</strong></span> button. This button is responsible for two<a id="id148" class="calibre1"/> things. Firstly, it will ensure that the current text in our input box is added as an entry to the output box array of the <code class="email">Bucket-List</code> items. Secondly, it will also clear up the model to ensure that after we click the button, the input box is cleared up for the next item.</p><p class="calibre10">The following code represents the implementation for our <span class="strong"><strong class="calibre11">Add</strong></span> button:</p><div class="informalexample"><pre class="programlisting">$scope.addBucketListItem = function () {
   //Add Current Bucket List Item To The Front Of Our Bucket List Items Array
   $scope.bucketListItems.unshift($scope.bucketListItem);
   //Clear Current Bucket List For Next Entry
   $scope.bucketListItem = {
      title: ''
   };
};</pre></div><p class="calibre10">From the preceding code you can see that we have created a function called <code class="email">addBucketListItem</code>, and attached it to the <code class="email">$scope</code> variable of our controller so it is available to our view. Within our function, we first add the current value of the <code class="email">bucketListItem</code> variable to our <code class="email">bucketListItems</code> array. Secondly, we clear up the <code class="email">bucketListItem</code> variable to ensure it is cleared for the next entry.</p><p class="calibre10">Now, you can go ahead and implement the preceding code within your controller.</p></div><div class="book" title="Implementing the Delete button"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec09" class="calibre1"/>Implementing the Delete button</h4></div></div></div><p class="calibre10">The last piece of our <a id="id149" class="calibre1"/>code is to implement the <span class="strong"><strong class="calibre11">Delete</strong></span> button of our <code class="email">&lt;ion-option-button&gt;</code>. Remember that we want this button to be able to delete the item which it belongs to. The following code shows the implementation of the <span class="strong"><strong class="calibre11">Delete</strong></span> button:</p><div class="informalexample"><pre class="programlisting">$scope.deleteBucketListItem = function (index) {
$scope.bucketListItems.splice(index, 1);
};</pre></div><p class="calibre10">The preceding code simply shows how <a id="id150" class="calibre1"/>we have created a function called <code class="email">deleteBucketListItem</code>. This function takes in the index of the current item to be deleted as a parameter. It then uses this index to remove the corresponding element that is placed in that index from the <code class="email">bucketListItems</code> array, which holds all our <code class="email">Bucket-List</code> items.</p><p class="calibre10">With that complete, we have pretty much finished the code aspect of our application. Your final controller should look similar to what I have in the following code block:</p><div class="informalexample"><pre class="programlisting">controller('BucketListController', function ($scope) {
      $scope.bucketListItem = {
        title : ''
      };

      $scope.bucketListItems = [];

      $scope.addBucketListItem = function () {
        //Add Current Bucket List Item To The Front Of Our Bucket List Items Array
        $scope.bucketListItems.unshift($scope.bucketListItem);
        //Clear Current Bucket List For Next Entry
        $scope.bucketListItem = {
          title: ''
        };
      };

      $scope.deleteBucketListItem = function (index) {
        $scope.bucketListItems.splice(index, 1);
      };

    })</pre></div><p class="calibre10">Now, before we<a id="id151" class="calibre1"/> go ahead and test your application, we have one last step to complete. We need to wire up all the code we have just created with the UI we implemented earlier so that they can work together.</p></div></div><div class="book" title="Wire it all up"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch04lvl3sec13" class="calibre1"/>Wire it all up</h3></div></div></div><p class="calibre10">With our controller ready, now<a id="id152" class="calibre1"/> we have to go ahead and wire all the code to the UI so that they can work together in harmony.</p><div class="book" title="Binding the controller"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec10" class="calibre1"/>Binding the controller</h4></div></div></div><p class="calibre10">The first thing we <a id="id153" class="calibre1"/>need to do is to wire up the controller we created. The simple and easiest way to do this is by simply using Angular's <code class="email">ng-controller</code> attribute directive to specify our controller. In our case, we will be wiring the controller on <code class="email">&lt;ion-content&gt;</code> of our app. Once again, open up the <code class="email">index.html</code> file of your application. Find the opening <code class="email">&lt;ion-content&gt;</code> tag of the page and specify an <code class="email">ng-controller</code> attribute with the name of your controller.</p><p class="calibre10">Your code should closely resemble the following code:</p><div class="informalexample"><pre class="programlisting">&lt;ion-content ng-controller="BucketListController"&gt;</pre></div><p class="calibre10">This code is simply telling Angular that we wish to use <code class="email">BucketListController</code> within the scope of this <code class="email">&lt;ion-content&gt;</code> element. This means that all the methods and properties scoped within this controller are now available to the <code class="email">&lt;ion-content&gt;</code> element and all its descendant elements.</p></div><div class="book" title="Binding the input box model"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec11" class="calibre1"/>Binding the input box model</h4></div></div></div><p class="calibre10">The next step is to ensure that the <code class="email">bucketListItem</code> variable we created in our controller is data bound to<a id="id154" class="calibre1"/> our input box in the view. Angular also has a simple but great attribute directive for this called <code class="email">ng-model</code>. We simply provide <code class="email">ng-model</code> with a value that matches an object or variable that we want to data bind to. In our case, we want to data bind to the title property of our <code class="email">bucketListItem</code> variable from our controller. Again, I have provided the following code for your convenience:</p><div class="informalexample"><pre class="programlisting">&lt;input type="text" ng-model="bucketListItem.title"&gt;</pre></div><p class="calibre10">The preceding piece of code we just added tells Angular to bind this variable to this input box. Therefore, anytime the value of the input changes from the view, we have the same value in our controller and vice versa.</p></div><div class="book" title="Wiring up the Add button"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec12" class="calibre1"/>Wiring up the Add button</h4></div></div></div><p class="calibre10">The <span class="strong"><strong class="calibre11">Add</strong></span> button is next in line for our implementation. For this button, we simply need to tell it to run our <code class="email">addBucketListItem</code> function every time it is clicked. Once again, Angular has a helper directive for this called the <code class="email">ng-click</code> directive. The <code class="email">ng-click</code> directive is like the <a id="id155" class="calibre1"/>classic Java <code class="email">onClick</code> event listener and you provide it with a function that you want to run every time the wired element is clicked. The following code demonstrates how we can wire up our <span class="strong"><strong class="calibre11">Add</strong></span> button with the <code class="email">ng-click</code> directive:</p><div class="informalexample"><pre class="programlisting">&lt;button class="button button-small" ng-click="addBucketListItem()"&gt;
    Add
&lt;/button&gt;</pre></div><p class="calibre10">The preceding code implementation simply ensures that when the <span class="strong"><strong class="calibre11">Add</strong></span> button is clicked, the <code class="email">addBucketListener</code> function will run with its expected behavior.</p></div><div class="book" title="Binding ion-item"><div class="book"><div class="book"><div class="book"><h4 class="title3"><a id="ch04lvl4sec13" class="calibre1"/>Binding ion-item</h4></div></div></div><p class="calibre10">The last part of our wiring<a id="id156" class="calibre1"/> up will be to wire our <code class="email">bucketListItems</code> array to our <code class="email">Ion-Item</code> elements, and also bind the <code class="email">ion-option-button</code> element to our <code class="email">deleteBucketListItem()</code> function.</p><div class="book" title="Using ng-repeat to render the list"><div class="book"><div class="book"><div class="book"><h5 class="title4"><a id="ch04lvl5sec03" class="calibre28"/>Using ng-repeat to render the list</h5></div></div></div><p class="calibre10">Right now we have<a id="id157" class="calibre1"/> a sample implementation that has one hardcoded <code class="email">ion-item</code>. However, we will want a more dynamic solution where we automatically render the items within the <code class="email">bucketListItems</code> array each as an <code class="email">ion-item</code>. For this implementation, we are going to use one of the most important Angular features in the form of <code class="email">ng-repeat</code>. The <code class="email">ng-repeat</code> angular directive lets us dynamically repeat an array.</p><p class="calibre10">Right now, you have a code that looks similar to the following:</p><div class="informalexample"><pre class="programlisting">&lt;ion-item&gt;

&lt;h2&gt;Bucket List Item&lt;/h2&gt;

&lt;ion-option-button class="button-assertive"&gt;
        Delete
&lt;/ion-option-button&gt;

&lt;/ion-item&gt;</pre></div><p class="calibre10">We are going to change this implementation to use the <code class="email">ng-repeat</code> directive of Angular. The following code shows you how this is achieved:</p><div class="informalexample"><pre class="programlisting">&lt;ion-item ng-repeat="item in bucketListItems"&gt;

&lt;h2&gt;{{item.title}}&lt;/h2&gt;

&lt;ion-option-button class="button-assertive"&gt;
        Delete
&lt;/ion-option-button&gt;

&lt;/ion-item&gt;</pre></div><p class="calibre10">The preceding code now uses Angular's <code class="email">ng-repeat</code> attribute. This code tells Angular to repeat the <code class="email">bucketListItems</code> array and also binds the title of each item to an HTML <code class="email">&lt;h2&gt;</code> element.</p></div><div class="book" title="Wiring up the ion-option-button element"><div class="book"><div class="book"><div class="book"><h5 class="title4"><a id="ch04lvl5sec04" class="calibre28"/>Wiring up the ion-option-button element</h5></div></div></div><p class="calibre10">The <code class="email">ion-option-button</code> element is<a id="id158" class="calibre1"/> still untouched and will do nothing if we don't tell it to do so. All we need to do for this element is to provide it with a function we want to be executed when it is clicked, like we did with the <span class="strong"><strong class="calibre11">Add</strong></span> button. For this, we will be using the <code class="email">ng-click</code> directive again, but this time, we will point it to the <code class="email">deleteBucketListItem()</code> function from our controller. The following code shows just how we can achieve that:</p><div class="informalexample"><pre class="programlisting">&lt;ion-option-button class="button-assertive" ng-click="deleteBucketListItem($index)"&gt;
     Delete
&lt;/ion-option-button&gt;</pre></div><p class="calibre10">From the preceding <a id="id159" class="calibre1"/>code, you will notice one alien thing, <code class="email">$index</code> being specifically passed as a parameter for our <code class="email">deleteBucketListItem</code> function. This variable is a magic variable that the <code class="email">ng-repeat</code> directive of Angular exposes to us. It represents the index of the current element being rendered by <code class="email">ng-repeat</code>. With this index, we can learn what particular element should be deleted from our array of bucket list items, and delete the correct one.</p><p class="calibre10">The final <code class="email">&lt;ion-content&gt;</code> in your <code class="email">index.html</code> file should closely resemble what I have in the following code block:</p><div class="informalexample"><pre class="programlisting">&lt;ion-content ng-controller="BucketListController"&gt;

&lt;div class="list"&gt;
&lt;div class="item item-input-inset"&gt;
&lt;label class="item-input-wrapper"&gt;
&lt;input type="text" ng-model="bucketListItem.title"&gt;
&lt;/label&gt;
&lt;button class="button button-small" ng-click="addBucketListItem()"&gt;
              Add
&lt;/button&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;ion-list&gt;

&lt;ion-item ng-repeat="item in bucketListItems"&gt;
&lt;h2&gt;{{item.title}}&lt;/h2&gt;

&lt;ion-option-button class="button-assertive" ng-click="deleteBucketListItem($index)"&gt;
              Delete
&lt;/ion-option-button&gt;

&lt;/ion-item&gt;

&lt;/ion-list&gt;

&lt;/ion-content&gt;</pre></div></div></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;4.&#xA0;Ionic Components">
<div class="book" title="Creating a new to-do list application">
<div class="book" title="Testing our Bucket-List app"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch04lvl2sec22" class="calibre1"/>Testing our Bucket-List app</h2></div></div></div><p class="calibre10">We have<a id="id160" class="calibre1"/> completed the implementation of our application, and now it is time for us to see it in action. Ensure you have your app running in the browser via the <code class="email">ionic serve</code> technique, and test it. Try entering some things into your <code class="email">Bucket-List</code> app such as skydiving, jet-skiing, and so on. You should see that every time you enter an item and click <span class="strong"><strong class="calibre11">Add</strong></span>, the item will appear in the list and the input box will clear up ready for your next input. Also, make sure you test the delete option by swiping an item from the left to reveal the <span class="strong"><strong class="calibre11">Delete</strong></span> button, and clicking it to see the item disappear.</p></div></div></div>
<div class="book" title="Summary" id="NQU21-798adc86542b445d8a1bb648e10b6714"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch04lvl1sec18" class="calibre1"/>Summary</h1></div></div></div><p class="calibre10">In this chapter, we focused on creating our <code class="email">Bucket-List</code> application from scratch using the Ionic blank template. We also learned to use the <code class="email">&lt;ion-list&gt;</code> component of Ionic and its child elements. We wrote some Angular code to wire everything up and got it running. The <code class="email">&lt;ion-list&gt;</code>component is a very powerful component, and although the task of this chapter might appear a bit more complex that the previous ones, there are still some more powerful features that the <code class="email">&lt;ion-list&gt;</code> component lets us do. For more information about <code class="email">&lt;ion-list&gt;</code>, visit the official documentation of <code class="email">&lt;ion-list&gt;</code> from the provided links in the appendix of this book to learn even more complex features.</p><p class="calibre10">In the next chapter, we will be learning some very exciting stuff about creating side menu applications with Ionic. We will also build ourselves a tourist application and work with the AJAX calls for the very first time using Angular's <code class="email">$HTTP</code> service.</p></div></body></html>