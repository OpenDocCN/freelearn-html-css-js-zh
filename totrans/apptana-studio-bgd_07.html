<html><head></head><body><div class="chapter" title="Chapter&#xA0;7.&#xA0;Using JavaScript Libraries"><div class="titlepage"><div><div><h1 class="title"><a id="ch07"/>Chapter 7. Using JavaScript Libraries</h1></div></div></div><p>
<span class="emphasis"><em>While developing a web application, nearly every developer uses their own or another public JavaScript framework or library, because no one wants to do all the required script coding again and again. The wheel does not have any time to be reinvented!</em></span>
</p><p>
<span class="emphasis"><em>Another pro is, of course, that popular JavaScript frameworks such as Dojo Toolkit, jQuery, or ExtJS are already proofed across browsers , making their use more attractive.</em></span>
</p><p>
<span class="emphasis"><em>Therefore, we want to easily integrate libraries from other developers or use our own existing libraries.</em></span>
</p><p>In this chapter we will cover the requirements for including JavaScript libraries:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Using jQuery</li><li class="listitem" style="list-style-type: disc">Using Dojo Toolkit</li><li class="listitem" style="list-style-type: disc">Using ExtJS</li></ul></div><div class="section" title="Requirements for including a JavaScript library"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec95"/>Requirements for including a JavaScript library</h1></div></div></div><p>In order to make Aptana Studio work with the <a id="id435" class="indexterm"/>JavaScript library, some requirements must be met so that this library can provide information to the Aptana Studio Content Assist.</p><p>The library you want to integrate must have either of the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A JSCA 1.0 specification file. <a id="id436" class="indexterm"/>You can read more <a id="id437" class="indexterm"/>about it on <a class="ulink" href="https://wiki.appcelerator.org/display/tis/JSCA+1.0+Specification">https://wiki.appcelerator.org/display/tis/JSCA+1.0+Specification</a>. </li><li class="listitem" style="list-style-type: disc">Script comments can also be read using the ScriptDoc specifications, as we have already described in a previous chapter.</li><li class="listitem" style="list-style-type: disc">A <span class="strong"><strong>Virtual Studio Documentation</strong></span> <a id="id438" class="indexterm"/>(<span class="strong"><strong>VSDoc</strong></span>) for <a id="id439" class="indexterm"/>JavaScript.</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip46"/>Tip</h3><p>
<span class="strong"><strong>Using an Aptana Studio 2.X Code Assist XML file</strong></span>
</p><p>You can also use an Aptana Studio 2.X Code Assist XML file. In such a case, you just have to rename the file extension to <code class="literal">.sdocml</code>.</p></div></div><p>A further requirement is that the project <a id="id440" class="indexterm"/>must have one of the following types:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Web</li><li class="listitem" style="list-style-type: disc">PHP</li><li class="listitem" style="list-style-type: disc">Python</li><li class="listitem" style="list-style-type: disc">Ruby</li><li class="listitem" style="list-style-type: disc">Rails</li></ul></div><p>The reason that we need one of these project types is that (as discussed in <a class="link" href="ch03.html" title="Chapter 3. Working with Workspaces and Projects">Chapter 3</a>, <span class="emphasis"><em>Working with Workspaces and Projects</em></span>) each one of them is able to access and add different features to a project.</p><p>In <a class="link" href="ch03.html" title="Chapter 3. Working with Workspaces and Projects">Chapter 3</a>, <span class="emphasis"><em>Working with Workspaces and Projects</em></span>, you can read about how to create a project in one of these types, or how to change the type of project.</p></div></div>
<div class="section" title="Using jQuery"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec96"/>Using jQuery</h1></div></div></div><p>jQuery is one of the most popular JavaScript libraries.<a id="id441" class="indexterm"/>
<a id="id442" class="indexterm"/> jQuery is a free and very extensive library that provides many comfortable functions for DOM manipulation and navigation.</p><p>As the name suggests, it started as a JavaScript query library and today provides a huge number of plugins and even a complete UI package.</p><p>You can get it from the jQuery <a id="id443" class="indexterm"/>website at <a class="ulink" href="http://docs.jquery.com/Downloading_jQuery">http://docs.jquery.com/Downloading_jQuery</a>.</p><p>Before we start to integrate jQuery, we can also install the additional jQuery bundle. This does not take long and only needs to be installed once. After installation, the Content Assist provides us with additional useful jQuery snippets and commands.</p></div>
<div class="section" title="Time for action &#x2013; installing the jQuery bundle"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec97"/>Time for action – installing the jQuery bundle</h1></div></div></div><p>To install the jQuery bundle, follow these <a id="id444" class="indexterm"/>steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In the menu, navigate to <span class="strong"><strong>Commands</strong></span> | <span class="strong"><strong>Bundle Development</strong></span> | <span class="strong"><strong>Install Bundle</strong></span>.<div class="mediaobject"><img src="graphics/8246_07_03.jpg" alt="Time for action – installing the jQuery bundle"/></div></li><li class="listitem">Select the <span class="strong"><strong>jQuery</strong></span> entry and click on <span class="strong"><strong>OK</strong></span>.</li><li class="listitem">Now, Aptana Studio pulls the jQuery ruble <a id="id445" class="indexterm"/>from github and integrates it into the system.<div class="mediaobject"><img src="graphics/8246_07_04.jpg" alt="Time for action – installing the jQuery bundle"/></div></li></ol></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip47"/>Tip</h3><p>
<span class="strong"><strong>Cloning the Git Repository failed?</strong></span>
</p><p>If you receive an error such as <span class="strong"><strong>fatal: Unable to look up github.com</strong></span>, just check your DNS setting and make sure that the github domain is correctly resolved.</p></div></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec110"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have just installed the jQuery bundle directly from the Aptana Git Repository. Aptana Studio has integrated it automatically into the system so that you receive many further jQuery specific Content Assist entries. From now on, you will find a <span class="strong"><strong>jQuery</strong></span> entry within the <span class="strong"><strong>Commands</strong></span> menu, which contains the jQuery bundle with all their snippets and some commands.</p><div class="mediaobject"><img src="graphics/8246_07_05.jpg" alt="What just happened?"/></div><p>Now that we have installed the jQuery bundle, we will go on and <a id="id446" class="indexterm"/>integrate the jQuery library.</p></div></div>
<div class="section" title="Time for action &#x2013; integrating jQuery"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec98"/>Time for action – integrating jQuery</h1></div></div></div><p>In this section, we will see how to integrate jQuery. <a id="id447" class="indexterm"/>To do this, refer to the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new web project named <code class="literal">Using JavaScript Libraries - jQuery</code>.</li><li class="listitem">Download the jQuery source and save it under <code class="literal">jquery-release-1.7.2-src</code>.</li><li class="listitem">Create a folder named <code class="literal">jquery-vsdoc-*version*</code> (replace <code class="literal">*version*</code> with your jQuery version), in our case <code class="literal">jquery-vsdoc-1.7.2</code>.</li><li class="listitem">Now we have to download the relevant VSDoc file. You can download this from the website at <a class="ulink" href="http://appendto.com/community/jquery-vsdoc">http://appendto.com/community/jquery-vsdoc</a>. Now just select your version and click on the <span class="strong"><strong>VSDOC</strong></span> link, in our case on <span class="strong"><strong>jQuery 1.7.2 VSDOC</strong></span>, and save the file into the <code class="literal">jquery-vsdoc-1.7.2</code> directory.</li><li class="listitem">Finally, you must drag the VSDOC file into your <code class="literal">Project</code> folder, otherwise the Content Assist will not provide you with the <a id="id448" class="indexterm"/>information from the VSDOC file.</li></ol></div><p>Why does Content Assist not work? If Content Assist did not provide any jQuery functions or some other functions, maybe you have not integrated the VSDoc file via drag-and-drop into your project. As a quick solution, you could just drag-and-drop the file into another project and then back to the current project.</p><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec111"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have integrated the jQuery VSDoc file into our web project. From now on, the Content Assist will provide us with all of the available jQuery functions from the current scope.</p><p>So if, for example, you type <code class="literal">$(d)</code> and place the cursor behind the <code class="literal">d</code> variable, you can then trigger the Content Assist by pressing <span class="emphasis"><em>Ctrl</em></span> + Space bar; the Content Assist will then give you some suggestions.</p><div class="mediaobject"><img src="graphics/8246_07_06.jpg" alt="What just happened?"/></div><p>You could then place the cursor, for example, behind a <code class="literal">$(document)</code> entry, and trigger the Content Assist once more. Now the Content Assist will also provide you with all available jQuery functions.</p><div class="mediaobject"><img src="graphics/8246_07_07.jpg" alt="What just happened?"/></div><p>Easy, isn't it? No more searching within the documentation because you didn't know which functions were available or how they should have been written—now you can just navigate through the list of all functions and properties and select the required one.</p></div></div>
<div class="section" title="Using Dojo Toolkit"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec99"/>Using Dojo Toolkit</h1></div></div></div><p>Dojo Toolkit is a solid JavaScript <a id="id449" class="indexterm"/>toolkit that provides many home-made components, plugins, and widgets. All of them are internationalized and, as the Dojo team says, <span class="emphasis"><em>unbeatable</em></span>. It <a id="id450" class="indexterm"/>has already been thoroughly tested in all major browsers and is appropriate for programming a variety of applications, from large web applications to mobile applications.</p><p>You can get it from the <a id="id451" class="indexterm"/>Dojo Toolkit website at <a class="ulink" href="http://dojotoolkit.org/download/">http://dojotoolkit.org/download/</a>.</p></div>
<div class="section" title="Time for action &#x2013; integrating the Dojo Toolkit"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec100"/>Time for action – integrating the Dojo Toolkit</h1></div></div></div><p>The following steps show how to <a id="id452" class="indexterm"/>integrate the Dojo Toolkit:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new web project named <code class="literal">Using JavaScript Libraries - Dojo</code>.</li><li class="listitem">Download the Dojo Toolkit source and extract it into a folder, for example, <code class="literal">dojo-release-1.7.2-src</code>.</li><li class="listitem">Copy the folder that contains the Dojo Toolkit source into your <code class="literal">Project</code> folder.</li><li class="listitem">Create a folder named <code class="literal">dojo-sdocml-*version*</code> (replace <code class="literal">*version*</code> with your Dojo Toolkit version), in our case <code class="literal">dojo-sdocml-1.7.2</code>.<p>After the preceding steps, your project should look like the following screenshot in your <span class="strong"><strong>Project Explorer</strong></span> view:</p><div class="mediaobject"><img src="graphics/8246_07_01.jpg" alt="Time for action – integrating the Dojo Toolkit"/></div></li><li class="listitem">In order to use the Dojo Toolkit within Aptana Studio, we have to create a SDOCML file for it, because its documentation isn't created in ScriptDoc.</li><li class="listitem">If you want to use version 1.6.0 of the Dojo Toolkit, it can be downloaded at <a class="ulink" href="https://raw.github.com/aptana/dojo.ruble/master/support/dojo.1.6.0.sdocml">https://raw.github.com/aptana/dojo.ruble/master/support/dojo.1.6.0.sdocml</a>, and version 1.7.0 at <a class="ulink" href="https://github.com/gigi81/studio3-sdk/blob/master/tools/frameworks/dojo/1.7/api.sdocml">https://github.com/gigi81/studio3-sdk/blob/master/tools/frameworks/dojo/1.7/api.sdocml</a>.</li><li class="listitem">If you want to use another version, you might have to create your own. But don't be afraid, it's very easy. If you are going to use one of the the Dojo Toolkit SDOCML files, please skip to step 10.</li><li class="listitem">The first step is to download the current <a id="id453" class="indexterm"/>API file. The API file contains a complete list of all of the packages and functions of the Dojo Toolkit, which is more than 7 MB and has more than 213 thousand lines. You can find this file on the Dojo Toolkit website at <a class="ulink" href="http://download.dojotoolkit.org/release-*version*/api.xml">http://download.dojotoolkit.org/release-*version*/api.xml</a>. Just replace <code class="literal">*version*</code> with your Dojo Toolkit version. In our case, we are using the current version, that is 1.7.2; therefore, we download the following file from <a class="ulink" href="http://download.dojotoolkit.org/release-1.7.2/api.xml">http://download.dojotoolkit.org/release-1.7.2/api.xml</a>. Save the file into the <code class="literal">dojo-sdocml-1.7.2</code> directory.</li><li class="listitem">We need to convert the API file into the required SDOCML file. Because the API file is a simple XML file, we can do this with an XSL transformation. You can download this XSL file for the conversion at <a class="ulink" href="https://raw.github.com/aptana/studio3-sdk/master/tools/frameworks/dojo/1.6/update_dojo_metadata_1.6.xsl">https://raw.github.com/aptana/studio3-sdk/master/tools/frameworks/dojo/1.6/update_dojo_metadata_1.6.xsl</a>. This XSL file was created for version 1.6.0 of the Dojo Toolkit, but it also works for newer versions. Just save it into the same location as the API file (into the <code class="literal">dojo-sdocml-1.7.2</code> directory). For transforming the API file using the XSL file into the required SDOCML file, you need the <code class="literal">xsltproc</code> package. You can install it, If you have not already done so, do this simply with <code class="literal">apt-get</code>:<div class="informalexample"><pre class="programlisting">sudo apt-get install xsltproc</pre></div><p>If you're using a Windows operating system, just navigate to the <a class="ulink" href="http://xmlsoft.org/XSLT/downloads.html">http://xmlsoft.org/XSLT/downloads.html</a> website. Here you will find a link to the windows port (by Igor Zlatkovic) of this library. After installing the package, you can create the SDOCML file using the following simple shell action:</p><div class="informalexample"><pre class="programlisting">xsltproc update_dojo_metadata_1.6.xsl api.xml &gt; api.sdocml</pre></div></li><li class="listitem">Finally, you just have to drag the downloaded or <a id="id454" class="indexterm"/>created SDOCML file somewhere into your project. We drag this file into the <code class="literal">dojo-sdocml-1.7.2</code> directory.<p>After all these steps, your project may look something like this:</p><div class="mediaobject"><img src="graphics/8246_07_02.jpg" alt="Time for action – integrating the Dojo Toolkit"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec112"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have just integrated the Dojo Toolkit source into one of our projects. Furthermore, we created a Dojo Toolkit SDOCML file that provides the Content Assist with the necessary information so that it can provide us with all the available features in the current scope.</p><p>Let's do a simple check. Create a JavaScript file within our Dojo project. Open the file, type in <code class="literal">dojo</code>, and trigger the Content Assist by pressing <span class="emphasis"><em>Ctrl</em></span> + Space bar. The Content Assist will suggest the <code class="literal">dojo</code> object to you along with other options that begin with the same letters. In the right-hand side column, you can see from which file the Content Assist gets the information for this object.</p><div class="mediaobject"><img src="graphics/8246_07_08.jpg" alt="What just happened?"/></div><p>Now, let's go forward and type in <code class="literal">dojo</code>. The Content Assist will list all available methods from the <code class="literal">dojo</code> object<a id="id455" class="indexterm"/>. When we specify our input further, for example, <code class="literal">dojo.q</code>, the Content Assist updates its list and removes all entries that no longer match.</p><div class="mediaobject"><img src="graphics/8246_07_09.jpg" alt="What just happened?"/></div><p>This time the object that the method belongs to is displayed in the right-hand side column. To the right-hand side of the list is a tooltip that displays the documentation of this method.</p></div></div>
<div class="section" title="Using ExtJS"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec101"/>Using ExtJS</h1></div></div></div><p>ExtJS is a JavaScript framework, just like Dojo <a id="id456" class="indexterm"/>Toolkit, that provides many rich, modern UI widgets. ExtJS was a collection of <a id="id457" class="indexterm"/>function extensions from the <a id="id458" class="indexterm"/>
<span class="strong"><strong>Yahoo User Interface</strong></span> (<span class="strong"><strong>YUI</strong></span>) library that, in time, became more and more popular. Through increasing complexity and popularity, it <a id="id459" class="indexterm"/>developed into an independent <a id="id460" class="indexterm"/>library called <span class="strong"><strong>ExtJS</strong></span>.</p><p>You can get it from the Sencha website <a class="ulink" href="http://at http://www.sencha.com/products/extjs/download/">at http://www.sencha.com/products/extjs/download/</a>.</p></div>
<div class="section" title="Time for action &#x2013; integrating ExtJS"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec102"/>Time for action – integrating ExtJS</h1></div></div></div><p>The following steps are required to integrate <a id="id461" class="indexterm"/>ExtJS:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new web project named <code class="literal">Using JavaScript Libraries - ExtJS</code>.</li><li class="listitem">Download the ExtJS package. In our case, we will choose the <code class="literal">ext-4.1.0-gpl.zip</code> package.</li><li class="listitem">Extract the ExtJS package into your <code class="literal">Project</code> folder.</li><li class="listitem">Create a folder named <code class="literal">extjs-sdocml-4.1.0</code> (replace <code class="literal">*version*</code> with your ExtJS version), in our case <code class="literal">extjs-sdocml-4.1.0</code>.<p>After the preceding steps, your project should look like the following screenshot:</p><div class="mediaobject"><img src="graphics/8246_07_11.jpg" alt="Time for action – integrating ExtJS"/></div></li><li class="listitem">Refresh your project by right-clicking on the project name in the <code class="literal">Project Explorer</code> folder and click on <span class="strong"><strong>Refresh</strong></span>. Now, Aptana Studio will index the new files and read the required information for the Content Assist. This may take a moment because ExtJS has a lot of files.<div class="mediaobject"><img src="graphics/8246_07_10.jpg" alt="Time for action – integrating ExtJS"/></div></li><li class="listitem">Now we have to get the required ScriptDoc file. If you want to use version 3.3.0 of ExtJS, you can find the file at <a class="ulink" href="https://raw.github.com/aptana/sencha.ruble/master/support/ext-js-3.3.0.sdocml">https://raw.github.com/aptana/sencha.ruble/master/support/ext-js-3.3.0.sdocml</a>. If you want to use version 4.0 or 4.1 (as in our example), you can download the <a id="id462" class="indexterm"/>ScriptDoc file from the web blog at <a class="ulink" href="http://www.thekuroko.com/aptana-sdocml-code-hinting-support/">http://www.thekuroko.com/aptana-sdocml-code-hinting-support/</a>. John Crosby has written a tool that uses Adobe <a id="id463" class="indexterm"/>AIR and jsduck to create the necessary ScriptDoc file. At this point, we can thank John for his work. We download the required file and drag it into the <code class="literal">sdocml</code> directory.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec113"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We have integrated ExtJS into one of our own projects. It is done in the same way as jQuery and Dojo Toolkit. Again, it is very important that the file is dragged into the project, otherwise the Content Assist will not provide any information contained within the ScriptDoc file.</p><p>You will be able to test it in a similar way to the way we tested it in the jQuery and Dojo Toolkit case.</p></div><div class="section" title="Have a go hero – integrating a JavaScript library into a current project of your own"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec114"/>Have a go hero – integrating a JavaScript library into a current project of your own</h2></div></div></div><p>Now your task is to select a current project of yours that uses one of the <a id="id464" class="indexterm"/>libraries we have dealt with in this chapter. Take a look at how this library is currently integrated and adjust its integration in such a way that you can use the Content Assist for further development.</p><p>When you're done, try out the code completion and see whether all of the library features are provided.</p></div><div class="section" title="Pop quiz"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec115"/>Pop quiz</h2></div></div></div><p>Q1. Which requirements must be met in order to use the JavaScript library with the Content Assist?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The Library API must be available in XML or JSON format</li><li class="listitem">None, the Content Assist reads directly from your source code files</li><li class="listitem">The Library must be documented in ScriptDoc format, in Virtual Studio Documentation (VSDoc) for JavaScript, or must have a JSCA 1.0 specification file</li></ol></div><p>Q2. Can you use the Aptana Studio 2.X Code Assist XML file with Aptana Studio 3?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Yes, just rename the XML file extension to the SDOCML file extension</li><li class="listitem">No, there is no way to use them in Aptana Studio 3</li><li class="listitem">Yes, but it must be converted with an XSLT conversion</li></ol></div><p>Q3. What is absolutely necessary to get the Content Assist to work with your libraries?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The ScriptDoc file must be copied and pasted into your project</li><li class="listitem">The ScriptDoc file must be dragged into your project</li><li class="listitem">Nothing</li></ol></div><p>Q4. What does the jQuery bundle provide?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The complete jQuery Content Assist information to <a id="id465" class="indexterm"/>enable all Content Assist functionalities</li><li class="listitem">Only jQuery snippets and some commands</li><li class="listitem">jQuery itself—a separate copy of the jQuery library is not required anymore</li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec103"/>Summary</h1></div></div></div><p>After reading this chapter, you should be able to integrate several JavaScript libraries into your projects so that the Content Assist provides all the necessary information to work much more effectively. In addition, you should know in detail what is required for integration other than what has been dealt within this chapter—JavaScript libraries.</p><p>In the next chapter we will learn how to work on a remote server with FTP.</p></div></body></html>