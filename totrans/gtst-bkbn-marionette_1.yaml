- en: Chapter 1. Starting with Backbone Marionette
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. 从 Backbone Marionette 开始
- en: 'This practical guide provides clear steps to the basics of writing scalable
    applications using `Marionette.js`. As you progress through the initial examples,
    you will develop an understanding of how the framework components work together
    to create a composite application. But before we go through in-depth examples,
    here are some things that you will find in this introductory chapter:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这本实用指南提供了使用 `Marionette.js` 编写可扩展应用程序的基本步骤。随着你通过初始示例的进展，你将了解框架组件如何协同工作以创建复合应用程序。但在我们深入示例之前，以下是你在本介绍章节中可以找到的一些内容：
- en: Description and characteristicsof `Marionette.js`
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Marionette.js` 的描述和特性'
- en: The role of `Marionette.js` in the Backbone applications
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Marionette.js` 在 Backbone 应用程序中的作用'
- en: Benefits of the framework
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 框架的好处
- en: An overview of architecture and scalability
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 架构和可扩展性的概述
- en: Instructions for installation and documentation
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和文档说明
- en: Introducing Marionette.js
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍 Marionette.js
- en: A composite application library for `Backbone.js` is `Backbone.marionette`,
    also known as `Marionette.js`. It gives us the core constructs and simplifies
    many of the patterns and practices that your JavaScript applications need to be
    scalable.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '`Backbone.js` 的复合应用程序库是 `Backbone.marionette`，也称为 `Marionette.js`。它为我们提供了核心结构，并简化了你的
    JavaScript 应用程序需要可扩展性的许多模式和惯例。'
- en: Backbone needs Marionette.js
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Backbone 需要 Marionette.js
- en: An increasingly popular framework for building single-page and small- to mid-sized
    applications is `Backbone.js`. It provides a great set of building blocks to organize
    your frontend development and build applications that support mobile devices.
    However, it leaves much of the application design, architecture, and scalability
    to developers. Nevertheless, `Marionette.js` fills in some blanks that `Backbone.js`
    doesn't provide by itself and gives us conventions that you can take advantage
    of to build your own custom objects. Simply put, `Marionette.js` makes your life
    easier when you are developing the Backbone applications.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`Backbone.js` 是一个越来越受欢迎的框架，用于构建单页应用以及中小型应用。它提供了一套优秀的构建块来组织你的前端开发，并构建支持移动设备的应用程序。然而，它将大部分的应用设计、架构和可扩展性留给了开发者。尽管如此，`Marionette.js`
    通过填补 `Backbone.js` 自身未提供的空白，并提供了你可以利用的约定来构建自己的自定义对象。简单来说，`Marionette.js` 在开发 Backbone
    应用程序时使你的生活变得更简单。'
- en: Key benefits of Marionette.js
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Marionette.js 的关键好处
- en: 'Adding a lot of key patterns and tools used to create real-world applications,
    `Marionette.js` found its place in Backbone. The following are some of the benefits
    that you can find within this framework:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 添加了许多用于创建现实世界应用程序的关键模式和工具，`Marionette.js` 在 Backbone 中找到了自己的位置。以下是一些你可以在这个框架中找到的好处：
- en: Structure, organization, and patterns
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结构、组织和模式
- en: Composite application architecture
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复合应用程序架构
- en: Event-driven architecture with the event aggregator
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有事件聚合器的事件驱动架构
- en: Boilerplate for views can be reduced
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以减少视图的样板代码
- en: Enterprise messaging pattern influence
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业消息模式的影响
- en: Modularization options
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模块化选项
- en: Incremental use; because it's not an all or nothing framework, which means that
    you can use just the components you need
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 渐进式使用；因为它不是一个全有或全无的框架，这意味着你可以只使用你需要的组件
- en: Support for nested views and layouts within visual regions
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在视觉区域内部支持嵌套视图和布局
- en: Built-in memory management and zombie killing in views, regions, and layouts
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视图、区域和布局中的内置内存管理和僵尸清除
- en: A lot of application infrastructural components needed to build an application
    of any module size is provided by `Marionette.js`.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '`Marionette.js` 提供了大量构建任何模块大小应用程序所需的应用基础设施组件。'
- en: A wide set of objects are provided by `Marionette.js` that facilitate the creation
    of well-structured applications of virtually any size and complexity. It achieves
    this goal by providing a collection of common design and implementation patterns
    found in the applications that the creator, Derick Bailey, used to develop the
    modular Backbone applications.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '`Marionette.js` 提供了一系列对象，这些对象有助于创建几乎任何大小和复杂性的良好结构化应用程序。它通过提供一组常见的设计和实现模式来实现这一目标，这些模式是创建者
    Derick Bailey 在开发模块化 Backbone 应用程序时使用的。'
- en: Building large applications
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 构建大型应用程序
- en: When planning the architecture for your application, you normally try to think
    ahead as much as possible, attempting to achieve a decoupled architecture with
    functionality broken down into independent modules, and to avoid making direct
    calls between these modules. Therefore, you can add and remove modules without
    affecting its behavior.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在规划应用程序的架构时，你通常会尽可能提前思考，试图实现一个解耦的架构，将功能分解成独立的模块，并避免在这些模块之间进行直接调用。因此，你可以添加和删除模块而不影响其行为。
- en: '|   | "The secret to building large apps is never build large apps. Break your
    applications into small pieces. Then, assemble those testable, bite-sized pieces
    into your big application" |   |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '|   | "构建大型应用程序的秘诀永远不是构建大型应用程序。将你的应用程序分解成小块。然后，将这些可测试的、易于管理的块组装成你的大型应用程序" |
      |'
- en: '|   | -- Justin Meyer, author of JavaScriptMVC. |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '|   | -- Justin Meyer，JavaScriptMVC的作者 |'
- en: Consider that components tied to each other are difficult to change and scale
    without affecting each other. A very incremental and modular approach is provided
    by `Marionette.js`, using the module definition. It relies on the event aggregator
    to send messages between the modules to coordinate functionality from other parts
    of the system, without adding direct references to them among many more object
    types that facilitate the application's design.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到相互关联的组件难以更改和扩展而不影响彼此。`Marionette.js`通过使用模块定义提供了非常增量且模块化的方法。它依赖于事件聚合器在模块之间发送消息以协调来自系统其他部分的功能，而不在许多其他对象类型中添加对它们的直接引用，这些对象类型有助于简化应用程序的设计。
- en: Incremental use
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 逐步使用
- en: This is one of the basic concepts that the creator of `Marionette.js` used to
    create the framework. An incremental and modular approach is facilitated by `Marionette.js`,
    providing the application object and the module architecture to scale applications
    across subapplications, features, and files. All of them are built to stand alone
    and to work with the core pieces of Backbone to accomplish the application's specific
    needs.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这是`Marionette.js`的创造者用来创建框架的基本概念之一。`Marionette.js`通过提供应用程序对象和模块架构，促进了增量且模块化的方法，以跨子应用程序、功能和文件扩展应用程序。所有这些都是为了独立运行并与Backbone的核心组件协同工作，以满足应用程序的具体需求。
- en: '|   | "The key is to acknowledge from the start that you have no idea how this
    will grow. When you accept that you don''t know everything, you begin to design
    the system defensively ... You should spend most of your time thinking about interfaces
    rather than implementations." |   |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '|   | "关键是从一开始就承认你不知道这一切会如何发展。当你接受自己不知道一切时，你开始设计具有防御性的系统...你应该花大部分时间思考接口而不是实现。"
    |   |'
- en: '|   | -- Nicholas Zakas, author "High-performance JavaScript websites" |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '|   | -- Nicholas Zakas，《高性能JavaScript网站》的作者 |'
- en: One of the main benefits of `Marionette.js` is that you don't need to use all
    of its components. A jQuery-jQuery UI comparison can also be applied here. The
    fact that you use the jQuery calendar by any means forces you to use the entire
    UI library. The same can be applied to Marionette because the fact that you use
    just one of its components that makes sense for your application does not obligate
    you to use the other components of Marionette.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '`Marionette.js`的主要优点之一是你不需要使用它的所有组件。jQuery-jQuery UI的比较也适用于这里。你无论如何使用jQuery日历的事实迫使你必须使用整个UI库。同样，这也适用于Marionette，因为你只使用对你应用程序有意义的其中一个组件，这并不强制你使用Marionette的其他组件。'
- en: Installing Marionette.js
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Marionette.js
- en: We will go over how to download and set up a development environment so that
    you can get started with `Marionette.js` in some easy steps. If you're already
    comfortable with installing `Marionette.js`, you may want to skip the remaining
    parts of this chapter. Feel free to jump to [Chapter 2](ch02.html "Chapter 2. Our
    First Application"), *Our First Application*.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将介绍如何下载和设置开发环境，以便你可以通过一些简单的步骤开始使用`Marionette.js`。如果你已经熟悉安装`Marionette.js`，你可能想跳过本章剩余的部分。请随意跳转到[第2章](ch02.html
    "第2章。我们的第一个应用程序")，*我们的第一个应用程序*。
- en: Text editor
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文本编辑器
- en: While building large and scalable applications, you will spend most of your
    time on a code editor. We recommend that you use an editor that works for you.
    Notepad++ or Sublime Text are definitely good options. Sublime Text already has
    a lot of snippets and packages that will help you in your development.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 在构建大型且可扩展的应用程序时，你将大部分时间花在代码编辑器上。我们建议你使用适合你的编辑器。Notepad++或Sublime Text无疑是很好的选择。Sublime
    Text已经有很多片段和包可以帮助你在开发中。
- en: Web browser
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络浏览器
- en: Working with complex client-side applications requires a good set of developer
    tools. For the purpose of this guide, we will use mostly Google Chrome and Mozilla
    Firefox, but all the code and examples should work in all modern browsers (IE9+,
    Opera, and Safari).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 与复杂的客户端应用程序一起工作需要一套良好的开发者工具。为了编写本指南，我们将主要使用Google Chrome和Mozilla Firefox，但所有代码和示例都应在所有现代浏览器（IE9+、Opera和Safari）中工作。
- en: We will use [jsfiddle.net](http://jsfiddle.net) in order to show you the running
    examples. The use of this site is pretty simple and most of the time, you will
    only need to run the code to see it in action.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 [jsfiddle.net](http://jsfiddle.net) 来展示运行示例。使用这个网站非常简单，大多数情况下，你只需要运行代码就能看到它的实际效果。
- en: Prerequisites
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 前置条件
- en: 'At the time of this writing, the current stable version of `Marionette.js`
    is v1.3.0 and it relies on the following libraries:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本文时，`Marionette.js`的当前稳定版本是v1.3.0，它依赖于以下库：
- en: '`JSON2.js`'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`JSON2.js`'
- en: '`jQuery` (v1.7, v1.8, and v1.9)'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`jQuery` (v1.7, v1.8, and v1.9)'
- en: '`Underscore.js` (v1.4.4)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Underscore.js` (v1.4.4)'
- en: '`Backbone.js` (v1.0.0)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Backbone.js` (v1.0.0)'
- en: '`backbone.wreqr.js`'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`backbone.wreqr.js`'
- en: '`backbone.babysitter.js`'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`backbone.babysitter.js`'
- en: We would like to point that having basic knowledge on Backbone and Underscore
    will help you to get the best out of this book and to understand the benefits
    of Marionette over plain Backbone development.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 我们想指出，对Backbone和Underscore有基本了解将帮助你从这本书中获得最大收益，并理解Marionette相对于纯Backbone开发的优点。
- en: Getting Marionette.js
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 获取Marionette.js
- en: The best way to get the latest build of `Marionette.js` is by going to the project
    website, [http://marionettejs.com/](http://marionettejs.com/).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 获取`Marionette.js`最新构建的最佳方式是访问项目网站，[http://marionettejs.com/](http://marionettejs.com/)。
- en: They have a **Pre-packaged** option. The `.zip` contains all of the files that
    you need to get started with `Marionette.js`, including Backbone, jQuery, and
    other prerequisites. You can also download the `Marionette.js` file without all
    the dependencies and just use the CDN versions of these libraries if they are
    available.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 他们有一个**预包装**选项。`.zip`文件包含了你开始使用`Marionette.js`（包括Backbone、jQuery和其他前置条件）所需的全部文件。你也可以下载不包含所有依赖的`Marionette.js`文件，如果这些库的CDN版本可用，你也可以只使用这些库的CDN版本。
- en: Documentation
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档
- en: You can download the documentation for each piece of `Marionette.js` from [https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs](https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs).
    The documentation is split into multiple files. The annotated source code can
    be found at [http://marionettejs.com/docs/backbone.marionette.html](http://marionettejs.com/docs/backbone.marionette.html).
    You can find articles, blog posts, presentations, FAQs, and more on its wiki page,
    [https://github.com/marionettejs/backbone.marionette/wiki](https://github.com/marionettejs/backbone.marionette/wiki).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从[https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs](https://github.com/Marionette.jsjs/Marionette.js/tree/master/docs)下载`Marionette.js`每个部分的文档。文档分为多个文件。带注释的源代码可以在[http://marionettejs.com/docs/backbone.marionette.html](http://marionettejs.com/docs/backbone.marionette.html)找到。你可以在其维基页面上找到文章、博客文章、演示文稿、常见问题解答等，[https://github.com/marionettejs/backbone.marionette/wiki](https://github.com/marionettejs/backbone.marionette/wiki)。
- en: Derick Bailey, the creator of Marionette, has created a sample application that
    can be used as a reference for building the Backbone applications with `Marionette.js`.
    The name of the application is `BBCloneMail` and it is a great example to demonstrate
    a composite application. You can find `BBCloneMail` online at [http://bbclonemail.heroku.com](http://bbclonemail.heroku.com)
    and the source code at [http://github.com/derickbailey/bbclonemail](http://github.com/derickbailey/bbclonemail).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Marionette的创造者Derick Bailey创建了一个示例应用程序，可以用作使用`Marionette.js`构建Backbone应用程序的参考。该应用程序的名称是`BBCloneMail`，它是一个展示复合应用程序的绝佳例子。你可以在[http://bbclonemail.heroku.com](http://bbclonemail.heroku.com)上找到`BBCloneMail`，源代码在[http://github.com/derickbailey/bbclonemail](http://github.com/derickbailey/bbclonemail)。
- en: Summary
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we looked at some of the core concepts and benefits that `Marionette.js`
    offers for building scalable applications. We also provided links to find, download,
    and install the basic tools needed to perform your development. In the next chapter,
    you will be introduced to the components or building blocks that make up the `Marionette.js`
    applications.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了`Marionette.js`为构建可扩展应用程序提供的核心概念和优点。我们还提供了查找、下载和安装进行开发所需的基本工具的链接。在下一章中，你将介绍构成`Marionette.js`应用程序的组件或构建块。
