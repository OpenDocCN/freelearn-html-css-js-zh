<html><head></head><body>
<div><div><h1 id="_idParaDest-225"><em class="italic"><a id="_idTextAnchor227"/>Chapter 10</em>: Using Bootstrap 5 with Advanced Sass and CSS Features</h1>
<p>In this chapter, we will look at advanced Sass and CSS features related to Bootstrap 5. In the previous chapters, we customized the look and feel of the website, but this time we will primarily change the way we write our code without any effect on the look and feel. And in addition to that, we will look at various other features through some isolated examples.</p>
<p>We will first see how we can use various Bootstrap 5 Sass mixins to write our code in different ways, and after that, we will see some examples of the Bootstrap 5 Sass functions.</p>
<p>Then we will see how we can use the extend feature of Sass for semantic HTML and to create custom components.</p>
<p>After that, we will learn about the best – and recommended – approach to creating custom components using the Bootstrap 5 variables, mixins, and functions.</p>
<p>Towards the end of the chapter, we will see how we can take advantage of the CSS custom properties that come with Bootstrap 5 to create a dark color theme and customize a component and a helper.</p>
<p>Finally, we will look at Bootstrap’s side project, RFS, and learn how to use it for calculating automated responsive CSS values.</p>
<p>In this chapter, we’re going to cover the following main topics:</p>
<ul>
<li>Using Bootstrap 5 Sass mixins</li>
<li>Using Bootstrap 5 Sass functions</li>
<li>Extending Bootstrap 5 classes for semantic HTML</li>
<li>Extending Bootstrap 5 classes to create custom components</li>
<li>Creating a custom component using Bootstrap 5 variables, mixins, and functions</li>
<li>Using Bootstrap 5 CSS custom properties</li>
<li>Using the RFS Sass plugin</li>
</ul>
<p>As mentioned previously, for some of these topics we will update parts of our code for the website, while for other topics we will only see isolated examples related to that topic.</p>
<h1 id="_idParaDest-226"><a id="_idTextAnchor228"/>Technical requirements</h1>
<ul>
<li>To preview the examples, you will need a code editor and a browser. The source code for all code examples can be found here: <a href="https://github.com/PacktPublishing/The-Missing-Bootstrap-5-Guide">https://github.com/PacktPublishing/The-Missing-Bootstrap-5-Guide</a></li>
<li>To compile Sass to CSS, you will need one of the following: <ul><li><strong class="bold">Node.js</strong>, if you prefer a <strong class="bold">command-line interface</strong> (<strong class="bold">CLI</strong>) using Terminal (Mac) or Command Prompt (Windows) </li>
<li><strong class="bold">Scout-App</strong>, if you prefer a <strong class="bold">graphical user interface</strong> (<strong class="bold">GUI</strong>) </li>
<li><strong class="bold">Visual Studio Code</strong>, if you prefer to use an extension from the Visual Studio Code Marketplace</li>
</ul></li>
</ul>
<p>All these approaches are explained in <a href="B17143_02_epub.xhtml#_idTextAnchor033"><em class="italic">Chapter 2</em></a><em class="italic">, Using and Compiling Sass</em>.</p>
<h1 id="_idParaDest-227"><a id="_idTextAnchor229"/>Using Bootstrap 5 Sass mixins</h1>
<p>Bootstrap 5 contains <a id="_idIndexMarker662"/>many Sass mixins. Some of them are used by other parts of Bootstrap 5, while a few of them are not. All of them can be used in your own Sass code as well. In this section, we will first get an overview of the various mixins contained in Bootstrap 5, what they are used for, and how they relate to other Bootstrap 5 code. Then we will see different examples of how to use some of these mixins.</p>
<h2 id="_idParaDest-228"><a id="_idTextAnchor230"/>Mixin overview</h2>
<p>In the <code>mixins</code> folder, we<a id="_idIndexMarker663"/> have a total of 25 files, which are all Sass partials. Here’s an overview of the files with comments about which elements (components, helpers, or other) of Bootstrap 5 are using these mixins, if any:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/mixins</p>
<pre class="source-code">_alert.scss // Alerts</pre>
<pre class="source-code">_backdrop.scss // Modal, Offcanvas</pre>
<pre class="source-code">_border-radius.scss // Used by many</pre>
<pre class="source-code">_box-shadow.scss // Used by many</pre>
<pre class="source-code">_breakpoints.scss // Used by many</pre>
<pre class="source-code">_buttons.scss // Buttons</pre>
<pre class="source-code">_caret.scss // Dropdowns</pre>
<pre class="source-code">_clearfix.scss // Carousel, Clearfix</pre>
<pre class="source-code">_color-scheme.scss // Not used</pre>
<pre class="source-code">_container.scss // Container</pre>
<pre class="source-code">_deprecate.scss // Not used</pre>
<pre class="source-code">_forms.scss // Validation</pre>
<pre class="source-code">_gradients.scss // 1 used by many, 7 not being used</pre>
<pre class="source-code">_grid.scss // Grid</pre>
<pre class="source-code">_image.scss // Images</pre>
<pre class="source-code">_list-group.scss // List group</pre>
<pre class="source-code">_lists.scss // Typography, Pagination</pre>
<pre class="source-code">_pagination.scss // Pagination</pre>
<pre class="source-code">_reset-text.scss // Popovers, Tooltips</pre>
<pre class="source-code">_resize.scss // Not used</pre>
<pre class="source-code">_table-variants.scss // Tables</pre>
<pre class="source-code">_text-truncate.scss // Text truncation</pre>
<pre class="source-code">_transition.scss // Used by many</pre>
<pre class="source-code">_utilities.scss // Utility API</pre>
<pre class="source-code">_visually-hidden.scss // Visually hidden</pre>
<p>We will now <a id="_idIndexMarker664"/>see how we can group some of these mixins in three different ways depending on their usage.</p>
<h2 id="_idParaDest-229"><a id="_idTextAnchor231"/>Mixins depending on global options</h2>
<p>Some mixins<a id="_idIndexMarker665"/> depend on the global options that we learned about in <a href="B17143_04_epub.xhtml#_idTextAnchor079"><em class="italic">Chapter 4</em></a><em class="italic">, Bootstrap 5 Global Options and Colors</em>. So, these mixins will only return code if the specific option is enabled:</p>
<pre class="source-code">_border-radius.scss: @mixin border-radius</pre>
<pre class="source-code">_box-shadow.scss: @mixin box-shadow</pre>
<pre class="source-code">_caret.scss: @mixin caret</pre>
<pre class="source-code">_deprecate.scss: @mixin deprecate</pre>
<pre class="source-code">_forms.scss: @mixin form-validation-state</pre>
<pre class="source-code">_gradients.scss: @mixin gradient-bg</pre>
<pre class="source-code">_transition.scss: @mixin transition</pre>
<h2 id="_idParaDest-230"><a id="_idTextAnchor232"/>Mixins that are not used</h2>
<p>Some mixins <a id="_idIndexMarker666"/>are actually not used by other Bootstrap 5 code. We will see what some of these mixins can be used for later in this section:</p>
<pre class="source-code">_color-scheme.scss: @mixin color-scheme</pre>
<pre class="source-code">_gradients.scss: @mixin gradient-x, @mixin gradient-y, @mixin gradient-directional, @mixin gradient-x-three-colors, @mixin gradient-y-three-colors, and @mixin gradient-radial</pre>
<pre class="source-code">_resize.scss: @mixin resizable</pre>
<h2 id="_idParaDest-231"><a id="_idTextAnchor233"/>Mixins used for variants</h2>
<p>Some mixins are <a id="_idIndexMarker667"/>used to create different variations of primarily Bootstrap 5 components. This could be variations for contextual color, size, and breakpoint-specific behavior:</p>
<pre class="source-code">_alert.scss: @mixin alert-variant</pre>
<pre class="source-code">_buttons.scss: @mixin button-variant, @mixin button-outline-variant, and @mixin button-size</pre>
<pre class="source-code">_list-group.scss: @mixin list-group-item-variant</pre>
<pre class="source-code">_pagination.scss: @mixin pagination-size</pre>
<pre class="source-code">_table-variants.scss: @mixin table-variant</pre>
<h2 id="_idParaDest-232"><a id="_idTextAnchor234"/>Examples</h2>
<p>We will now <a id="_idIndexMarker668"/>see a few examples of how we can use some of the mixins in our own code. We will not update our website with these mixins but instead, see some standalone examples.</p>
<h3>Responsive grid system</h3>
<p>In this example, we <a id="_idIndexMarker669"/>will create a responsive grid system, including a container, using various mixins.</p>
<p>For this example, we have the following semantic HTML using only default HTML elements and no classes:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/responsive-grid-system/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Container and Grid Mixins&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;header&gt;Header&lt;/header&gt;</pre>
<pre class="source-code">    &lt;main&gt;</pre>
<pre class="source-code">      &lt;nav&gt;Nav&lt;/nav&gt;</pre>
<pre class="source-code">      &lt;article&gt;Article&lt;/article&gt;</pre>
<pre class="source-code">      &lt;aside&gt;Aside&lt;/aside&gt;</pre>
<pre class="source-code">    &lt;/main&gt;</pre>
<pre class="source-code">    &lt;footer&gt;Footer&lt;/footer&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>We will now first<a id="_idIndexMarker670"/> add a container to the <code>&lt;body&gt;</code> element. When using a mixin for this, it will create a fluid container, and this is what we will use in our example. It requires some more custom code to create the same behavior as the default <code>.container</code> class with different <code>max-width</code> instances across breakpoints.</p>
<p>After adding the container, we will create a simple responsive grid using the <code>&lt;main&gt;</code> element as the row and the <code>&lt;nav&gt;</code>, <code>&lt;article&gt;</code>, and <code>&lt;aside&gt;</code> elements as columns. We won’t add any mixins to the <code>&lt;header&gt;</code> and <code>&lt;footer&gt;</code>.</p>
<p>The necessary Sass code for this example is the following:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/responsive-grid-system/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">body {</pre>
<pre class="source-code">  @include make-container();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">main {</pre>
<pre class="source-code">  @include make-row();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">nav {</pre>
<pre class="source-code">  @include make-col-ready();</pre>
<pre class="source-code">  @include media-breakpoint-up(lg) {</pre>
<pre class="source-code">   @include make-col(3);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">article {</pre>
<pre class="source-code">  @include make-col-ready();</pre>
<pre class="source-code">  @include media-breakpoint-up(lg) {</pre>
<pre class="source-code">    @include make-col(6);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">aside {</pre>
<pre class="source-code">  @include make-col-ready();</pre>
<pre class="source-code">  @include media-breakpoint-up(lg) {</pre>
<pre class="source-code">    @include make-col(3);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>When this example is viewed in a browser, we will see that the layout of the page is now using a <a id="_idIndexMarker671"/>container and a responsive grid system.</p>
<h3>Media queries for breakpoints</h3>
<p>In this <a id="_idIndexMarker672"/>example, we will take a closer look at mixins for media queries for breakpoints. In the <code>_breakpoints.scss</code> file, we will find four mixins and four functions, where three of the functions are primarily used by those mixins and one, <code>breakpoint-infix()</code>, is used by various components in other files. For now, we will focus on the mixins.</p>
<p>Here’s an overview of the various mixins for media queries for breakpoints together with a short description of what they do:</p>
<pre class="source-code">media-breakpoint-up($name, $breakpoints: $grid-breakpoints)</pre>
<ul>
<li>For viewport sizes with the minimum breakpoint width</li>
<li>Breakpoint specified by the <code>$name</code> argument</li>
<li>The content block passed to the mixin will be applied to the specified breakpoint width and wider</li>
<li>No media query for the smallest breakpoint</li>
</ul>
<pre class="source-code">media-breakpoint-down($name, $breakpoints: $grid-breakpoints)</pre>
<ul>
<li>For viewport sizes with the maximum breakpoint width</li>
<li>Breakpoint specified by the <code>$name</code> argument</li>
<li>The content block passed to the mixin will be applied to the specified breakpoint width and narrower</li>
</ul>
<pre class="source-code">media-breakpoint-between($lower, $upper, $breakpoints: $grid-breakpoints)</pre>
<ul>
<li>For viewport sizes that span multiple breakpoint widths</li>
<li>Breakpoints specified by the <code>$lower</code> and <code>$upper</code> arguments</li>
<li>The content block passed to the mixin will be applied between the specified lower and upper breakpoint widths</li>
</ul>
<pre class="source-code">media-breakpoint-only($name, $breakpoints: $grid-breakpoints)</pre>
<ul>
<li>For viewport sizes between the minimum and maximum breakpoint widths</li>
<li>Breakpoint specified by the <code>$name</code> argument</li>
<li>The content block passed to the mixin will be applied between the specified breakpoint’s minimum and maximum widths only</li>
</ul>
<p>The <code>$breakpoints</code> argument is an optional argument with the default value <code>$grid-breakpoints</code>. This means that it will use the breakpoint widths defined in the <code>$grid-breakpoints</code> map.</p>
<p>To see these <a id="_idIndexMarker673"/>mixins in action, here’s an example that initially hides some elements and then displays them with the use of the different mixins. First, here’s the HTML for the example, where we use the classes <code>.up</code>, <code>.down</code>, <code>.between</code>, and <code>.only</code>, which will be used as selectors in our Sass:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/media-queries-for-breakpoints/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Media queries for breakpoints&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body class="p-4"&gt;</pre>
<pre class="source-code">    &lt;div class="up"&gt;@include media-breakpoint-up(lg): </pre>
<pre class="source-code">      Visible on breakpoint sizes lg, xl and xxl&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="down"&gt;@include media-breakpoint-down(md): </pre>
<pre class="source-code">      Visible on breakpoint sizes xs and sm&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="between"&gt;@include media-breakpoint-</pre>
<pre class="source-code">      between(md, xl): Visible on breakpoint size md and </pre>
<pre class="source-code">      lg&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="only"&gt;@include media-breakpoint-only(sm): </pre>
<pre class="source-code">      Visible on breakpoint size sm&lt;/div&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>And here’s the<a id="_idIndexMarker674"/> Sass code, where we initially hide all elements and then display them using the various mixins:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/media-queries-for-breakpoints/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">.up {</pre>
<pre class="source-code">  display: none;</pre>
<pre class="source-code">  @include media-breakpoint-up(lg) {</pre>
<pre class="source-code">    display: block;</pre>
<pre class="source-code">  };</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.down {</pre>
<pre class="source-code">  display: none;</pre>
<pre class="source-code">  @include media-breakpoint-down(md) {</pre>
<pre class="source-code">    display: block;</pre>
<pre class="source-code">  };</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.between {</pre>
<pre class="source-code">  display: none;</pre>
<pre class="source-code">  @include media-breakpoint-between(md, xl) {</pre>
<pre class="source-code">    display: block;</pre>
<pre class="source-code">  };</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.only {</pre>
<pre class="source-code">  display: none;</pre>
<pre class="source-code">  @include media-breakpoint-only(sm) {</pre>
<pre class="source-code">    display: block;</pre>
<pre class="source-code">  };</pre>
<pre class="source-code">}</pre>
<p>If you look at<a id="_idIndexMarker675"/> this example in a browser and resize the window, you will then see that the <code>&lt;div&gt;</code> elements are only visible at certain breakpoints.</p>
<h3>Helpers</h3>
<p>In this example, we <a id="_idIndexMarker676"/>will use two of the helper mixins. We will use the visually hidden mixin for a heading element and the text truncation mixin for a paragraph element. The HTML code for this example is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/helpers/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Helper Mixins&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;h1&gt;Title for screen readers&lt;/h1&gt;</pre>
<pre class="source-code">    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing </pre>
<pre class="source-code">       elit. Duis convallis velit quis sapien sollicitudin </pre>
<pre class="source-code">       ultrices. Ut metus tortor, aliquet non rutrum ac, </pre>
<pre class="source-code">       dapibus vehicula augue. Etiam congue erat sem, vitae </pre>
<pre class="source-code">       gravida nunc pretium vitae. Fusce sed ex tellus. </pre>
<pre class="source-code">       Quisque auctor viverra feugiat. Nulla urna odio, </pre>
<pre class="source-code">       porta ut tristique ut, consequat non dolor. Etiam </pre>
<pre class="source-code">       varius maximus dolor, at consectetur lectus. Mauris </pre>
<pre class="source-code">       rutrum aliquet tellus, sed convallis diam.&lt;/p&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>The Sass code used<a id="_idIndexMarker677"/> for this example is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/helpers/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">h1 {</pre>
<pre class="source-code">  @include visually-hidden();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">p {</pre>
<pre class="source-code">  @include text-truncate();</pre>
<pre class="source-code">}</pre>
<p>When this example is viewed in a browser, the heading element will now be hidden from the screen, but visible to screen readers, while the paragraph will have its text on one line only <a id="_idIndexMarker678"/>with the text being truncated at the end followed by an ellipsis.</p>
<h3>Dark color theme</h3>
<p>In this example, we<a id="_idIndexMarker679"/> will see how we can define<a id="_idIndexMarker680"/> a dark color theme (also known as dark mode) using the color scheme mixin. The mixin is effective when the user is browsing with <em class="italic">dark mode</em> turned on in their browser or operating system. The color scheme mixin is currently not used by Bootstrap 5, but is still made available for us to use if we want to. In the next minor version of Bootstrap 5, v5.3.0, Bootstrap will have support for <em class="italic">dark mode</em>, and then the mixin will probably be used across various elements of the Sass code. Until then, we will create our own dark color theme for <em class="italic">dark mode</em>.</p>
<p>The source code for the mixi<a id="_idTextAnchor235"/><a id="_idTextAnchor236"/>n looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/mixins/_color-scheme.scss</p>
<pre class="source-code">@mixin color-scheme($name) {</pre>
<pre class="source-code">  @media (prefers-color-scheme: #{$name}) {</pre>
<pre class="source-code">    @content;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>As you can see, we pass the name of the color theme (which in this case is <em class="italic">dark</em>) to the mixin and then all the CSS rules inside of it. Those rules are then placed inside a media query, and the name is used as the value for the media feature <code>prefers-color-scheme: #{$name}</code>.</p>
<p>We will now use the mixin to create a dark color theme for our website. Inside of the mixin, we will add various CSS rules to target the elements where we want the color to change. Basically, we <a id="_idIndexMarker681"/>want the light colors to be dark <a id="_idIndexMarker682"/>and the dark colors to be light. Our code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_custom-styles.scss line 22-51</p>
<pre class="source-code">// Dark color theme</pre>
<pre class="source-code">@include color-scheme(dark) {</pre>
<pre class="source-code">  // Body color</pre>
<pre class="source-code">  body {</pre>
<pre class="source-code">    background-color: $dark;</pre>
<pre class="source-code">    color: $light;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  // Color utilities</pre>
<pre class="source-code">  .bg-light {</pre>
<pre class="source-code">    background-color: $dark !important;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .bg-dark {</pre>
<pre class="source-code">    background-color: $gray-700 !important;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  // Components</pre>
<pre class="source-code">  .accordion-button,</pre>
<pre class="source-code">  .accordion-item,</pre>
<pre class="source-code">  .card,</pre>
<pre class="source-code">  .list-group-item {</pre>
<pre class="source-code">    background-color: $dark;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .accordion-button,</pre>
<pre class="source-code">  .breadcrumb-item.active,</pre>
<pre class="source-code">  .figure-caption,</pre>
<pre class="source-code">  .list-group-item,</pre>
<pre class="source-code">  .navbar-light .navbar-brand,</pre>
<pre class="source-code">  .navbar-light .navbar-nav .nav-link {</pre>
<pre class="source-code">    color: $light;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>As you can<a id="_idIndexMarker683"/> see in <a id="_idIndexMarker684"/>the preceding code, we are first defining some base colors for the <code>&lt;body&gt;</code> element. Then we’re overwriting the background color utilities for light and dark colors using the <code>!important</code> rule since utility classes by default have the <code>!important</code> rule. Finally, we’re overwriting those components that have a light background color or dark text color.</p>
<p>The dark color theme can be seen in all detail when viewing our updated website (the <code>website</code> folder in<a id="_idIndexMarker685"/> the code for this chapter) in a <a id="_idIndexMarker686"/>browser, and here’s a screenshot of the Home page:</p>
<div><div><img alt="Figure 10.1 – Home page of the website with the dark color theme " height="807" src="img/Figure_10.01_B17143(a).jpg" width="558"/>
</div>
</div>
<div><div><img alt="Figure 10.1 – Home page of the website with the dark color theme " height="508" src="img/Figure_10.01_B17143(b).jpg" width="561"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.1 – Home page of the website with the dark color theme</p>
<p>You might want to experiment with other dark and light colors for the dark color theme, but this is<a id="_idIndexMarker687"/> the<a id="_idIndexMarker688"/> method to use.</p>
<h3>Gradients</h3>
<p>In this example, we will <a id="_idIndexMarker689"/>see how we can use various <a id="_idIndexMarker690"/>gradient mixins. Depending on the specific gradient mixin, various arguments can be specified, including color, degree, angle, and stop. In our example, we will just use the default mixin arguments along with some color utilities to better see these gradients.</p>
<p>In the HTML for this example, we have a number of <code>&lt;div&gt;</code> elements with some sizing and color utilities added. Notice that we have added a background color to the first and last example since those gradients are white by default. We also add the name of the mixin as a class and as the text of the <code>&lt;div&gt;</code> element, and that class will be used in our Sass code. First, here’s the HTML code:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/gradients/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Gradient Mixins&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light bg-dark gradient-</pre>
<pre class="source-code">      bg"&gt;gradient-bg&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-x"&gt;gradient-x&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-y"&gt;gradient-y&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-</pre>
<pre class="source-code">      directional"&gt;gradient-directional&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-x-three-</pre>
<pre class="source-code">      colors"&gt;gradient-x-three-colors&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-y-three-</pre>
<pre class="source-code">      colors"&gt;gradient-y-three-colors&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light gradient-radial"&gt;gradient-</pre>
<pre class="source-code">      radial&lt;/div&gt;</pre>
<pre class="source-code">    &lt;div class="p-5 text-light bg-dark gradient-</pre>
<pre class="source-code">      striped"&gt;gradient-striped&lt;/div&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>In our Sass<a id="_idIndexMarker691"/> code, we<a id="_idIndexMarker692"/> will first set the global option <code>$enable-gradients</code> to <code>true</code>, which is required to be able to use the <code>gradient-bg</code> mixin. Instead, it’s also possible to use the <code>.bg-gradient</code> class on an element without the need to enable the global option for gradients. But since this section is about using mixins, we will use the mixin version of this gradient.</p>
<p>After enabling the global option for gradients, we will use the before-mentioned classes as CSS selectors in our Sass code and include the various gradient mixins:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/mixins/gradients/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">$enable-gradients: true;</pre>
<pre class="source-code">@import "../../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">.gradient-bg {</pre>
<pre class="source-code">  @include gradient-bg();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-x {</pre>
<pre class="source-code">  @include gradient-x();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-y {</pre>
<pre class="source-code">  @include gradient-y();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-directional {</pre>
<pre class="source-code">  @include gradient-directional();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-x-three-colors {</pre>
<pre class="source-code">  @include gradient-x-three-colors();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-y-three-colors {</pre>
<pre class="source-code">  @include gradient-y-three-colors();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-radial {</pre>
<pre class="source-code">  @include gradient-radial();</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.gradient-striped {</pre>
<pre class="source-code">  @include gradient-striped();</pre>
<pre class="source-code">}</pre>
<p>The various <a id="_idIndexMarker693"/>gradients<a id="_idIndexMarker694"/> look like this:</p>
<div><div><img alt="Figure 10.2 – Examples of all the gradient mixins " height="929" src="img/Figure_10.02_B17143.jpg" width="543"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.2 – Examples of all the gradient mixins</p>
<h1 id="_idParaDest-233"><a id="_idTextAnchor237"/>Using Bootstrap 5 Sass functions</h1>
<p>Bootstrap 5 contains <a id="_idIndexMarker695"/>various Sass functions, and most of them are placed in the <code>_functions.scss</code> file. Some of these functions are used to evaluate the source code or manipulate Sass maps, but in this section, we will focus on the more useful color functions. There are a number of different color functions in Bootstrap 5, and we will now see examples of how we can use some of those in our own Sass code. We won’t use any of these functions for our website but instead, look at some isolated examples.</p>
<h2 id="_idParaDest-234"><a id="_idTextAnchor238"/>Tint color</h2>
<p>The <code>tint-color()</code> function<a id="_idIndexMarker696"/> increases<a id="_idIndexMarker697"/> the lightness of a color by mixing it with white using the color mix function of Sass. You specify the <code>$color</code> and how much you want it to lighten, defined as the <code>$weight</code>.</p>
<p>The code for the function looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_functions.scss line 205-208</p>
<pre class="source-code">@function tint-color($color, $weight) {</pre>
<pre class="source-code">  @return mix(white, $color, $weight);</pre>
<pre class="source-code">}</pre>
<p>Here’s an example of how to tint the <code>$primary</code> color by <code>25%</code>:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/scss/style.scss line 4-6</p>
<pre class="source-code">.bg-primary-tinted {</pre>
<pre class="source-code">  background-color: tint-color($primary, 25%);</pre>
<pre class="source-code">}</pre>
<p>The resulting CSS will be as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/css/style.css</p>
<pre class="source-code">.bg-primary-tinted {</pre>
<pre class="source-code">  background-color: #4a92fe;</pre>
<pre class="source-code">}</pre>
<p>Here, you can see <a id="_idIndexMarker698"/>what this looks like in the <a id="_idIndexMarker699"/>browser, shown together with the <code>$primary</code> color:</p>
<div><div><img alt="Figure 10.3 – Example of the tint-color function used with the primary color " height="207" src="img/Figure_10.03_B17143.jpg" width="663"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.3 – Example of the tint-color function used with the primary color</p>
<h2 id="_idParaDest-235"><a id="_idTextAnchor239"/>Shade color</h2>
<p>The <code>shade-color()</code> function <a id="_idIndexMarker700"/>increases <a id="_idIndexMarker701"/>the darkness of a color by mixing it with black using the color mix function of Sass. You specify the <code>$color</code> and how much you want it to darken, defined as the <code>$weight</code>.</p>
<p>The code for the function looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_functions.scss line 210-213</p>
<pre class="source-code">@function shade-color($color, $weight) {</pre>
<pre class="source-code">  @return mix(black, $color, $weight);</pre>
<pre class="source-code">}</pre>
<p>Here’s an example of how to shade the <code>$primary</code> color by <code>25%</code>:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/scss/style.scss line 7-9</p>
<pre class="source-code">.bg-primary-shaded {</pre>
<pre class="source-code">  background-color: shade-color($primary, 25%);</pre>
<pre class="source-code">}</pre>
<p>The resulting CSS will be as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/css/style.css</p>
<pre class="source-code">.bg-primary-shaded {</pre>
<pre class="source-code">  background-color: #0a53be;</pre>
<pre class="source-code">}</pre>
<p>Here, you<a id="_idIndexMarker702"/> can see what this looks like in <a id="_idIndexMarker703"/>the browser, shown together with the <code>$primary</code> color:</p>
<div><div><img alt="Figure 10.4 – Example of the shade-color function used with the primary color " height="214" src="img/Figure_10.04_B17143.jpg" width="458"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.4 – Example of the shade-color function used with the primary color</p>
<h2 id="_idParaDest-236"><a id="_idTextAnchor240"/>Shift color</h2>
<p>The <code>shift-color()</code> function<a id="_idIndexMarker704"/> is a combination <a id="_idIndexMarker705"/>of the tint and shade color functions. If the <code>$weight</code> is positive, the <code>$color</code> will be shaded, else it will be tinted.</p>
<p>The code for the function looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_functions.scss line 215-218</p>
<pre class="source-code">@function shift-color($color, $weight) {</pre>
<pre class="source-code">  @return if($weight &gt; 0, shade-color($color, $weight), </pre>
<pre class="source-code">    tint-color($color, -$weight));</pre>
<pre class="source-code">}</pre>
<p>Here’s an example of how to shift the <code>$primary</code> color by <code>25%</code> and <code>-25%</code> respectively:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/scss/style.scss line 10-15</p>
<pre class="source-code">.bg-primary-shifted-positive {</pre>
<pre class="source-code">  background-color: shift-color($primary, 25%);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.bg-primary-shifted-negative {</pre>
<pre class="source-code">  background-color: shift-color($primary, -25%);</pre>
<pre class="source-code">}</pre>
<p>The<a id="_idIndexMarker706"/> resulting<a id="_idIndexMarker707"/> CSS will be as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/css/style.css</p>
<pre class="source-code">.bg-primary-shifted-positive {</pre>
<pre class="source-code">  background-color: #0a53be;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.bg-primary-shifted-negative {</pre>
<pre class="source-code">  background-color: #4a92fe;</pre>
<pre class="source-code">}</pre>
<p>Here, you can see what this looks like in the browser, shown together with the <code>$primary</code> color:</p>
<div><div><img alt="Figure 10.5 – Example of the shift-color function used with the primary color " height="328" src="img/Figure_10.05_B17143.jpg" width="537"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.5 – Example of the shift-color function used with the primary color</p>
<h2 id="_idParaDest-237"><a id="_idTextAnchor241"/>Color contrast</h2>
<p>The <code>color-contrast()</code> function<a id="_idIndexMarker708"/> returns a <a id="_idIndexMarker709"/>contrast color (by default, either the <code>$black</code> or <code>$white</code> color) based on a specified base color with regards to accessibility standards. This is useful when looping through a map of colors, where you want to assure that, for example, the text color has the right color contrast ratio in relation to the background color specified in the map. We now want to see how we can do just that: generate a contrast color for each color in the <code>$theme-colors</code> map. Here’s the Sass code we will use to generate classes using the names of the colors in the map prefixed with <code>.contrast-color-</code>:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/scss/style.scss line 17-21</p>
<pre class="source-code">@each $color, $value in $theme-colors {</pre>
<pre class="source-code">  .contrast-color-#{$color} {</pre>
<pre class="source-code">    color: color-contrast($value);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>This will then generate the following CSS:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/functions/css/style.css</p>
<pre class="source-code">.contrast-color-primary { color: #fff; }</pre>
<pre class="source-code">.contrast-color-secondary { color: #fff; }</pre>
<pre class="source-code">.contrast-color-success { color: #fff; }</pre>
<pre class="source-code">.contrast-color-info { color: #000; }</pre>
<pre class="source-code">.contrast-color-warning { color: #000; }</pre>
<pre class="source-code">.contrast-color-danger { color: #fff; }</pre>
<pre class="source-code">.contrast-color-light { color: #000; }</pre>
<pre class="source-code">.contrast-color-dark { color: #fff; }</pre>
<p>In the CSS, we<a id="_idIndexMarker710"/> can see that either the<a id="_idIndexMarker711"/> contrast color <code>#fff</code> (white) or <code>#000</code> (black) has been selected for each color in the <code>$theme-colors</code> map when using the <code>color-contrast()</code> function to ensure a high-enough color contrast ratio.</p>
<p>Here, you can see what this looks like in the browser:</p>
<div><div><img alt="Figure 10.6 – Example of the color-contrast function used with the theme colors " height="932" src="img/Figure_10.06_B17143.jpg" width="566"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.6 – Example of the color-contrast function used with the theme colors</p>
<p>We have now seen how to use some of Bootstrap 5’s color functions with Sass. Next up, we will take<a id="_idIndexMarker712"/> a look at how to extend <a id="_idIndexMarker713"/>Bootstrap 5 classes for semantic HTML.</p>
<h1 id="_idParaDest-238"><a id="_idTextAnchor242"/>Extending Bootstrap 5 classes for semantic HTML</h1>
<p>When <a id="_idIndexMarker714"/>using <a id="_idIndexMarker715"/>Bootstrap 5, you can end up adding a lot of classes to your markup, which will make it hard to swap out the Bootstrap 5 styles with your own set of styles, should you wish to do that sometime in the future. Instead, you can choose to only use semantic HTML elements, while still using the Bootstrap 5 styling. Your HTML can have no classes at all or only the classes you choose (and the naming of these classes as well). So, the structure of the HTML and the (optional) classes can be anything you want.</p>
<p>To understand why this might be desirable, we will consider the Bootstrap 5 CSS rulesets as two different things:</p>
<ul>
<li>A set of styling rules (the CSS declaration blocks)</li>
<li>A vocabulary for these styling rules (the selectors)</li>
</ul>
<p>We want the benefits of the styling rules, but we don’t want to rely on its vocabulary, which is the specific Bootstrap 5 classes. We can achieve this by using semantic HTML on our page and extending the Bootstrap 5 classes with Sass instead of using them directly in the markup.</p>
<p>It’s a big task to apply this method to all the HTML in our website, so instead, we will simply see an example of how this works.</p>
<p>Consider this simple layout created the normal way using Bootstrap 5 classes:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/semantic-extend/default/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Semantic Extending&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="../../../../../</pre>
<pre class="source-code">      bootstrap/dist/css/bootstrap.min.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;div class="container"&gt;</pre>
<pre class="source-code">      &lt;h1 class="display-1 text-center"&gt;Heading&lt;/h1&gt;</pre>
<pre class="source-code">      &lt;p class="lead"&gt;Lorem ipsum dolor sit amet, </pre>
<pre class="source-code">        consectetur adipiscing elit. Duis convallis velit </pre>
<pre class="source-code">        quis sapien sollicitudin ultrices.&lt;/p&gt;</pre>
<pre class="source-code">      &lt;div class="row"&gt;</pre>
<pre class="source-code">        &lt;nav class="col-lg-3"&gt;</pre>
<pre class="source-code">          &lt;div class="list-group"&gt;</pre>
<pre class="source-code">            &lt;a href="#" class="list-group-item list-group-</pre>
<pre class="source-code">              item-action"&gt;List group item one&lt;/a&gt;</pre>
<pre class="source-code">            &lt;a href="#" class="list-group-item list-group-</pre>
<pre class="source-code">              item-action"&gt;List group item two&lt;/a&gt;</pre>
<pre class="source-code">            &lt;a href="#" class="list-group-item list-group-</pre>
<pre class="source-code">              item-action"&gt;List group item three&lt;/a&gt;</pre>
<pre class="source-code">          &lt;/div&gt;</pre>
<pre class="source-code">        &lt;/nav&gt;</pre>
<pre class="source-code">        &lt;article class="col-lg-6"&gt;</pre>
<pre class="source-code">          &lt;h2 class="display-6"&gt;Article Heading&lt;/h2&gt;</pre>
<pre class="source-code">          &lt;p&gt;Lorem ipsum dolor sit amet, consectetur </pre>
<pre class="source-code">             adipiscing elit. Duis convallis velit quis </pre>
<pre class="source-code">             sapien sollicitudin ultrices. Ut metus tortor, </pre>
<pre class="source-code">             aliquet non rutrum ac, dapibus vehicula augue. </pre>
<pre class="source-code">             Etiam congue erat sem, vitae gravida nunc </pre>
<pre class="source-code">             pretium vitae. Fusce sed ex tellus. Quisque </pre>
<pre class="source-code">             auctor viverra feugiat. Nulla urna odio,</pre>
<pre class="source-code">             porta ut tristique ut, consequat non dolor. </pre>
<pre class="source-code">             Etiam varius maximus dolor, at consectetur </pre>
<pre class="source-code">             lectus. Mauris rutrum aliquet tellus, sed </pre>
<pre class="source-code">             convallis diam.&lt;/p&gt;</pre>
<pre class="source-code">        &lt;/article&gt;</pre>
<pre class="source-code">        &lt;aside class="col-lg-3"&gt;</pre>
<pre class="source-code">          &lt;div class="card"&gt;</pre>
<pre class="source-code">            &lt;div class="card-body"&gt;</pre>
<pre class="source-code">              &lt;a href="#" class="btn btn-primary"&gt;Contact </pre>
<pre class="source-code">                support&lt;/a&gt;</pre>
<pre class="source-code">            &lt;/div&gt;</pre>
<pre class="source-code">          &lt;/div&gt;</pre>
<pre class="source-code">        &lt;/aside&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">      &lt;footer&gt;</pre>
<pre class="source-code">        &lt;ul class="list-inline text-center"&gt;</pre>
<pre class="source-code">          &lt;li class="list-inline-item"&gt;&lt;a href="#"&gt;Footer </pre>
<pre class="source-code">            link one&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">          &lt;li class="list-inline-item"&gt;&lt;a href="#"&gt;Footer </pre>
<pre class="source-code">            link two&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">          &lt;li class="list-inline-item"&gt;&lt;a href="#"&gt;Footer </pre>
<pre class="source-code">            link three&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">        &lt;/ul&gt;</pre>
<pre class="source-code">      &lt;/footer&gt;</pre>
<pre class="source-code">    &lt;/div&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>Now, we <a id="_idIndexMarker716"/>will <a id="_idIndexMarker717"/>remove all the Bootstrap 5 classes and only rely on semantic HTML elements:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/semantic-extend/extended-classes/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;Semantic Extending&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;header&gt;</pre>
<pre class="source-code">      &lt;h1&gt;Heading&lt;/h1&gt;</pre>
<pre class="source-code">      &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing </pre>
<pre class="source-code">         elit. Duis convallis velit quis sapien </pre>
<pre class="source-code">         sollicitudin ultrices.&lt;/p&gt;</pre>
<pre class="source-code">    &lt;/header&gt;</pre>
<pre class="source-code">    &lt;main&gt;</pre>
<pre class="source-code">      &lt;nav&gt;</pre>
<pre class="source-code">        &lt;div&gt;</pre>
<pre class="source-code">          &lt;a href="#"&gt;List group item one&lt;/a&gt;</pre>
<pre class="source-code">          &lt;a href="#"&gt;List group item two&lt;/a&gt;</pre>
<pre class="source-code">          &lt;a href="#"&gt;List group item three&lt;/a&gt;</pre>
<pre class="source-code">        &lt;/div&gt;</pre>
<pre class="source-code">      &lt;/nav&gt;</pre>
<pre class="source-code">      &lt;article&gt;</pre>
<pre class="source-code">        &lt;h2&gt;Article Heading&lt;/h2&gt;</pre>
<pre class="source-code">        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur </pre>
<pre class="source-code">           adipiscing elit. Duis convallis velit quis </pre>
<pre class="source-code">           sapien sollicitudin ultrices. Ut metus tortor, </pre>
<pre class="source-code">           aliquet non rutrum ac, dapibus vehicula augue. </pre>
<pre class="source-code">           Etiam congue erat sem, vitae gravida nunc </pre>
<pre class="source-code">           pretium vitae. Fusce sed ex tellus. Quisque </pre>
<pre class="source-code">           auctor viverra feugiat. Nulla urna odio, porta </pre>
<pre class="source-code">           ut tristique ut, consequat non dolor. Etiam </pre>
<pre class="source-code">           varius maximus dolor, at consectetur lectus. </pre>
<pre class="source-code">           Mauris rutrum aliquet tellus, sed convallis </pre>
<pre class="source-code">           diam.&lt;/p&gt;</pre>
<pre class="source-code">      &lt;/article&gt;</pre>
<pre class="source-code">      &lt;aside&gt;</pre>
<pre class="source-code">        &lt;div&gt;</pre>
<pre class="source-code">          &lt;div&gt;</pre>
<pre class="source-code">            &lt;a href="#"&gt;Contact support&lt;/a&gt;</pre>
<pre class="source-code">          &lt;/div&gt;</pre>
<pre class="source-code">        &lt;/div&gt;</pre>
<pre class="source-code">      &lt;/aside&gt;</pre>
<pre class="source-code">    &lt;/main&gt;</pre>
<pre class="source-code">    &lt;footer&gt;</pre>
<pre class="source-code">      &lt;ul&gt;</pre>
<pre class="source-code">        &lt;li&gt;&lt;a href="#"&gt;Footer link one&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">        &lt;li&gt;&lt;a href="#"&gt;Footer link two&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">        &lt;li&gt;&lt;a href="#"&gt;Footer link three&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">      &lt;/ul&gt;</pre>
<pre class="source-code">    &lt;/footer&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>Now there’s<a id="_idIndexMarker718"/> no<a id="_idIndexMarker719"/> evidence of Bootstrap 5 in our markup. To still benefit from the Bootstrap 5 styling, we need to extend the Bootstrap 5 classes using the <code>@extend</code> rule of Sass, like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/semantic-extend/extended-classes/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">body {</pre>
<pre class="source-code">  @extend .container;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">header { </pre>
<pre class="source-code">  h1 {</pre>
<pre class="source-code">    @extend .display-1, .text-center;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  p {</pre>
<pre class="source-code">    @extend .lead;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">main {</pre>
<pre class="source-code">  @extend .row;</pre>
<pre class="source-code">  &gt; nav {</pre>
<pre class="source-code">   @extend .col-lg-3;</pre>
<pre class="source-code">   &gt; div {</pre>
<pre class="source-code">     @extend .list-group;</pre>
<pre class="source-code">     a {</pre>
<pre class="source-code">       @extend .list-group-item, .list-group-item-action;</pre>
<pre class="source-code">     }</pre>
<pre class="source-code">   }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  &gt; article {</pre>
<pre class="source-code">    @extend .col-lg-6;</pre>
<pre class="source-code">    h2 {</pre>
<pre class="source-code">      @extend .display-6;</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  &gt; aside {</pre>
<pre class="source-code">    @extend .col-lg-3;</pre>
<pre class="source-code">    &gt; div {</pre>
<pre class="source-code">      @extend .card;</pre>
<pre class="source-code">      &gt; div {</pre>
<pre class="source-code">        @extend .card-body;</pre>
<pre class="source-code">        &gt; a {</pre>
<pre class="source-code">          @extend .btn, .btn-primary;</pre>
<pre class="source-code">        }</pre>
<pre class="source-code">      }</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">footer {</pre>
<pre class="source-code">  &gt; ul {</pre>
<pre class="source-code">    @extend .list-inline, .text-center;</pre>
<pre class="source-code">    &gt; li {</pre>
<pre class="source-code">      @extend .list-inline-item;</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>We will now see the same visual result in the browser. The markup has been changed, but the visual <a id="_idIndexMarker720"/>style <a id="_idIndexMarker721"/>remains the same.</p>
<p class="callout-heading">Semantic HTML with Bootstrap 5</p>
<p class="callout">It should be noted that it is completely possible to use semantic HTML elements together with the Bootstrap 5 classes since these classes can be used for any HTML element you want. The method described in this section is intended for use with semantic HTML without any classes or only with the classes (and the naming of these classes) we want.</p>
<h1 id="_idParaDest-239"><a id="_idTextAnchor243"/>Extending Bootstrap 5 classes to create custom components</h1>
<p>In this section, we <a id="_idIndexMarker722"/>will see how we can extend existing Bootstrap 5 classes using the <code>@extend</code> rule of Sass. With this method, it will be possible to create the same UI elements, but with less HTML code, which is better for readability.</p>
<p>We will use this method for three of our UI elements in our website: the <strong class="bold">Page</strong> title global module, the blockquote in the <strong class="bold">Reviews</strong> section of the <strong class="bold">Product</strong> page, and the bottom border of the <strong class="bold">Summary</strong> section of the <strong class="bold">Cart</strong> page.</p>
<h2 id="_idParaDest-240"><a id="_idTextAnchor244"/>The Page title global module</h2>
<p>The Page title <a id="_idIndexMarker723"/>global <a id="_idIndexMarker724"/>module is used on all pages except for the <strong class="bold">Home</strong> page and <strong class="bold">Product</strong> page. The visual style of this module looks like the jumbotron component found in previous versions of Bootstrap. We will now extend the Bootstrap 5 classes being used by the Page title global module to make the markup simpler. We will use the name <em class="italic">jumbotron</em> for this custom component.</p>
<p>In our HTML for the new custom component, we have to keep a parent element (<code>.jumbotron</code>), so that we can give the component a background color spanning the full width, and then restrain the actual content within a child element (<code>.jumbotron-heading</code>) by extending the <code>.container</code> class there:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/shop.xhtml line 67-69</p>
<pre class="source-code">// Original code</pre>
<pre class="source-code">&lt;div class="bg-light py-5 mb-5"&gt;</pre>
<pre class="source-code">  &lt;div class="container"&gt;</pre>
<pre class="source-code">    &lt;h1 class="display-1 text-center mb-0"&gt;Shop&lt;/h1&gt;</pre>
<pre class="source-code">  &lt;/div&gt;</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<pre class="source-code">// Updated code</pre>
<pre class="source-code">&lt;div class="jumbotron"&gt;</pre>
<pre class="source-code">  &lt;h1 class="jumbotron-heading"&gt;Shop&lt;/h1&gt;</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<p>In our <a id="_idIndexMarker725"/>style <a id="_idIndexMarker726"/>sheet, we can now extend all the classes like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_custom-styles.scss line 53-59</p>
<pre class="source-code">// Create a custom jumbotron component that extends various </pre>
<pre class="source-code">// Bootstrap 5 classes</pre>
<pre class="source-code">.jumbotron {</pre>
<pre class="source-code">  @extend .bg-light, .py-5, .mb-5;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.jumbotron-heading {</pre>
<pre class="source-code">  @extend .container, .display-1, .text-center, .mb-0;</pre>
<pre class="source-code">}</pre>
<h2 id="_idParaDest-241"><a id="_idTextAnchor245"/>Blockquote in the Reviews section</h2>
<p>In the <code>quote</code> for this custom component.</p>
<p>In our HTML for the new custom component, we could have just extended the classes being used by the icon, and then kept the parent <code>.blockquote</code> class. But we want to make this an alternative component to the default blockquote element, and that’s why we will also extend the <code>.blockquote</code> class on the parent, so that we can give it a new name:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/product.xhtml line 307-310</p>
<pre class="source-code">// Original code</pre>
<pre class="source-code">&lt;blockquote class="blockquote"&gt;</pre>
<pre class="source-code">  &lt;div class="text-secondary float-start fs-1 lh-1 mt-1 </pre>
<pre class="source-code">    me-2 border-top border-start border-2 border-secondary </pre>
<pre class="source-code">    p-1"&gt;&lt;i class="bi-quote"&gt;&lt;/i&gt;&lt;/div&gt;</pre>
<pre class="source-code">  &lt;p&gt;[Text]&lt;/p&gt;</pre>
<pre class="source-code">&lt;/blockquote&gt;</pre>
<pre class="source-code">// Updated code</pre>
<pre class="source-code">&lt;blockquote class="quote"&gt;</pre>
<pre class="source-code">  &lt;div class="quote-icon"&gt;&lt;i class="bi-quote"&gt;&lt;/i&gt;&lt;/div&gt;</pre>
<pre class="source-code">  &lt;p&gt;[Text]&lt;/p&gt;</pre>
<pre class="source-code">&lt;/blockquote&gt;</pre>
<p>In our style sheet, we can now extend all the classes like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_custom-styles.scss line 61-67</p>
<pre class="source-code">// Create a custom quote component that extends various Bootstrap 5 classes</pre>
<pre class="source-code">.quote {</pre>
<pre class="source-code">  @extend .blockquote;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.quote-icon {</pre>
<pre class="source-code">  @extend .text-secondary, .float-start, .fs-1, .lh-1,</pre>
<pre class="source-code">    .mt-1, .me-2, .border-top, .border-start, .border-2, </pre>
<pre class="source-code">    .border-secondary, .p-1;</pre>
<pre class="source-code">}</pre>
<h2 id="_idParaDest-242"><a id="_idTextAnchor246"/>Border in the Summary section</h2>
<p>In the <code>summary-border</code> for this custom component.</p>
<p>The updated HTML code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/cart.xhtml line 271</p>
<pre class="source-code">// Original code</pre>
<pre class="source-code">&lt;div class="border-bottom border-2 border-light mb-4 pb-4 border-bottom-md-0 border-end-md border-md-2 pb-md-0 mb-md-0 border-bottom-xl border-end-xl-0 border-xl-2 pb-xl-4 mb-xl-4"&gt;</pre>
<pre class="source-code">&lt;/blockquote&gt;</pre>
<pre class="source-code">// Updated code</pre>
<pre class="source-code">&lt;div class="summary-border"&gt;[Summary section code]&lt;/div&gt;</pre>
<p>In our style sheet, we<a id="_idIndexMarker733"/> can <a id="_idIndexMarker734"/>now extend all the<a id="_idIndexMarker735"/> classes like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_custom-styles.scss line 69-72</p>
<pre class="source-code">// Create a custom summary border component that extends border and spacing utilities</pre>
<pre class="source-code">.summary-border {</pre>
<pre class="source-code">  @extend .border-bottom, .border-2, .border-light, .mb-4, </pre>
<pre class="source-code">    .pb-4, .border-bottom-md-0, .border-end-md, .border-md-</pre>
<pre class="source-code">    2, .pb-md-0, .mb-md-0, .border-bottom-xl, .border-end-</pre>
<pre class="source-code">    xl-0, .border-xl-2, .pb-xl-4, .mb-xl-4, .border-bottom,</pre>
<pre class="source-code">     .border-2, .border-light, .mb-4, .pb-4, .border-</pre>
<pre class="source-code">    bottom-md-0, .border-end-md, .border-md-2, .pb-md-0, </pre>
<pre class="source-code">    .mb-md-0, .border-bottom-xl, .border-end-xl-0, .border-</pre>
<pre class="source-code">    xl-2, .pb-xl-4, .mb-xl-4;</pre>
<pre class="source-code">}</pre>
<p class="callout-heading">Important rote about the @extend rule</p>
<p class="callout">The <code>@extend</code> rule <a id="_idIndexMarker736"/>of Sass is becoming less popular and many recommend not using it. The reason is that it will alter the source order and create unwanted groupings of the CSS. Even though it might reduce the CSS file size, it might end up being bad for network performance. This discussion will quickly become technical and lengthy, so if you want to learn more, I encourage you to google “Sass extend performance” or similar. The <code>@placeholder</code> and <code>@mixin</code> rules of Sass might be better to achieve the same things, but when you don’t want to alter the source code (which we don’t want when using Bootstrap 5, as explained earlier in this book), then the method described here is viable.</p>
<p>We have now learned how to extend Bootstrap 5 classes to create custom components. Next up, we will<a id="_idIndexMarker737"/> see <a id="_idIndexMarker738"/>how we can create <a id="_idIndexMarker739"/>a custom component in another way using Bootstrap 5 variables, mixins, and functions.</p>
<h1 id="_idParaDest-243"><a id="_idTextAnchor247"/>Creating a custom component using Bootstrap 5 variables, mixins, and functions</h1>
<p>In the<a id="_idIndexMarker740"/> previous<a id="_idIndexMarker741"/> section, we <a id="_idIndexMarker742"/>saw how we could extend existing Bootstrap 5 classes using the <code>@extend</code> rule of Sass to create a custom component. In this section, we will see how we can create a custom component with Sass using the approach recommended by the team behind Bootstrap. This approach first of all entails reusing as many Bootstrap variables, mixins, and functions as possible, so that the custom component will be affected by any customization of the global options and Bootstrap variables. Secondly, the component will be based on a base class that groups as many shared properties as possible, and then a range of modifier classes that group individual styles together.</p>
<p>The custom component that we’re going to create is a timeline component, and it looks like this:</p>
<div><div><img alt="Figure 10.7 – The custom timeline component " height="424" src="img/Figure_10.07_B17143.jpg" width="516"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.7 – The custom timeline component</p>
<p>In the screenshot, we see the base class being used, but we will also create modifier classes for contextual color variants and responsive horizontal variants. For the timeline component, we’re using an unordered list with a number of list items inside. We’re using the class <code>.timeline</code> for the parent element and the class <code>.timeline-item</code> for the list items inside. Inside each list item, we then have an element with the class <code>.timeline-time</code> for<a id="_idIndexMarker743"/> the time<a id="_idIndexMarker744"/> of each event and a paragraph <a id="_idIndexMarker745"/>with the class <code>.timeline-text</code> for the description of each event.</p>
<p>The HTML for this custom component looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/index.xhtml</p>
<pre class="source-code">&lt;ul class="timeline"&gt;</pre>
<pre class="source-code">  &lt;li class="timeline-item"&gt;</pre>
<pre class="source-code">    &lt;div class="timeline-time"&gt;2022&lt;/div&gt;</pre>
<pre class="source-code">    &lt;p class="timeline-text"&gt;Lorem ipsum dolor sit amet, </pre>
<pre class="source-code">      consectetur adipiscing elit. Duis convallis velit </pre>
<pre class="source-code">      quis sapien sollicitudin ultrices.&lt;/p&gt;</pre>
<pre class="source-code">  &lt;/li&gt;</pre>
<pre class="source-code">  [More timeline items here]</pre>
<pre class="source-code">&lt;/ul&gt;</pre>
<p>In our Sass code, we first import the Bootstrap 5 files, and then we define the CSS rules using as many Bootstrap 5 variables and mixins as possible, so our component will be affected by any customization we might use elsewhere in our Sass code. We’re using Bootstrap 5 variables <a id="_idIndexMarker746"/>for spacing, borders, colors, and<a id="_idIndexMarker747"/> font <a id="_idIndexMarker748"/>weight, and we’re using mixins to create an unstyled list and to add a shadow if the global option for shadows (<code>$enable-shadows</code>) is enabled.</p>
<p>The Sass code for our custom component is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/scss/style.scss line 1-40</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">.timeline {</pre>
<pre class="source-code">  @include list-unstyled;</pre>
<pre class="source-code">  margin: $spacer 0;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.timeline-item {</pre>
<pre class="source-code">  padding-bottom: $spacer;</pre>
<pre class="source-code">  border-left: $border-width solid $border-color;</pre>
<pre class="source-code">  position: relative;</pre>
<pre class="source-code">  padding-left: $spacer;</pre>
<pre class="source-code">  margin-left: .625rem;</pre>
<pre class="source-code">  &amp;:last-child{</pre>
<pre class="source-code">    border: 0;</pre>
<pre class="source-code">    padding-bottom: 0;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  &amp;::before {</pre>
<pre class="source-code">    content: '';</pre>
<pre class="source-code">    width: 1.2rem;</pre>
<pre class="source-code">    height: 1.2rem;</pre>
<pre class="source-code">    background: $white;</pre>
<pre class="source-code">    border: $border-width solid $border-color;</pre>
<pre class="source-code">    @include box-shadow($box-shadow-inset);</pre>
<pre class="source-code">    border-radius: 50%;</pre>
<pre class="source-code">    position: absolute;</pre>
<pre class="source-code">    left: -.6rem;</pre>
<pre class="source-code">    top: 0;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.timeline-time {</pre>
<pre class="source-code">  font-weight: $font-weight-bold;</pre>
<pre class="source-code">  top: -0.1875rem;</pre>
<pre class="source-code">  position: relative;</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.timeline-text {</pre>
<pre class="source-code">  margin-bottom: 0;</pre>
<pre class="source-code">}</pre>
<h2 id="_idParaDest-244"><a id="_idTextAnchor248"/>Creating contextual color variants</h2>
<p>Now, we will <a id="_idIndexMarker749"/>create contextual color variants for our component. We want the component to have a range of modifier classes that can be added to individual timeline items, which will then set the color of the following three items:</p>
<ul>
<li>The text color of the <code>.timeline-time</code> element</li>
<li>The border color of the <code>.timeline-item</code> element</li>
<li>The border color of the <code>::before</code> pseudo-element of the <code>.timeline-item</code> element</li>
</ul>
<p>To generate the various modifier classes for the contextual color variants, we will use a Sass loop to loop through the <code>$theme-colors</code> map. In that loop, the key is assigned to the <code>$state</code> variable and the value is assigned to the <code>$value</code> variable. The <code>$state</code> variable is then used to generate the various classes, while the <code>$value</code> variable is used to add the color to the different elements.</p>
<p>The Sass code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/scss/style.scss line 42-54</p>
<pre class="source-code">@each $state, $value in $theme-colors {</pre>
<pre class="source-code">  .timeline-item-#{$state} {</pre>
<pre class="source-code">    border-color: $value;</pre>
<pre class="source-code">    </pre>
<pre class="source-code">    &amp;::before {</pre>
<pre class="source-code">      border-color: $value;</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">    </pre>
<pre class="source-code">    .timeline-time {</pre>
<pre class="source-code">      color: $value;</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>Using this method, we will generate modifier classes for each theme color, such as, for example, the <code>.timeline-item-primary</code> modifier class for the <code>$primary</code> color. These modifier <a id="_idIndexMarker750"/>classes will then be added to our HTML in the following way:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/index.xhtml</p>
<pre class="source-code">&lt;ul class="timeline"&gt;</pre>
<pre class="source-code">  &lt;li class="timeline-item<strong class="bold"> timeline-item-primary</strong></pre>
<pre class="source-code">"&gt;</pre>
<pre class="source-code">    &lt;div class="timeline-time"&gt;2022&lt;/div&gt;</pre>
<pre class="source-code">    &lt;p class="timeline-text"&gt;Lorem ipsum dolor sit amet, </pre>
<pre class="source-code">      consectetur adipiscing elit. Duis convallis velit </pre>
<pre class="source-code">      quis sapien sollicitudin ultrices.&lt;/p&gt;</pre>
<pre class="source-code">  &lt;/li&gt;</pre>
<pre class="source-code">  [More timeline items here]</pre>
<pre class="source-code">&lt;/ul&gt;</pre>
<p>Here’s a screenshot of what the different contextual color variants look like:</p>
<div><div><img alt="Figure 10.8 – The custom timeline component with the contextual color variants " height="688" src="img/Figure_10.08_B17143.jpg" width="516"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.8 – The custom timeline component with the contextual color variants</p>
<h2 id="_idParaDest-245"><a id="_idTextAnchor249"/>Creating responsive horizontal variants</h2>
<p>Now, we will <a id="_idIndexMarker751"/>create responsive horizontal variants for our component. We want the component to have a range of modifier classes that can be added to the parent element, which will then define at what breakpoint the component will be displayed in the horizontal version.</p>
<p>Here’s a screenshot of what the horizontal version looks like:</p>
<div><div><img alt="Figure 10.9 – The custom timeline component in the horizontal version " height="254" src="img/Figure_10.09_B17143.jpg" width="696"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.9 – The custom timeline component in the horizontal version</p>
<p>To generate the various modifier classes for the responsive horizontal variants, we will use a Sass loop to loop through the <code>$grid-breakpoints</code> map. In that loop, the key is assigned to the <code>$breakpoint</code> variable and is then first used as an argument for the <code>media-breakpoint-up()</code> mixin. Inside the media query, the <code>$breakpoint</code> variable is used <a id="_idIndexMarker752"/>as an argument for the <code>breakpoint-infix()</code> function to generate a value for the <code>$infix</code> variable, which is then used to generate the various class names with the correct breakpoint infix (<code>-sm</code>, <code>-md</code>, <code>-lg</code>, <code>-xl</code>, or <code>-xxl</code>).</p>
<p>The Sass code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/scss/style.scss line 56-75</p>
<pre class="source-code">@each $breakpoint in map-keys($grid-breakpoints) {</pre>
<pre class="source-code">  @include media-breakpoint-up($breakpoint) {</pre>
<pre class="source-code">    $infix: breakpoint-infix($breakpoint, $grid-</pre>
<pre class="source-code">      breakpoints);</pre>
<pre class="source-code">    .timeline-horizontal#{$infix} {</pre>
<pre class="source-code">      display: flex;</pre>
<pre class="source-code">      padding-top: 0.6rem;</pre>
<pre class="source-code">      overflow-y: scroll;</pre>
<pre class="source-code">      .timeline-item {</pre>
<pre class="source-code">        border-left: none;</pre>
<pre class="source-code">        border-top: $border-width solid $border-color;</pre>
<pre class="source-code">        &amp;::before {</pre>
<pre class="source-code">          top: -0.6rem;</pre>
<pre class="source-code">        }</pre>
<pre class="source-code">      }</pre>
<pre class="source-code">    }</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>Using this method, we will generate modifier classes for each breakpoint, such as, for example, the <code>.timeline-horizontal-sm</code> modifier class for the <code>sm</code> breakpoint. Notice that we <a id="_idIndexMarker753"/>will also generate the modifier class <code>.timeline-horizontal</code>, which will display the component in the horizontal version for all screen sizes.</p>
<p>The modifier classes can be added to our HTML in the following way:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/custom-component/index.xhtml</p>
<pre class="source-code">&lt;ul class="timeline<strong class="bold"> timeline-horizontal-sm</strong>"&gt;</pre>
<pre class="source-code">  &lt;li class="timeline-item"&gt;</pre>
<pre class="source-code">    &lt;div class="timeline-time"&gt;2022&lt;/div&gt;</pre>
<pre class="source-code">    &lt;p class="timeline-text"&gt;Lorem ipsum dolor sit amet, </pre>
<pre class="source-code">      consectetur adipiscing elit. Duis convallis velit </pre>
<pre class="source-code">      quis sapien sollicitudin ultrices.&lt;/p&gt;</pre>
<pre class="source-code">  &lt;/li&gt;</pre>
<pre class="source-code">  [More timeline items here]</pre>
<pre class="source-code">&lt;/ul&gt;</pre>
<p>When viewing this example in a browser, you can see how the different timeline components turn into horizontal versions at various breakpoints.</p>
<p>In this section, we have seen how to create a custom component using the approach recommended by<a id="_idIndexMarker754"/> the team behind Bootstrap. We have created a timeline component, but the method can be used to create any kind of custom component that you want.</p>
<h1 id="_idParaDest-246"><a id="_idTextAnchor250"/>Using Bootstrap 5 CSS custom properties</h1>
<p>Bootstrap 5 includes <a id="_idIndexMarker755"/>many CSS custom properties in its compiled CSS file (<code>bootstrap/dist/css/bootstrap.css</code>). This gives us global access to values for colors, typography, and borders, as well as local access to various values for most components and some utilities when the Bootstrap 5 CSS is loaded. With these CSS custom properties, we can do customization without having to recompile the Sass code using a CSS preprocessor.</p>
<p class="callout-heading">CSS custom properties or CSS variables?</p>
<p class="callout">CSS custom properties are also often referred to as CSS variables. This is also the way the Bootstrap team refers to them in the official documentation, but in this chapter, I will refer to them as CSS custom properties, to better distinguish them from Sass variables.</p>
<h2 id="_idParaDest-247"><a id="_idTextAnchor251"/>Groups of CSS custom properties</h2>
<p>In Bootstrap 5, there<a id="_idIndexMarker756"/> are three major groups of CSS custom properties:</p>
<ul>
<li>Root CSS custom properties</li>
<li>Component CSS custom properties</li>
<li>Utility CSS custom properties</li>
</ul>
<h3>Root CSS custom properties</h3>
<p>The root CSS<a id="_idIndexMarker757"/> custom <a id="_idIndexMarker758"/>properties are added to the <code>:root</code> pseudo-class, which is equal to the <code>&lt;html&gt;</code> element in an HTML document. This placement gives us global access to them from all other HTML elements on our page. They are located before all other code in the compiled Bootstrap 5 CSS (<code>bootstrap/dist/css/bootstrap.css</code>).</p>
<p>The root custom properties are generated from the <code>_root.scss</code> file. The first part of the file generates CSS custom properties for various colors by using a Sass loop for the <code>$colors</code>, <code>$grays</code>, <code>$theme-colors</code>, and <code>$theme-colors-rgb</code> map as well as a few other CSS custom properties. The next part of the file generates CSS custom properties for various typography styles, such as the font stacks and the base styles for the <code>&lt;body&gt;</code> element, as well as a CSS custom property for the default <code>$gradient</code>. The last part of the file generates CSS custom properties for borders and the border radius. Most of the CSS custom properties for typography are used by the <code>_reboot.scss</code> file to style the <code>&lt;body&gt;</code> element, and the CSS custom properties for borders and the border radius are used for generating border and border radius utilities and within a few components. Finally, the CSS custom properties for colors are simply made globally available to use for customization.</p>
<p>Here’s an example of how to change the primary, secondary, and success color by overriding the following CSS custom properties:</p>
<pre class="source-code">:root {</pre>
<pre class="source-code">  --bs-primary: red;</pre>
<pre class="source-code">  --bs-secondary: green;</pre>
<pre class="source-code">  --bs-success: blue;</pre>
<pre class="source-code">  --bs-primary-rgb: #{to-rgb(red)};</pre>
<pre class="source-code">  --bs-secondary-rgb: #{to-rgb(green)};</pre>
<pre class="source-code">  --bs-success-rgb: #{to-rgb(blue)};</pre>
<pre class="source-code">}</pre>
<p>This should be placed somewhere after the compiled Bootstrap 5 code to work. The example has not been implemented on our website but is just shown here as an example of how<a id="_idIndexMarker759"/> to use the root CSS custom properties.</p>
<h3>Component CSS custom properties</h3>
<p>The component<a id="_idIndexMarker760"/> CSS custom<a id="_idIndexMarker761"/> properties are locally scoped to the individual components of Bootstrap 5. Since they are local, they can only be accessed by the element where they are defined and not globally like the root custom properties. All components, except the scrollspy and close button components, have CSS custom properties.</p>
<p>In a partial <code>.scss</code> file for a component, the technique of using Sass variables and CSS custom properties is as follows:</p>
<ul>
<li>CSS custom properties are added to the parent (or main) class of the component</li>
<li>Sass variables from <code>_variables.scss</code> are assigned as values to the CSS custom properties</li>
<li>CSS custom properties are used as values for the regular CSS properties </li>
</ul>
<p>Here’s the source code of the <code>badge</code> component that shows this technique (comments have been removed):</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_badge.scss</p>
<pre class="source-code">.badge {</pre>
<pre class="source-code">  --#{$prefix}badge-padding-x: #{$badge-padding-x};</pre>
<pre class="source-code">  --#{$prefix}badge-padding-y: #{$badge-padding-y};</pre>
<pre class="source-code">  @include rfs($badge-font-size, --#{$prefix}badge-font-</pre>
<pre class="source-code">size);</pre>
<pre class="source-code">  --#{$prefix}badge-font-weight: #{$badge-font-weight};</pre>
<pre class="source-code">  --#{$prefix}badge-color: #{$badge-color};</pre>
<pre class="source-code">  --#{$prefix}badge-border-radius: #{$badge-border-radius};</pre>
<pre class="source-code">  display: inline-block;</pre>
<pre class="source-code">  padding: var(--#{$prefix}badge-padding-y) var(</pre>
<pre class="source-code">    --#{$prefix}badge-padding-x);</pre>
<pre class="source-code">  @include font-size(var(--#{$prefix}badge-font-size));</pre>
<pre class="source-code">  font-weight: var(--#{$prefix}badge-font-weight);</pre>
<pre class="source-code">  line-height: 1;</pre>
<pre class="source-code">  color: var(--#{$prefix}badge-color);</pre>
<pre class="source-code">  text-align: center;</pre>
<pre class="source-code">  white-space: nowrap;</pre>
<pre class="source-code">  vertical-align: baseline;</pre>
<pre class="source-code">  border-radius: var(--#{$prefix}badge-border-radius, 0); </pre>
<pre class="source-code">  @include gradient-bg();</pre>
<pre class="source-code">  &amp;:empty {</pre>
<pre class="source-code">    display: none;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>And here’s<a id="_idIndexMarker762"/> the<a id="_idIndexMarker763"/> compiled CSS for that component:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/dist/css/bootstrap.css line 4809-4829</p>
<pre class="source-code">.badge {</pre>
<pre class="source-code">  --bs-badge-padding-x: 0.65em;</pre>
<pre class="source-code">  --bs-badge-padding-y: 0.35em;</pre>
<pre class="source-code">  --bs-badge-font-size: 0.75em;</pre>
<pre class="source-code">  --bs-badge-font-weight: 700;</pre>
<pre class="source-code">  --bs-badge-color: #fff;</pre>
<pre class="source-code">  --bs-badge-border-radius: 0.375rem;</pre>
<pre class="source-code">  display: inline-block;</pre>
<pre class="source-code">  padding: var(--bs-badge-padding-y) var(--bs-badge-</pre>
<pre class="source-code">    padding-x);</pre>
<pre class="source-code">  font-size: var(--bs-badge-font-size);</pre>
<pre class="source-code">  font-weight: var(--bs-badge-font-weight);</pre>
<pre class="source-code">  line-height: 1;</pre>
<pre class="source-code">  color: var(--bs-badge-color);</pre>
<pre class="source-code">  text-align: center;</pre>
<pre class="source-code">  white-space: nowrap;</pre>
<pre class="source-code">  vertical-align: baseline;</pre>
<pre class="source-code">  border-radius: var(--bs-badge-border-radius, 0);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">.badge:empty {</pre>
<pre class="source-code">  display: none;</pre>
<pre class="source-code">}</pre>
<p>We can see that<a id="_idIndexMarker764"/> the <a id="_idIndexMarker765"/>component has six different CSS custom properties, which are not used out of the box. Instead, they are available to us for customizing this component. We will make use of that by increasing the horizontal and vertical padding with the following lines of code:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_custom-styles.scss line 74-77</p>
<pre class="source-code">.badge {</pre>
<pre class="source-code">  --bs-badge-padding-x: 1em;</pre>
<pre class="source-code">  --bs-badge-padding-y: 0.7em;</pre>
<pre class="source-code">}</pre>
<p>When we have compiled our CSS, we will now see these CSS custom property overrides taking effect <a id="_idIndexMarker766"/>with<a id="_idIndexMarker767"/> increased padding on the badge component.</p>
<h3>Utility CSS custom properties</h3>
<p>The utility CSS<a id="_idIndexMarker768"/> custom <a id="_idIndexMarker769"/>properties are defined for the background, color, and border utilities, and they are locally scoped like the component CSS custom properties. Using these CSS custom properties, we can, for example, control the alpha transparency value of <code>rgba()</code> colors.</p>
<p>If we take the background utility as an example, the <code>.bg-primary</code> utility has the following CSS styles:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/dist/css/bootstrap.css line 8402-8405</p>
<pre class="source-code">.bg-primary {</pre>
<pre class="source-code">  --bs-bg-opacity: 1;</pre>
<pre class="source-code">  background-color: rgba(var(--bs-primary-rgb), var(--bs-</pre>
<pre class="source-code">    bg-opacity)) !important;</pre>
<pre class="source-code">}</pre>
<p>We can see that the utility has the <code>--bs-bg-opacity: 1</code> CSS custom property, which is used by the <code>background-color</code> property to specify the <code>a</code> part of the <code>rgba()</code> color function. We can now add, for example, the class <code>.bg-opacity-25</code> or <code>.bg-opacity-50</code> to the same element to change the opacity from <code>1</code> to <code>0.25</code> or <code>0.5</code>. If we want the opacity to be somewhere in between, we can overwrite the CSS custom property, for example, like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">HTML</p>
<pre class="source-code">&lt;div class="bg-primary" style="--bs-bg-opacity: 0.33"&gt;Primary background with an opacity of 0.33&lt;/div&gt;</pre>
<h2 id="_idParaDest-248"><a id="_idTextAnchor252"/>Limitations of CSS custom properties for customization</h2>
<p>You can do <a id="_idIndexMarker770"/>powerful customization with CSS custom properties. However, you can’t just replace the usage of Sass variables in all situations. As an example of this, let’s consider the global styling for border radiuses. These are initially defined as six different Sass variables in the <code>_variables.scss</code> file:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_variables.scss line 495-500</p>
<pre class="source-code">$border-radius: .375rem !default;</pre>
<pre class="source-code">$border-radius-sm: .25rem !default;</pre>
<pre class="source-code">$border-radius-lg: .5rem !default;</pre>
<pre class="source-code">$border-radius-xl: 1rem !default;</pre>
<pre class="source-code">$border-radius-2xl: 2rem !default;</pre>
<pre class="source-code">$border-radius-pill: 50rem !default;</pre>
<p>These Sass variables are then used to generate the CSS custom properties for border radius in the <code>_root.scss</code> file like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_root.scss</p>
<pre class="source-code">--#{$prefix}border-radius: #{$border-radius};</pre>
<pre class="source-code">--#{$prefix}border-radius-sm: #{$border-radius-sm};</pre>
<pre class="source-code">--#{$prefix}border-radius-lg: #{$border-radius-lg};</pre>
<pre class="source-code">--#{$prefix}border-radius-xl: #{$border-radius-xl};</pre>
<pre class="source-code">--#{$prefix}border-radius-2xl: #{$border-radius-2xl};</pre>
<pre class="source-code">--#{$prefix}border-radius-pill: #{$border-radius-pill};</pre>
<p>If we now use the compiled Bootstrap 5 CSS and we want to change the border radius of buttons, we can target the <code>.btn</code> in our own CSS and override the CSS custom property for border radius like so:</p>
<pre class="source-code">.btn {</pre>
<pre class="source-code">  --bs-btn-border-radius: 0.75rem;</pre>
<pre class="source-code">}</pre>
<p>The limitation here is that we can’t define the <code>$border-radius</code> Sass variable, which is used across many components, using a CSS custom property. So, in our example, the border radius of button elements will change, but not the border radius of input elements, even<a id="_idIndexMarker771"/> though they use the same border radius value in the Sass code:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/_variables.scss line 774 and 835</p>
<pre class="source-code">$btn-border-radius: $border-radius !default;</pre>
<pre class="source-code">$input-border-radius: $border-radius !default;</pre>
<p>As we can see, this is a limitation. So, even though customization with CSS custom properties is powerful and we don’t need to use a CSS preprocessor, we can’t do the same kinds of customizations as we can using Sass. Nonetheless, we will now take a look at a few more examples of how we can use CSS custom properties for customization.</p>
<h2 id="_idParaDest-249"><a id="_idTextAnchor253"/>The dark color theme</h2>
<p>We previously<a id="_idIndexMarker772"/> saw how to create styles for a <a id="_idIndexMarker773"/>dark color theme using the <code>color-scheme</code> mixin and color variables. It’s also possible to create the same dark color theme styles using a media query and CSS custom properties. The necessary CSS code for this is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/css/darkmode.css</p>
<pre class="source-code">@media (prefers-color-scheme: dark) {</pre>
<pre class="source-code">  body {</pre>
<pre class="source-code">    background-color: var(--bs-dark);</pre>
<pre class="source-code">    color: var(--bs-light);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .bg-light, .jumbotron {</pre>
<pre class="source-code">    background-color: var(--bs-dark) !important;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .bg-dark {</pre>
<pre class="source-code">    background-color: var(--bs-gray-700) !important;</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .accordion-button,</pre>
<pre class="source-code">  .accordion-item,</pre>
<pre class="source-code">  .card,</pre>
<pre class="source-code">  .list-group-item {</pre>
<pre class="source-code">    background-color: var(--bs-dark);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">  .accordion-button,</pre>
<pre class="source-code">  .breadcrumb-item.active,</pre>
<pre class="source-code">  .figure-caption,</pre>
<pre class="source-code">  .list-group-item,</pre>
<pre class="source-code">  .navbar-light .navbar-brand,</pre>
<pre class="source-code">  .navbar-light .navbar-nav .nav-link {</pre>
<pre class="source-code">    color: var(--bs-light);</pre>
<pre class="source-code">  }</pre>
<pre class="source-code">}</pre>
<p>To use it, you <a id="_idIndexMarker774"/>simply include <a id="_idIndexMarker775"/>the <code>darkmode.css</code> file in the <code>&lt;head&gt;</code> somewhere after the compiled Bootstrap 5 CSS file; for example, like this:</p>
<pre class="source-code">&lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code"><strong class="bold">&lt;link rel="stylesheet" href="css/darkmode.css"&gt;</strong></pre>
<pre class="source-code">&lt;link rel="stylesheet" href="icons/bootstrap-icons.css"&gt;</pre>
<p>Since we have already created the dark color theme for our website with Sass, we will keep that and not update our code to use the <code>darkmode.css</code> file, but it’s included in the <code>css</code> folder for you to use if you want to. If you choose to use it, remember to remove the styling<a id="_idIndexMarker776"/> for the dark color <a id="_idIndexMarker777"/>theme in the <code>_custom-styles.scss</code> file.</p>
<h2 id="_idParaDest-250"><a id="_idTextAnchor254"/>Breadcrumb</h2>
<p>We <a id="_idIndexMarker778"/>previously <a id="_idIndexMarker779"/>changed the breadcrumb divider by overriding the <code>$breadcrumb-divider</code> variable in the <code>_default-variable-overrides.scss</code> file. We can use the <code>--bs-breadcrumb-divider</code> CSS custom property for this instead since the Sass variable is actually just a fallback to the CSS custom property.</p>
<p>To make this update to our website, we will first remove our Sass customization for the <code>breadcrumb</code> divider:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_default-variable-overrides.scss</p>
<pre class="source-code">// Breadcrumb</pre>
<pre class="source-code">$breadcrumb-divider: quote("–");</pre>
<p>Instead, we will now use the CSS custom property by assigning a value to it in an inline style on the <code>&lt;nav&gt;</code> element wrapping the breadcrumb component on the <strong class="bold">Shop</strong> and <strong class="bold">Product</strong> pages, which are the only places we’re using that component:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/shop.xhtml line 216-222</p>
<pre class="source-code">&lt;nav aria-label="Breadcrumb navigation"<strong class="bold"> style="--bs-breadcrumb-divider: '–';"</strong>&gt;</pre>
<pre class="source-code">  &lt;ol class="breadcrumb mb-2 mb-lg-0"&gt;</pre>
<pre class="source-code">    &lt;li class="breadcrumb-item"&gt;&lt;a href="#"&gt;Shop&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">    &lt;li class="breadcrumb-item"&gt;&lt;a </pre>
<pre class="source-code">      href="#"&gt;Category&lt;/a&gt;&lt;/li&gt;</pre>
<pre class="source-code">    &lt;li class="breadcrumb-item active" aria-</pre>
<pre class="source-code">      current="page"&gt;Subcategory&lt;/li&gt;</pre>
<pre class="source-code">  &lt;/ol&gt;</pre>
<pre class="source-code">&lt;/nav&gt;</pre>
<p>We won’t see any <a id="_idIndexMarker780"/>visual change in the browser, which<a id="_idIndexMarker781"/> means that we have successfully updated our code.</p>
<h2 id="_idParaDest-251"><a id="_idTextAnchor255"/>Helper</h2>
<p>We previously<a id="_idIndexMarker782"/> added a<a id="_idIndexMarker783"/> new ratio helper class with the aspect ratio <code>5x3</code> by creating a <code>$custom-ratio</code> map and merging it with the default <code>$aspect-ratios</code> map. This required several lines of code at the end of our <code>_variable-value-using-variable.scss</code> file. We can use the <code>--bs-aspect-ratio</code> CSS custom property for this instead since the Sass code for the ratio helper is already using the values in the <code>$aspect-ratios</code> map to set the value of that CSS custom property.</p>
<p>To make this update to our website, we will first remove our Sass customization for the ratio helper:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/scss/_variable-value-using-variable.scss </p>
<pre class="source-code">// Ratio</pre>
<pre class="source-code">// Create custom ratio map</pre>
<pre class="source-code">$custom-ratio: (</pre>
<pre class="source-code">  "5x3": calc(3 / 5 * 100%)</pre>
<pre class="source-code">);</pre>
<pre class="source-code">// Merge "$aspect-ratios" and "$custom-ratio"</pre>
<pre class="source-code">$aspect-ratios: map-merge($aspect-ratios, $custom-ratio);</pre>
<p>Instead, we will now use the CSS custom property by assigning a value to it in an inline style on the ratio helper wrapping the <code>&lt;iframe&gt;</code> with the Google Maps map on the <strong class="bold">Contact</strong> page, which<a id="_idIndexMarker784"/> is the only place we’re using the<a id="_idIndexMarker785"/> ratio helper:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/website/contact.xhtml line 177-179</p>
<pre class="source-code">&lt;div class="ratio ratio-5x3"<strong class="bold"> style="--bs-aspect-ratio: 60%;"</strong>&gt;</pre>
<pre class="source-code">  &lt;iframe src="https://www.google.com/maps/</pre>
<pre class="source-code">    embed?pb=!1m18!1m12!1m3!1d3022.6175453420647!2d-</pre>
<pre class="source-code">    73.98784413479707!3d40.748440379327945!2m3!1f0!2f</pre>
<pre class="source-code">    0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9aeb</pre>
<pre class="source-code">    1c6b5%3A0x35b1cfbc89a6097f!2sEmpire+State+Building</pre>
<pre class="source-code">    %2C+350+5th+Ave%2C+New+York%2C+NY+10118%2C+USA</pre>
<pre class="source-code">    !5e0!3m2!1sda!2sdk!4v1491841211721" </pre>
<pre class="source-code">    allowfullscreen&gt;&lt;/iframe&gt;</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<p>To keep it short and simple, we’re using the value <code>60%</code>, which is simply the result of <code>calc(3 / 5 * 100%)</code>. The aspect ratio will now stay the same when we view the page with the <a id="_idIndexMarker786"/>updated code in the browser.</p>
<h2 id="_idParaDest-252"><a id="_idTextAnchor256"/>Prefix for CSS custom properties</h2>
<p>By default, all <a id="_idIndexMarker787"/>Bootstrap 5 CSS custom <a id="_idIndexMarker788"/>properties are prefixed with <code>bs-</code> (the double hyphen <code>--</code> in front of the prefix <code>bs-</code> is how you declare a CSS custom property, and this can’t be omitted). Should you wish to change this prefix, it can be done by overriding the <code>$prefix</code> variable defined on line 357 in the <code>_variables.scss</code> file. The default value for this variable is <code>bs-</code>.</p>
<p class="callout-heading">Deprecated variable for the CSS custom property prefix</p>
<p class="callout">The variable to specify the CSS custom property prefix used to be <code>$variable-prefix</code>, but from version v5.2.0 of Bootstrap, this will be deprecated and replaced by the shorter <code>$prefix</code>. So, in <a id="_idIndexMarker789"/>this current version, v5.2.0, both variables are found in the code.</p>
<h1 id="_idParaDest-253"><a id="_idTextAnchor257"/>Using the RFS Sass plugin</h1>
<p>RFS is officially<a id="_idIndexMarker790"/> described as a “unit resizing engine” that “automates responsive resizing.” In other words, RFS is a collection of Sass mixins and functions for calculating automated responsive CSS values based on the width of the viewport. Being an abbreviation for <em class="italic">Responsive Font Sizes</em>, it was originally developed for font resizing, but it’s now capable of resizing almost any value for any CSS property with units. RFS can be downloaded from its official website at GitHub at <a href="http://github.com/twbs/rfs/">github.com/twbs/rfs/</a> or through NPM with the command <code>npm install rfs</code>. As you can see from the GitHub URL, the repository lives side by side with Bootstrap, since RFS is a side project from the team behind Bootstrap. In fact, RFS comes packaged with Bootstrap 5 as the file <code>_rfs.scss</code> in the <code>vendor</code> folder, and it’s used for resizing font sizes. This is most apparent in headings. RFS is enabled by default by the global option <code>$enable-rfs</code> and can therefore also be disabled by setting that variable to <code>false</code>, as we saw in <a href="B17143_04_epub.xhtml#_idTextAnchor079"><em class="italic">Chapter 4</em></a>, <em class="italic">Bootstrap 5 Global Options and Colors</em>.</p>
<p>The syntax for RFS is as follows:</p>
<pre class="source-code">@include rfs([max-value], [property])</pre>
<p><code>[max-value]</code> is the value you would like for the specified <code>[property]</code> on large screens. RFS will use this value when the width of the viewport is <code>1200px</code> or larger (so from the <code>xl</code> breakpoint and up). Below that, the value will dynamically scale in relation to the width of the viewport, until it reaches the base value of <code>1.25rem</code>, after which it will no longer scale. These two options can be customized using the <code>$rfs-breakpoint</code> and <code>$rfs-base-value</code> variables along with other options.</p>
<p>There are also the following shorthand mixins for font size, padding, and margin we can use, so we don’t <a id="_idIndexMarker791"/>need to specify the property explicitly:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">bootstrap/scss/vendor/_rfs.scss</p>
<pre class="source-code">// Shorthand helper mixins</pre>
<pre class="source-code">@mixin font-size($value) {</pre>
<pre class="source-code">  @include rfs($value);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin padding($value) {</pre>
<pre class="source-code">  @include rfs($value, padding);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin padding-top($value) {</pre>
<pre class="source-code">  @include rfs($value, padding-top);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin padding-right($value) {</pre>
<pre class="source-code">  @include rfs($value, padding-right);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin padding-bottom($value) {</pre>
<pre class="source-code">  @include rfs($value, padding-bottom);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin padding-left($value) {</pre>
<pre class="source-code">  @include rfs($value, padding-left);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin margin($value) {</pre>
<pre class="source-code">  @include rfs($value, margin);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin margin-top($value) {</pre>
<pre class="source-code">  @include rfs($value, margin-top);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin margin-right($value) {</pre>
<pre class="source-code">  @include rfs($value, margin-right);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin margin-bottom($value) {</pre>
<pre class="source-code">  @include rfs($value, margin-bottom);</pre>
<pre class="source-code">}</pre>
<pre class="source-code">@mixin margin-left($value) {</pre>
<pre class="source-code">  @include rfs($value, margin-left);</pre>
<pre class="source-code">}</pre>
<p>Now, let’s see<a id="_idIndexMarker792"/> an example where we’re using RFS to set the padding of a box. In the HTML, we first have a box using RFS for padding and then another box using a spacing utility for padding:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/rfs/index.xhtml</p>
<pre class="source-code">&lt;!DOCTYPE html&gt;</pre>
<pre class="source-code">&lt;html&gt;</pre>
<pre class="source-code">  &lt;head&gt;</pre>
<pre class="source-code">    &lt;meta charset="utf-8"&gt;</pre>
<pre class="source-code">    &lt;meta name="viewport" content="width=device-width, </pre>
<pre class="source-code">      initial-scale=1"&gt;</pre>
<pre class="source-code">    &lt;title&gt;RFS&lt;/title&gt;</pre>
<pre class="source-code">    &lt;link rel="stylesheet" href="css/style.css"&gt;</pre>
<pre class="source-code">  &lt;/head&gt;</pre>
<pre class="source-code">  &lt;body&gt;</pre>
<pre class="source-code">    &lt;div class="container mt-3"&gt;</pre>
<pre class="source-code">      &lt;p&gt;Box with RFS used for padding&lt;/p&gt;</pre>
<pre class="source-code">      &lt;div class="box border mb-3"&gt;</pre>
<pre class="source-code">        &lt;h1 class="m-0"&gt;Heading&lt;/h1&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">      &lt;p&gt;Box with spacing utility used for padding&lt;/p&gt;</pre>
<pre class="source-code">      &lt;div class="p-5 border"&gt;</pre>
<pre class="source-code">        &lt;h1 class="m-0"&gt;Heading&lt;/h1&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">    &lt;/div&gt;</pre>
<pre class="source-code">  &lt;/body&gt;</pre>
<pre class="source-code">&lt;/html&gt;</pre>
<p>Then, in our<a id="_idIndexMarker793"/> Sass, we first import Bootstrap 5 and then use the shorthand mixin for padding on our <code>.box</code> class like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-10/examples/rfs/scss/style.scss</p>
<pre class="source-code">// Bootstrap 5</pre>
<pre class="source-code">@import "../../../../../bootstrap/scss/bootstrap.scss";</pre>
<pre class="source-code">.box {</pre>
<pre class="source-code">  @include padding(3rem);</pre>
<pre class="source-code">}</pre>
<p>We’re using the value <code>3rem</code>, which is the same value that’s used by the <code>.p-5</code> class on the first box. In that way, it’s easy to see what difference the RFS makes. Following are two screenshots showing the difference, and I also suggest that you view the example in a browser, where you can better see the automatic calculations done by RFS when resizing <a id="_idIndexMarker794"/>the width of the browser.</p>
<div><div><img alt="Figure 10.10 – Viewed on a small device (576px): calculated value is being used for padding " height="339" src="img/Figure_10.10_B17143.jpg" width="565"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.10 – Viewed on a small device (576px): calculated value is being used for padding</p>
<div><div><img alt="Figure 10.11 – Viewed on an extra large device (1200px): the max value is being used for padding " height="388" src="img/Figure_10.11_B17143.jpg" width="790"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 10.11 – Viewed on an extra large device (1200px): the max value is being used for padding</p>
<h1 id="_idParaDest-254"><a id="_idTextAnchor258"/>Summary</h1>
<p>In this chapter, we have had a look at various advanced Sass and CSS features related to Bootstrap 5. We first saw how we could use various Bootstrap 5 mixins and functions and how to use the extend feature for various purposes. We then learned about the recommended approach to creating custom components using the Bootstrap 5 variables, mixins, and functions. After that, we saw how to use the Bootstrap 5 CSS custom properties to create a dark color theme and to customize a component and a helper. Finally, we learned how to use Bootstrap’s side project, RFS, to calculate automated responsive CSS values.</p>
<p>In the next chapter, we will take a closer look at the JavaScript features of Bootstrap 5.</p>
</div>
</div>
</body></html>