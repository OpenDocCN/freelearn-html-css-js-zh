<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Powering a Rails App with Bootstrap's Grid System</h1></div></div></div><p>We now have a good knowledge of what Bootstrap is, and how we can get it installed in our projects. With this chapter, we will understand the what can be done part of Bootstrap.</p><p>Grid system is an integral part of the Bootstrap framework. You won't be able to make a responsive website/application without properly understanding Bootstrap's grid system. By responsive, I mean an application that works and looks perfect in devices of all sizes.</p><p>This is the generation of Hybrid applications! Developers want to write the code once and make it accessible from all the devices. To do this, they have to first make their web application responsive. Bootstrap helps in creating a responsive website using one of its most popular features called <a id="id88" class="indexterm"/>
<strong>grid system</strong>.</p><p>In this chapter, we will first understand Bootstrap's grid system and then proceed to use it in our first application called Online Packt Shopping. We will try to use this same app in the rest of book.</p><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What is Bootstrap's grid system?</li><li class="listitem" style="list-style-type: disc">Implementing Bootstrap's Grid System in Rails application</li></ul></div><div><div><div><div><h1 class="title"><a id="ch03lvl1sec18"/>What is Bootstrap's grid system?</h1></div></div></div><p>When we first think about grids, we imagine the intersection of vertical and horizontal lines that<a id="id89" class="indexterm"/> create grids. That's what's happening here too. Bootstrap's grid system contains<a id="id90" class="indexterm"/> rows equivalent to horizontal lines, and columns equivalent to vertical lines. When these rows and columns meet, they create grids, which can be used to fill some content in our webpage. Simple, isn't it?</p><p>One of the biggest advantages of using Bootstrap's grid system is that it is responsive. Unlike HTML tables, Bootstrap's grid system is flexible and adjusts itself properly in the smaller screens as well. The size of the grids in Bootstrap isn't fixed. They change as per the size of the device's screen. Hence, the content is rearranged, as per the space available.</p><p>Most developers fail to understand the grid system properly and hence they fail to achieve a responsive<a id="id91" class="indexterm"/> web design. In this section, we will first create a static non-Rails webpage showcasing how to create Bootstrap's Grid System, and then we will use<a id="id92" class="indexterm"/> it in our Rails application.</p><p>Let's create a folder called <code class="literal">Responsive_website_static</code> anywhere in the system. Then, create an HTML file called <code class="literal">index.html</code>. We will use Bootstrap's CDN link to import Bootstrap's CSS and JavaScript codes inside the webpage. Now, open the <code class="literal">index.html</code> file and then paste the following basic HTML layout into it:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;f
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;title&gt;Responsive_website_static&lt;/title&gt;
    &lt;!-- Bootstrap --&gt;
    &lt;link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstra. min.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, world!&lt;/h1&gt;
    &lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;
    &lt;script src="img/jquery.min.js"&gt;
    &lt;/script&gt;
    &lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;
    &lt;script src="img/bootstrap.min.js"&gt;
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div><p>The above markup is as per Bootstrap's recommended markup. You can see that it has got some additional meta tags also. These meta tags are used to render the webpage properly in all kinds of devices. The <code class="literal">UTF-8</code> charset is used to tell the browser that your webpage contains some <code class="literal">unicode</code> characters.</p><p>The next meta tag with the <code class="literal">http-equiv="X-UA-Compatible"</code> and <code class="literal">content="IE=edge"</code> attributes is used for Internet Explorer. Sometimes, Internet Explorer switches to the compatible mode instead of using its best mode available. Hence, this tag tells Internet Explorer to use its best mode when rendering your website.</p><p>The next meta tag is a <code class="literal">viewport</code> tag. It tells the browser to scale and fit the webpage to the whole screen in mobile devices.</p><p>Instead of <a id="id93" class="indexterm"/>downloading the Bootstrap files from its browser, we have used the CDN links to link to the Bootstrap's CSS and JavaScript files. Since Bootstrap also depends on jQuery, we have also used the CDN link of the jQuery file.</p><p>Finally, we have<a id="id94" class="indexterm"/> an <code class="literal">&lt;h1&gt;</code> tag to display the message <strong>Hello World</strong> on the webpage. So, let's open it in the browser and check whether all the files have been properly loaded. The webpage should now look like the following screenshot:</p><div><img src="img/7269OS_03_01.jpg" alt="What is Bootstrap's grid system?"/></div><p>If you are using Google Chrome, you can easily check whether all the CDN files are loaded properly. Right-click anywhere on the webpage, and select the inspect element. Many web developer tool tabs will appear below the screen. Select the <strong>Network</strong> tab and reload the page. In the <strong>Status Text</strong> column, you will see many response codes against each resource name. If none of the response codes fail, then all the files are loaded properly.</p><div><img src="img/7269OS_03_02.jpg" alt="What is Bootstrap's grid system?"/></div><p>Before we start filling any content inside the webpage, we need to create a container. This will be used to<a id="id95" class="indexterm"/> wrap all the webpage content and center it to the browser screen. There are two different container classes in Bootstrap: <code class="literal">"container"</code> and <code class="literal">"container-fluid"</code> The first class, <code class="literal">"container"</code>, has a fixed width and centers itself to the<a id="id96" class="indexterm"/> browser window. The second class, <code class="literal">"container-fluid"</code>, is a full width container. It spans from the left edge to the right edge of the browser window. So, let's define a container inside <code class="literal">index.html</code> and move the Hello World message inside it:</p><div><pre class="programlisting">&lt;div class="container"&gt;
  &lt;h1&gt;Hello World&lt;/h1&gt;	
&lt;/div&gt;</pre></div><p>The following screenshot shows the output:</p><div><img src="img/7269OS_03_03.jpg" alt="What is Bootstrap's grid system?"/></div><p>You can see how it has moved the message towards the center. It will be more clearly visible if we apply <a id="id97" class="indexterm"/>a background to the container. So, let's write an inline CSS<a id="id98" class="indexterm"/> to the container markup:</p><div><pre class="programlisting">&lt;div class="container" style="background: cyan"&gt;
  &lt;h1&gt;Hello World&lt;/h1&gt;	
&lt;/div&gt;</pre></div><p>Here's the output of the preceding code:</p><div><img src="img/7269OS_03_04.jpg" alt="What is Bootstrap's grid system?"/></div><p>You should always define a container before using Bootstrap's Grid System. We can now proceed to define rows. To define a row, we have to use a class called <code class="literal">row.</code> So, let's proceed and create a row inside the container:</p><div><pre class="programlisting">&lt;div class="container"&gt;
  &lt;div class="row"&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Creating a row is a <a id="id99" class="indexterm"/>way of telling Bootstrap that you want to use its grid system. It's time to layout vertical columns inside the above row. A single column in Bootstrap will occupy all the space inside the row. Creating two columns will divide the row's space<a id="id100" class="indexterm"/> into two equal halves. Hence, the more columns you create, the row's space will be divided equally. Bootstrap's grid system scales up to 12 columns. If you create more than 12 columns, the remaining columns will be moved automatically to a new row. So, let's first create a single column:</p><div><pre class="programlisting">&lt;div class="container" style="background: cyan"&gt;
  &lt;div class="row"&gt;
    &lt;div class="col-xs-12" style="background: green"&gt;
      &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Let's take a look at the output:</p><div><img src="img/7269OS_03_05.jpg" alt="What is Bootstrap's grid system?"/></div><p>A column in the Bootstrap grid system is declared using the amount of columns it will span across. If you want to create a single column, you need it to span across 12 Bootstrap columns. Hence, we get the class <code class="literal">"col-xs-12"</code>. If you want to create two columns, you have to use the<a id="id101" class="indexterm"/> class <code class="literal">"col-xs-6"</code>. This will make each column span across six Bootstrap columns. So, let's proceed and create two columns in the preceding<a id="id102" class="indexterm"/> markup:</p><div><pre class="programlisting">&lt;div class="container" style="background: cyan"&gt;
    &lt;div class="row"&gt;
      &lt;div class="col-xs-6" style="background: green"&gt;
        &lt;h1&gt;Hello&lt;/h1&gt;
      &lt;/div&gt;
    &lt;div class="col-xs-6" style="background: red"&gt;
      &lt;h1&gt;World&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Let's take a look at the output:</p><div><img src="img/7269OS_03_06.jpg" alt="What is Bootstrap's grid system?"/></div><p>Bootstrap has defined classes for devices of different sizes. In the preceding examples, we have been using the classes such as <code class="literal">"col-xs-*"</code>. Here the letters <em>xs</em> stand for extra-small devices and the devices above that range. Hence a class, "<code class="literal">col-xs-"</code> will create a column of size 12 Bootstrap columns in all types of devices starting from extra-small devices. There are four different types of Bootstrap classes for four different sizes of devices:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Extra-Small Devices ".col-xs-*"</code>: These devices have a screen size less than 768 px</li><li class="listitem" style="list-style-type: disc"><code class="literal">Small Devices ".col-sm-*"</code>: These devices have a screen size less than 992 px and larger than or equal to 786 px</li><li class="listitem" style="list-style-type: disc"><code class="literal">Medium Devices ".col-md-*"</code>: These devices have a screen size less than 1200 px and larger than and equal to 992 px</li><li class="listitem" style="list-style-type: disc"><code class="literal">Large Devices ".col-lg-*"</code>: These devices have a screen size larger than 1200 px</li></ul></div><p>For instance, if you are defining columns, keeping in mind medium devices greater than or equal to 992 px, then these columns will look the same even in larger devices greater than or equal to 992 px 1200 px. They will be stacked on top of each other in small devices smaller than 992 px and extra-small devices 768 px. Hence, if you define columns for extra-small devices, then they will look the same in all kinds of devices.</p><p>Using Bootstrap, you<a id="id103" class="indexterm"/> can also dynamically change the number of columns in different devices. For example, using the classes <code class="literal">"col-xs-4"</code> and <code class="literal">"col-sm-6"</code> together will<a id="id104" class="indexterm"/> make a column span across four Bootstrap columns in extra-small devices, and six Bootstrap columns in small devices. The steps are as follows:</p><div><pre class="programlisting">&lt;div class="container" style="background: cyan"&gt;
  &lt;div class="row"&gt;
    &lt;div class="col-xs-12 col-sm-6" style="background: green"&gt;
      &lt;h1&gt;Hello&lt;/h1&gt;
    &lt;/div&gt;
    &lt;div class="col-xs-12 col-sm-6" style="background: red"&gt;
      &lt;h1&gt;World&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Let's take a look at the output:</p><div><img src="img/7269OS_03_07.jpg" alt="What is Bootstrap's grid system?"/></div><p>The preceding screenshot shows the webpage in extra-small devices. The browser renders one column per row<a id="id105" class="indexterm"/> because of the class <code class="literal">"col-xs-12"</code>.</p><p>Hopefully, now you have got<a id="id106" class="indexterm"/> an idea of how Bootstrap's columns are named. So, let's proceed to another important concept in Bootstrap's grid system, nesting columns.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec19"/>Nesting columns</h1></div></div></div><p>In Bootstrap, it is possible to define columns within columns. To do so, you need to declare a new row within a <a id="id107" class="indexterm"/>column markup and then proceed to create columns within it. Let's modify the previous code to test nested columns:</p><div><pre class="programlisting">&lt;div class="container" style="background: cyan"&gt;
  &lt;div class="row"&gt;
    &lt;div class="col-xs-12 col-sm-6" style="background: green"&gt;
      &lt;h1&gt;Hello&lt;/h1&gt;
      &lt;div class="row"&gt;
        &lt;div class="col-xs-6" style="background: orange"&gt;
          &lt;h2&gt;PACKT&lt;/h2&gt;
        &lt;/div&gt;
        &lt;div class="col-xs-6" style="background: grey"&gt;
          &lt;h2&gt;PUBLISHING&lt;/h2&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="col-xs-12 col-sm-6" style="background: red"&gt;
      &lt;h1&gt;World&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>Let's take a look at the output:</p><div><img src="img/7269OS_03_08.jpg" alt="Nesting columns"/></div><p>In the preceding screenshot, you can clearly see that we have created two different columns within the first column. Since the second column doesn't have any nested columns in it, the background color (cyan) of the main container is now visible to us. This way you can <a id="id108" class="indexterm"/>create as many nesting columns as you want.</p></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec20"/>Implementing Bootstrap's grid system in a Rails application</h1></div></div></div><p>It's time to finally use<a id="id109" class="indexterm"/> the Grid system in our Rails application. As stated earlier, we will create an application called Online Packt Shopping. We will use grid system in this chapter and create a CRUD app for products. We will continue developing<a id="id110" class="indexterm"/> this app throughout this book as we learn Bootstrap's different features.</p><p>So, let's proceed and create a Rails application called Online Packt Shopping.</p><div><pre class="programlisting">
<strong>rails new OnlinePacktShopping</strong>
</pre></div><p>Once the application is created, you should navigate inside the newly created folder and start the Rails server to test if the application is properly installed. So, let's do it using the following command:</p><div><pre class="programlisting">
<strong>cd /OnlinePacktShopping</strong>
<strong>rails server</strong>
</pre></div><p>Access the webpage at <code class="literal">http://localhost:3000</code>. It should show the default Rails app <strong>Welcome Board</strong>.</p><p>Our product will have the following four attributes:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Name</li><li class="listitem" style="list-style-type: disc">Featured Image</li><li class="listitem" style="list-style-type: disc">Description</li><li class="listitem" style="list-style-type: disc">Price</li></ul></div><p>So, let's scaffold accordingly</p><p>Now, we will scaffold and generate a product model with the following command:</p><div><pre class="programlisting">
<strong>rails generate scaffold Product name:string featImage:string description:text price:decimal</strong>
</pre></div><p>This command will create a model named <strong>NewProduct</strong> and its associated attributes. You need to migrate the newly created model to the database. You can do so using the rake command, which is as follows:</p><div><pre class="programlisting">
<strong>rake db:migrate</strong>
</pre></div><p>Once this is done successfully, run the server and open: <code class="literal">http://localhost:3000/products</code>. You should see an empty products listing page:</p><div><img src="img/7269OS_03_09.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>We have to first include Bootstrap in this application. For that, we will use the CDN method, as described in <a class="link" href="ch02.html" title="Chapter 2. Introducing Bootstrap 3">Chapter 2</a>: <em>Introducing Bootstrap 3</em> in the section <em>Installing Bootstrap in a Rails project</em>.</p><p>Once you have<a id="id111" class="indexterm"/> included Bootstrap in your application, you can<a id="id112" class="indexterm"/> reload the preceding webpage and see the CSS reset the Bootstrap applies on the HTML elements. You can also see that the font has changed from <code class="literal">Times New Roman</code> to <code class="literal">Open Sans</code>. So, let's take a look at the output:</p><div><img src="img/7269OS_03_10.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>We will follow all the steps, as discussed in the previous section. First, we need to define a container for<a id="id113" class="indexterm"/> our application. Open <code class="literal">application.html.erb</code>, which is<a id="id114" class="indexterm"/> present in app/views/layouts.</p><p>We need to wrap <code class="literal">&lt;%= yield %&gt;</code> inside the Bootstrap container markup:</p><div><pre class="programlisting">&lt;div class="container"&gt;
  &lt;%= yield %&gt;
&lt;/div&gt;</pre></div><p>Let's take a look at the output:</p><div><img src="img/7269OS_03_11.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>Next, we need to change the way the content appears on this page. We don't need a table to list our products. We will use Bootstrap's grid system to display the products beautifully in a responsive<a id="id115" class="indexterm"/> grid layout.</p><p>Open <code class="literal">index.html.erb</code> which is present inside the <code class="literal">products</code> folder by navigating to <code class="literal">app/views/products</code>. If you are familiar with Rails development, you must know that there's a separate folder present inside the <code class="literal">views</code> folder for each model. The <code class="literal">index.html.erb</code> file inside<a id="id116" class="indexterm"/> each model folder is used for displaying various models. Go ahead and delete everything which is present inside this file.</p><p>First, we need a page header that tells the users what the page is displaying. So, let's create a page header using Bootstrap's <code class="literal">".page-header"</code> class. Insert the following code in <code class="literal">index.html.erb</code>:</p><div><pre class="programlisting">&lt;div class="page-header"&gt;
  &lt;h3&gt;All Products&lt;/h3&gt;
&lt;/div&gt;</pre></div><p>Next, we need to create a row for displaying the products. Hence, update the markup and add the following:</p><div><pre class="programlisting">&lt;div class="row"&gt;
&lt;/div&gt;</pre></div><p>Now, we will create columns inside this row. For our application, we want the following features in our layout:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Columns in extra-small mobile devices</li><li class="listitem" style="list-style-type: disc">Columns in small mobile devices</li><li class="listitem" style="list-style-type: disc">Columns in medium devices</li><li class="listitem" style="list-style-type: disc">Columns in large devices</li></ul></div><p>Hence, the<a id="id117" class="indexterm"/> combination which we will use to define our column is <code class="literal">"col-xs-12 col-sm-6 col-md-4 col-lg-3"</code>. Let's proceed and <a id="id118" class="indexterm"/>update the preceding row markup with a single column:</p><div><pre class="programlisting">&lt;div class="row"&gt;
  &lt;div class="col-xs-12 col-sm-6 col-md-4 col-lg-3"&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><p>We will now loop this column markup for each product. Hence, we need to update our markup as following:</p><div><pre class="programlisting">&lt;div class="row"&gt;
  &lt;% @products.each do |product| %&gt;
  &lt;div class="col-xs-12 col-sm-6 col-md-4 col-lg-3"&gt;
  &lt;/div&gt;
  &lt;% end %&gt;
&lt;/div&gt;</pre></div><p>Now, we need to fill this column with the product details:</p><div><pre class="programlisting">&lt;div class="row"&gt;
  &lt;% @products.each do |product| %&gt;
  &lt;div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 text-center"&gt;
    &lt;h2&gt;&lt;%= product.name %&gt;&lt;/h2&gt;
    &lt;img class="img-responsive" src=&lt;%=asset_path product.featImage %&gt;/&gt;
    &lt;p&gt;&lt;%= product.description %&gt;&lt;/p&gt;
    &lt;h4&gt;$&lt;%= product.price %&gt;&lt;/h4&gt;
    &lt;%= link_to 'Show', product, :class=&gt;"btn btn-primary" %&gt;
  &lt;/div&gt;
  &lt;% end %&gt;
&lt;/div&gt;</pre></div><p>In the preceding code, I am looping through the <code class="literal">product</code> object to repeatedly print the same markup, but with a different data. For each product, I am printing its name using the <code class="literal">&lt;h2&gt;</code> tag, an image using, <code class="literal">&lt;img&gt;</code> tag, product description in a <code class="literal">&lt;p&gt;</code> tag, product price in the <code class="literal">&lt;h4&gt;</code> tag, and finally the link to the product page using <code class="literal">link_to</code>.</p><p>You can see, that while printing the data in HTML tags, I have also added some additional classes. These classes carry some CSS styles associated with them that are written by Bootstrap. For example, adding a class <code class="literal">"img-responsive"</code> to an <code class="literal">&lt;img&gt;</code> tag will make the image fit to the size of the grid, irrespective of the size of the image. I have also used the combination <a id="id119" class="indexterm"/>of classes <code class="literal">btn</code> and <code class="literal">btn-success</code> which are used for the <code class="literal">&lt;a&gt;</code> and <code class="literal">&lt;button&gt;</code> tags. These classes give links a fancy button look. We<a id="id120" class="indexterm"/> will learn more about these classes in subsequent chapters.</p><p>Let's proceed and check out how this page will look once we have filled data in our database using the <code class="literal">New Product</code> page:</p><div><img src="img/7269OS_03_12.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>The preceding<a id="id121" class="indexterm"/> screenshot is the desktop view.</p><div><img src="img/7269OS_03_13.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>The preceding<a id="id122" class="indexterm"/> screenshot is a medium-sized<a id="id123" class="indexterm"/> device view. This will be the view in most of the tablets in the market, the output for this is:</p><div><img src="img/7269OS_03_14.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>You can mark<a id="id124" class="indexterm"/> that the number of columns is reducing, as per our<a id="id125" class="indexterm"/> design requirement. The preceding image shows the layout in smaller devices. The following screenshot shows the view for extra-small devices:</p><div><img src="img/7269OS_03_15.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>You can see that the layout has changed to single-column design in extra-small devices.</p><p>There's still a thing<a id="id126" class="indexterm"/> missing in this page, a link to add a new product. Let's place a nice fancy <code class="literal">New Product</code> page right-aligned with the page header. An <a id="id127" class="indexterm"/>update page header markup is as follows:</p><div><pre class="programlisting">&lt;div class="page-header"&gt;
  &lt;%= link_to 'New Product', new_product_path, :class=&gt;"btn btn-success pull-right" %&gt;
  &lt;h3&gt;All Products&lt;/h3&gt;
&lt;/div&gt;</pre></div><p>The webpage should now look like:</p><div><img src="img/7269OS_03_16.jpg" alt="Implementing Bootstrap's grid system in a Rails application"/></div><p>You must be wondering how I pulled the New Product button to the right side of the page. If you see the markup properly, I have used an additional Bootstrap class named <code class="literal">pull-right</code>. These classes are called helper classes in Bootstrap. There are many helper classes in Bootstrap, we will learn more about them as we proceed with the book.</p></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec21"/>Summary</h1></div></div></div><p>In this chapter, we understood Bootstrap's Grid System and created two different types of projects: a static demo webpage and an online shopping Rails app. We saw how to use the Grid system, and make our homepage responsive to various sizes of devices. There are still many pages left unstyled in the current app: <code class="literal">add product</code> page, <code class="literal">edit product</code> page, and <code class="literal">single product</code> page. We will use Bootstrap to style them in subsequent chapters.</p><p>In the next chapter, we will understand various typography support from Bootstrap, play with beautiful Bootstrap buttons, and do more with images using Bootstrap.</p></div></body></html>