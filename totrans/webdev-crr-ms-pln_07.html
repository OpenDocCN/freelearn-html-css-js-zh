<html><head></head><body>
<div id="_idContainer084">
<h1 class="chapter-number" id="_idParaDest-176"><a id="_idTextAnchor176"/><span class="koboSpan" id="kobo.1.1">7</span></h1>
<h1 id="_idParaDest-177"><a id="_idTextAnchor177"/><span class="koboSpan" id="kobo.2.1">From Front to Back – More on Backend Tools and Technologies</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the last chapter, we focused primarily on the frontend. </span><span class="koboSpan" id="kobo.3.2">In this chapter, we’ll jump back to the backend side of the fence and look at some other server-side technologies and concepts. </span><span class="koboSpan" id="kobo.3.3">A full-fledged website or web app will rarely be only a client – it will nearly always require some sort of server to interact with – so, being full stack and understanding how both sides fit together is beneficial to being a web developer even if you ultimately decide to focus on one side or </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">the other.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we’ll look at what is perhaps the most important server-side concept: data. </span><span class="koboSpan" id="kobo.5.2">You’ll learn how data is stored and accessed, and you’ll understand the basic operations that can be performed on data. </span><span class="koboSpan" id="kobo.5.3">You’ll see multiple ways of storing data, and then you’ll learn how to build a facility that clients can use to access </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">that data.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">Of course, understanding how to work with data should obviously be important since without data, a website is likely to not be of all that much use, but knowing how to expose that data to clients in a consistent way (where </span><em class="italic"><span class="koboSpan" id="kobo.8.1">clients</span></em><span class="koboSpan" id="kobo.9.1"> in this context most often will mean a browser-based application) is also important to understand since it allows not only your own app or website to use the data but potentially others in their own way, which is a nice bit of flexibility to be able </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">to offer.</span></span></p>
<p><span class="koboSpan" id="kobo.11.1">You’ll also get a look at a couple of different technologies for building server-side code, in addition to Node, which you’ve seen already. </span><span class="koboSpan" id="kobo.11.2">This will include Java, PHP, .NET, and even some Python options. </span><span class="koboSpan" id="kobo.11.3">It’s important to know what the various options are so that you can make an informed decision about which is most appropriate when building your server-side code (and you may find that the decision in large part comes down to personal preference and pre-existing knowledge, which oftentimes </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">is fine).</span></span></p>
<p><span class="koboSpan" id="kobo.13.1">So, in this chapter, we’ll cover the </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.15.1">Getting to the heart of the matter – </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">data</span></span></li>
<li><span class="koboSpan" id="kobo.17.1">Building web APIs with REST, Node, </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">and Express</span></span></li>
<li><span class="koboSpan" id="kobo.19.1">Going back to the future – </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">SSR</span></span></li>
<li><span class="koboSpan" id="kobo.21.1">Using PHP on the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">server side</span></span></li>
<li><span class="koboSpan" id="kobo.23.1">Building with Java and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">Spring Boot</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.25.1">Introducing .NET</span></span></li>
<li><span class="koboSpan" id="kobo.26.1">Using Python web </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">app frameworks</span></span></li>
<li><span class="koboSpan" id="kobo.28.1">Reviewing </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">the roadmap</span></span></li>
</ul>
<h1 id="_idParaDest-178"><a id="_idTextAnchor178"/><span class="koboSpan" id="kobo.30.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.31.1">As usual, you will want the code download bundle for this book, along with the code found in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.32.1">ch-07</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.33.1">directory specifically.</span></span></p>
<p><span class="koboSpan" id="kobo.34.1">But specifically for this chapter, you’ll need to install a tool called Postman, which we’ll use for exercising our backend code later. </span><span class="koboSpan" id="kobo.34.2">Though at the time of writing you can download the tool without signing up, you’ll most likely want an account either way since it provides expanded functionality. </span><span class="koboSpan" id="kobo.34.3">So, go to </span><a href="https://www.postman.com"><span class="koboSpan" id="kobo.35.1">https://www.postman.com</span></a><span class="koboSpan" id="kobo.36.1">, sign up, and download the Postman desktop app. </span><span class="koboSpan" id="kobo.36.2">The app is a typical desktop app for whichever operating system you’re using, so you shouldn’t have much trouble getting </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">it installed.</span></span></p>
<p><span class="koboSpan" id="kobo.38.1">You’ll also need to have the .NET SDK installed, which you can get at </span><a href="https://dotnet.microsoft.com"><span class="koboSpan" id="kobo.39.1">https://dotnet.microsoft.com</span></a><span class="koboSpan" id="kobo.40.1">. </span><span class="koboSpan" id="kobo.40.2">This is a platform Microsoft provides for developing all sorts of apps, both Windows native and web apps. </span><span class="koboSpan" id="kobo.40.3">This again is a standard installer, so you shouldn’t have too much trouble – just grab the latest version available. </span><span class="koboSpan" id="kobo.40.4">Once you install it, go to Command Prompt and execute the </span><strong class="source-inline"><span class="koboSpan" id="kobo.41.1">dotnet --version</span></strong><span class="koboSpan" id="kobo.42.1"> command to confirm it’s ready </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.44.1">Finally, you’ll next need to install the latest Java JDK, which you can get here: </span><a href="https://www.oracle.com/java/technologies/downloads"><span class="koboSpan" id="kobo.45.1">https://www.oracle.com/java/technologies/downloads</span></a><span class="koboSpan" id="kobo.46.1">. </span><span class="koboSpan" id="kobo.46.2">Java is one of the most popular programming languages and platforms in use today, and we’ll take a look at it later. </span><span class="koboSpan" id="kobo.46.3">The version shouldn’t matter for our purposes here, so just grab the latest (21 as of this writing). </span><span class="koboSpan" id="kobo.46.4">Once installed, head to Command Prompt and ensure that </span><strong class="source-inline"><span class="koboSpan" id="kobo.47.1">java -–version</span></strong><span class="koboSpan" id="kobo.48.1"> returns you the correct version. </span><span class="koboSpan" id="kobo.48.2">Note that if you run into any issues with either the JDK or the .NET SDK not working, you can find installation help on their </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">respective websites.</span></span></p>
<h1 id="_idParaDest-179"><a id="_idTextAnchor179"/><span class="koboSpan" id="kobo.50.1">Getting to the heart of the matter – data</span></h1>
<p><span class="koboSpan" id="kobo.51.1">Most websites or web apps require data of some sort to do what they’re designed to do. </span><span class="koboSpan" id="kobo.51.2">That’s not exactly a revelatory statement, of course. </span><span class="koboSpan" id="kobo.51.3">eBay wouldn’t work if it didn’t have data available to display auctions. </span><span class="koboSpan" id="kobo.51.4">Google wouldn’t be able to do searches without (an insane amount of) data. </span><span class="koboSpan" id="kobo.51.5">And CNN wouldn’t be able to show the latest news headlines without data to back </span><span class="No-Break"><span class="koboSpan" id="kobo.52.1">it up.</span></span></p>
<p><span class="koboSpan" id="kobo.53.1">But how does that data get</span><a id="_idIndexMarker712"/><span class="koboSpan" id="kobo.54.1"> stored, and how does it </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">get used?</span></span></p>
<p><span class="koboSpan" id="kobo.56.1">So far, everything you’ve seen has been more or less static, meaning it doesn’t change. </span><span class="koboSpan" id="kobo.56.2">A page is what it is when you create it, and it will always be that. </span><span class="koboSpan" id="kobo.56.3">Oh, there may be some minor dynamic interactions – things such as buttons that highlight when you hover your mouse over them – but that’s not dynamic content such as those websites I named produce. </span><span class="koboSpan" id="kobo.56.4">That can only be done </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">with data.</span></span></p>
<p><span class="koboSpan" id="kobo.58.1">There are lots of ways to store data that websites can work with. </span><span class="koboSpan" id="kobo.58.2">Perhaps the simplest form is to store it as plain text files on the server. </span><span class="koboSpan" id="kobo.58.3">Those files can be read – perhaps in Node-based code, for example – and their contents can be used to create a dynamic response at the time </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">it’s requested.</span></span></p>
<p><span class="koboSpan" id="kobo.60.1">In a nutshell, that’s what we’re talking about here: creating responses dynamically on the server when requested by a client (usually a web browser) and returning them for display to </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">the user.</span></span></p>
<p><span class="koboSpan" id="kobo.62.1">While plain text files can work, the more common method is</span><a id="_idIndexMarker713"/><span class="koboSpan" id="kobo.63.1"> some form of </span><strong class="bold"><span class="koboSpan" id="kobo.64.1">database</span></strong><span class="koboSpan" id="kobo.65.1">. </span><span class="koboSpan" id="kobo.65.2">A database is, usually, a piece of software running on the server, separate from your web server software and separate from your own application code, where data is stored and which can respond to requests for that data (or for writing data to it). </span><span class="koboSpan" id="kobo.65.3">While it’s possible in some cases for a web browser to access such database software directly, it’s far more common to have some server-side code that does so and then uses the data to produce a response. </span><span class="koboSpan" id="kobo.65.4">This is more common for no other reason than security: presumably, your own code is protected against misuse of the database, whereas just giving users direct access to it will most likely lack </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">such protection.</span></span></p>
<p><span class="koboSpan" id="kobo.67.1">There are several different types of databases, but the two most relevant to you as a budding web developer are </span><strong class="bold"><span class="koboSpan" id="kobo.68.1">relational databases</span></strong><span class="koboSpan" id="kobo.69.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.70.1">NoSQL databases</span></strong><span class="koboSpan" id="kobo.71.1">. </span><span class="koboSpan" id="kobo.71.2">Let’s talk about relational </span><span class="No-Break"><span class="koboSpan" id="kobo.72.1">databases first.</span></span></p>
<h2 id="_idParaDest-180"><a id="_idTextAnchor180"/><span class="koboSpan" id="kobo.73.1">Relational databases</span></h2>
<p><span class="koboSpan" id="kobo.74.1">Relational databases </span><a id="_idIndexMarker714"/><span class="koboSpan" id="kobo.75.1">conceptually look a lot like spreadsheets – say, Microsoft Excel. </span><span class="koboSpan" id="kobo.75.2">In a spreadsheet, you have rows and columns. </span><span class="koboSpan" id="kobo.75.3">Where they intersect, you have a cell, and in a cell, you usually have some data. </span><span class="koboSpan" id="kobo.75.4">In an Excel spreadsheet, you can also have multiple sheets, often to store different types of data. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.76.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.77.1">.1</span></em><span class="koboSpan" id="kobo.78.1"> illustrates </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">these ideas:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer075">
<span class="koboSpan" id="kobo.80.1"><img alt="Figure 7.1: An Excel spreadsheet, with multiple sheets shown to mimic a database and tables" src="image/B18315_07_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.81.1">Figure 7.1: An Excel spreadsheet, with multiple sheets shown to mimic a database and tables</span></p>
<p><span class="koboSpan" id="kobo.82.1">If you already understand the basic structure of a spreadsheet, then to understand a relational database, you really just have to change </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">some words!</span></span></p>
<p><span class="koboSpan" id="kobo.84.1">The entire spreadsheet in Excel is conceptually what we call a </span><em class="italic"><span class="koboSpan" id="kobo.85.1">database</span></em><span class="koboSpan" id="kobo.86.1">, and each sheet in a spreadsheet is called a </span><em class="italic"><span class="koboSpan" id="kobo.87.1">table</span></em><span class="koboSpan" id="kobo.88.1"> in that </span><a id="_idIndexMarker715"/><span class="koboSpan" id="kobo.89.1">database. </span><span class="koboSpan" id="kobo.89.2">Within the database software, you can normally have multiple databases if you need to. </span><span class="koboSpan" id="kobo.89.3">This can be confusing, so to disambiguate, we tend to say database </span><em class="italic"><span class="koboSpan" id="kobo.90.1">server</span></em><span class="koboSpan" id="kobo.91.1"> versus </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">plain </span></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.93.1">database</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.95.1">A database </span><em class="italic"><span class="koboSpan" id="kobo.96.1">server</span></em><span class="koboSpan" id="kobo.97.1"> refers to </span><a id="_idIndexMarker716"/><span class="koboSpan" id="kobo.98.1">the software that runs on the server (names such as Oracle MySQL, PostgreSQL, and MS SQL Server) and which contains databases and provides the basic functionality to work with </span><span class="No-Break"><span class="koboSpan" id="kobo.99.1">the data</span></span></li>
<li><span class="koboSpan" id="kobo.100.1">The term </span><em class="italic"><span class="koboSpan" id="kobo.101.1">database</span></em><span class="koboSpan" id="kobo.102.1"> – different from the </span><a id="_idIndexMarker717"/><span class="koboSpan" id="kobo.103.1">aforementioned database </span><em class="italic"><span class="koboSpan" id="kobo.104.1">server</span></em><span class="koboSpan" id="kobo.105.1"> – refers to the actual collection of tables for a given purpose, perhaps one database per website hosted on the server, but all living in the database </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">server software</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.107.1">In a database table, you define what columns there are – what type of data you want to store about each row of data in the table – and then you have the rows of data itself. </span><span class="koboSpan" id="kobo.107.2">If you think of each row of data – which we often</span><a id="_idIndexMarker718"/><span class="koboSpan" id="kobo.108.1"> call a </span><strong class="bold"><span class="koboSpan" id="kobo.109.1">record</span></strong><span class="koboSpan" id="kobo.110.1"> – as being some sort of entity, say a person or a banking account, then the columns effectively describe the pieces of information you want to store </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">about each.</span></span></p>
<p><span class="koboSpan" id="kobo.112.1">For example, let’s say you want to create a database table to store some information about people. </span><span class="koboSpan" id="kobo.112.2">We’ll be exceptionally uncreative here and say that we’ll name the table </span><strong class="source-inline"><span class="koboSpan" id="kobo.113.1">People</span></strong><span class="koboSpan" id="kobo.114.1">. </span><span class="koboSpan" id="kobo.114.2">Maybe for </span><a id="_idIndexMarker719"/><span class="koboSpan" id="kobo.115.1">each row of data – which will be a person entity – you want to store their first name, last name, and age. </span><span class="koboSpan" id="kobo.115.2">As a result, you might wind up with a database table that looks like </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.116.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.117.1">.2</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer076">
<span class="koboSpan" id="kobo.119.1"><img alt="Figure 7.2: The People table’s structure" src="image/B18315_07_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.120.1">Figure 7.2: The People table’s structure</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.121.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.122.1">As an aside, you probably would never store a person’s age because that obviously won’t be correct a year later. </span><span class="koboSpan" id="kobo.122.2">Instead, you would most likely store their birthdate and calculate their age from that when needed. </span><span class="koboSpan" id="kobo.122.3">But here, I’m trying to keep this example as simple </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">as possible.</span></span></p>
<p><span class="koboSpan" id="kobo.124.1">For each column, you have to tell the database what kind of data will be stored in it. </span><span class="koboSpan" id="kobo.124.2">Every database specifies the type of data in each column differently, but they all relate to what you know already. </span><span class="koboSpan" id="kobo.124.3">Here, you can see that </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">first_name</span></strong><span class="koboSpan" id="kobo.126.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">last_name</span></strong><span class="koboSpan" id="kobo.128.1"> are strings (which are of the data type </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">TEXT</span></strong><span class="koboSpan" id="kobo.130.1"> in this particular database), and </span><strong class="source-inline"><span class="koboSpan" id="kobo.131.1">age</span></strong><span class="koboSpan" id="kobo.132.1"> is a number (of the data type </span><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">INTEGER</span></strong><span class="koboSpan" id="kobo.134.1">). </span><span class="koboSpan" id="kobo.134.2">Another bit of terminology to change here is that we usually call a single data element a field in a database rather than a cell as in a spreadsheet. </span><span class="koboSpan" id="kobo.134.3">But it’s again the same basic thing: it’s the value in a row that corresponds to a </span><span class="No-Break"><span class="koboSpan" id="kobo.135.1">given column.</span></span></p>
<p><span class="koboSpan" id="kobo.136.1">With that basic table structure defined, we can store some rows of data in it; maybe this data (and yes, those were their actual ages when the series began – I did </span><span class="No-Break"><span class="koboSpan" id="kobo.137.1">the research!):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.138.1">
FIRST NAME, LAST NAME, AGE
James, Kirk, 32
Leonard, McCoy, 38
Montgomery, Scott, 43</span></pre> <p><span class="koboSpan" id="kobo.139.1">But how do we actually store that data? </span><span class="koboSpan" id="kobo.139.2">That’s where the concept of Structured Query Language comes in, which</span><a id="_idIndexMarker720"/><span class="koboSpan" id="kobo.140.1"> is what we’re </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">discussing next.</span></span></p>
<h3><span class="koboSpan" id="kobo.142.1">Introducing SQL</span></h3>
<p><strong class="bold"><span class="koboSpan" id="kobo.143.1">Structured Query Language</span></strong><span class="koboSpan" id="kobo.144.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.145.1">SQL</span></strong><span class="koboSpan" id="kobo.146.1">) is a special language used to interact with relational databases. </span><span class="koboSpan" id="kobo.146.2">It allows us to request data using a</span><a id="_idIndexMarker721"/><span class="koboSpan" id="kobo.147.1"> form that is generally easy to understand, attempting to</span><a id="_idIndexMarker722"/><span class="koboSpan" id="kobo.148.1"> look less like a programming language than something </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">like JS.</span></span></p>
<p><span class="koboSpan" id="kobo.150.1">To jump right in with an example, let’s say you wanted to get all three records from our </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">People</span></strong><span class="koboSpan" id="kobo.152.1"> table. </span><span class="koboSpan" id="kobo.152.2">The SQL statement for that would </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">be this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.154.1">
SELECT * FROM People;</span></pre> <p><span class="koboSpan" id="kobo.155.1">That’s it! </span><span class="koboSpan" id="kobo.155.2">What you’ll get is a list of records, each containing the first name, last name, and age of each person. </span><span class="koboSpan" id="kobo.155.3">This shows the most basic type of SQL statement: a </span><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">SELECT</span></strong><span class="koboSpan" id="kobo.157.1"> statement. </span><span class="koboSpan" id="kobo.157.2">We tell it what data we want from each record (in this case, the asterisk means all), and then we have to state what table to get the </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">records from.</span></span></p>
<p><span class="koboSpan" id="kobo.159.1">If we wanted just the last names, we would execute </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.161.1">
SELECT last_name FROM People;</span></pre> <p><span class="koboSpan" id="kobo.162.1">And if we wanted just the last name and age, we could execute </span><span class="No-Break"><span class="koboSpan" id="kobo.163.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.164.1">
SELECT last_name, age FROM People;</span></pre> <p><span class="koboSpan" id="kobo.165.1">What if we want just the people who are over 40 years old? </span><span class="koboSpan" id="kobo.165.2">That’s where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">WHERE</span></strong><span class="koboSpan" id="kobo.167.1"> clause comes </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">into play:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.169.1">
SELECT * FROM People WHERE age &gt; 40;</span></pre> <p><span class="koboSpan" id="kobo.170.1">Now, we’ll get just a single record – Montgomery Scott – since that’s the only record with a value for </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">age</span></strong><span class="koboSpan" id="kobo.172.1"> greater </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">than </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">40</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.176.1">Here, </span><strong class="source-inline"><span class="koboSpan" id="kobo.177.1">SELECT</span></strong><span class="koboSpan" id="kobo.178.1"> statements such as this allow for other capabilities, including sorting the returned data, filtering it in various ways, and lots of functions that can be used to manipulate the returned data (for example, to uppercase the names, maybe). </span><span class="koboSpan" id="kobo.178.2">But the basic ability to retrieve data is ultimately what it’s </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">all about.</span></span></p>
<p><span class="koboSpan" id="kobo.180.1">And, of course, retrieving data is great, but what if we want to add a person? </span><span class="koboSpan" id="kobo.180.2">This can be done through SQL as well, using an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">INSERT</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.182.1"> statement:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.183.1">
INSERT INTO People (first_name, last_name, age) VALUES ('Pavel', 'Chekov', 21);</span></pre> <p><span class="koboSpan" id="kobo.184.1">We have to provide the name of the table to insert the data into, then a list of fields to insert, and then the value of each field. </span><span class="koboSpan" id="kobo.184.2">After executing that statement, we’ll have four rows of data in </span><span class="No-Break"><span class="koboSpan" id="kobo.185.1">the table.</span></span></p>
<p><span class="koboSpan" id="kobo.186.1">What about changing existing </span><a id="_idIndexMarker723"/><span class="koboSpan" id="kobo.187.1">data? </span><span class="koboSpan" id="kobo.187.2">That’s doable too with SQL, using its </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">UPDATE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.189.1"> statement:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.190.1">
UPDATE People SET age=50 WHERE last_name='Kirk';</span></pre> <p><span class="koboSpan" id="kobo.191.1">Again, we have to specify which table </span><a id="_idIndexMarker724"/><span class="koboSpan" id="kobo.192.1">we’re changing data in, and then which field </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">to change.</span></span></p>
<p><span class="koboSpan" id="kobo.194.1">And of course, we can update multiple fields if </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">we wish:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.196.1">
UPDATE People SET first_name='Jim', age=50 WHERE last_name='Kirk';</span></pre> <p><span class="koboSpan" id="kobo.197.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">WHERE</span></strong><span class="koboSpan" id="kobo.199.1"> clause is actually optional here, but the result of not providing it is that </span><strong class="bold"><span class="koboSpan" id="kobo.200.1">all</span></strong><span class="koboSpan" id="kobo.201.1"> the records in the table will be updated since there’s nothing to limit which records it affects. </span><span class="koboSpan" id="kobo.201.2">So, it’s important when working with SQL that your statements that change data always do so to only the records you intend </span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">to change.</span></span></p>
<p><span class="koboSpan" id="kobo.203.1">The final form of SQL statement you need to be aware of is for </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">deleting data:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.205.1">
DELETE FROM People WHERE age &lt; 30;</span></pre> <p><span class="koboSpan" id="kobo.206.1">Once more, you must specify the table to operate on, and then some </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">WHERE</span></strong><span class="koboSpan" id="kobo.208.1"> clause to determine which records to remove. </span><span class="koboSpan" id="kobo.208.2">As with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">UPDATE</span></strong><span class="koboSpan" id="kobo.210.1"> statement, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">WHERE</span></strong><span class="koboSpan" id="kobo.212.1"> clause is optional, so unless you actually intend to delete all the records in the table, be careful to include the correct criteria to match </span><span class="No-Break"><span class="koboSpan" id="kobo.213.1">records by!</span></span></p>
<p><span class="koboSpan" id="kobo.214.1">These are, of course, just the most basic SQL statements possible – SQL can get quite a bit more complex as you get into more advanced use cases – but if you understand the basic idea behind these four types of statements, then you’ll have a good start on understanding more advanced </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">use cases.</span></span></p>
<p><span class="koboSpan" id="kobo.216.1">Now, one of those more advanced use cases is when tables have some direct relationship to each other, which is where the word </span><em class="italic"><span class="koboSpan" id="kobo.217.1">relational</span></em><span class="koboSpan" id="kobo.218.1"> comes from in relational databases, so let’s talk about </span><span class="No-Break"><span class="koboSpan" id="kobo.219.1">that next.</span></span></p>
<h3><span class="koboSpan" id="kobo.220.1">Putting the relational in relational databases</span></h3>
<p><span class="koboSpan" id="kobo.221.1">As you know, you can have multiple tables in a database. </span><span class="koboSpan" id="kobo.221.2">For example, let’s say that in addition to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">People</span></strong><span class="koboSpan" id="kobo.223.1"> table, we add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">Starships</span></strong><span class="koboSpan" id="kobo.225.1"> table now, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.226.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.227.1">.3</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer077">
<span class="koboSpan" id="kobo.229.1"><img alt="Figure 7.3: The Starships table’s structure" src="image/B18315_07_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.230.1">Figure 7.3: The Starships table’s structure</span></p>
<p><span class="koboSpan" id="kobo.231.1">As it stands, there isn’t any real relationship between these two tables, and there’s nothing that ties them together. </span><span class="koboSpan" id="kobo.231.2">Sometimes that’s fine, but what if we want to know the starship each person serves on? </span><span class="koboSpan" id="kobo.231.3">One way</span><a id="_idIndexMarker725"/><span class="koboSpan" id="kobo.232.1"> we could do this would be to alter the </span><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">People</span></strong><span class="koboSpan" id="kobo.234.1"> table, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.235.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.236.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.237.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer078">
<span class="koboSpan" id="kobo.238.1"><img alt="Figure 7.4: The People table’s structure, now with a starship_id column" src="image/B18315_07_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.239.1">Figure 7.4: The People table’s structure, now with a starship_id column</span></p>
<p><span class="koboSpan" id="kobo.240.1">Now, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">starship_id</span></strong><span class="koboSpan" id="kobo.242.1"> column has been added, and assuming that the value in that field for each row of data </span><a id="_idIndexMarker726"/><span class="koboSpan" id="kobo.243.1">matches one of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.244.1">id</span></strong><span class="koboSpan" id="kobo.245.1"> values of a record in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.246.1">Starships</span></strong><span class="koboSpan" id="kobo.247.1"> table, we’ve effectively connected the two tables and can now, at least indirectly, tell which starship each person serves on. </span><span class="koboSpan" id="kobo.247.2">We’ve created a </span><em class="italic"><span class="koboSpan" id="kobo.248.1">relationship</span></em><span class="koboSpan" id="kobo.249.1">, in other words, between these tables, making this now a truly </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.250.1">relational</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.251.1"> database.</span></span></p>
<p><span class="koboSpan" id="kobo.252.1">But what does that do to our SQL queries? </span><span class="koboSpan" id="kobo.252.2">Well, they work the same as before, but now we have some new capabilities at our fingertips because we can query for data from both tables at once based on </span><span class="No-Break"><span class="koboSpan" id="kobo.253.1">the relationship:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.254.1">
SELECT p.first_name, p.last_name, p.age, s.starship_name FROM People p, Starships s WHERE s.id = p.starship_id;</span></pre> <p><span class="koboSpan" id="kobo.255.1">Now, we’ll get four pieces of data for each record returned: the first name, last name, and age of each person, plus the starship they serve on. </span><span class="koboSpan" id="kobo.255.2">But we need to specify that we’re querying from two tables and combining the data in one result set, a concept called </span><strong class="bold"><span class="koboSpan" id="kobo.256.1">joining</span></strong><span class="koboSpan" id="kobo.257.1"> that I’ll discuss in a moment. </span><span class="koboSpan" id="kobo.257.2">When you do this, to ensure there are no ambiguities (just in case they both have columns with the same name), we give a name to each table: </span><strong class="source-inline"><span class="koboSpan" id="kobo.258.1">p</span></strong><span class="koboSpan" id="kobo.259.1"> for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">Person</span></strong><span class="koboSpan" id="kobo.261.1"> table and </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">s</span></strong><span class="koboSpan" id="kobo.263.1"> for the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.264.1">Starships</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.265.1"> table.</span></span></p>
<p><span class="koboSpan" id="kobo.266.1">We then use these names as prefixes on the names of columns everywhere in the query (again, to ensure that SQL knows exactly which fields </span><span class="No-Break"><span class="koboSpan" id="kobo.267.1">we want).</span></span></p>
<p><span class="koboSpan" id="kobo.268.1">Finally, we have to provide a </span><strong class="bold"><span class="koboSpan" id="kobo.269.1">join condition</span></strong><span class="koboSpan" id="kobo.270.1">, which</span><a id="_idIndexMarker727"/><span class="koboSpan" id="kobo.271.1"> is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">WHERE</span></strong><span class="koboSpan" id="kobo.273.1"> clause here. </span><span class="koboSpan" id="kobo.273.2">It says that for each record in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">People</span></strong><span class="koboSpan" id="kobo.275.1"> table (since it’s the first one in the list of tables in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">FROM</span></strong><span class="koboSpan" id="kobo.277.1"> clause), find a record in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">Starships</span></strong><span class="koboSpan" id="kobo.279.1"> table with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.280.1">id</span></strong><span class="koboSpan" id="kobo.281.1"> value that matches the </span><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">starship_id</span></strong><span class="koboSpan" id="kobo.283.1"> value in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">People</span></strong><span class="koboSpan" id="kobo.285.1"> table. </span><span class="koboSpan" id="kobo.285.2">And since we’re returning </span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">s.starship_name</span></strong><span class="koboSpan" id="kobo.287.1"> in the list of fields, we wind up with data about each person from </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">People</span></strong><span class="koboSpan" id="kobo.289.1">, along with the name of the starship they serve on </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">from </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.291.1">Starships</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.293.1">This is really the main point</span><a id="_idIndexMarker728"/><span class="koboSpan" id="kobo.294.1"> of relational databases: the ability to return data that is a combination of data from two or more tables, based on some relationship between them. </span><span class="koboSpan" id="kobo.294.2">The relationship here is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">id</span></strong><span class="koboSpan" id="kobo.296.1"> fields, so where they match, the data from both tables is combined and returned as part of the query results. </span><span class="koboSpan" id="kobo.296.2">Joining is an expansive topic that can get fairly complex in a hurry (it deals with the mathematical concept of set theory), so we won’t go into it in detail here. </span><span class="koboSpan" id="kobo.296.3">But the basic concept is always the same: your</span><a id="_idIndexMarker729"/><span class="koboSpan" id="kobo.297.1"> query works to combine data from multiple tables based on one or more matching conditions, returning it all as a single list of </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">data records.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.299.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.300.1">If you want to dive a little deeper into the various join types and how to write them, a good reference can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.301.1">here: </span></span><a href="https://learnsql.com/blog/sql-joins-types-explained"><span class="No-Break"><span class="koboSpan" id="kobo.302.1">https://learnsql.com/blog/sql-joins-types-explained</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.303.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.304.1">Even from this simple example, I’m sure you can begin to see the power of relational data. </span><span class="koboSpan" id="kobo.304.2">You can have a list of students and a separate list of classes and be able to write a query to get a list of classes each attends. </span><span class="koboSpan" id="kobo.304.3">Or, you could have a list of banking accounts and who owns each in separate tables but be able to tie them together </span><span class="No-Break"><span class="koboSpan" id="kobo.305.1">when needed.</span></span></p>
<p><span class="koboSpan" id="kobo.306.1">Why do this, though? </span><span class="koboSpan" id="kobo.306.2">One of the main goals of relational databases is to not duplicate data (or, more precisely, duplicate it as little as possible – a process called </span><strong class="bold"><span class="koboSpan" id="kobo.307.1">normalization</span></strong><span class="koboSpan" id="kobo.308.1">). </span><span class="koboSpan" id="kobo.308.2">We could certainly </span><a id="_idIndexMarker730"/><span class="koboSpan" id="kobo.309.1">store the name of the starship each person serves on in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.310.1">People</span></strong><span class="koboSpan" id="kobo.311.1"> table itself, on each row of data. </span><span class="koboSpan" id="kobo.311.2">That would work just as well for our purposes. </span><span class="koboSpan" id="kobo.311.3">But if the name of the starship changes, then we would need to update all records in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.312.1">People</span></strong><span class="koboSpan" id="kobo.313.1"> table accordingly. </span><span class="koboSpan" id="kobo.313.2">If instead we have two tables and join them as shown, then you just need to change the name in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">Starships</span></strong><span class="koboSpan" id="kobo.315.1"> table – in one place, on one record – and it, in effect, is automatically changed for every person serving on it (at the time you do a query, that is). </span><span class="koboSpan" id="kobo.315.2">It’s a more logical way to deal with the data since the name of the starship isn’t logically tied to a person – they’re separate entities, really – and it’s also more efficient in</span><a id="_idIndexMarker731"/><span class="koboSpan" id="kobo.316.1"> terms of storage space (and, in some cases, improves performance, though that is very much a situation-by-situation thing and can, in fact, have the </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.317.1">opposite</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.318.1"> effect).</span></span></p>
<p><span class="koboSpan" id="kobo.319.1">At this point, you may be</span><a id="_idIndexMarker732"/><span class="koboSpan" id="kobo.320.1"> wondering what to do if the data you’re working with isn’t inherently relational. </span><span class="koboSpan" id="kobo.320.2">And what if the form of the data you want to store isn’t as concrete as it needs to be in order to be described in a table as you’ve seen so far? </span><span class="koboSpan" id="kobo.320.3">Well, there’s another type of database for such cases that might be more appropriate – </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">NoSQL databases.</span></span></p>
<h2 id="_idParaDest-181"><a id="_idTextAnchor181"/><span class="koboSpan" id="kobo.322.1">NoSQL databases</span></h2>
<p><span class="koboSpan" id="kobo.323.1">In simplest terms, a NoSQL database is literally any other kind of mechanism for storing data (which we often call </span><em class="italic"><span class="koboSpan" id="kobo.324.1">data stores</span></em><span class="koboSpan" id="kobo.325.1">) that doesn’t </span><a id="_idIndexMarker733"/><span class="koboSpan" id="kobo.326.1">use SQL to operate on the data. </span><span class="koboSpan" id="kobo.326.2">This includes types of databases such as </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.328.1">Key-value stores</span></strong><span class="koboSpan" id="kobo.329.1">: These are data stores where data is stored as a pair, a key, and a value. </span><span class="koboSpan" id="kobo.329.2">For example, if you ask me what my first name is, and I answer Frank, the key in that pair is </span><strong class="source-inline"><span class="koboSpan" id="kobo.330.1">"first name"</span></strong><span class="koboSpan" id="kobo.331.1">, and the value for that key is </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">"Frank"</span></strong><span class="koboSpan" id="kobo.333.1">. </span><span class="koboSpan" id="kobo.333.2">This is just about the </span><a id="_idIndexMarker734"/><span class="koboSpan" id="kobo.334.1">simplest NoSQL type there is, and it’s used for situations where the data is very simple. </span><span class="koboSpan" id="kobo.334.2">Some common names you’ll hear for this type are Redis and DynamoDB, two products that provide a key-value </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">database store.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.336.1">Graph databases</span></strong><span class="koboSpan" id="kobo.337.1">: These are somewhat </span><a id="_idIndexMarker735"/><span class="koboSpan" id="kobo.338.1">newer and are specifically used for types of data that have (usually many) well-defined connections between entities. </span><span class="koboSpan" id="kobo.338.2">An example of this might be a social network: you are an entity, and you probably have connections to many friends, who also have connections to many friends, and so on. </span><span class="koboSpan" id="kobo.338.3">While these types of relationships can be modeled in a relational database, a graph database may be more appropriate, especially if you need to </span><em class="italic"><span class="koboSpan" id="kobo.339.1">traverse the graph</span></em><span class="koboSpan" id="kobo.340.1">, meaning to start at one entity and follow its connections to some remote entity. </span><span class="koboSpan" id="kobo.340.2">Some common names you might </span><a id="_idIndexMarker736"/><span class="koboSpan" id="kobo.341.1">hear for this type are Neo4j and </span><span class="No-Break"><span class="koboSpan" id="kobo.342.1">Amazon Neptune.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.343.1">Wide-column stores</span></strong><span class="koboSpan" id="kobo.344.1">: These are a type of database used primarily when there is a need to analyze especially large datasets. </span><span class="koboSpan" id="kobo.344.2">They work by storing columns of data together in rows, which allows</span><a id="_idIndexMarker737"/><span class="koboSpan" id="kobo.345.1"> for optimizing complex queries across many fields of data in each entity. </span><span class="koboSpan" id="kobo.345.2">Examples of this type include Apache Cassandra and </span><span class="No-Break"><span class="koboSpan" id="kobo.346.1">Google Bigtable.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.347.1">There is also a fourth type known as a </span><em class="italic"><span class="koboSpan" id="kobo.348.1">document database</span></em><span class="koboSpan" id="kobo.349.1"> – I left it off the list because while all of the previous types are NoSQL</span><a id="_idIndexMarker738"/><span class="koboSpan" id="kobo.350.1"> databases, the fact is that when someone says NoSQL database, nine times out of ten, they probably mean a </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">document database.</span></span></p>
<p><span class="koboSpan" id="kobo.352.1">In a document database, the </span><a id="_idIndexMarker739"/><span class="koboSpan" id="kobo.353.1">data is stored in objects, very often JSON objects, though not necessarily. </span><span class="koboSpan" id="kobo.353.2">You’ve seen JSON several times already: the </span><strong class="source-inline"><span class="koboSpan" id="kobo.354.1">package.json</span></strong><span class="koboSpan" id="kobo.355.1"> file that </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">npm</span></strong><span class="koboSpan" id="kobo.357.1"> generates when you initialize a project. </span><span class="koboSpan" id="kobo.357.2">But the format of the data stored in it is </span><strong class="bold"><span class="koboSpan" id="kobo.358.1">JSON</span></strong><span class="koboSpan" id="kobo.359.1">, which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.360.1">JavaScript Object Notation</span></strong><span class="koboSpan" id="kobo.361.1">. </span><span class="koboSpan" id="kobo.361.2">Curiously, while it was definitely invented </span><a id="_idIndexMarker740"/><span class="koboSpan" id="kobo.362.1">within the context of JS, it’s used outside of that context frequently nowadays because it’s relatively simple and easy to work with. </span><span class="koboSpan" id="kobo.362.2">It’s simply a string at the end of the day, which can be easily parsed and used in </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">various ways.</span></span></p>
<p><span class="koboSpan" id="kobo.364.1">One of those ways is to serve as a document in a document database, such as MongoDB, which is easily the biggest name in document databases (CouchDB is another popular name). </span><span class="koboSpan" id="kobo.364.2">As an example, if we wanted to store the data in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.365.1">People</span></strong><span class="koboSpan" id="kobo.366.1"> table from earlier in MongoDB, we would wind up with four separate documents that might look something </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.368.1">
{ first_name: "James", last_name: "Kirk", age: 32 }
{ first_name: "Leonard", last_name: "McCoy", age: 38 }
{ first_name: "Montgomery", last_name: "Scott", age: 43 }</span></pre> <p><span class="koboSpan" id="kobo.369.1">Rather than being rows in a table, each of those is a separate object – a document – stored in a </span><strong class="bold"><span class="koboSpan" id="kobo.370.1">collection</span></strong><span class="koboSpan" id="kobo.371.1">, which roughly corresponds to a relational </span><span class="No-Break"><span class="koboSpan" id="kobo.372.1">database table.</span></span></p>
<p><span class="koboSpan" id="kobo.373.1">Here’s the big difference between a relational database and a document database. </span><span class="koboSpan" id="kobo.373.2">Let’s say I want to store a nickname, but only for Leonard McCoy. </span><span class="koboSpan" id="kobo.373.3">In a relational database, I would need to add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.374.1">nickname</span></strong><span class="koboSpan" id="kobo.375.1"> column to the table, and each row would need to have a nickname (it could, of course, be blank for people without a nickname). </span><span class="koboSpan" id="kobo.375.2">In a document database, though, I could simply write McCoy’s document </span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.377.1">
{ first_name: "Leonard", last_name: "McCoy", age: 38, nickname: "Bones" }</span></pre> <p><span class="koboSpan" id="kobo.378.1">It doesn’t matter that the other documents don’t have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.379.1">nickname</span></strong><span class="koboSpan" id="kobo.380.1"> field; that’s perfectly valid. </span><span class="koboSpan" id="kobo.380.2">You see, the structure of a database, which includes the fields in the tables, is known as the </span><strong class="bold"><span class="koboSpan" id="kobo.381.1">schema</span></strong><span class="koboSpan" id="kobo.382.1">. </span><span class="koboSpan" id="kobo.382.2">Since all rows of</span><a id="_idIndexMarker741"/><span class="koboSpan" id="kobo.383.1"> data in a table share the same column, the table essentially defines the schema for all </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">the rows.</span></span></p>
<p><span class="koboSpan" id="kobo.385.1">But in a document database, it’s the documents themselves that define the schema. </span><span class="koboSpan" id="kobo.385.2">Well, really, </span><em class="italic"><span class="koboSpan" id="kobo.386.1">you</span></em><span class="koboSpan" id="kobo.387.1"> as the developer do(!), but the point is that each document can in a sense have its </span><span class="No-Break"><span class="koboSpan" id="kobo.388.1">own schema.</span></span></p>
<p><span class="koboSpan" id="kobo.389.1">This has several benefits. </span><span class="koboSpan" id="kobo.389.2">One is that development can often be done quicker and easier with a document database</span><a id="_idIndexMarker742"/><span class="koboSpan" id="kobo.390.1"> because, unlike a relational database, you don’t have to get everything right at the start. </span><span class="koboSpan" id="kobo.390.2">With a relational database, you have to think about the data you want to store, and you have to build the tables with the appropriate columns and data types at the start (it’s true that you can alter the structure of tables after they’ve been created, but this comes with caveats that will sometimes make it not possible, and even if it </span><em class="italic"><span class="koboSpan" id="kobo.391.1">is</span></em><span class="koboSpan" id="kobo.392.1"> possible, it takes time </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">and effort).</span></span></p>
<p><span class="koboSpan" id="kobo.394.1">Another benefit is that as you develop and realize that you need slightly different schemas on newer documents, you don’t necessarily have to alter existing data at all. </span><span class="koboSpan" id="kobo.394.2">As long as your code understands the possible differences, then you can deal with two versions of a </span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">document efficiently.</span></span></p>
<p><span class="koboSpan" id="kobo.396.1">Now, one common misconception is that NoSQL databases, and document databases specifically, don’t have relational data. </span><span class="koboSpan" id="kobo.396.2">For sure that </span><em class="italic"><span class="koboSpan" id="kobo.397.1">can</span></em><span class="koboSpan" id="kobo.398.1"> be true, but using a document database doesn’t automatically mean that your data </span><em class="italic"><span class="koboSpan" id="kobo.399.1">can’t</span></em><span class="koboSpan" id="kobo.400.1"> have relationships. </span><span class="koboSpan" id="kobo.400.2">It’s probably fair to say that </span><em class="italic"><span class="koboSpan" id="kobo.401.1">more often than not</span></em><span class="koboSpan" id="kobo.402.1"> it won’t, and if it does have relationships, then it’s </span><em class="italic"><span class="koboSpan" id="kobo.403.1">probably</span></em><span class="koboSpan" id="kobo.404.1"> more appropriate to use a relational database. </span><span class="koboSpan" id="kobo.404.2">But one doesn’t negate </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">the other.</span></span></p>
<p><span class="koboSpan" id="kobo.406.1">And NoSQL databases do supply mechanisms to perform all the basic CRUD operations, including querying for related data. </span><span class="koboSpan" id="kobo.406.2">I’m not going to go into those in detail here, just because they can vary greatly from database to database. </span><span class="koboSpan" id="kobo.406.3">However, given it’s the most popular NoSQL/document database, here’s an example from MongoDB, just so you have some idea what it </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">looks like:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.408.1">
db.users.find({ "age": 38 })</span></pre> <p><span class="koboSpan" id="kobo.409.1">That would be equivalent in SQL to </span><span class="No-Break"><span class="koboSpan" id="kobo.410.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.411.1">
select * from People where age=38;</span></pre> <p><span class="koboSpan" id="kobo.412.1">As with SQL, such statements can get rather complex the more complex the documents are, and if there are relationships between them, and so on. </span><span class="koboSpan" id="kobo.412.2">But that, in a nutshell, is how you work with them, and that code can be written in a multitude of languages depending on your needs </span><a id="_idIndexMarker743"/><span class="koboSpan" id="kobo.413.1">and </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">server-side infrastructure.</span></span></p>
<p><span class="koboSpan" id="kobo.415.1">All of this database discussion leads to one last general topic, but I have to warn you, it may take you a moment to stop giggling before you read the next section, because here comes </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">some CRUD!</span></span></p>
<h2 id="_idParaDest-182"><a id="_idTextAnchor182"/><span class="koboSpan" id="kobo.417.1">Basic CRUD operations</span></h2>
<p><span class="koboSpan" id="kobo.418.1">I know, I know – it sounds dirty, but I swear it’s a real term! </span><span class="koboSpan" id="kobo.418.2">The acronym </span><strong class="bold"><span class="koboSpan" id="kobo.419.1">CRUD</span></strong><span class="koboSpan" id="kobo.420.1"> stands for </span><strong class="bold"><span class="koboSpan" id="kobo.421.1">Create, Read, Update, and Delete</span></strong><span class="koboSpan" id="kobo.422.1">, and it defines the four basic operations you can do on data, whether in a relational </span><a id="_idIndexMarker744"/><span class="koboSpan" id="kobo.423.1">database or not. </span><span class="koboSpan" id="kobo.423.2">You can, of course, do </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.425.1">Create data, as with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">insert</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.427.1">SQL statement</span></span></li>
<li><span class="koboSpan" id="kobo.428.1">Read data, as with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">select</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.430.1">SQL statement</span></span></li>
<li><span class="koboSpan" id="kobo.431.1">Update data, as with an </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">update</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.433.1">SQL statement</span></span></li>
<li><span class="koboSpan" id="kobo.434.1">Delete data, as with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.435.1">delete</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.436.1">SQL statement</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.437.1">If for no other reason than just being able to have an intelligible conversation with other developers, it’s valuable to have this terminology in your head, even if you might snicker to yourself every time you say it! </span><span class="koboSpan" id="kobo.437.2">And it doesn’t really matter how these operations are implemented in code; it only matters that conceptually, they are the only things you ever do with data in </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">any form.</span></span></p>
<p><span class="koboSpan" id="kobo.439.1">But, of course, how these operations are implemented </span><em class="italic"><span class="koboSpan" id="kobo.440.1">does</span></em><span class="koboSpan" id="kobo.441.1"> matter in other ways. </span><span class="koboSpan" id="kobo.441.2">These CRUD (hehe) operations are often the basis for something called a web API, a collection of functions that can be called from remote systems. </span><span class="koboSpan" id="kobo.441.3">When it comes to building web APIs, the most common way to build them today is with yet another acronym (this field is flush with acronyms, if nothing else!): REST. </span><span class="koboSpan" id="kobo.441.4">And that’s the next thing we’re going </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">to investigate.</span></span></p>
<h1 id="_idParaDest-183"><a id="_idTextAnchor183"/><span class="koboSpan" id="kobo.443.1">Building web APIs with REST, Node, and Express</span></h1>
<p><span class="koboSpan" id="kobo.444.1">Before we get to REST, though, let’s talk about </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">APIs generally.</span></span></p>
<p><span class="koboSpan" id="kobo.446.1">An </span><strong class="bold"><span class="koboSpan" id="kobo.447.1">API</span></strong><span class="koboSpan" id="kobo.448.1"> is an </span><strong class="bold"><span class="koboSpan" id="kobo.449.1">application programming interface</span></strong><span class="koboSpan" id="kobo.450.1">. </span><span class="koboSpan" id="kobo.450.2">This can simply be a collection of functions that a program or library provides for other code to use. </span><span class="koboSpan" id="kobo.450.3">An API can be code located on the same machine as the </span><a id="_idIndexMarker745"/><span class="koboSpan" id="kobo.451.1">code that calls on it, or an API can be exposed over a network, such as the internet and the World Wide Web. </span><span class="koboSpan" id="kobo.451.2">In this latter case, we call it a web API, a remote API, or sometimes a cloud API. </span><span class="koboSpan" id="kobo.451.3">All those terms mean the same thing, though: functions that can be called over the network, and they also tend to be language- and even technology-agnostic when built this way, meaning a JS client can call on a web API built in C, or code written in Python can call on a web API built with PHP, and </span><span class="No-Break"><span class="koboSpan" id="kobo.452.1">so on.</span></span></p>
<p><span class="koboSpan" id="kobo.453.1">There are a great many ways to structure and build such web APIs, lots of different technologies and patterns that can be used to build them, and a lot of different forms they can take. </span><span class="koboSpan" id="kobo.453.2">However, one has risen to the top of the heap after a lot of different options have been tried, and that approach </span><span class="No-Break"><span class="koboSpan" id="kobo.454.1">is REST.</span></span></p>
<h2 id="_idParaDest-184"><a id="_idTextAnchor184"/><span class="koboSpan" id="kobo.455.1">Introducing REST</span></h2>
<p><span class="koboSpan" id="kobo.456.1">At its core, </span><strong class="bold"><span class="koboSpan" id="kobo.457.1">REST</span></strong><span class="koboSpan" id="kobo.458.1">, which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.459.1">REpresentational State Transfer</span></strong><span class="koboSpan" id="kobo.460.1">, is just a way to structure HTTP requests in a (relatively) </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">consistent way.</span></span></p>
<p><span class="koboSpan" id="kobo.462.1">The web inherently uses REST </span><a id="_idIndexMarker746"/><span class="koboSpan" id="kobo.463.1">principles. </span><span class="koboSpan" id="kobo.463.2">For example, when you enter a URL in your browser, you’re requesting a resource based on a unique URL, be that resource an HTML page, an image, or maybe some data in the form of JSON (which is most common when talking about REST services). </span><span class="koboSpan" id="kobo.463.3">That’s basically all the World Wide Web is, and that’s really all REST is! </span><span class="koboSpan" id="kobo.463.4">However, the modern notion of REST refines that basic idea, making it a bit </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">more well-defined.</span></span></p>
<p><span class="koboSpan" id="kobo.465.1">RESTful services, as we call web APIs built using REST, define the meaning of the standard HTTP methods – methods such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">GET</span></strong><span class="koboSpan" id="kobo.467.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.468.1">POST</span></strong><span class="koboSpan" id="kobo.469.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">PUT</span></strong><span class="koboSpan" id="kobo.471.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">DELETE</span></strong><span class="koboSpan" id="kobo.473.1"> – in explicit ways so that they have specific meanings. </span><span class="koboSpan" id="kobo.473.2">For example, a request made with </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">GET</span></strong><span class="koboSpan" id="kobo.475.1"> means to retrieve a resource. </span><strong class="source-inline"><span class="koboSpan" id="kobo.476.1">PUT</span></strong><span class="koboSpan" id="kobo.477.1"> (usually) means to update some existing resource, while </span><strong class="source-inline"><span class="koboSpan" id="kobo.478.1">POST</span></strong><span class="koboSpan" id="kobo.479.1"> (usually) means to create a new resource. </span><strong class="source-inline"><span class="koboSpan" id="kobo.480.1">DELETE</span></strong><span class="koboSpan" id="kobo.481.1">, of course, literally means to delete an existing resource. </span><span class="koboSpan" id="kobo.481.2">And of course, we’re talking about data on a </span><span class="No-Break"><span class="koboSpan" id="kobo.482.1">server somewhere.</span></span></p>
<p><span class="koboSpan" id="kobo.483.1">Breaking down the words that make up the acronym </span><em class="italic"><span class="koboSpan" id="kobo.484.1">REST</span></em><span class="koboSpan" id="kobo.485.1"> is helpful to </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">understand it:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.487.1">The word </span><em class="italic"><span class="koboSpan" id="kobo.488.1">representational</span></em><span class="koboSpan" id="kobo.489.1"> refers to the fact that when you request data from the API, what you get is a </span><em class="italic"><span class="koboSpan" id="kobo.490.1">representation</span></em><span class="koboSpan" id="kobo.491.1"> of some resource in a form you can digest in code, but not really the resource itself. </span><span class="koboSpan" id="kobo.491.2">For example, while a checking account resource might be stored in a database on the server in some binary form that would look like gibberish to a client, you can </span><em class="italic"><span class="koboSpan" id="kobo.492.1">represent</span></em><span class="koboSpan" id="kobo.493.1"> that account using something such as JSON, which is essentially just plain text with a specific format, which any client can make </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">use of.</span></span></li>
<li><span class="koboSpan" id="kobo.495.1">The word </span><em class="italic"><span class="koboSpan" id="kobo.496.1">state</span></em><span class="koboSpan" id="kobo.497.1"> refers to the current condition of the resource. </span><span class="koboSpan" id="kobo.497.2">In other words, when you request a representation of a checking account, you get a representation of it as it </span><a id="_idIndexMarker747"/><span class="koboSpan" id="kobo.498.1">exists at the time of </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">the request.</span></span></li>
<li><span class="koboSpan" id="kobo.500.1">The word </span><em class="italic"><span class="koboSpan" id="kobo.501.1">transfer</span></em><span class="koboSpan" id="kobo.502.1"> literally means to transfer that representation across </span><span class="No-Break"><span class="koboSpan" id="kobo.503.1">the network.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.504.1">So, putting that all together: a REST API is one that transfers representations of resources stored on a server in their current state or allows for updating the current state in some way or deleting </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">the resource.</span></span></p>
<p><span class="koboSpan" id="kobo.506.1">That’s the theory; now, let’s look at REST in a bit more </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">practical sense.</span></span></p>
<h2 id="_idParaDest-185"><a id="_idTextAnchor185"/><span class="koboSpan" id="kobo.508.1">REST in practice</span></h2>
<p><span class="koboSpan" id="kobo.509.1">When you work with a REST API, you</span><a id="_idIndexMarker748"/><span class="koboSpan" id="kobo.510.1"> might have a URL that points to a resource on the server – say, a </span><span class="No-Break"><span class="koboSpan" id="kobo.511.1">checking account:</span></span></p>
<p><a href="https://my-awesome-web-api.com/checking-accounts/1234"><span class="No-Break"><span class="koboSpan" id="kobo.512.1">https://my-awesome-web-api.com/checking-accounts/1234</span></span></a></p>
<p><span class="koboSpan" id="kobo.513.1">If you make a </span><strong class="source-inline"><span class="koboSpan" id="kobo.514.1">GET</span></strong><span class="koboSpan" id="kobo.515.1"> request to that URL (it’s not a real URL, but let’s pretend it is), it will return to you a representation of the checking account with account number 1234. </span><span class="koboSpan" id="kobo.515.2">The representation could be in many forms, but by far the most common when using a RESTful API is JSON. </span><span class="koboSpan" id="kobo.515.3">So, you might get back a response something </span><span class="No-Break"><span class="koboSpan" id="kobo.516.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.517.1">
{ account_number: 1234, balance: 546.32, date_opened: "12-15-2017" }</span></pre> <p><span class="koboSpan" id="kobo.518.1">If you wanted to get a list of all accounts, then you would simply drop the </span><strong class="source-inline"><span class="koboSpan" id="kobo.519.1">/1234</span></strong><span class="koboSpan" id="kobo.520.1"> part from the URL (most likely), and you would (likely) get back an array of </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">object representations.</span></span></p>
<p><span class="koboSpan" id="kobo.522.1">Now, if you want to update the balance of that account (we’re ignoring security for this discussion, obviously!), you would usually make a request using the same URL, but using the HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.523.1">POST</span></strong><span class="koboSpan" id="kobo.524.1"> method this time, and in the body of the request, you might provide some JSON </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.526.1">
{ new_balance: 771.10 }</span></pre> <p><span class="koboSpan" id="kobo.527.1">The exact semantics of the </span><a id="_idIndexMarker749"/><span class="koboSpan" id="kobo.528.1">API – the format of the data you get back and the data you pass in for updates – will vary from service to service, but the basic idea here is the meaning of the HTTP methods and the fact that JSON is being used to represent the checking account in both cases. </span><span class="koboSpan" id="kobo.528.2">Some APIs might require you to send back the exact representation you received from a </span><strong class="source-inline"><span class="koboSpan" id="kobo.529.1">GET</span></strong><span class="koboSpan" id="kobo.530.1"> request with the fields to be updated having the new values; others may just require the fields to be updated, as I’ve </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">shown here.</span></span></p>
<p><span class="koboSpan" id="kobo.532.1">Note the key point, which is that the URL itself is what identifies the resource – the checking account, in this case – that we’re operating on. </span><span class="koboSpan" id="kobo.532.2">That’s why it doesn’t need to be included in the JSON sent in (probably – again, the semantics can vary from service </span><span class="No-Break"><span class="koboSpan" id="kobo.533.1">to service).</span></span></p>
<p><span class="koboSpan" id="kobo.534.1">Similarly, to remove that account, you would again use the same URL, but now with the HTTP </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">DELETE</span></strong><span class="koboSpan" id="kobo.536.1"> method. </span><span class="koboSpan" id="kobo.536.2">That change is all it takes for the server-side code to identify what you want to do since the HTTP method is essentially a verb in this conversation, describing the action you want to take on the resource pointed to by </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">the URL.</span></span></p>
<p><span class="koboSpan" id="kobo.538.1">To create a new account, that’s where it gets a little tricky. </span><span class="koboSpan" id="kobo.538.2">While we know that we need to use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">PUT</span></strong><span class="koboSpan" id="kobo.540.1"> method, there obviously isn’t an existing checking account number to put on the URL, so what does the URL look like in this case? </span><span class="koboSpan" id="kobo.540.2">The answer is that it again depends on the semantics of the API. </span><span class="koboSpan" id="kobo.540.3">Some will have you put something such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">/add</span></strong><span class="koboSpan" id="kobo.542.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.543.1">/addNew</span></strong><span class="koboSpan" id="kobo.544.1"> in place of the account number. </span><span class="koboSpan" id="kobo.544.2">Some will not need anything and just take the </span><strong class="source-inline"><span class="koboSpan" id="kobo.545.1">PUT</span></strong><span class="koboSpan" id="kobo.546.1"> method as meaning you want to add </span><span class="No-Break"><span class="koboSpan" id="kobo.547.1">an account.</span></span></p>
<p><span class="koboSpan" id="kobo.548.1">This leads to an important point, which I’ve been hinting at with my use of equivocation terms throughout this discussion so far: there is REST, or RESTful, and there is REST-like. </span><span class="koboSpan" id="kobo.548.2">What that means is some developers will get pretty hardcore about following REST principles very rigidly (being RESTful). </span><span class="koboSpan" id="kobo.548.3">The problem with doing that is that sometimes you will have to make compromises in the design of the API that aren’t optimal. </span><span class="koboSpan" id="kobo.548.4">For example, some people say that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.549.1">/add</span></strong><span class="koboSpan" id="kobo.550.1"> pattern described previously isn’t “proper” REST, but then they often don’t have a great answer for what the “right” </span><span class="No-Break"><span class="koboSpan" id="kobo.551.1">answer is.</span></span></p>
<p><span class="koboSpan" id="kobo.552.1">By contrast, you can be a little more flexible and design your API to be REST-like, which means you follow </span><em class="italic"><span class="koboSpan" id="kobo.553.1">most</span></em><span class="koboSpan" id="kobo.554.1"> of the architectural guidelines that define REST but allow for some degree of fungibility in it. </span><span class="koboSpan" id="kobo.554.2">There will almost always be some cases where things don’t quite fit the REST model as</span><a id="_idIndexMarker750"/><span class="koboSpan" id="kobo.555.1"> cleanly as you might like. </span><span class="koboSpan" id="kobo.555.2">Even just the meaning of HTTP methods can be debatable. </span><span class="koboSpan" id="kobo.555.3">While </span><strong class="source-inline"><span class="koboSpan" id="kobo.556.1">GET</span></strong><span class="koboSpan" id="kobo.557.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.558.1">DELETE</span></strong><span class="koboSpan" id="kobo.559.1"> are virtually never argued about, some developers say that </span><strong class="source-inline"><span class="koboSpan" id="kobo.560.1">POST</span></strong><span class="koboSpan" id="kobo.561.1"> should be used for updates instead of </span><strong class="source-inline"><span class="koboSpan" id="kobo.562.1">PUT</span></strong><span class="koboSpan" id="kobo.563.1">, among </span><span class="No-Break"><span class="koboSpan" id="kobo.564.1">other debates.</span></span></p>
<p><span class="koboSpan" id="kobo.565.1">There is no canonical “these are the rules of REST that you must follow, or woe be unto you!” </span><span class="koboSpan" id="kobo.565.2">that anyone can point to. </span><span class="koboSpan" id="kobo.565.3">REST isn’t a set of guidelines; it’s an architectural principle, and those generally don’t have well-defined rules </span><span class="No-Break"><span class="koboSpan" id="kobo.566.1">to follow.</span></span></p>
<p><span class="koboSpan" id="kobo.567.1">So, my advice is to lean on the side of being REST-like. </span><span class="koboSpan" id="kobo.567.2">As long as you’re using HTTP methods with consistent meanings, and as long as you’re using URLs to identify resources to work with, then you’re about 90% of the way toward doing “proper” REST. </span><span class="koboSpan" id="kobo.567.3">If you also use JSON for your representation of those resources, then that probably gets you to somewhere </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">like 98%.</span></span></p>
<p><span class="koboSpan" id="kobo.569.1">So, that in a nutshell is what REST is, but how do you build a REST web API? </span><span class="koboSpan" id="kobo.569.2">Let’s take a look at one way with something you have some familiarity with: Node </span><span class="No-Break"><span class="koboSpan" id="kobo.570.1">and Express.</span></span></p>
<h2 id="_idParaDest-186"><a id="_idTextAnchor186"/><span class="koboSpan" id="kobo.571.1">Building your first REST API</span></h2>
<p><span class="koboSpan" id="kobo.572.1">We’ll begin, as always, by init’ing a new project with NPM. </span><span class="koboSpan" id="kobo.572.2">Then, we’ll add Express as a dependency using the now-familiar </span><strong class="source-inline"><span class="koboSpan" id="kobo.573.1">npm install –save express</span></strong><span class="koboSpan" id="kobo.574.1"> command. </span><span class="koboSpan" id="kobo.574.2">That sets us up for coding a </span><span class="No-Break"><span class="koboSpan" id="kobo.575.1">RESTful API.</span></span></p>
<p><span class="koboSpan" id="kobo.576.1">Let’s take our previous </span><a id="_idIndexMarker751"/><span class="koboSpan" id="kobo.577.1">database example using our Starfleet personnel and create an API that will let us add people, delete people, update people, and, of course, query people. </span><span class="koboSpan" id="kobo.577.2">To keep things simple, our “database” (which here simply means a collection of data, not a proper database as previously discussed) will just be JS variables since we’re focusing on the API part right now and not the database part. </span><span class="koboSpan" id="kobo.577.3">I’ll break down the code into easily digestible bite-sized pieces, but the complete file is </span><strong class="source-inline"><span class="koboSpan" id="kobo.578.1">restAPI.js</span></strong><span class="koboSpan" id="kobo.579.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.580.1">ch-07/rest</span></strong><span class="koboSpan" id="kobo.581.1"> directory of the download bundle, and it begins </span><span class="No-Break"><span class="koboSpan" id="kobo.582.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.583.1">
const express = require(`express`);
const app = express();
app.use(express.json());</span></pre> <p><span class="koboSpan" id="kobo.584.1">We, of course, need to import Express itself and create an Express app, and then add some middleware to handle JSON being sent in a request. </span><span class="koboSpan" id="kobo.584.2">This is stuff you saw in </span><a href="B18315_03.xhtml#_idTextAnchor082"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.585.1">Chapter 3</span></em></span></a><span class="No-Break"><span class="koboSpan" id="kobo.586.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.587.1">After that, we create our “database” in </span><span class="No-Break"><span class="koboSpan" id="kobo.588.1">JS variables:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.589.1">
let people = { };
people[1] = { first_name: `James`, last_name: `Kirk`, age: 32 };
people[2] = { first_name: `Leonard`, last_name: `McCoy`, age: 38 };
people[3] = { first_name: `Montgomery`, last_name: `Scott`, age: 43 };
let nextKey = 4;</span></pre> <p><span class="koboSpan" id="kobo.590.1">First, an empty object is created and assigned to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.591.1">people</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.592.1"> variable.</span></span></p>
<p><span class="koboSpan" id="kobo.593.1">Next, we add the three crew members you saw earlier in the database discussion, each as a </span><span class="No-Break"><span class="koboSpan" id="kobo.594.1">JS object.</span></span></p>
<p><span class="koboSpan" id="kobo.595.1">The thing to note here is that JS </span><a id="_idIndexMarker752"/><span class="koboSpan" id="kobo.596.1">objects are what are known as </span><strong class="bold"><span class="koboSpan" id="kobo.597.1">associative arrays</span></strong><span class="koboSpan" id="kobo.598.1">. </span><span class="koboSpan" id="kobo.598.2">This is a data </span><a id="_idIndexMarker753"/><span class="koboSpan" id="kobo.599.1">structure where values are mapped to keys. </span><span class="koboSpan" id="kobo.599.2">In a JS object, the field names are the keys. </span><span class="koboSpan" id="kobo.599.3">What this allows us to do is use the array bracket notation to access those fields (the key names are associative with values, and we can use array notation to access them, hence </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.600.1">associative arrays</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.601.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.602.1">And, what’s interesting is that in JS, field names in objects can be numbers, so that’s what I’ve used for the keys here. </span><span class="koboSpan" id="kobo.602.2">That allows me to simply increment by one the </span><strong class="source-inline"><span class="koboSpan" id="kobo.603.1">nextKey</span></strong><span class="koboSpan" id="kobo.604.1"> variable that you see defined in the last line to create a unique key for each newly </span><span class="No-Break"><span class="koboSpan" id="kobo.605.1">added person.</span></span></p>
<p><span class="koboSpan" id="kobo.606.1">So, when that code executes, it results in a JS object with </span><span class="No-Break"><span class="koboSpan" id="kobo.607.1">this structure:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.608.1">
People = {
  1: { first_name: `James`, last_name: `Kirk`, age: 32 },
  2: { first_name: `Leonard`, last_name: `McCoy`, age: 38 },
  3: { first_name: `Montgomery`, last_name: `Scott`, age: 43 }
}</span></pre> <p><span class="koboSpan" id="kobo.609.1">We can then access any of the people in the object using the key values (</span><strong class="source-inline"><span class="koboSpan" id="kobo.610.1">1</span></strong><span class="koboSpan" id="kobo.611.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.612.1">2</span></strong><span class="koboSpan" id="kobo.613.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.614.1">3</span></strong><span class="koboSpan" id="kobo.615.1">) to access the object for a particular person. </span><span class="koboSpan" id="kobo.615.2">The keys act as identifiers for the people in essence, which allows us to request a person by </span><span class="No-Break"><span class="koboSpan" id="kobo.616.1">that identifier.</span></span></p>
<p><span class="koboSpan" id="kobo.617.1">With the database defined, we can set up the first function in our API, and that will be a </span><strong class="source-inline"><span class="koboSpan" id="kobo.618.1">POST</span></strong><span class="koboSpan" id="kobo.619.1"> request used to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.620.1">new person:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.621.1">
app.post(`/people`, (inRequest, inResponse) =&gt; {
  const { first_name, last_name, age } = inRequest.body;
  const key = nextKey;
  nextKey = nextKey+ 1;
  people[key] = { key, first_name, last_name, age };
  inResponse.status(201).send(people[key]);
});</span></pre> <p><span class="koboSpan" id="kobo.622.1">As you saw in </span><a href="B18315_03.xhtml#_idTextAnchor082"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.623.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.624.1">, we set </span><a id="_idIndexMarker754"/><span class="koboSpan" id="kobo.625.1">up routes with Express, where a route corresponds to a URL, and we call the appropriate method on the app object that corresponds to the HTTP method the route should respond to in order to do that. </span><span class="koboSpan" id="kobo.625.2">Here, we wind up with a URL such as </span><a href="http://localhost:8080/people"><span class="koboSpan" id="kobo.626.1">http://localhost:8080/people</span></a><span class="koboSpan" id="kobo.627.1"> that we can post to, which will trigger </span><span class="No-Break"><span class="koboSpan" id="kobo.628.1">this code.</span></span></p>
<p><span class="koboSpan" id="kobo.629.1">Inside the function, our middleware will have already parsed the incoming JSON, which would be in the </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">following form:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.631.1">
{ "first_name": "Pavel", "last_name": "Checkov", "age": 21 }</span></pre> <p><span class="koboSpan" id="kobo.632.1">The individual values will be pulled out and added to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.633.1">inRequest.body</span></strong><span class="koboSpan" id="kobo.634.1"> object. </span><span class="koboSpan" id="kobo.634.2">We can use JS destructuring notation (as explained in </span><a href="B18315_06.xhtml#_idTextAnchor159"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.635.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.636.1">) to get the values into individual variables. </span><span class="koboSpan" id="kobo.636.2">From there, we take the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.637.1">nextKey</span></strong><span class="koboSpan" id="kobo.638.1"> as the key of the new object and make sure we increment it so that the next creation gets a new key. </span><span class="koboSpan" id="kobo.638.2">Then, we just add a new object with the data received in the request, under the key we </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">just created.</span></span></p>
<p><span class="koboSpan" id="kobo.640.1">The final step to creating our web API is to return a response since it wouldn’t be much good without that! </span><span class="koboSpan" id="kobo.640.2">But here is another facet of “proper” REST API design: the return codes should also have some meaning, just like the HTTP </span><span class="No-Break"><span class="koboSpan" id="kobo.641.1">methods do.</span></span></p>
<p><span class="koboSpan" id="kobo.642.1">You could return an HTTP 200 status (or response) code here, because 200 means OK, or “the operation was successful.” </span><span class="koboSpan" id="kobo.642.2">However, code 201 means Created, which seems more right for an object creation function such as this. </span><span class="koboSpan" id="kobo.642.3">There can be debate about which is more appropriate, but the key thing is that your functions are consistent with response </span><span class="No-Break"><span class="koboSpan" id="kobo.643.1">code meanings.</span></span></p>
<p><span class="koboSpan" id="kobo.644.1">And whatever choices </span><a id="_idIndexMarker755"/><span class="koboSpan" id="kobo.645.1">you make, they should always be logical! </span><span class="koboSpan" id="kobo.645.2">While 200 or 201 makes sense, 500, for example, wouldn’t because that code means Internal Server Error (you can see a list of the codes and their meanings </span><span class="No-Break"><span class="koboSpan" id="kobo.646.1">here: </span></span><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"><span class="No-Break"><span class="koboSpan" id="kobo.647.1">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.648.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.649.1">In addition to the response code, what you return is also an important consideration. </span><span class="koboSpan" id="kobo.649.2">And, at the risk of sounding like a broken record, you can find some debate about what is proper for various operations. </span><span class="koboSpan" id="kobo.649.3">But when creating a resource such as this, a good approach is to return the new resource itself, since the caller may want a copy of it, especially if the identifier is included, as it is here. </span><span class="koboSpan" id="kobo.649.4">That allows the caller to have all the information they need – the key – to delete or update the resource later without having to query the API again to </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">get it.</span></span></p>
<p><span class="koboSpan" id="kobo.651.1">Next up, let’s look at a function to get a list of </span><span class="No-Break"><span class="koboSpan" id="kobo.652.1">all people:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.653.1">
app.get(`/people`, (inRequest, inResponse) =&gt; {
  inResponse.status(200).json(Object.values(people));
});</span></pre> <p><span class="koboSpan" id="kobo.654.1">Yep, it’s just a simple one line of code! </span><span class="koboSpan" id="kobo.654.2">We just need to return a response 200 (which makes sense for a </span><strong class="source-inline"><span class="koboSpan" id="kobo.655.1">GET</span></strong><span class="koboSpan" id="kobo.656.1"> operation as none seem better to me) that is a JSON representation of the values – the objects for each person – in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">people</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.658.1"> object.</span></span></p>
<p><span class="koboSpan" id="kobo.659.1">The next function we’ll write is to get a </span><span class="No-Break"><span class="koboSpan" id="kobo.660.1">single person:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.661.1">
app.get(`/people/:key`, (inRequest, inResponse) =&gt; {
  const key = inRequest.params.key;
  inResponse.status(200).json(people[key]);
});</span></pre> <p><span class="koboSpan" id="kobo.662.1">When you define the URL for an HTTP request, here by calling </span><strong class="source-inline"><span class="koboSpan" id="kobo.663.1">app.get()</span></strong><span class="koboSpan" id="kobo.664.1"> again, you can have multiple handlers for a given HTTP method, but the URL must be different for each, or else Express won’t know which you want to use. </span><span class="koboSpan" id="kobo.664.2">Here, the URL is made different by the addition of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.665.1">:key</span></strong><span class="koboSpan" id="kobo.666.1"> element. </span><span class="koboSpan" id="kobo.666.2">This is a token that Express will fill in and make available on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.667.1">inRequest.params</span></strong><span class="koboSpan" id="kobo.668.1"> object. </span><span class="koboSpan" id="kobo.668.2">If a client makes a </span><strong class="source-inline"><span class="koboSpan" id="kobo.669.1">GET</span></strong><span class="koboSpan" id="kobo.670.1"> request to </span><strong class="source-inline"><span class="koboSpan" id="kobo.671.1">/people</span></strong><span class="koboSpan" id="kobo.672.1">, then the previously-defined </span><strong class="source-inline"><span class="koboSpan" id="kobo.673.1">app.get()</span></strong><span class="koboSpan" id="kobo.674.1"> route handler will execute, but if they instead make a request to </span><strong class="source-inline"><span class="koboSpan" id="kobo.675.1">/people/1</span></strong><span class="koboSpan" id="kobo.676.1">, then this function will execute instead, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.677.1">1</span></strong><span class="koboSpan" id="kobo.678.1"> value from </span><a id="_idIndexMarker756"/><span class="koboSpan" id="kobo.679.1">the URL will become the value </span><span class="No-Break"><span class="koboSpan" id="kobo.680.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.681.1">inRequest.params.key</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.683.1">That allows us to get the value into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.684.1">key</span></strong><span class="koboSpan" id="kobo.685.1"> variable, which we can then use to access the right person object in </span><strong class="source-inline"><span class="koboSpan" id="kobo.686.1">people</span></strong><span class="koboSpan" id="kobo.687.1"> and send it back as JSON to the caller, fulfilling </span><span class="No-Break"><span class="koboSpan" id="kobo.688.1">the request.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.689.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.690.1">I should take this opportunity to point out that I’ve written this code very simplistically, and one thing I left out in service of that goal is error checking. </span><span class="koboSpan" id="kobo.690.2">For example, what happens if the caller passes in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.691.1">key</span></strong><span class="koboSpan" id="kobo.692.1"> variable that doesn’t exist in </span><strong class="source-inline"><span class="koboSpan" id="kobo.693.1">people</span></strong><span class="koboSpan" id="kobo.694.1">? </span><span class="koboSpan" id="kobo.694.2">As written, they’ll get no response (or, really, an empty response – but not what a caller expects; that’s the point). </span><span class="koboSpan" id="kobo.694.3">You would most likely want to check for that condition and return a different status code, maybe 404 Not Found, and perhaps a string in the response saying it wasn’t found as well (the latter is another of those debatable REST decisions – some people feel the HTTP response code is sufficient; others always want </span><em class="italic"><span class="koboSpan" id="kobo.695.1">some</span></em><span class="koboSpan" id="kobo.696.1"> response from a function no </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">matter what).</span></span></p>
<p><span class="koboSpan" id="kobo.698.1">Okay, great – we can create people and we can get a list of all people and even get one specific person, so what about updating an existing person? </span><span class="No-Break"><span class="koboSpan" id="kobo.699.1">That’s next:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.700.1">
app.put(`/people/:key`, (inRequest, inResponse) =&gt; {
  const key = inRequest.params.key;
  const { first_name, last_name, age } = inRequest.body;
  people[key] = { key, first_name, last_name, age };
  inResponse.status(200).send(people[key]);
});</span></pre> <p><span class="koboSpan" id="kobo.701.1">The URL is the same as for getting a person, which makes sense since in both cases the caller needs to specify the resource that we’re dealing with. </span><span class="koboSpan" id="kobo.701.2">But, of course, we need a different HTTP method, so </span><strong class="source-inline"><span class="koboSpan" id="kobo.702.1">app.put()</span></strong><span class="koboSpan" id="kobo.703.1"> is used this time to register the handler for this route. </span><span class="koboSpan" id="kobo.703.2">Inside the handler function, we’ll keep things simple and always update all fields in the target resource (by way of creating a new object) rather than cherry-picking them. </span><span class="koboSpan" id="kobo.703.3">This means the caller must always send all the data back, even fields that aren’t changing. </span><span class="koboSpan" id="kobo.703.4">Then, it’s just a matter of creating a new object with the data sent in, assigning it to the proper key in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.704.1">people</span></strong><span class="koboSpan" id="kobo.705.1"> object, and returning a </span><span class="No-Break"><span class="koboSpan" id="kobo.706.1">suitable response.</span></span></p>
<p><span class="koboSpan" id="kobo.707.1">Since there isn’t an</span><a id="_idIndexMarker757"/><span class="koboSpan" id="kobo.708.1"> HTTP response code that more clearly means updated successfully, I went with a plain 200 (OK), and I sent back the </span><strong class="source-inline"><span class="koboSpan" id="kobo.709.1">key</span></strong><span class="koboSpan" id="kobo.710.1"> variable only this time since the caller already effectively has a copy of the data in its now-current state (arguably, it isn’t necessary to even send back the </span><strong class="source-inline"><span class="koboSpan" id="kobo.711.1">key</span></strong><span class="koboSpan" id="kobo.712.1"> variable, but in this case, I did prefer to have </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.713.1">something</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.714.1"> returned).</span></span></p>
<p><span class="koboSpan" id="kobo.715.1">The final route we have to write is for deleting </span><span class="No-Break"><span class="koboSpan" id="kobo.716.1">a person:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.717.1">
app.delete(`/people/:key`, (inRequest, inResponse) =&gt; {
  const key = inRequest.params.key;
  delete people[key];
  inResponse.status(200).send(key);
});</span></pre> <p><span class="koboSpan" id="kobo.718.1">Yep, it’s that simple! </span><span class="koboSpan" id="kobo.718.2">This time, we use </span><strong class="source-inline"><span class="koboSpan" id="kobo.719.1">app.delete()</span></strong><span class="koboSpan" id="kobo.720.1"> since that’s the HTTP method needed to use this function. </span><span class="koboSpan" id="kobo.720.2">We get the </span><strong class="source-inline"><span class="koboSpan" id="kobo.721.1">key</span></strong><span class="koboSpan" id="kobo.722.1"> variable from the URL and use the JS </span><strong class="source-inline"><span class="koboSpan" id="kobo.723.1">delete</span></strong><span class="koboSpan" id="kobo.724.1"> keyword, which removes a field from an object, to remove the specified person. </span><span class="koboSpan" id="kobo.724.2">Finally, an HTTP 200 response code is sent back, along with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.725.1">key</span></strong><span class="koboSpan" id="kobo.726.1"> variable that was removed (again, because I felt it more appropriate to not just return an empty response, but that’s a call you’ll have to make in your </span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">own work).</span></span></p>
<p><span class="koboSpan" id="kobo.728.1">And with that, we have all the functions in our web API that we need. </span><span class="koboSpan" id="kobo.728.2">Now, we simply need to start the Express server and thereby make our </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">API active:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.730.1">
app.listen(8080, () =&gt; {
  console.log(`API is up and running on port 8080`);
});</span></pre> <p><span class="koboSpan" id="kobo.731.1">We run it on port </span><strong class="source-inline"><span class="koboSpan" id="kobo.732.1">8080</span></strong><span class="koboSpan" id="kobo.733.1">, and everything is good </span><span class="No-Break"><span class="koboSpan" id="kobo.734.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.735.1">Now, you can, of course, go off and write some code, perhaps some JS to run in a browser, which calls this API. </span><span class="koboSpan" id="kobo.735.2">But before you do that, wanting to be a good web developer, you should probably test it a bit, right? </span><span class="koboSpan" id="kobo.735.3">How can you do that? </span><span class="koboSpan" id="kobo.735.4">You have lots of options here, but I’m</span><a id="_idIndexMarker758"/><span class="koboSpan" id="kobo.736.1"> going to talk about one very popular one in particular </span><span class="No-Break"><span class="koboSpan" id="kobo.737.1">next: Postman.</span></span></p>
<h2 id="_idParaDest-187"><a id="_idTextAnchor187"/><span class="koboSpan" id="kobo.738.1">Testing the API with Postman</span></h2>
<p><span class="koboSpan" id="kobo.739.1">Once you have an API </span><a id="_idIndexMarker759"/><span class="koboSpan" id="kobo.740.1">running, testing it can be done in many ways, but one way that many developers use is a tool called Postman. </span><span class="koboSpan" id="kobo.740.2">This is a GUI desktop application that </span><a id="_idIndexMarker760"/><span class="koboSpan" id="kobo.741.1">allows you to make all sorts of HTTP requests to anything you need to, including the API that you should have running on your machine at this point. </span><span class="koboSpan" id="kobo.741.2">With Postman, you define requests, including what HTTP method they use, what URL they use, and any data to be sent with them, and you can trigger those requests at the click of a button. </span><span class="koboSpan" id="kobo.741.3">Postman can show you the response and can even take the raw response and reformat it to make it easier </span><span class="No-Break"><span class="koboSpan" id="kobo.742.1">to read.</span></span></p>
<p><span class="koboSpan" id="kobo.743.1">As an example, testing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.744.1">GET</span></strong><span class="koboSpan" id="kobo.745.1"> operation to retrieve all the people from our faux database </span><span class="No-Break"><span class="koboSpan" id="kobo.746.1">is easy:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.747.1">Launch Postman and login </span><span class="No-Break"><span class="koboSpan" id="kobo.748.1">if necessary.</span></span></li>
<li><span class="koboSpan" id="kobo.749.1">Create a workspace if you don’t have one already (it may create one by default </span><span class="No-Break"><span class="koboSpan" id="kobo.750.1">for you).</span></span></li>
<li><span class="koboSpan" id="kobo.751.1">On the left, you should see a </span><strong class="bold"><span class="koboSpan" id="kobo.752.1">Collections</span></strong><span class="koboSpan" id="kobo.753.1"> tab. </span><span class="koboSpan" id="kobo.753.2">Collections are just groups of logically related requests. </span><span class="koboSpan" id="kobo.753.3">Create a new collection with the </span><strong class="bold"><span class="koboSpan" id="kobo.754.1">+</span></strong><span class="koboSpan" id="kobo.755.1"> button you should see next to the </span><strong class="bold"><span class="koboSpan" id="kobo.756.1">Collections</span></strong><span class="koboSpan" id="kobo.757.1"> tab, and name it whatever you’d like (I uncreatively called </span><span class="No-Break"><span class="koboSpan" id="kobo.758.1">mine </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.759.1">Book</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.760.1">).</span></span></li>
<li><span class="koboSpan" id="kobo.761.1">Click the collection so that it’s highlighted, at which point you should see a three-dot menu to the right of the name. </span><span class="koboSpan" id="kobo.761.2">Click the menu, and then select the </span><strong class="bold"><span class="koboSpan" id="kobo.762.1">Add Request</span></strong><span class="koboSpan" id="kobo.763.1"> option. </span><span class="koboSpan" id="kobo.763.2">You should see a new request added, and over on the right, a new tab should appear that has all the details about the request; Postman should automatically focus on the name of the request, ready for you to enter anything you </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">wish there.</span></span></li>
<li><span class="koboSpan" id="kobo.765.1">Ensure that the </span><strong class="bold"><span class="koboSpan" id="kobo.766.1">GET</span></strong><span class="koboSpan" id="kobo.767.1"> method is selected in the dropdown below the </span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">request name.</span></span></li>
<li><span class="koboSpan" id="kobo.769.1">In the box to the right </span><a id="_idIndexMarker761"/><span class="koboSpan" id="kobo.770.1">of the method, which should say </span><strong class="bold"><span class="koboSpan" id="kobo.771.1">Enter URL</span></strong><span class="koboSpan" id="kobo.772.1"> initially, enter </span><a id="_idIndexMarker762"/><span class="koboSpan" id="kobo.773.1">the following </span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">URL: </span></span><a href="https://localhost:8080/people"><span class="No-Break"><span class="koboSpan" id="kobo.775.1">localhost:8080/people</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.776.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.777.1">You should then be able to click the </span><strong class="bold"><span class="koboSpan" id="kobo.778.1">Send</span></strong><span class="koboSpan" id="kobo.779.1"> button to send the request, and the results should appear in the </span><strong class="bold"><span class="koboSpan" id="kobo.780.1">Response</span></strong><span class="koboSpan" id="kobo.781.1"> section at </span><span class="No-Break"><span class="koboSpan" id="kobo.782.1">the bottom.</span></span></li>
</ol>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.783.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.784.1">.5</span></em><span class="koboSpan" id="kobo.785.1"> shows what all of this should look like when </span><span class="No-Break"><span class="koboSpan" id="kobo.786.1">done properly:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer079">
<span class="koboSpan" id="kobo.787.1"><img alt="Figure 7.5: Postman, with a Book collection, a Get All request added, and a successful Get All response" src="image/B18315_07_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.788.1">Figure 7.5: Postman, with a Book collection, a Get All request added, and a successful Get All response</span></p>
<p><span class="koboSpan" id="kobo.789.1">You can then add a request to test creating a new person. </span><span class="koboSpan" id="kobo.789.2">It’s the same procedure starting with creating a new request in the collection; however, this time, the method will be </span><strong class="bold"><span class="koboSpan" id="kobo.790.1">POST</span></strong><span class="koboSpan" id="kobo.791.1">, and underneath the </span><strong class="bold"><span class="koboSpan" id="kobo.792.1">URL</span></strong><span class="koboSpan" id="kobo.793.1"> box, you’ll need to select the </span><strong class="bold"><span class="koboSpan" id="kobo.794.1">Body</span></strong><span class="koboSpan" id="kobo.795.1"> tab. </span><span class="koboSpan" id="kobo.795.2">This is where you supply the </span><strong class="source-inline"><span class="koboSpan" id="kobo.796.1">POST</span></strong><span class="koboSpan" id="kobo.797.1"> body content to send. </span><span class="koboSpan" id="kobo.797.2">It’ll just be some JSON, perhaps like </span><span class="No-Break"><span class="koboSpan" id="kobo.798.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.799.1">
{ "first_name": "Pavel", "last_name": "Checkov", "age": 21 }</span></pre> <p><span class="koboSpan" id="kobo.800.1">To the right of the </span><strong class="bold"><span class="koboSpan" id="kobo.801.1">Body</span></strong><span class="koboSpan" id="kobo.802.1"> tab, you’ll also</span><a id="_idIndexMarker763"/><span class="koboSpan" id="kobo.803.1"> need to select the type of data as </span><strong class="bold"><span class="koboSpan" id="kobo.804.1">JSON</span></strong><span class="koboSpan" id="kobo.805.1">. </span><span class="koboSpan" id="kobo.805.2">Once</span><a id="_idIndexMarker764"/><span class="koboSpan" id="kobo.806.1"> that’s done, you should be able to trigger the request and get back a valid response, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.807.1">Figure 7</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.808.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.809.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer080">
<span class="koboSpan" id="kobo.810.1"><img alt="Figure 7.6: Postman, showing a successful Create response" src="image/B18315_07_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.811.1">Figure 7.6: Postman, showing a successful Create response</span></p>
<p><span class="koboSpan" id="kobo.812.1">As an exercise, go ahead and add requests for updating and deleting people. </span><span class="koboSpan" id="kobo.812.2">Remember that in those cases, the URL will need to include the key on the end (so, something like </span><a href="https://localhost:8080/people/4"><span class="koboSpan" id="kobo.813.1">localhost:8080/people/4</span></a><span class="koboSpan" id="kobo.814.1">, for example, if 4 is the key returned from a create call). </span><span class="koboSpan" id="kobo.814.2">Play around with it a bit, creating a person, then doing a </span><strong class="bold"><span class="koboSpan" id="kobo.815.1">Get All</span></strong><span class="koboSpan" id="kobo.816.1"> to see that it has been added, then maybe updating a person and doing a </span><strong class="bold"><span class="koboSpan" id="kobo.817.1">Get</span></strong><span class="koboSpan" id="kobo.818.1"> for that specific person to see the update, and finally deleting that person and then doing a final </span><strong class="bold"><span class="koboSpan" id="kobo.819.1">Get All</span></strong><span class="koboSpan" id="kobo.820.1"> to see they’ve </span><span class="No-Break"><span class="koboSpan" id="kobo.821.1">been removed.</span></span></p>
<p><span class="koboSpan" id="kobo.822.1">This is just the very basics of using Postman; it has a lot more capabilities </span><span class="No-Break"><span class="koboSpan" id="kobo.823.1">than this:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.824.1">You can write scripts to execute multiple requests to more fully test </span><span class="No-Break"><span class="koboSpan" id="kobo.825.1">your target</span></span></li>
<li><span class="koboSpan" id="kobo.826.1">You can include cookies and headers and all the other goodies HTTP requests </span><span class="No-Break"><span class="koboSpan" id="kobo.827.1">allow for</span></span></li>
<li><span class="koboSpan" id="kobo.828.1">You can supply security credentials for APIs that </span><span class="No-Break"><span class="koboSpan" id="kobo.829.1">require it</span></span></li>
<li><span class="koboSpan" id="kobo.830.1">You can simulate a browser </span><a id="_idIndexMarker765"/><span class="koboSpan" id="kobo.831.1">sending a form rather than </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">sending JSON</span></span></li>
<li><span class="koboSpan" id="kobo.833.1">You can test GraphQL servers, which is a way you can expose a database to clients directly in a safe way and in a way that they can query for data based on their own </span><span class="No-Break"><span class="koboSpan" id="kobo.834.1">specific needs.</span></span></li>
<li><span class="koboSpan" id="kobo.835.1">You can set up certificates to be able to test </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">HTTPS endpoints</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.837.1">In short: if it’s done via HTTP/HTTPS, then </span><a id="_idIndexMarker766"/><span class="koboSpan" id="kobo.838.1">you can almost certainly do it with Postman. </span><span class="koboSpan" id="kobo.838.2">It’s a great tool that allows you to test your server-side code without having to write all the client-side </span><span class="No-Break"><span class="koboSpan" id="kobo.839.1">code first.</span></span></p>
<p><span class="koboSpan" id="kobo.840.1">But aside from during development, another situation where a tool such as Postman can come in handy is if your code isn’t working right for a given request from client to server. </span><span class="koboSpan" id="kobo.840.2">The problem could be in your client code or your server code. </span><span class="koboSpan" id="kobo.840.3">How do you know which it is? </span><span class="koboSpan" id="kobo.840.4">One good way to start figuring that out is to remove one or the other from the equation entirely. </span><span class="koboSpan" id="kobo.840.5">If you test your web API with Postman and find a problem occurs, then you just discovered the problem must be on the server side since the client side isn’t involved. </span><span class="koboSpan" id="kobo.840.6">Well, to be fair, as you gain experience, you’ll find that statement isn’t always as concrete as it seems! </span><span class="koboSpan" id="kobo.840.7">But it’s a generally solid approach to getting on the right path, </span><span class="No-Break"><span class="koboSpan" id="kobo.841.1">at least.</span></span></p>
<p><span class="koboSpan" id="kobo.842.1">Now that you’ve learned a bit about databases and web APIs, let’s talk about something that was actually touched upon earlier but that there’s a little bit more to say about, that being the “classic” web versus the “modern” (SPA-based, primarily) web, and how what’s old is what’s new again, in a sense, in the form </span><span class="No-Break"><span class="koboSpan" id="kobo.843.1">of SSR.</span></span></p>
<h1 id="_idParaDest-188"><a id="_idTextAnchor188"/><span class="koboSpan" id="kobo.844.1">Going back to the future – SSR</span></h1>
<p><span class="koboSpan" id="kobo.845.1">In </span><a href="B18315_03.xhtml#_idTextAnchor082"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.846.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.847.1">, we talked about SPAs and how they lead to a different model of web development. </span><span class="koboSpan" id="kobo.847.2">We talked about how this new model was in contrast to the classic model, where every interaction on</span><a id="_idIndexMarker767"/><span class="koboSpan" id="kobo.848.1"> the page leads to a request to the server, which generates an entirely new HTML page to be displayed. </span><span class="koboSpan" id="kobo.848.2">The new model instead depends on JS: on the client making a request to the server for just data, which the client code then does something with, most often displaying it in </span><span class="No-Break"><span class="koboSpan" id="kobo.849.1">some fashion.</span></span></p>
<p><span class="koboSpan" id="kobo.850.1">When we looked at React, Vue, and Angular, we saw how the initial HTML document was essentially empty, and everything that wound up being shown in the browser was created on the fly by JS on the </span><span class="No-Break"><span class="koboSpan" id="kobo.851.1">client machine.</span></span></p>
<p><span class="koboSpan" id="kobo.852.1">What’s interesting, though, is that as with many things in this field, the pendulum is swinging back the other way a little bit, this time in the form of </span><strong class="bold"><span class="koboSpan" id="kobo.853.1">SSR</span></strong><span class="koboSpan" id="kobo.854.1">, which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.855.1">server-side rendering</span></strong><span class="koboSpan" id="kobo.856.1">. </span><span class="koboSpan" id="kobo.856.2">With SSR, web pages are rendered on the server and returned to </span><span class="No-Break"><span class="koboSpan" id="kobo.857.1">the browser.</span></span></p>
<p><span class="koboSpan" id="kobo.858.1">But wait – isn’t that what came </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.859.1">before</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.860.1"> SPAs?!</span></span></p>
<p><span class="koboSpan" id="kobo.861.1">Yes. </span><span class="koboSpan" id="kobo.861.2">Yes, indeed it is. </span><span class="koboSpan" id="kobo.861.3">The wheel turns, does </span><span class="No-Break"><span class="koboSpan" id="kobo.862.1">it not?</span></span></p>
<p><span class="koboSpan" id="kobo.863.1">As you can probably guess, though, there is a difference between SSR and just having static HTML pages on a </span><span class="No-Break"><span class="koboSpan" id="kobo.864.1">web server.</span></span></p>
<p><span class="koboSpan" id="kobo.865.1">With SSR, it’s often the case that only the first request generates a new HTML page. </span><span class="koboSpan" id="kobo.865.2">The server takes what is essentially a </span><a id="_idIndexMarker768"/><span class="koboSpan" id="kobo.866.1">template in the form of an HTML page, merges in some data, and then returns the final HTML to the client. </span><span class="koboSpan" id="kobo.866.2">However, what’s interesting is that some of that work can actually be done via JS executing on the server instead of the browser. </span><span class="koboSpan" id="kobo.866.3">In effect, the server is acting like a web browser, albeit one that doesn’t display the HTML. </span><span class="koboSpan" id="kobo.866.4">You can even use libraries such as React, Vue, and JS to render the content, but on the server. </span><span class="koboSpan" id="kobo.866.5">The server produces the final HTML document, as a browser would by executing the JS, and returns it, fully formed, to the browser. </span><span class="koboSpan" id="kobo.866.6">This will very often (almost always, in fact) include all the necessary CSS and JS, embedded in the </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">HTML document.</span></span></p>
<p><span class="koboSpan" id="kobo.868.1">Subsequent actions that occur on the client may result in a call to the server that generates a whole new HTML document, making SSR in that situation just like the classic model. </span><span class="koboSpan" id="kobo.868.2">But more often, after the initial page is loaded, things begin to function like an SPA in that the server is called to get only data, which is then rendered or used on the client in some way. </span><span class="koboSpan" id="kobo.868.3">We wind up with something of a </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">hybrid approach.</span></span></p>
<p><span class="koboSpan" id="kobo.870.1">Why would anyone want to do this, you might ask? </span><span class="koboSpan" id="kobo.870.2">There are a couple of </span><span class="No-Break"><span class="koboSpan" id="kobo.871.1">good reasons:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.872.1">Performance</span></strong><span class="koboSpan" id="kobo.873.1">: Especially when we’re talking </span><a id="_idIndexMarker769"/><span class="koboSpan" id="kobo.874.1">about how fast a website loads initially, performance is a key metric. </span><span class="koboSpan" id="kobo.874.2">By using the server to do that work – servers that are in most cases more powerful than client machines and that are closer to the data they need – returning a complete document can be noticeably faster than returning an HTML document, which then creates new requests to get resources such as JS, CSS, and image files, and then render the content </span><span class="No-Break"><span class="koboSpan" id="kobo.875.1">with JS.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.876.1">Search engine optimization (SEO)</span></strong><span class="koboSpan" id="kobo.877.1">: It’s the art of including content on a website that search engines use to rank your </span><a id="_idIndexMarker770"/><span class="koboSpan" id="kobo.878.1">site. </span><span class="koboSpan" id="kobo.878.2">Properly tuning this content allows you to show up sooner in search results, which is a key consideration for public websites. </span><span class="koboSpan" id="kobo.878.3">With a website that functions purely as an SPA, that content only exists on the client machine when requested, so search engines have a harder time indexing your site, and you have a harder time performing SEO. </span><span class="koboSpan" id="kobo.878.4">With SSR, though, because the server is returning a full HTML document and not a nearly empty one, you’d get to start a React, Vue, or Angular app, and search engines “see” more content to index, which, when SEO is done properly, leads to higher ranking in </span><span class="No-Break"><span class="koboSpan" id="kobo.879.1">search results.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.880.1">Better device support</span></strong><span class="koboSpan" id="kobo.881.1">: Because most of the heaviest lifting in terms of rendering the full HTML is done on the server, it allows less powerful client devices to have a more acceptable experience. </span><span class="koboSpan" id="kobo.881.2">Older cell phones, for example, still used around the world, will usually have an easier time rendering a complete HTML page – which </span><a id="_idIndexMarker771"/><span class="koboSpan" id="kobo.882.1">from its perspective is static – than it will running a lot of complex JS on the phone itself to generate the HTML on </span><span class="No-Break"><span class="koboSpan" id="kobo.883.1">the fly.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.884.1">Most of the modern frameworks have support for SSR nowadays. </span><span class="koboSpan" id="kobo.884.2">In fact, it can be as easy as flipping a switch in a config file in some cases, and all of a sudden, you’ll find your initial HTML document being</span><a id="_idIndexMarker772"/><span class="koboSpan" id="kobo.885.1"> rendered on the server. </span><span class="koboSpan" id="kobo.885.2">Although in a lot of ways like the classic model, which at this point is 30+ years old, SSR is a fairly new thing. </span><span class="koboSpan" id="kobo.885.3">Well, sort of: it was actually introduced in some modern frameworks as early as 2010, and 10 years in web development really isn’t a long time! </span><span class="koboSpan" id="kobo.885.4">But it’s new in the sense that it has started picking up steam in terms of developer mindshare more recently, as it’s become a more standard part of </span><span class="No-Break"><span class="koboSpan" id="kobo.886.1">modern frameworks.</span></span></p>
<p><span class="koboSpan" id="kobo.887.1">But it’s still an optional thing. </span><span class="koboSpan" id="kobo.887.2">Is it possible to do SEO without SSR? </span><span class="koboSpan" id="kobo.887.3">Yes, it is, though it can be more challenging. </span><span class="koboSpan" id="kobo.887.4">For example, you’ll sometimes find that you may have to have some content in your static HTML page that is invisible and that gets removed when it gets to the browser – but then, you’ll find that search engines are kind of on to such tricks, so it may not work as well as you’d hope, or indeed at all in some cases. </span><span class="koboSpan" id="kobo.887.5">And your use case may not make SSR worth it anyway because it certainly does complicate things, and any time you add complexity to web development, you have to do a cost-benefit analysis to decide if it’s </span><span class="No-Break"><span class="koboSpan" id="kobo.888.1">worth it.</span></span></p>
<p><span class="koboSpan" id="kobo.889.1">Another possibility is to use </span><a id="_idIndexMarker773"/><span class="koboSpan" id="kobo.890.1">server-side technologies to render your initial HTML document (as well as handle subsequent data requests), which is actually another form of SSR in a sense, but one in which you have more granular control. </span><span class="koboSpan" id="kobo.890.2">That can be done with Node, of course, but there are other options, and that’s what we’re going to talk </span><span class="No-Break"><span class="koboSpan" id="kobo.891.1">about next.</span></span></p>
<h1 id="_idParaDest-189"><a id="_idTextAnchor189"/><span class="koboSpan" id="kobo.892.1">Using PHP on the server side</span></h1>
<p><span class="koboSpan" id="kobo.893.1">There are many server-side technologies you can use; you’re not limited to Node and JS. </span><span class="koboSpan" id="kobo.893.2">One such technology – one of the </span><a id="_idIndexMarker774"/><span class="koboSpan" id="kobo.894.1">oldest, in fact – is PHP. </span><span class="koboSpan" id="kobo.894.2">First hitting the scene in 1995 (though taking a couple of years to start gaining traction), PHP is what’s known as a </span><em class="italic"><span class="koboSpan" id="kobo.895.1">preprocessor</span></em><span class="koboSpan" id="kobo.896.1">. </span><span class="koboSpan" id="kobo.896.2">Essentially, it’s an extension to a web server that performs some sort of manipulation on </span><a id="_idIndexMarker775"/><span class="koboSpan" id="kobo.897.1">a </span><span class="No-Break"><span class="koboSpan" id="kobo.898.1">requested resource.</span></span></p>
<p><span class="koboSpan" id="kobo.899.1">In the case of PHP, that manipulation is executing code written in the PHP language that is embedded in an HTML file. </span><span class="koboSpan" id="kobo.899.2">The file is given a </span><strong class="source-inline"><span class="koboSpan" id="kobo.900.1">.php</span></strong><span class="koboSpan" id="kobo.901.1"> extension, and when requested, that extension identifies to the web server that it needs to hand that file off to the PHP preprocessor, allow it to transform it, and then return to the caller whatever the output of that </span><span class="No-Break"><span class="koboSpan" id="kobo.902.1">transformation is.</span></span></p>
<p><span class="koboSpan" id="kobo.903.1">That may sound a little complicated, but I think a simple example will make it clear (you’ll find this in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.904.1">hello_world.php</span></strong><span class="koboSpan" id="kobo.905.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.906.1">ch-07/php</span></strong><span class="koboSpan" id="kobo.907.1"> directory). </span><span class="koboSpan" id="kobo.907.2">As always in programming, let’s use a “Hello, </span><span class="No-Break"><span class="koboSpan" id="kobo.908.1">world!” </span><span class="koboSpan" id="kobo.908.2">example:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.909.1">
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;A simple PHP example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;?php
      echo "Hello, World!";
    ?&gt;
  &lt;/body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.910.1">As you can see, it’s a simple HTML document, until you hit that funky-looking </span><strong class="source-inline"><span class="koboSpan" id="kobo.911.1">&lt;?php</span></strong><span class="koboSpan" id="kobo.912.1"> thing. </span><span class="koboSpan" id="kobo.912.2">This begins a block of PHP code, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.913.1">?&gt;</span></strong><span class="koboSpan" id="kobo.914.1"> closes the block. </span><span class="koboSpan" id="kobo.914.2">Anything in between those must be written in PHP. </span><span class="koboSpan" id="kobo.914.3">When this file is requested from a web server that has PHP installed, the web server sees the </span><strong class="source-inline"><span class="koboSpan" id="kobo.915.1">.php</span></strong><span class="koboSpan" id="kobo.916.1"> extension and hands the file off to the PHP processor. </span><span class="koboSpan" id="kobo.916.2">The processor looks </span><a id="_idIndexMarker776"/><span class="koboSpan" id="kobo.917.1">for any PHP code blocks like this (of which you can have as many as you like) and executes the code in it. </span><span class="koboSpan" id="kobo.917.2">Whatever the output of the code is, if any, replaces the block in the </span><span class="No-Break"><span class="koboSpan" id="kobo.918.1">final output.</span></span></p>
<p><span class="koboSpan" id="kobo.919.1">As a result, what gets returned to the browser in this case will be </span><span class="No-Break"><span class="koboSpan" id="kobo.920.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.921.1">
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;A simple PHP example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Hello, World!
</span><span class="koboSpan" id="kobo.921.2">  &lt;/body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.922.1">As you can see, there no longer is any PHP code. </span><span class="koboSpan" id="kobo.922.2">Instead, the text that the code outputs via the </span><strong class="source-inline"><span class="koboSpan" id="kobo.923.1">echo</span></strong><span class="koboSpan" id="kobo.924.1"> statement replaces it. </span><span class="koboSpan" id="kobo.924.2">This is a common approach with many server-side technologies, </span><em class="italic"><span class="koboSpan" id="kobo.925.1">“execute some code in a special block and replace it with the result of that code,”</span></em><span class="koboSpan" id="kobo.926.1"> and it means that the client doesn’t need to know anything about PHP; it’s all handled on the server. </span><span class="koboSpan" id="kobo.926.2">The client just knows that it’s getting an HTML document back; it doesn’t know anything about what the server did to produce it, but PHP and technologies like it provide us </span><a id="_idIndexMarker777"/><span class="koboSpan" id="kobo.927.1">developers a very simple way to build dynamic content into otherwise static resources and without any complex infrastructure or code such as in a Node/Express application, </span><span class="No-Break"><span class="koboSpan" id="kobo.928.1">for comparison.</span></span></p>
<p><span class="koboSpan" id="kobo.929.1">PHP is a robust and powerful language, much like JS, and has a lot of libraries supporting it that allow it to, for example, interface with databases easily, make calls to remote systems, manipulate images, and really do all the things that any useful server-side language would do. </span><span class="koboSpan" id="kobo.929.2">It has over time evolved into a modern language with all the sorts of features developers have come to expect from a </span><span class="No-Break"><span class="koboSpan" id="kobo.930.1">modern language.</span></span></p>
<p><span class="koboSpan" id="kobo.931.1">To give you just a little more of a taste of PHP, let’s implement a pretty common thing done with it, or really any </span><a id="_idIndexMarker778"/><span class="koboSpan" id="kobo.932.1">server-side technology: handling the submission of </span><span class="No-Break"><span class="koboSpan" id="kobo.933.1">a form.</span></span></p>
<p><span class="koboSpan" id="kobo.934.1">First, we’ll create a simple </span><span class="No-Break"><span class="koboSpan" id="kobo.935.1">form (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.936.1">form.html</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.937.1">):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.938.1">
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;PHP Form&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form action="form.php" method="post"&gt;
      Your Name: &lt;input type="text" name="username"&gt;&lt;br&gt;
      &lt;input type="submit"&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.939.1">As you can see, it’s just a simple HTML form, something you’ve seen before. </span><span class="koboSpan" id="kobo.939.2">We allow the user to enter their name and submit the form; that’s it. </span><span class="koboSpan" id="kobo.939.3">The target of the form submission is </span><strong class="source-inline"><span class="koboSpan" id="kobo.940.1">form.php</span></strong><span class="koboSpan" id="kobo.941.1">, which we’ll </span><span class="No-Break"><span class="koboSpan" id="kobo.942.1">create next:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.943.1">
&lt;?php
  $username = $_POST["username"];
  echo "Hello, " . </span><span class="koboSpan" id="kobo.943.2">$username . </span><span class="koboSpan" id="kobo.943.3">"!";
?&gt;</span></pre> <p><span class="koboSpan" id="kobo.944.1">Here, we construct a plain text response by getting the </span><strong class="source-inline"><span class="koboSpan" id="kobo.945.1">username</span></strong><span class="koboSpan" id="kobo.946.1"> variable from the request and constructing a string with it. </span><span class="koboSpan" id="kobo.946.2">Variables in PHP begin with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.947.1">$</span></strong><span class="koboSpan" id="kobo.948.1"> symbol, and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.949.1">$_POST</span></strong><span class="koboSpan" id="kobo.950.1"> variable is one PHP supplies which will hold the values of any data submitted via a POST request. </span><span class="koboSpan" id="kobo.950.2">The only one we have to worry about is </span><strong class="source-inline"><span class="koboSpan" id="kobo.951.1">username</span></strong><span class="koboSpan" id="kobo.952.1">, so we wind up with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.953.1">$username</span></strong><span class="koboSpan" id="kobo.954.1"> variable with the value of whatever the user submitted in the form. </span><span class="koboSpan" id="kobo.954.2">Then, </span><strong class="source-inline"><span class="koboSpan" id="kobo.955.1">echo</span></strong><span class="koboSpan" id="kobo.956.1"> is used to create the output, and in PHP, periods are used to represent string concatenation, so we’re building a string such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.957.1">"Hello, Frank!"</span></strong><span class="koboSpan" id="kobo.958.1"> and returning that to the client (note that we don’t need to construct a full HTML document because the browser is quite capable of displaying a plain text response such </span><span class="No-Break"><span class="koboSpan" id="kobo.959.1">as this).</span></span></p>
<p><span class="koboSpan" id="kobo.960.1">PHP is fairly straightforward</span><a id="_idIndexMarker779"/><span class="koboSpan" id="kobo.961.1"> but opens up a lot of possibilities. </span><span class="koboSpan" id="kobo.961.2">It is, however, far from the only such option available. </span><span class="koboSpan" id="kobo.961.3">Another one, which in some contexts is much more popular, is Java, and specifically the Spring Boot library for it. </span><span class="koboSpan" id="kobo.961.4">Let’s take a quick look at </span><span class="No-Break"><span class="koboSpan" id="kobo.962.1">that now.</span></span></p>
<h1 id="_idParaDest-190"><a id="_idTextAnchor190"/><span class="koboSpan" id="kobo.963.1">Building with Java and Spring Boot</span></h1>
<p><span class="koboSpan" id="kobo.964.1">Java and Spring Boot kind of go hand in hand these days in the sense that Spring Boot is the most popular way people write apps using Java nowadays, but Spring Boot couldn’t exist without Java. </span><span class="koboSpan" id="kobo.964.2">So, let’s start with Java, then talk about some things that go along with it that allow you to build web </span><a id="_idIndexMarker780"/><span class="koboSpan" id="kobo.965.1">apps, and finally arrive at Spring Boot. </span><span class="koboSpan" id="kobo.965.2">I think once </span><a id="_idIndexMarker781"/><span class="koboSpan" id="kobo.966.1">you’ve read through this entire section, you’ll understand how the pieces fit together </span><span class="No-Break"><span class="koboSpan" id="kobo.967.1">pretty well.</span></span></p>
<h2 id="_idParaDest-191"><a id="_idTextAnchor191"/><span class="koboSpan" id="kobo.968.1">Introducing Java</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.969.1">Java</span></strong><span class="koboSpan" id="kobo.970.1">, which I’ll let you know up-front has nothing to do with JS other than a similar-looking language syntax and is a product of the now-defunct Sun Microsystems, is now owned by Oracle, and it is easily</span><a id="_idIndexMarker782"/><span class="koboSpan" id="kobo.971.1"> one of the most widely used languages and platforms of them all. </span><span class="koboSpan" id="kobo.971.2">It is especially popular in enterprise environments where things such as stability and flexibility – and having a company sue if something goes wrong, to be blunt – are of </span><span class="No-Break"><span class="koboSpan" id="kobo.972.1">primary importance.</span></span></p>
<p><span class="koboSpan" id="kobo.973.1">Java became popular based on its “write once run anywhere” principle. </span><span class="koboSpan" id="kobo.973.2">It was one of the first languages that allowed for a piece of code, without being changed in any way, to run on multiple different hardware platforms and operating systems. </span><span class="koboSpan" id="kobo.973.3">There were a few ways to do that before Java, but none were as easy </span><span class="No-Break"><span class="koboSpan" id="kobo.974.1">as Java.</span></span></p>
<p><span class="koboSpan" id="kobo.975.1">Java accomplishes this by the introduction of the </span><strong class="bold"><span class="koboSpan" id="kobo.976.1">JVM</span></strong><span class="koboSpan" id="kobo.977.1">, or </span><strong class="bold"><span class="koboSpan" id="kobo.978.1">Java Virtual Machine</span></strong><span class="koboSpan" id="kobo.979.1">. </span><span class="koboSpan" id="kobo.979.2">It’s similar conceptually to the VMs you’ve already met, but it’s not a full simulation of a machine. </span><span class="koboSpan" id="kobo.979.3">Instead, it’s a simulation of an </span><a id="_idIndexMarker783"/><span class="koboSpan" id="kobo.980.1">artificial machine, one that doesn’t exist in the real world. </span><span class="koboSpan" id="kobo.980.2">It winds up being a target for compiled code. </span><span class="koboSpan" id="kobo.980.3">In other words, rather than compiling Java code to a form that can run on the native machine, it instead compiles to an intermediate form that can run on the artificial machine the JVM represents. </span><span class="koboSpan" id="kobo.980.4">The JVM also isn’t an encapsulation of that machine and an operating system like a VM is; it instead is just the machine, with</span><a id="_idIndexMarker784"/><span class="koboSpan" id="kobo.981.1"> the compiled Java code running on it, and being the only thing running on it (more </span><span class="No-Break"><span class="koboSpan" id="kobo.982.1">or less).</span></span></p>
<p><span class="koboSpan" id="kobo.983.1">Java also comes with a very extensive standard library and thousands upon thousands of functions for you to use, battle-tested and extremely solid. </span><span class="koboSpan" id="kobo.983.2">This means you have a great foundation to build upon even before you think about adding any third-party libraries, which Java, of </span><span class="No-Break"><span class="koboSpan" id="kobo.984.1">course, supports.</span></span></p>
<p><span class="koboSpan" id="kobo.985.1">When you work with Java, you </span><a id="_idIndexMarker785"/><span class="koboSpan" id="kobo.986.1">normally will interact with its </span><strong class="bold"><span class="koboSpan" id="kobo.987.1">JDK</span></strong><span class="koboSpan" id="kobo.988.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.989.1">Java Development Kit</span></strong><span class="koboSpan" id="kobo.990.1">. </span><span class="koboSpan" id="kobo.990.2">The JDK is a specific form of an </span><strong class="bold"><span class="koboSpan" id="kobo.991.1">SDK</span></strong><span class="koboSpan" id="kobo.992.1">, which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.993.1">software development kit</span></strong><span class="koboSpan" id="kobo.994.1">. </span><span class="koboSpan" id="kobo.994.2">An SDK is a </span><a id="_idIndexMarker786"/><span class="koboSpan" id="kobo.995.1">collection of tools for working with a specific development platform or language, and a JDK then is an SDK specific to Java. </span><span class="koboSpan" id="kobo.995.2">You install a JDK, or indeed you can usually just expand an archive and not actually install it per se, and then use its command-line tools to compile code, debug code, and do all the other things you might want to do with </span><span class="No-Break"><span class="koboSpan" id="kobo.996.1">Java code.</span></span></p>
<h2 id="_idParaDest-192"><a id="_idTextAnchor192"/><span class="koboSpan" id="kobo.997.1">Writing a Java app</span></h2>
<p><span class="koboSpan" id="kobo.998.1">And what does Java code look like? </span><span class="koboSpan" id="kobo.998.2">Here is </span><a id="_idIndexMarker787"/><span class="koboSpan" id="kobo.999.1">perhaps the simplest Java app you can write (this is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1000.1">HelloWorld.java</span></strong><span class="koboSpan" id="kobo.1001.1"> file in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1002.1">ch-07/java</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1003.1"> directory):</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1004.1">
public class HelloWorld {
    public static void main(String inArgs[]) {
        System.out.println("Hello from your first Java
                            app!");
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1005.1">This is called a Java </span><em class="italic"><span class="koboSpan" id="kobo.1006.1">app</span></em><span class="koboSpan" id="kobo.1007.1"> specifically, and it shows that everything in Java begins with a class, which is the fundamental concept in </span><strong class="bold"><span class="koboSpan" id="kobo.1008.1">object-oriented programming</span></strong><span class="koboSpan" id="kobo.1009.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1010.1">OOP</span></strong><span class="koboSpan" id="kobo.1011.1">). </span><span class="koboSpan" id="kobo.1011.2">In short, it’s a way to bundle together code </span><a id="_idIndexMarker788"/><span class="koboSpan" id="kobo.1012.1">and data. </span><span class="koboSpan" id="kobo.1012.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1013.1">public</span></strong><span class="koboSpan" id="kobo.1014.1"> keyword before the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1015.1">class</span></strong><span class="koboSpan" id="kobo.1016.1"> keyword and name is called an access modifier, and it tells Java where this class can be used from. </span><span class="koboSpan" id="kobo.1016.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1017.1">public</span></strong><span class="koboSpan" id="kobo.1018.1"> access modifier means that any other Java code can </span><span class="No-Break"><span class="koboSpan" id="kobo.1019.1">use it.</span></span></p>
<p><span class="koboSpan" id="kobo.1020.1">Classes can have a lot of </span><a id="_idIndexMarker789"/><span class="koboSpan" id="kobo.1021.1">stuff in them, but this one contains just one thing: a function (or method, since it’s a function in a class) named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1022.1">main()</span></strong><span class="koboSpan" id="kobo.1023.1">. </span><span class="koboSpan" id="kobo.1023.2">The method has the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1024.1">public</span></strong><span class="koboSpan" id="kobo.1025.1"> access modifier too, so any other Java code can call this method (by contrast, a method can be private, which would mean that only other code in the class can </span><span class="No-Break"><span class="koboSpan" id="kobo.1026.1">use it).</span></span></p>
<p><span class="koboSpan" id="kobo.1027.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1028.1">static</span></strong><span class="koboSpan" id="kobo.1029.1"> keyword means that the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1030.1">main()</span></strong><span class="koboSpan" id="kobo.1031.1"> method can be called on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1032.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.1033.1"> class without creating a new instance of it first (which is typically what we do with classes – create object instances from them, but in this case, we just want to be able to execute the method, so we can skip that requirement </span><span class="No-Break"><span class="koboSpan" id="kobo.1034.1">with </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1035.1">static</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1036.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.1037.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1038.1">void</span></strong><span class="koboSpan" id="kobo.1039.1"> keyword means that this method won’t </span><span class="No-Break"><span class="koboSpan" id="kobo.1040.1">return anything.</span></span></p>
<p><span class="koboSpan" id="kobo.1041.1">This method accepts an argument that is an array of strings and that will come from any options we pass to it on the command line when run, if any (we don’t need that here, but I figured I’d mention it since it’s required by Java to make a Java </span><span class="No-Break"><span class="koboSpan" id="kobo.1042.1">app work).</span></span></p>
<p><span class="koboSpan" id="kobo.1043.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1044.1">System.out.println()</span></strong><span class="koboSpan" id="kobo.1045.1"> statement in </span><strong class="source-inline"><span class="koboSpan" id="kobo.1046.1">main()</span></strong><span class="koboSpan" id="kobo.1047.1"> – the only code in it – is a method that outputs text to </span><span class="No-Break"><span class="koboSpan" id="kobo.1048.1">the console.</span></span></p>
<p><span class="koboSpan" id="kobo.1049.1">You must first compile this app, and that’s done using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1050.1">Java compiler:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1051.1">
javac HelloWorld.java</span></pre> <p><span class="koboSpan" id="kobo.1052.1">That will produce a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1053.1">HelloWorld.class</span></strong><span class="koboSpan" id="kobo.1054.1"> file. </span><span class="koboSpan" id="kobo.1054.2">A </span><strong class="source-inline"><span class="koboSpan" id="kobo.1055.1">.class</span></strong><span class="koboSpan" id="kobo.1056.1"> file is what actually runs on the JVM, which you can now </span><span class="No-Break"><span class="koboSpan" id="kobo.1057.1">do easily:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1058.1">
java HelloWorld</span></pre> <p><span class="koboSpan" id="kobo.1059.1">Note that </span><strong class="source-inline"><span class="koboSpan" id="kobo.1060.1">javac</span></strong><span class="koboSpan" id="kobo.1061.1"> is the Java compiler, while plain old </span><strong class="source-inline"><span class="koboSpan" id="kobo.1062.1">java</span></strong><span class="koboSpan" id="kobo.1063.1"> is essentially the JVM. </span><span class="koboSpan" id="kobo.1063.2">The JVM will look for a file named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1064.1">HelloWorld.class</span></strong><span class="koboSpan" id="kobo.1065.1"> in the current directory, will find it assuming you’ve compiled </span><strong class="source-inline"><span class="koboSpan" id="kobo.1066.1">HelloWorld.java</span></strong><span class="koboSpan" id="kobo.1067.1">, and will then look for a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1068.1">public static void main()</span></strong><span class="koboSpan" id="kobo.1069.1"> method in it (it </span><em class="italic"><span class="koboSpan" id="kobo.1070.1">has</span></em><span class="koboSpan" id="kobo.1071.1"> to be that </span><em class="italic"><span class="koboSpan" id="kobo.1072.1">exact</span></em><span class="koboSpan" id="kobo.1073.1"> method signature), which is the default method a Java app must include to be runnable. </span><span class="koboSpan" id="kobo.1073.2">Finding one, it will execute the method, and the text should be output to </span><span class="No-Break"><span class="koboSpan" id="kobo.1074.1">the console.</span></span></p>
<p><span class="koboSpan" id="kobo.1075.1">Java apps are neat, and you can do virtually anything with them, but when we’re talking about web development with Java, we rarely do that with plain Java apps. </span><span class="koboSpan" id="kobo.1075.2">The next step above apps when it comes to web development are JSPs </span><span class="No-Break"><span class="koboSpan" id="kobo.1076.1">and servlets.</span></span></p>
<h2 id="_idParaDest-193"><a id="_idTextAnchor193"/><span class="koboSpan" id="kobo.1077.1">Introducing JSPs and servlets</span></h2>
<p><span class="koboSpan" id="kobo.1078.1">As with PHP (and with </span><strong class="source-inline"><span class="koboSpan" id="kobo.1079.1">.cshtml</span></strong><span class="koboSpan" id="kobo.1080.1"> files, as you’ll see with .NET later), Java offers a template language called </span><strong class="bold"><span class="koboSpan" id="kobo.1081.1">JSP</span></strong><span class="koboSpan" id="kobo.1082.1">, or </span><strong class="bold"><span class="koboSpan" id="kobo.1083.1">Java Server Pages</span></strong><span class="koboSpan" id="kobo.1084.1">. </span><span class="koboSpan" id="kobo.1084.2">This allows you to embed Java code in HTML files. </span><span class="koboSpan" id="kobo.1084.3">A simple example would be </span><a id="_idIndexMarker790"/><span class="No-Break"><span class="koboSpan" id="kobo.1085.1">the following:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1086.1">
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Hello World JSP&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;% out.println("Hello World!"); %&gt;
  &lt;/body&gt;
&lt;/html&gt;</span></pre> <p><span class="koboSpan" id="kobo.1087.1">Any code inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1088.1">&lt;% %&gt;</span></strong><span class="koboSpan" id="kobo.1089.1"> block is Java code and will be executed as such, just as </span><span class="No-Break"><span class="koboSpan" id="kobo.1090.1">with PHP.</span></span></p>
<p><span class="koboSpan" id="kobo.1091.1">When a JSP is requested, it will be processed by the JVM, and what will happen is something called a </span><strong class="bold"><span class="koboSpan" id="kobo.1092.1">servlet</span></strong><span class="koboSpan" id="kobo.1093.1"> will be generated. </span><span class="koboSpan" id="kobo.1093.2">A</span><a id="_idIndexMarker791"/><span class="koboSpan" id="kobo.1094.1"> servlet is a special Java class that knows how to respond to HTTP requests. </span><span class="koboSpan" id="kobo.1094.2">But servlets can’t work alone. </span><span class="koboSpan" id="kobo.1094.3">Instead, they have to be run as part of a </span><strong class="bold"><span class="koboSpan" id="kobo.1095.1">Java web app</span></strong><span class="koboSpan" id="kobo.1096.1">, which runs in an </span><strong class="bold"><span class="koboSpan" id="kobo.1097.1">application server</span></strong><span class="koboSpan" id="kobo.1098.1">. </span><span class="koboSpan" id="kobo.1098.2">The application server manages the web app, handles its lifecycle events, and acts as the web server. </span><span class="koboSpan" id="kobo.1098.3">When it sees a</span><a id="_idIndexMarker792"/><span class="koboSpan" id="kobo.1099.1"> request come in for this JSP for the first time, it will generate a servlet class and then execute it (subsequent requests can just execute </span><span class="No-Break"><span class="koboSpan" id="kobo.1100.1">it immediately).</span></span></p>
<p><span class="koboSpan" id="kobo.1101.1">The servlet code for our JSP that would be generated might look something </span><span class="No-Break"><span class="koboSpan" id="kobo.1102.1">like this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1103.1">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
public class GeneratedServlet extends HttpServlet {
    public void _jspService(HttpServletRequest request,
        HttpServletResponse response)
            throws IOException, ServletException {
        response.setContentType("text/html");
        PrintWriter out = response.getWriter();
        out.println("&lt;html&gt;");
        out.println("&lt;head&gt;");
        out.println("&lt;title&gt;Hello World JSP&lt;/title&gt;");
        out.println("&lt;/head&gt;");
        out.println("&lt;body&gt;");
        out.println("Hello World!");
        out.println("&lt;/body&gt;");
        out.println("&lt;/html&gt;");
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1104.1">There would likely be additional methods present to handle various events in the lifetime of a servlet, but that’s the basic idea, and you can see how the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1105.1">_jspSevice()</span></strong><span class="koboSpan" id="kobo.1106.1"> method, which</span><a id="_idIndexMarker793"/><span class="koboSpan" id="kobo.1107.1"> is the main one in a servlet, outputs the HTML from our JSP. </span><span class="koboSpan" id="kobo.1107.2">Of course, more complex Java code in the JSP would result in more complex code in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1108.1">servlet too.</span></span></p>
<p><span class="koboSpan" id="kobo.1109.1">You can write a servlet directly yourself too; you don’t have to start with JSPs. </span><span class="koboSpan" id="kobo.1109.2">In fact, while JSPs can’t be used without servlets, servlets can definitely be used </span><span class="No-Break"><span class="koboSpan" id="kobo.1110.1">without JSPs.</span></span></p>
<p><span class="koboSpan" id="kobo.1111.1">Note that I have not included a complete example of all of this in the code bundle for </span><span class="No-Break"><span class="koboSpan" id="kobo.1112.1">two reasons.</span></span></p>
<p><span class="koboSpan" id="kobo.1113.1">First, there’s quite a lot more involved in setting up a working Java web app than this, starting with needing to install and run an app server (which is what manages the JSPs and servlets and the web app they’re a part of, and something called </span><strong class="bold"><span class="koboSpan" id="kobo.1114.1">Java Enterprise Edition</span></strong><span class="koboSpan" id="kobo.1115.1"> (or </span><strong class="bold"><span class="koboSpan" id="kobo.1116.1">JEE</span></strong><span class="koboSpan" id="kobo.1117.1"> for short). </span><span class="koboSpan" id="kobo.1117.2">While Java itself comes with a robust standard library, JEE builds on top of that significantly, providing </span><a id="_idIndexMarker794"/><span class="koboSpan" id="kobo.1118.1">a lot of the higher-level functions modern web apps need. </span><span class="koboSpan" id="kobo.1118.2">While Java comes with basic data structure and algorithms, JEE added JSPs, servlets, database access, and a whole host of other “</span><span class="No-Break"><span class="koboSpan" id="kobo.1119.1">advanced” facilities.</span></span></p>
<p><span class="koboSpan" id="kobo.1120.1">Second, I wanted to save space</span><a id="_idIndexMarker795"/><span class="koboSpan" id="kobo.1121.1"> for the next section, which I did include a working example for since the topics of Spring and Spring Boot are arguably more important nowadays than being able to build a Java web app from scratch using JSPs and/or servlets and even JEE, and that’s what we’re looking </span><span class="No-Break"><span class="koboSpan" id="kobo.1122.1">at next.</span></span></p>
<h2 id="_idParaDest-194"><a id="_idTextAnchor194"/><span class="koboSpan" id="kobo.1123.1">Introducing Spring and Spring Boot</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.1124.1">Spring</span></strong><span class="koboSpan" id="kobo.1125.1"> is without question the single most popular third-party library available for Java. </span><span class="koboSpan" id="kobo.1125.2">It supplies an absolutely </span><a id="_idIndexMarker796"/><span class="koboSpan" id="kobo.1126.1">monstrous list of features on top of Java: things such as security, streamlined database functionality, a high-level web app architecture, REST service construction and consumption, task scheduling, and so </span><span class="No-Break"><span class="koboSpan" id="kobo.1127.1">much more.</span></span></p>
<p><span class="koboSpan" id="kobo.1128.1">What it’s perhaps best known for, though, is its </span><strong class="bold"><span class="koboSpan" id="kobo.1129.1">Dependency Injection</span></strong><span class="koboSpan" id="kobo.1130.1">, or </span><strong class="bold"><span class="koboSpan" id="kobo.1131.1">DI</span></strong><span class="koboSpan" id="kobo.1132.1">, framework. </span><span class="koboSpan" id="kobo.1132.2">DI is the idea that rather than </span><a id="_idIndexMarker797"/><span class="koboSpan" id="kobo.1133.1">your code constructing objects of various types, it is better to have some higher-level entity </span><em class="italic"><span class="koboSpan" id="kobo.1134.1">inject</span></em><span class="koboSpan" id="kobo.1135.1"> them into your code. </span><span class="koboSpan" id="kobo.1135.2">There are many reasons for doing this, but maybe the biggest is testing. </span><span class="koboSpan" id="kobo.1135.3">If you have some code that builds a connection to a database and you then want to test the code, you might need to connect to a separate test database. </span><span class="koboSpan" id="kobo.1135.4">Rather than having to build that into the code, you could instead have a test framework build the connection, knowing how to build it for the test database rather than the real database, and inject the connection into your code. </span><span class="koboSpan" id="kobo.1135.5">That way, the code you test is identical regardless of which database you </span><span class="No-Break"><span class="koboSpan" id="kobo.1136.1">connect to.</span></span></p>
<p><span class="koboSpan" id="kobo.1137.1">Spring became famous for this DI framework, but it grew massively after that, encompassing nearly anything you could do with Java. </span><span class="koboSpan" id="kobo.1137.2">In fact, it’s so comprehensive now that a lot of people consider Spring to be the core of what Java is, JEE specifically. </span><span class="koboSpan" id="kobo.1137.3">While Spring still needs JEE under the covers, when using Spring, you can all but ignore JEE if you wish, deferring to Spring’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1138.1">functionality instead.</span></span></p>
<p><span class="koboSpan" id="kobo.1139.1">Building on top of Spring comes something called Spring Boot. </span><span class="koboSpan" id="kobo.1139.2">In short, </span><strong class="bold"><span class="koboSpan" id="kobo.1140.1">Spring Boot</span></strong><span class="koboSpan" id="kobo.1141.1"> is a framework that helps you</span><a id="_idIndexMarker798"/><span class="koboSpan" id="kobo.1142.1"> bootstrap (set up) and develop Spring-based Java apps, most commonly web apps. </span><span class="koboSpan" id="kobo.1142.2">Spring Boot does this in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1143.1">following ways:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.1144.1">Auto-configuration</span></strong><span class="koboSpan" id="kobo.1145.1">: Spring Boot automatically configures your application based on the libraries you have on your classpath (all the places the JVM looks for </span><strong class="source-inline"><span class="koboSpan" id="kobo.1146.1">.class</span></strong><span class="koboSpan" id="kobo.1147.1"> files). </span><span class="koboSpan" id="kobo.1147.2">This simplifies the process of setting up and configuring </span><span class="No-Break"><span class="koboSpan" id="kobo.1148.1">Spring applications.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1149.1">Standalone</span></strong><span class="koboSpan" id="kobo.1150.1">: Spring Boot applications are standalone and can be run directly using Java, which makes it easier to build and test </span><span class="No-Break"><span class="koboSpan" id="kobo.1151.1">Spring applications.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1152.1">Opinionated defaults</span></strong><span class="koboSpan" id="kobo.1153.1">: Spring Boot comes with a set of opinionated defaults for quick project setup, while also offering options to override these settings for customization. </span><span class="koboSpan" id="kobo.1153.2">This means you have to do less up-front configuration to make a Spring Boot app work, but you can override the defaults later as </span><span class="No-Break"><span class="koboSpan" id="kobo.1154.1">needs dictate.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1155.1">Embedded servers</span></strong><span class="koboSpan" id="kobo.1156.1">: Spring Boot apps include the Tomcat, Jetty, or Undertow app server directly, so you don’t need to deploy your application to an app server. </span><span class="koboSpan" id="kobo.1156.2">You get a runnable unit with Spring Boot that requires nothing aside from Java itself </span><span class="No-Break"><span class="koboSpan" id="kobo.1157.1">to work.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.1158.1">Wide range of features</span></strong><span class="koboSpan" id="kobo.1159.1">: Out-of-the-box Spring Boot supports a wide range of data access, security, and cloud services, making it a versatile tool for a variety </span><span class="No-Break"><span class="koboSpan" id="kobo.1160.1">of applications.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1161.1">Let’s now build a simple Hello World web app with Spring Boot and see </span><span class="No-Break"><span class="koboSpan" id="kobo.1162.1">what’s involved.</span></span></p>
<h2 id="_idParaDest-195"><a id="_idTextAnchor195"/><span class="koboSpan" id="kobo.1163.1">A simple Spring Boot web app</span></h2>
<p><span class="koboSpan" id="kobo.1164.1">The simplest way to start a Spring</span><a id="_idIndexMarker799"/><span class="koboSpan" id="kobo.1165.1"> Boot app is to head on over to </span><a href="https://start.spring.io"><span class="koboSpan" id="kobo.1166.1">https://start.spring.io</span></a><span class="koboSpan" id="kobo.1167.1"> and let someone else do the work for you! </span><span class="koboSpan" id="kobo.1167.2">This is a site provided by the creators of Spring and Spring Boot that will generate a basic Spring Boot app </span><span class="No-Break"><span class="koboSpan" id="kobo.1168.1">for you.</span></span></p>
<p><span class="koboSpan" id="kobo.1169.1">You can see this site in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1170.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1171.1">.7</span></em><span class="koboSpan" id="kobo.1172.1">. </span><span class="koboSpan" id="kobo.1172.2">If you want to try it yourself, select the options you see here (including adding the </span><strong class="bold"><span class="koboSpan" id="kobo.1173.1">Spring Web</span></strong><span class="koboSpan" id="kobo.1174.1"> dependency on the right, or this project </span><span class="No-Break"><span class="koboSpan" id="kobo.1175.1">won’t work!).</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer081">
<span class="koboSpan" id="kobo.1176.1"><img alt="Figure 7.7: The Spring Initializr website with options for creating the example project" src="image/B18315_07_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1177.1">Figure 7.7: The Spring Initializr website with options for creating the example project</span></p>
<p><span class="koboSpan" id="kobo.1178.1">Once you click the </span><strong class="bold"><span class="koboSpan" id="kobo.1179.1">Generate</span></strong><span class="koboSpan" id="kobo.1180.1"> button, you’ll get a download of a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1181.1">.zip</span></strong><span class="koboSpan" id="kobo.1182.1"> file that contains your starter project. </span><span class="koboSpan" id="kobo.1182.2">Extract that archive, go to Command Prompt in the directory (which would be named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1183.1">demo</span></strong><span class="koboSpan" id="kobo.1184.1"> if you entered exactly what is shown in the screenshot), and execute </span><span class="No-Break"><span class="koboSpan" id="kobo.1185.1">this command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1186.1">
mvnw spring-boot:run</span></pre> <p><span class="koboSpan" id="kobo.1187.1">You’ll see a ton of stuff fly by and, as long as it doesn’t end with an error of some sort, it doesn’t really matter. </span><span class="koboSpan" id="kobo.1187.2">But, to give you some idea… Maven, which is what the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1188.1">mvnw</span></strong><span class="koboSpan" id="kobo.1189.1"> command represents, is a </span><a id="_idIndexMarker800"/><span class="koboSpan" id="kobo.1190.1">Java build tool. </span><span class="koboSpan" id="kobo.1190.2">It knows how to build your project into a runnable unit. </span><span class="koboSpan" id="kobo.1190.3">You see, real Java apps are rarely just a single </span><strong class="source-inline"><span class="koboSpan" id="kobo.1191.1">.java</span></strong><span class="koboSpan" id="kobo.1192.1"> file to be compiled. </span><span class="koboSpan" id="kobo.1192.2">Usually, there are all sorts of third-party libraries needed, lots of source files to compile, and other files that must be included in various ways. </span><span class="koboSpan" id="kobo.1192.3">Rather than figure out how to do all of that yourself, as long as you follow a standard structure and provide some configuration files, then Maven will know how to build your project, get all the dependencies for you, and handle all those </span><span class="No-Break"><span class="koboSpan" id="kobo.1193.1">icky details.</span></span></p>
<p><span class="koboSpan" id="kobo.1194.1">Usually, the command to use for Maven is just plain </span><strong class="source-inline"><span class="koboSpan" id="kobo.1195.1">mvn</span></strong><span class="koboSpan" id="kobo.1196.1">. </span><span class="koboSpan" id="kobo.1196.2">But, for that to work, Maven must already be installed and in your path. </span><span class="koboSpan" id="kobo.1196.3">To save from having to do that yourself, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1197.1">mvnw</span></strong><span class="koboSpan" id="kobo.1198.1"> is a Maven </span><em class="italic"><span class="koboSpan" id="kobo.1199.1">wrapper</span></em><span class="koboSpan" id="kobo.1200.1">. </span><span class="koboSpan" id="kobo.1200.2">These files know how to use Maven without you first having to install it. </span><span class="koboSpan" id="kobo.1200.3">When you first run that command, the wrapper will download the necessary Maven files, everything Maven needs to run, and then it will begin building the project, downloading all of its dependencies along </span><span class="No-Break"><span class="koboSpan" id="kobo.1201.1">the way.</span></span></p>
<p><span class="koboSpan" id="kobo.1202.1">At the end, it will run the project, which starts the server that Spring Boot provides. </span><span class="koboSpan" id="kobo.1202.2">And you can then access it in your browser at </span><a href="http://localhost:8080"><span class="koboSpan" id="kobo.1203.1">http://localhost:8080</span></a><span class="koboSpan" id="kobo.1204.1">. </span><span class="koboSpan" id="kobo.1204.2">However, if you do that right away, you’ll get a “Whitelabel Error Page” screen. </span><span class="koboSpan" id="kobo.1204.3">That’s because we haven’t supplied any code to</span><a id="_idIndexMarker801"/><span class="koboSpan" id="kobo.1205.1"> handle the default route, and Spring Boot isn’t going to do that </span><span class="No-Break"><span class="koboSpan" id="kobo.1206.1">for us!</span></span></p>
<p><span class="koboSpan" id="kobo.1207.1">To fix it, we need to add a file named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1208.1">HelloController.java</span></strong><span class="koboSpan" id="kobo.1209.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1210.1">src/main/java/com/example/demo</span></strong><span class="koboSpan" id="kobo.1211.1"> directory under the parent project directory and put the following content </span><span class="No-Break"><span class="koboSpan" id="kobo.1212.1">into it:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1213.1">
package com.example.demo;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.
</span><span class="koboSpan" id="kobo.1213.2">    RestController;
@RestController
public class HelloController {
    @GetMapping("/")
    public String index() {
        return "Hello, world!";
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1214.1">This is a controller class that handles requests to specified URLs. </span><span class="koboSpan" id="kobo.1214.2">In this case, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1215.1">@GetMapping("/")</span></strong><span class="koboSpan" id="kobo.1216.1"> line tells Spring Boot to execute this method when a URL with nothing after the domain name comes in (where </span><strong class="source-inline"><span class="koboSpan" id="kobo.1217.1">localhost</span></strong><span class="koboSpan" id="kobo.1218.1"> is our </span><span class="No-Break"><span class="koboSpan" id="kobo.1219.1">domain name).</span></span></p>
<p><span class="koboSpan" id="kobo.1220.1">This statement, plus the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1221.1">@RestController</span></strong><span class="koboSpan" id="kobo.1222.1"> line, are what </span><a id="_idIndexMarker802"/><span class="koboSpan" id="kobo.1223.1">are called </span><strong class="bold"><span class="koboSpan" id="kobo.1224.1">annotations</span></strong><span class="koboSpan" id="kobo.1225.1">. </span><span class="koboSpan" id="kobo.1225.2">These are a common thing in many languages and provide metadata about your code to something, be it the JVM, or Spring Boot in this case. </span><span class="koboSpan" id="kobo.1225.3">It’s kind of a marker: Spring Boot will search all classes at startup for these annotations and do something with them, sometimes replace them with code, and sometimes just record which classes had them; it’s all up to whatever is processing the annotation. </span><span class="koboSpan" id="kobo.1225.4">In this case, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1226.1">@RestController</span></strong><span class="koboSpan" id="kobo.1227.1"> annotation tells Spring Boot that this class handles HTTP requests (it’s generally meant to be used to build REST APIs, but given that a simple </span><strong class="source-inline"><span class="koboSpan" id="kobo.1228.1">GET</span></strong><span class="koboSpan" id="kobo.1229.1"> request to a URL is still a RESTful operation, it counts for this use case), and Spring Boot will maintain a mapping </span><a id="_idIndexMarker803"/><span class="koboSpan" id="kobo.1230.1">between URLs and controllers and hand requests off to the appropriate controllers when they </span><span class="No-Break"><span class="koboSpan" id="kobo.1231.1">come in.</span></span></p>
<p><span class="koboSpan" id="kobo.1232.1">The method annotated with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1233.1">@GetMapping</span></strong><span class="koboSpan" id="kobo.1234.1"> annotation then executes and returns our greeting string – nothing fancy there at all. </span><span class="koboSpan" id="kobo.1234.2">In fact, this is about as simple as a Spring Boot app gets, but it demonstrates the basic ideas </span><span class="No-Break"><span class="koboSpan" id="kobo.1235.1">well enough.</span></span></p>
<p><span class="koboSpan" id="kobo.1236.1">Spring Boot, as well as Spring and Java itself, is so broad and does so much that you can’t hope to learn it all in one go; you have to introduce new concepts as they’re needed and learn as you go, which you’ll remember is one of the big core requirements to being a </span><span class="No-Break"><span class="koboSpan" id="kobo.1237.1">web developer!</span></span></p>
<p><span class="koboSpan" id="kobo.1238.1">Now that you’ve seen some PHP and Java, let’s have a look at another choice for server-side coding, this time from our friends at </span><span class="No-Break"><span class="koboSpan" id="kobo.1239.1">Microsoft: .NET.</span></span></p>
<h1 id="_idParaDest-196"><a id="_idTextAnchor196"/><span class="koboSpan" id="kobo.1240.1">Introducing .NET</span></h1>
<p><span class="koboSpan" id="kobo.1241.1">While Java largely rules the enterprise space, it’s not the only popular choice there. </span><span class="koboSpan" id="kobo.1241.2">Microsoft has a competitor to it named .NET. </span><span class="koboSpan" id="kobo.1241.3">As with Java, it’s a large, sprawling platform that covers pretty much all the bases in terms of what developers need. </span><span class="koboSpan" id="kobo.1241.4">It can handle database access and network </span><a id="_idIndexMarker804"/><span class="koboSpan" id="kobo.1242.1">communications and can be used to build RESTful APIs as well as other </span><a id="_idIndexMarker805"/><span class="koboSpan" id="kobo.1243.1">server-based facilities. </span><span class="koboSpan" id="kobo.1243.2">It can be used in </span><strong class="bold"><span class="koboSpan" id="kobo.1244.1">artificial intelligence</span></strong><span class="koboSpan" id="kobo.1245.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1246.1">AI</span></strong><span class="koboSpan" id="kobo.1247.1">) applications, and it comes with support for several </span><a id="_idIndexMarker806"/><span class="koboSpan" id="kobo.1248.1">different languages via the </span><strong class="bold"><span class="koboSpan" id="kobo.1249.1">Common Language Runtime</span></strong><span class="koboSpan" id="kobo.1250.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.1251.1">CLR</span></strong><span class="koboSpan" id="kobo.1252.1">, which is conceptually like </span><span class="No-Break"><span class="koboSpan" id="kobo.1253.1">Java’s JVM.</span></span></p>
<p><span class="koboSpan" id="kobo.1254.1">And like Java, while .NET is definitely used for desktop development – more so than Java, in fact, is – it has largely become the domain of the server and is the primary supported language/platform in Microsoft’s Azure cloud. </span><span class="koboSpan" id="kobo.1254.2">And while .NET began primarily as a Windows technology, it is currently also officially supported on Linux and other </span><span class="No-Break"><span class="koboSpan" id="kobo.1255.1">operating systems.</span></span></p>
<p><span class="koboSpan" id="kobo.1256.1">.NET is often used in conjunction with Microsoft’s Visual Studio IDE. </span><span class="koboSpan" id="kobo.1256.2">In fact, in practice, you probably won’t find that many .NET developers who don’t use it! </span><span class="koboSpan" id="kobo.1256.3">But at the end of the day, it’s not required since .NET provides an SDK like Java that you can work with exclusively from the</span><a id="_idIndexMarker807"/><span class="koboSpan" id="kobo.1257.1"> command line, and for our purposes, here we won’t be using </span><span class="No-Break"><span class="koboSpan" id="kobo.1258.1">Visual Studio.</span></span></p>
<h2 id="_idParaDest-197"><a id="_idTextAnchor197"/><span class="koboSpan" id="kobo.1259.1">Generating a Hello World web app</span></h2>
<p><span class="koboSpan" id="kobo.1260.1">Assuming you have the .NET SDK installed and </span><a id="_idIndexMarker808"/><span class="koboSpan" id="kobo.1261.1">working, it makes it even easier than other options to build a Hello World application because it’s built right into .NET! </span><span class="koboSpan" id="kobo.1261.2">All you need to do is create a directory for your project and execute </span><span class="No-Break"><span class="koboSpan" id="kobo.1262.1">this command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1263.1">
dotnet new mvc -n HelloWorld</span></pre> <p><span class="koboSpan" id="kobo.1264.1">You’ll wind up with a new directory named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1265.1">HelloWorld</span></strong><span class="koboSpan" id="kobo.1266.1">, in which will be a fully functional Hello World application! </span><span class="koboSpan" id="kobo.1266.2">To run it, navigate to that new directory and execute </span><span class="No-Break"><span class="koboSpan" id="kobo.1267.1">this command:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1268.1">
dotnet run</span></pre> <p><span class="koboSpan" id="kobo.1269.1">You will, of course, find such a project already built in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1270.1">ch-07/dotnet/HelloWorld</span></strong><span class="koboSpan" id="kobo.1271.1"> directory, but it’s a good exercise to create and run it yourself from scratch. </span><span class="koboSpan" id="kobo.1271.2">And once you do, you can access the page </span><span class="No-Break"><span class="koboSpan" id="kobo.1272.1">at </span></span><span class="No-Break"><span class="koboSpan" id="kobo.1273.1">http://localhost:5262</span></span><span class="No-Break"><span class="koboSpan" id="kobo.1274.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1275.1">You’ll note from looking at </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1276.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1277.1">.8</span></em><span class="koboSpan" id="kobo.1278.1"> that it has a little more content than the simple “Hello, World!” </span><span class="koboSpan" id="kobo.1278.2">page as in the previous examples (which is why I’m showing it here while I didn’t show the others). </span><span class="koboSpan" id="kobo.1278.3">Unfortunately, as a result of that, there is a lot more code behind this “simple” example than either the PHP or Java versions – too much to go </span><span class="No-Break"><span class="koboSpan" id="kobo.1279.1">into everything:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer082">
<span class="koboSpan" id="kobo.1280.1"><img alt="Figure 7.8: The .NET version of the Hello World app" src="image/B18315_07_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1281.1">Figure 7.8: The .NET version of the Hello World app</span></p>
<p><span class="koboSpan" id="kobo.1282.1">But, to not leave you completely with nothing, the three main files involved are probably </span><strong class="source-inline"><span class="koboSpan" id="kobo.1283.1">Program.cs</span></strong><span class="koboSpan" id="kobo.1284.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1285.1">HomeController.cs</span></strong><span class="koboSpan" id="kobo.1286.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.1287.1">Index.cshtml</span></strong><span class="koboSpan" id="kobo.1288.1"> (there are many other files created by .NET, but those are kind of the key ones). </span><span class="koboSpan" id="kobo.1288.2">These files are what we’ll be looking at in the next </span><span class="No-Break"><span class="koboSpan" id="kobo.1289.1">three subsections.</span></span></p>
<p><span class="koboSpan" id="kobo.1290.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1291.1">.cs</span></strong><span class="koboSpan" id="kobo.1292.1"> extension indicates these are C# source files, where C# is one of the languages you can use in .NET, and by </span><a id="_idIndexMarker809"/><span class="koboSpan" id="kobo.1293.1">far the most used one at that (nearly to the exclusion of all others, I’d even say). </span><span class="koboSpan" id="kobo.1293.2">By extension, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1294.1">.cshtml</span></strong><span class="koboSpan" id="kobo.1295.1"> indicates an HTML file that has C# code embedded in it, much like a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1296.1">.php</span></strong><span class="koboSpan" id="kobo.1297.1"> file can have PHP code embedded </span><span class="No-Break"><span class="koboSpan" id="kobo.1298.1">in it.</span></span></p>
<h3><span class="koboSpan" id="kobo.1299.1">The server starting point</span></h3>
<p><span class="koboSpan" id="kobo.1300.1">Here’s the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1301.1">Program.cs</span></strong><span class="koboSpan" id="kobo.1302.1"> file, which is</span><a id="_idIndexMarker810"/><span class="koboSpan" id="kobo.1303.1"> essentially the starting point that sets up </span><span class="No-Break"><span class="koboSpan" id="kobo.1304.1">the server:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1305.1">
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddControllersWithViews();
var app = builder.Build();
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error");
    app.UseHsts();
}
app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseRouting();
app.UseAuthorization();
app.MapControllerRoute(
    name: "default",
    pattern: "{controller=Home}/{action=Index}/{id?}");
app.Run();</span></pre> <p><span class="koboSpan" id="kobo.1306.1">If you generate this app yourself, your version may look slightly different depending on what version of the SDK you have, but it should look substantially the same. </span><span class="koboSpan" id="kobo.1306.2">From it, you can tell that C# looks a lot like all the languages you’ve seen, which is to be expected since they all are based on the C language’s syntax and structure (there are huge differences between, say, JS and C#, but they look similar enough and share enough concepts that you can </span><a id="_idIndexMarker811"/><span class="koboSpan" id="kobo.1307.1">probably grasp what’s going on even if you’ve never seen a given C-based </span><span class="No-Break"><span class="koboSpan" id="kobo.1308.1">language before).</span></span></p>
<p><span class="koboSpan" id="kobo.1309.1">Similar to making a server with Node and Express, you construct an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1310.1">app</span></strong><span class="koboSpan" id="kobo.1311.1"> object, in this case using something called a builder, which is code that knows how to construct an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1312.1">app</span></strong><span class="koboSpan" id="kobo.1313.1"> object for you (I know, obvious, right?). </span><span class="koboSpan" id="kobo.1313.2">After that, middleware is added for doing things such as handling errors (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1314.1">UserExceptionHandler</span></strong><span class="koboSpan" id="kobo.1315.1">), serving static files (</span><strong class="source-inline"><span class="koboSpan" id="kobo.1316.1">UseStaticFiles</span></strong><span class="koboSpan" id="kobo.1317.1">), and setting up routes to </span><span class="No-Break"><span class="koboSpan" id="kobo.1318.1">controllers (</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1319.1">MapControllerRoute</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1320.1">).</span></span></p>
<h3><span class="koboSpan" id="kobo.1321.1">The controller</span></h3>
<p><span class="koboSpan" id="kobo.1322.1">A controller is a piece of code that handles </span><a id="_idIndexMarker812"/><span class="koboSpan" id="kobo.1323.1">a given request, and that’s where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1324.1">HomeController.cs</span></strong><span class="koboSpan" id="kobo.1325.1"> file comes in, as it handles our main “</span><span class="No-Break"><span class="koboSpan" id="kobo.1326.1">home” route:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1327.1">
using System.Diagnostics;
using Microsoft.AspNetCore.Mvc;
using HelloWorld.Models;
namespace HelloWorld.Controllers;
public class HomeController : Controller
{
    private readonly ILogger&lt;HomeController&gt; _logger;
    public HomeController(ILogger&lt;HomeController&gt; logger)
    {
        _logger = logger;
    }
    public IActionResult Index()
    {
        return View();
    }
    public IActionResult Privacy()
    {
        return View();
    }
    [ResponseCache(Duration = 0, Location =
        ResponseCacheLocation.None, NoStore = true)]
    public IActionResult Error()
    {
        return View(new ErrorViewModel { RequestId =
            Activity.Current?.Id ??
</span><span class="koboSpan" id="kobo.1327.2">                HttpContext.TraceIdentifier });
    }
}</span></pre> <p><span class="koboSpan" id="kobo.1328.1">This is part of an </span><strong class="bold"><span class="koboSpan" id="kobo.1329.1">MVC</span></strong><span class="koboSpan" id="kobo.1330.1"> application, which stands for </span><strong class="bold"><span class="koboSpan" id="kobo.1331.1">Model-View-Controller</span></strong><span class="koboSpan" id="kobo.1332.1">. </span><span class="koboSpan" id="kobo.1332.2">This is an application architecture pattern – a</span><a id="_idIndexMarker813"/><span class="koboSpan" id="kobo.1333.1"> way to structure applications, in other words – that tries to separate out the view (usually in the form of an HTML file or something similar) from the model (which means the data, in essence) from the controller (which binds the other two together). </span><span class="koboSpan" id="kobo.1333.2">The three are usually implemented as separate units of code as is the case here, but they work together to generate a response for a client on a given URL. </span><span class="koboSpan" id="kobo.1333.3">The reason for </span><a id="_idIndexMarker814"/><span class="koboSpan" id="kobo.1334.1">doing this is that if you want to change, say, your database, you can do so without touching the view or the controller layers; just change the model layer </span><span class="No-Break"><span class="koboSpan" id="kobo.1335.1">as needed.</span></span></p>
<p><span class="koboSpan" id="kobo.1336.1">Note that in this example, there actually is no model layer, which is okay: you can still have a more-or-less MVC architecture even if the view or model is left out (the controller will always be present, and it’s rare to not have a view layer, but if you don’t need data then you don’t need a model layer, which really makes it an MV architecture, but we tend to call it MVC anyway, I guess just because developers can be </span><span class="No-Break"><span class="koboSpan" id="kobo.1337.1">weird sometimes!).</span></span></p>
<h3><span class="koboSpan" id="kobo.1338.1">The view</span></h3>
<p><span class="koboSpan" id="kobo.1339.1">Finally, a view is</span><a id="_idIndexMarker815"/><span class="koboSpan" id="kobo.1340.1"> generated by the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1341.1">Index.cshtml</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1342.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1343.1">
@{
    ViewData["Title"] = "Home Page";
}
&lt;div class="text-center"&gt;
    &lt;h1 class="display-4"&gt;Welcome&lt;/h1&gt;
    &lt;p&gt;Learn about
        &lt;a href="https://learn.microsoft.com/aspnet/core"&gt;
            building Web apps with ASP.NET Core&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</span></pre> <p><span class="koboSpan" id="kobo.1344.1">And it’s the simplest one of the three! </span><span class="koboSpan" id="kobo.1344.2">Like PHP and JSP, it’s a template in essence, where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1345.1">${ }</span></strong><span class="koboSpan" id="kobo.1346.1"> blocks represent C# code to be executed when rendered. </span><span class="koboSpan" id="kobo.1346.2">The rest is just </span><span class="No-Break"><span class="koboSpan" id="kobo.1347.1">plain HTML.</span></span></p>
<p><span class="koboSpan" id="kobo.1348.1">PHP, Java, and .NET aren’t the only choices, though. </span><span class="koboSpan" id="kobo.1348.2">Another you might consider is one you saw in earlier chapters: Python. </span><span class="koboSpan" id="kobo.1348.3">Let’s see how Python can be used to build web </span><span class="No-Break"><span class="koboSpan" id="kobo.1349.1">apps next.</span></span></p>
<h1 id="_idParaDest-198"><a id="_idTextAnchor198"/><span class="koboSpan" id="kobo.1350.1">Using Python web app frameworks</span></h1>
<p><span class="koboSpan" id="kobo.1351.1">In </span><a href="B18315_05.xhtml#_idTextAnchor129"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1352.1">Chapter 5</span></em></span></a><span class="koboSpan" id="kobo.1353.1">, you met Python, and we</span><a id="_idIndexMarker816"/><span class="koboSpan" id="kobo.1354.1"> talked about how it can be used in the context of DevOps. </span><span class="koboSpan" id="kobo.1354.2">That’s not the only place Python can be used, though. </span><span class="koboSpan" id="kobo.1354.3">Of course, you can write standalone Python apps for all sorts of purposes too. </span><span class="koboSpan" id="kobo.1354.4">But beyond that, Python can be used as the backend platform for your websites and web apps </span><span class="No-Break"><span class="koboSpan" id="kobo.1355.1">as well.</span></span></p>
<p><span class="koboSpan" id="kobo.1356.1">As you’ve seen, when working with Node to develop server-side code, developers have two main paths. </span><span class="koboSpan" id="kobo.1356.2">One is to build the server code solely with Node’s built-in capabilities, which can be suitable for smaller projects. </span><span class="koboSpan" id="kobo.1356.3">However, for larger projects, most developers prefer using a library or framework such as Express to enhance their </span><span class="No-Break"><span class="koboSpan" id="kobo.1357.1">development process.</span></span></p>
<p><span class="koboSpan" id="kobo.1358.1">Similarly, Python offers all the</span><a id="_idIndexMarker817"/><span class="koboSpan" id="kobo.1359.1"> essentials for building a server from scratch. </span><span class="koboSpan" id="kobo.1359.2">But as with Node, many developers opt for a more comprehensive solution in the form of a framework to avoid writing a lot of repetitive, foundational code, one of those </span><span class="No-Break"><span class="koboSpan" id="kobo.1360.1">being Django.</span></span></p>
<h2 id="_idParaDest-199"><a id="_idTextAnchor199"/><span class="koboSpan" id="kobo.1361.1">Django</span></h2>
<p><strong class="bold"><span class="koboSpan" id="kobo.1362.1">Django</span></strong><span class="koboSpan" id="kobo.1363.1"> is a framework designed to</span><a id="_idIndexMarker818"/><span class="koboSpan" id="kobo.1364.1"> streamline development; Django aims to ease the development load by providing pre-built defaults for various functions, significantly </span><a id="_idIndexMarker819"/><span class="koboSpan" id="kobo.1365.1">cutting down on the amount of basic code developers need to write. </span><span class="koboSpan" id="kobo.1365.2">Django is known for being like Angular in the sense that it tries to include most, if not all, of what a typical developer will need to get the </span><span class="No-Break"><span class="koboSpan" id="kobo.1366.1">job done.</span></span></p>
<p><span class="koboSpan" id="kobo.1367.1">To give you a brief view of what a Django app might look like, you would need to start by creating a directory to host your project (which you’ll find in the download bundle under </span><strong class="source-inline"><span class="koboSpan" id="kobo.1368.1">ch-07/python</span></strong><span class="koboSpan" id="kobo.1369.1">) and installing </span><span class="No-Break"><span class="koboSpan" id="kobo.1370.1">Django itself:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1371.1">
pip install django</span></pre> <p><span class="koboSpan" id="kobo.1372.1">In the Python world, </span><strong class="source-inline"><span class="koboSpan" id="kobo.1373.1">pip</span></strong><span class="koboSpan" id="kobo.1374.1"> plays the same basic role as </span><strong class="source-inline"><span class="koboSpan" id="kobo.1375.1">npm</span></strong><span class="koboSpan" id="kobo.1376.1"> does in the Node world, installing and dealing with packages, and this specific command installs the Django package globally, meaning it can be used from anywhere. </span><span class="koboSpan" id="kobo.1376.2">After that, we can use commands that Django provides to create a new </span><span class="No-Break"><span class="koboSpan" id="kobo.1377.1">Django project:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1378.1">
django-admin startproject helloworld_project</span></pre> <p><span class="koboSpan" id="kobo.1379.1">You’ll wind up with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1380.1">helloworld_project</span></strong><span class="koboSpan" id="kobo.1381.1"> directory in whichever directory you’re in when you execute it, which you will then navigate to for the </span><span class="No-Break"><span class="koboSpan" id="kobo.1382.1">next steps.</span></span></p>
<p><span class="koboSpan" id="kobo.1383.1">With Django, a single project can host multiple apps, but we just need one right now, and there’s a command to create </span><span class="No-Break"><span class="koboSpan" id="kobo.1384.1">that too:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1385.1">
python manage.py startapp hello</span></pre> <p><span class="koboSpan" id="kobo.1386.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.1387.1">manage.py</span></strong><span class="koboSpan" id="kobo.1388.1"> file is a script provided by Django for performing all sorts of setup and management tasks on a project and the apps under it. </span><span class="koboSpan" id="kobo.1388.2">After executing that command, you’ll find a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1389.1">hello</span></strong><span class="koboSpan" id="kobo.1390.1"> directory created inside the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1391.1">helloworld_project</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1392.1"> directory.</span></span></p>
<p><span class="koboSpan" id="kobo.1393.1">The next step is to create a view, which is conceptually like a route in an Express app: something that will respond to </span><a id="_idIndexMarker820"/><span class="koboSpan" id="kobo.1394.1">requests to a specific URL. </span><span class="koboSpan" id="kobo.1394.2">To do this, go into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1395.1">hello</span></strong><span class="koboSpan" id="kobo.1396.1"> directory, open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1397.1">views.py</span></strong><span class="koboSpan" id="kobo.1398.1"> file that you’ll find has been created </span><a id="_idIndexMarker821"/><span class="koboSpan" id="kobo.1399.1">there, and add this content below the </span><span class="No-Break"><span class="koboSpan" id="kobo.1400.1">comment line:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1401.1">
# Create your views here.
</span><span class="koboSpan" id="kobo.1401.2">from django.http import HttpResponse
def hello_world(request):
    return HttpResponse("Hello, World!")</span></pre> <p><span class="koboSpan" id="kobo.1402.1">This provides a function that will ultimately execute when we make a request to a configured URL and will return a simple </span><span class="No-Break"><span class="koboSpan" id="kobo.1403.1">text response.</span></span></p>
<p><span class="koboSpan" id="kobo.1404.1">Next, you need to tell Django to use this view. </span><span class="koboSpan" id="kobo.1404.2">This requires </span><span class="No-Break"><span class="koboSpan" id="kobo.1405.1">two steps.</span></span></p>
<p><span class="koboSpan" id="kobo.1406.1">First, in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1407.1">helloworld_project</span></strong><span class="koboSpan" id="kobo.1408.1"> directory, you find that a directory was created automatically that is also named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1409.1">helloworld_project</span></strong><span class="koboSpan" id="kobo.1410.1">. </span><span class="koboSpan" id="kobo.1410.2">I know – the names are confusing, but it’s the way Django does it: you get a directory with the same name as the project directory it’s in. </span><span class="koboSpan" id="kobo.1410.3">Inside that inner </span><strong class="source-inline"><span class="koboSpan" id="kobo.1411.1">helloworld_project</span></strong><span class="koboSpan" id="kobo.1412.1"> directory, open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1413.1">urls.py</span></strong><span class="koboSpan" id="kobo.1414.1"> file. </span><span class="koboSpan" id="kobo.1414.2">In it, you’ll find some instructional comments and a few lines of code. </span><span class="koboSpan" id="kobo.1414.3">Two things need to be done here. </span><span class="koboSpan" id="kobo.1414.4">First, add a new import under the </span><span class="No-Break"><span class="koboSpan" id="kobo.1415.1">existing one:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1416.1">
from django.urls import include</span></pre> <p><span class="koboSpan" id="kobo.1417.1">That adds a package named </span><strong class="source-inline"><span class="koboSpan" id="kobo.1418.1">include</span></strong><span class="koboSpan" id="kobo.1419.1"> that we need in order to do the rest of what’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1420.1">to come.</span></span></p>
<p><span class="koboSpan" id="kobo.1421.1">Then, on the line that defines the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1422.1">urlpatterns</span></strong><span class="koboSpan" id="kobo.1423.1"> array, add a new entry after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1424.1">/admin</span></strong><span class="koboSpan" id="kobo.1425.1"> one that’s </span><span class="No-Break"><span class="koboSpan" id="kobo.1426.1">already there:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1427.1">
path('hello/', include('hello.urls')),</span></pre> <p><span class="koboSpan" id="kobo.1428.1">This essentially sets up a route to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1429.1">hello</span></strong><span class="koboSpan" id="kobo.1430.1"> app itself and tells Django to look for routes in it as defined in its own </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.1431.1">hello.urls</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1432.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.1433.1">And that file is the final step to make everything work. </span><span class="koboSpan" id="kobo.1433.2">You’ll need to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.1434.1">urls.py</span></strong><span class="koboSpan" id="kobo.1435.1"> file in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1436.1">hello</span></strong><span class="koboSpan" id="kobo.1437.1"> directory with the </span><span class="No-Break"><span class="koboSpan" id="kobo.1438.1">following content:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1439.1">
from django.urls import path
from . </span><span class="koboSpan" id="kobo.1439.2">import views
urlpatterns = [
    path('', views.hello_world, name='hello_world'),
]</span></pre> <p><span class="koboSpan" id="kobo.1440.1">That sets up a route in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.1441.1">hello</span></strong><span class="koboSpan" id="kobo.1442.1"> app itself to the view </span><span class="No-Break"><span class="koboSpan" id="kobo.1443.1">we created.</span></span></p>
<p><span class="koboSpan" id="kobo.1444.1">At this point, your first Django app should be ready! </span><span class="koboSpan" id="kobo.1444.2">Conveniently, Django includes a built-in web server to test with, and </span><a id="_idIndexMarker822"/><span class="koboSpan" id="kobo.1445.1">you can start it up now to try your </span><span class="No-Break"><span class="koboSpan" id="kobo.1446.1">app out:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1447.1">
python manage.py runserver</span></pre> <p><span class="koboSpan" id="kobo.1448.1">You should find that your app responds</span><a id="_idIndexMarker823"/><span class="koboSpan" id="kobo.1449.1"> to requests </span><span class="No-Break"><span class="koboSpan" id="kobo.1450.1">to </span></span><a href="http://localhost:8000/hello"><span class="No-Break"><span class="koboSpan" id="kobo.1451.1">http://localhost:8000/hello</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1452.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1453.1">For such a simple example, it may seem like there’s a lot involved with Django, but as an app gets more complex, it starts to pull its weight much more by virtue of the advanced functionality it provides, which while it can require this type</span><a id="_idIndexMarker824"/><span class="koboSpan" id="kobo.1454.1"> of setup too, it tends to have a much better </span><strong class="bold"><span class="koboSpan" id="kobo.1455.1">return on investment</span></strong><span class="koboSpan" id="kobo.1456.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1457.1">ROI</span></strong><span class="koboSpan" id="kobo.1458.1">), meaning the benefit is worth </span><span class="No-Break"><span class="koboSpan" id="kobo.1459.1">the cost.</span></span></p>
<p><span class="koboSpan" id="kobo.1460.1">But if you find Django not to your liking, another popular framework named Flask might be </span><span class="No-Break"><span class="koboSpan" id="kobo.1461.1">more so.</span></span></p>
<h2 id="_idParaDest-200"><a id="_idTextAnchor200"/><span class="koboSpan" id="kobo.1462.1">Flask</span></h2>
<p><span class="koboSpan" id="kobo.1463.1">With </span><strong class="bold"><span class="koboSpan" id="kobo.1464.1">Flask</span></strong><span class="koboSpan" id="kobo.1465.1">, another popular Python web</span><a id="_idIndexMarker825"/><span class="koboSpan" id="kobo.1466.1"> framework like Django, the Hello World </span><a id="_idIndexMarker826"/><span class="koboSpan" id="kobo.1467.1">example is a lot simpler, and it begins with </span><span class="No-Break"><span class="koboSpan" id="kobo.1468.1">installing Flask:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1469.1">
pip install flask</span></pre> <p><span class="koboSpan" id="kobo.1470.1">Next, create a directory for your project (which you can name anything you like), and in it, create an </span><strong class="source-inline"><span class="koboSpan" id="kobo.1471.1">app.py</span></strong><span class="koboSpan" id="kobo.1472.1"> file </span><span class="No-Break"><span class="koboSpan" id="kobo.1473.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1474.1">
from flask import Flask
app = Flask(__name__)
@app.route('/')
def hello_world():
    return 'Hello, World!'</span></pre> <p><span class="koboSpan" id="kobo.1475.1">And guess what? </span><span class="koboSpan" id="kobo.1475.2">You’re actually </span><a id="_idIndexMarker827"/><span class="koboSpan" id="kobo.1476.1">done at this point! </span><span class="koboSpan" id="kobo.1476.2">You can now run the development server that, like Django, </span><span class="No-Break"><span class="koboSpan" id="kobo.1477.1">Flask provides:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.1478.1">
flask run</span></pre> <p><span class="koboSpan" id="kobo.1479.1">And then, you can access the app </span><span class="No-Break"><span class="koboSpan" id="kobo.1480.1">at </span></span><a href="http://localhost:5000"><span class="No-Break"><span class="koboSpan" id="kobo.1481.1">http://localhost:5000</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.1482.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.1483.1">With Flask clearly being much simpler, why would anyone in their right mind </span><span class="No-Break"><span class="koboSpan" id="kobo.1484.1">choose Django?!</span></span></p>
<p><span class="koboSpan" id="kobo.1485.1">The answer is that they</span><a id="_idIndexMarker828"/><span class="koboSpan" id="kobo.1486.1"> serve </span><span class="No-Break"><span class="koboSpan" id="kobo.1487.1">different purposes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.1488.1">Django is attempting to be as close to all-encompassing as possible. </span><span class="koboSpan" id="kobo.1488.2">It has facilities for working with databases, security, a built-in administration app, functions for dealing with sessions and authentication, a templating engine, advanced URL routing, and a </span><span class="No-Break"><span class="koboSpan" id="kobo.1489.1">lot more.</span></span></li>
<li><span class="koboSpan" id="kobo.1490.1">Flask, on the other hand, is what’s </span><a id="_idIndexMarker829"/><span class="koboSpan" id="kobo.1491.1">known as a </span><strong class="bold"><span class="koboSpan" id="kobo.1492.1">micro-framework</span></strong><span class="koboSpan" id="kobo.1493.1">. </span><span class="koboSpan" id="kobo.1493.2">Flask is designed to be more lightweight and simply not do as much as Django, which requires you to add other libraries to the mix as you </span><span class="No-Break"><span class="koboSpan" id="kobo.1494.1">see fit.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.1495.1">Both have their pros and cons, and it’s roughly the same situation as comparing React or Vue to Angular: the first two simply do a lot less out of the box, by design, but there is arguably more flexibility in a smaller framework since you get to choose how specific features </span><span class="No-Break"><span class="koboSpan" id="kobo.1496.1">are provided.</span></span></p>
<h1 id="_idParaDest-201"><a id="_idTextAnchor201"/><span class="koboSpan" id="kobo.1497.1">Reviewing the roadmap</span></h1>
<p><span class="koboSpan" id="kobo.1498.1">Well, that’s a few</span><a id="_idIndexMarker830"/><span class="koboSpan" id="kobo.1499.1"> more knocked off, isn’t it? </span><span class="koboSpan" id="kobo.1499.2">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.1500.1">Figure 7</span></em></span><em class="italic"><span class="koboSpan" id="kobo.1501.1">.9</span></em><span class="koboSpan" id="kobo.1502.1">, you can see the updated web </span><span class="No-Break"><span class="koboSpan" id="kobo.1503.1">developer roadmap:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer083">
<span class="koboSpan" id="kobo.1504.1"><img alt="Figure 7.9: The roadmap with a few more boxes filled in" src="image/B18315_07_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1505.1">Figure 7.9: The roadmap with a few more boxes filled in</span></p>
<p><span class="koboSpan" id="kobo.1506.1">With this chapter, you</span><a id="_idIndexMarker831"/><span class="koboSpan" id="kobo.1507.1"> uncovered the </span><strong class="bold"><span class="koboSpan" id="kobo.1508.1">Databases</span></strong><span class="koboSpan" id="kobo.1509.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1510.1">Java and Spring Boot</span></strong><span class="koboSpan" id="kobo.1511.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1512.1">PHP</span></strong><span class="koboSpan" id="kobo.1513.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.1514.1">.NET</span></strong><span class="koboSpan" id="kobo.1515.1"> blocks. </span><span class="koboSpan" id="kobo.1515.2">And would you look at that – the entire backend section is now </span><span class="No-Break"><span class="koboSpan" id="kobo.1516.1">fully revealed!</span></span></p>
<h1 id="_idParaDest-202"><a id="_idTextAnchor202"/><span class="koboSpan" id="kobo.1517.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1518.1">In this chapter, you learned about a variety of server-side technologies, starting with databases. </span><span class="koboSpan" id="kobo.1518.2">You learned the difference between relational databases and NoSQL databases, and in the process, you got an introduction to the SQL language. </span><span class="koboSpan" id="kobo.1518.3">You then learned about exposing that data through a REST interface, probably the most common way web APIs are provided these days (oh, and you learned what a web API is too, </span><span class="No-Break"><span class="koboSpan" id="kobo.1519.1">didn’t you?).</span></span></p>
<p><span class="koboSpan" id="kobo.1520.1">After that, you got a look at some server-side technologies for building server-side code, including Java and Spring Boot, PHP, .NET, and some Python web frameworks such as Django and Flash. </span><span class="koboSpan" id="kobo.1520.2">You sampled code for all of them to give you an idea of what might be involved if you choose them, and we talked a bit about the decision points that go into choosing one versus another – and you learned that in large part, it comes down to personal preference and what you have the most experience </span><span class="No-Break"><span class="koboSpan" id="kobo.1521.1">working with!</span></span></p>
<p><span class="koboSpan" id="kobo.1522.1">In the next chapter, we’re going to in a sense close out the technical portion of this book and look at some alternate approaches to coding, in some cases some cutting-edge technologies that attempt to make web development much less about development. </span><span class="koboSpan" id="kobo.1522.2">This includes things such as AI, </span><strong class="bold"><span class="koboSpan" id="kobo.1523.1">content management systems</span></strong><span class="koboSpan" id="kobo.1524.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.1525.1">CMS</span></strong><span class="koboSpan" id="kobo.1526.1">), and other so-called “</span><span class="No-Break"><span class="koboSpan" id="kobo.1527.1">no-code” alternatives.</span></span></p>
</div>
</body></html>