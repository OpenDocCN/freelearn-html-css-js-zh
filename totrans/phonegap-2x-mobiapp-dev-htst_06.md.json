["```js\n<div class=\"viewBackground\">\n  <div class=\"navigationBar\">\n    <div style=\"padding-top:7px\" id=\"documentsView_title\"></div>\n    <button class=\"barButton\" id=\"documentsView_editButton\" style=\"right:10px\" ></button>\n  </div>\n  <div class=\"content avoidNavigationBar avoidToolBar\" style=\"padding:0; overflow: scroll;\" id=\"documentsView_scroller\">\n    <div id=\"documentsView_contentArea\" style=\"padding: 0; height: auto; position: relative;\"></div>\n  </div>\n  <div class=\"toolBar\">\n    <span class=\"icon\" id=\"documentsView_cameraButton\"><img src=\"img/photo_64.png\" width=32 height=32 /></span>\n    <span class=\"icon\" id=\"documentsView_importButton\"><img src=\"img/film_64.png\" width=32 height=32 /></span>\n    <span class=\"icon\" id=\"documentsView_deleteButton\"><img src=\"img/trash_64.png\" width=32 height=32 /></span>\n    <span class=\"icon\" id=\"documentsView_shareButton\"><img src=\"img/man_64.png\" width=32 height=32 /></span>\n  </div>\n</div>\n```", "```js\n<div id=\"documentsView_documentTemplate\" class=\"hidden\">\n  <div class=\"documentContainer\" id=\"documentsView_item%INDEX%\">\n    <div class=\"documentImage\">\n      <canvas width=84 height=84\n      id=\"documentsView_item%INDEX%_canvas\"\n      onclick=\"documentsView.documentContainerTapped(%INDEX%);\"></canvas>\n    </div>\n  </div>\n</div>\n```", "```js\n  var documentsView = $ge(\"documentsView\") || {};\n  documentsView.firstTime = true;\n  documentsView.lastScrollLeft = 0;\n  documentsView.lastScrollTop = 0;\n  documentsView.myScroll = {};\n  documentsView.availableDocuments = {};\n  documentsView.inSelectionMode = false;\n  documentsView.selectedItems = [];\n  documentsView.globalAlert = null;\n```", "```js\n  documentsView.initializeView = function()\n  {\n    PKUTIL.include([\"./models/ImageDocumentCollection.js\", \"./models/VoiceRecDocument.js\"], function()\n    {\n      documentsView.displayAvailableDocuments();\n    });\n\n    documentsView.viewTitle = $ge(\"documentsView_title\");\n    documentsView.viewTitle.innerHTML = __T(\"APP_TITLE_IMG\");\n\n    documentsView.editButton = $ge(\"documentsView_editButton\");\n    documentsView.editButton.innerHTML = __T(\"EDIT\");\n    PKUI.CORE.addTouchListener(documentsView.editButton, \"touchend\",\n      function(e)\n      {\n        documentsView.toggleSelection();\n      }\n    );\n```", "```js\n    documentsView.cameraButton = $ge(\"documentsView_cameraButton\");\n    PKUI.CORE.addTouchListener(documentsView.cameraButton, \"touchend\",\n      function(e)\n    {\n    documentsView.takePicture();\n      }\n    );\n\n    documentsView.importButton = $ge(\"documentsView_importButton\");\n    PKUI.CORE.addTouchListener(documentsView.importButton, \"touchend\",\n      function(e)\n      {\n        documentsView.importPicture();\n      }\n    );\n\n    documentsView.deleteButton = $ge(\"documentsView_deleteButton\");\n    documentsView.deleteButton.style.display=\"none\";\n    PKUI.CORE.addTouchListener(documentsView.deleteButton, \"touchend\",\n      function(e)\n      {\n        documentsView.confirmDeletePictures();\n      }\n    );\n\n    documentsView.shareButton = $ge(\"documentsView_shareButton\");\n    documentsView.shareButton.style.display=\"none\";\n```", "```js\n  documentsView.toggleSelection = function ()\n  {\n    var i;\n    var anElement;\n    documentsView.inSelectionMode = !documentsView.inSelectionMode;\n```", "```js\n    if (documentsView.inSelectionMode)\n    {\n      documentsView.editButton.innerHTML=__T(\"DONE\");\n      documentsView.selectedItems=[];\n      for (i=0; i<documentsView.availableDocuments.getDocumentCount(); i++)\n      {\n        anElement = $ge(\"documentsView_item\"+i+\"_canvas\");\n        anElement.style.border = \"3px solid #FF8\";\n      }\n\n      documentsView.cameraButton.style.display=\"none\";\n      documentsView.importButton.style.display=\"none\";\n      documentsView.deleteButton.style.display=\"none\";\n      documentsView.shareButton.style.display=\"none\";\n\n    }\n```", "```js\n    else\n    {\n      documentsView.editButton.innerHTML=__T(\"EDIT\");\n      for (i=0; i<documentsView.availableDocuments.getDocumentCount(); i++)\n      {\n        anElement = $ge(\"documentsView_item\"+i+\"_canvas\");\n        anElement.style.border = \"3px solid #FFF\";\n      }\n\n      documentsView.cameraButton.style.display=\"inline\";\n      documentsView.importButton.style.display=\"inline\";\n      documentsView.deleteButton.style.display=\"none\";\n      documentsView.shareButton.style.display=\"none\";\n\n    }\n  }\n```", "```js\n  documentsView.documentContainerTapped = function(idx)\n  {\n    var theElement = $ge(\"documentsView_item\" + idx + \"_canvas\");\n    if (documentsView.inSelectionMode)\n    {\n```", "```js\n      if ( documentsView.selectedItems.indexOf (idx) > -1 )\n      {\n        theElement.style.border = \"3px solid #FF8\";\n        documentsView.selectedItems.splice (\n        documentsView.selectedItems.indexOf( idx), 1);\n      }\n```", "```js\n      else\n      {\n        theElement.style.border = \"3px solid #800\";\n        documentsView.selectedItems.push(idx);\n      }\n```", "```js\n      if (documentsView.selectedItems.length>0)\n      {\n        documentsView.deleteButton.style.display=\"inline\";\n        documentsView.shareButton.style.display=\"inline\";\n      }\n      else\n      {\n        documentsView.deleteButton.style.display=\"none\";\n        documentsView.shareButton.style.display=\"none\";\n      }\n    }\n```", "```js\n    else\n    {\n      PKUI.CORE.pushView (imageView);\n      PKUTIL.delay(500, function()\n      {\n        imageView.setImage ( documentsView.availableDocuments.getDocumentAtIndex(idx).fullPath, idx );\n      } );\n    }\n  }\n```", "```js\n  documentsView.takePicture = function()\n  {\n    documentsView.doPicture ( Camera.PictureSourceType.CAMERA );\n  }\n```", "```js\n  documentsView.importPicture = function()\n  {\n    documentsView.doPicture ( Camera.PictureSourceType.PHOTOLIBRARY );\n  }\n```", "```js\n  documentsView.doPicture = function( source )\n  {\n    navigator.camera.getPicture ( \n      function (uri)\n      {\n        PKFILE.moveFileTo ( uri, \"doc://\" + PKUTIL.getUnixTime() + \".jpg\",\n        function ()\n        {\n          documentsView.reloadAvailableDocuments();\n        },\n        function (evt)\n        {\n          console.log (JSON.stringify(evt));\n          var anAlert = new \n          PKUI.MESSAGE.Alert(__T(\"Oops!\"), __T(\"Failed to save the image.\"));\n          anAlert.show();\n        } )\n      },\n      function (msg)\n      {\n        var anAlert = new PKUI.MESSAGE.Alert(__T(\"Oops!\"), \n        msg);\n        anAlert.show();\n      },\n      { quality: 50,\n        destinationType: Camera.DestinationType.FILE_URI,\n        sourceType: source,\n        encodingType: Camera.EncodingType.JPEG,\n        mediaType: Camera.MediaType.PICTURE,\n        correctOrientation: true,\n        saveToPhotoAlbum: false\n      }\n    );\n  }\n```", "```js\n        PKFILE.moveFileTo ( uri, \"doc://\" + PKUTIL.getUnixTime() + \".jpg\",\n```", "```js\n  documentsView.confirmDeletePictures = function ()\n  {\n    var anAlert = new PKUI.MESSAGE.Confirm(__T(\"Delete Image(s)\"), __T(\"This will delete the selected image(s). This action is unrecoverable.\"), __T(\"Don't Delete<|Delete*\"), function(i)\n    {\n      if (i == 1)\n      {\n        PKUTIL.delay ( 100, documentsView.deleteSelectedPictures );\n      }\n    });\n    anAlert.show();\n  }\n```", "```js\n  documentsView.deleteSelectedPictures = function ()\n  {\n    if (documentsView.selectedItems.length > 0)\n    {\n      var currentIndex = documentsView.selectedItems.pop();\n      if (documentsView.globalAlert == null)\n      {\n        documentsView.globalAlert = new PKUI.MESSAGE.Alert(__T(\"Please Wait\"), __T(\"Deleting Selected Images...\"));\n        documentsView.globalAlert.show();\n      }\n      PKUTIL.delay (100, function () {\n      PKFILE.removeFile ( documentsView.availableDocuments.getDocumentAtIndex(currentIndex).fullPath,\n      documentsView.deleteSelectedPictures,\n      function (e)\n      {\n        documentsView.globalAlert.hide();\n        var anAlert = new PKUI.MESSAGE.Alert (__T(\"Oops!\"), __T(\"Failed to remove file.\"));\n        anAlert.show();\n        documentsView.reloadAvailableDocuments();\n      }\n      );\n    }\n    );\n    }\n    else\n    {\n      if (documentsView.globalAlert)\n      {\n        documentsView.toggleSelection();\n        documentsView.reloadAvailableDocuments();\n        documentsView.globalAlert.hide();\n        PKUTIL.delay (750, function() { documentsView.globalAlert = null; } );\n      }\n      else\n      {\n        console.log (\"ASSERT: We shouldn't be able to delete anything without having prior selected something.\");\n      }\n    }\n  }\n```", "```js\n  documentsView.documentIterator = function(o)\n  {\n```", "```js\n    PKUTIL.delay(100, function()\n    {\n      for (var i = 0; i < theNumberOfDocuments; i++)\n      {\n        var theDocumentEntry = o.getDocumentAtIndex(i);\n        var theElement = $ge(\"documentsView_item\" + i + \"\");\n        var theLPGesture = new GESTURES.LongPressGesture(theElement, function(o)\n        {\n          documentsView.longPressReceived(o.data);\n        });\n        theLPGesture.data = i;\n```", "```js\n        var img = new Image();\n        img.i = i;\n```", "```js\n        img.onload = function ()\n        {\n```", "```js\n          var newWidth = 84;\n          var newHeight = (this.height / this.width) * 84;\n          if (newHeight > 84)\n          {\n            newHeight = 84;\n            newWidth = (this.width / this.height) * 84;\n          }\n```", "```js\n          var newLeft = 42 - (newWidth/2);\n          var newTop = 42 - (newHeight/2);\n```", "```js\n          var theCanvas = $ge(\"documentsView_item\" + this.i + \"_canvas\");\n          theCanvas.setAttribute (\"width\", newWidth * window.devicePixelRatio);\n          theCanvas.setAttribute (\"height\",newHeight * window.devicePixelRatio);\n          theCanvas.style.width = \"\"+newWidth+\"px\"; theCanvas.style.height = \"\"+newHeight+\"px\";\n          theCanvas.style.left  = \"\"+newLeft +\"px\"; theCanvas.style.top = \"\"+newTop+\"px\";\n```", "```js\n          var theCanvasCtx = theCanvas.getContext(\"2d\");\n          theCanvasCtx.save();\n          theCanvasCtx.scale (window.devicePixelRatio, window.devicePixelRatio);\n          theCanvasCtx.imageSmoothingEnabled = false;\n```", "```js\n          theCanvasCtx.drawImage (this, 0, 0, newWidth, newHeight);\n```", "```js\n          theCanvasCtx.restore();\n        }\n        img.src = theDocumentEntry.fullPath;\n      }\n    });\n  }\n```", "```js\n<div id=\"imageView_documentTemplate\" class=\"hidden\">\n  <img src=\"img/%SRC%\" width=100% />\n</div>\n```", "```js\n  var imageView = $ge(\"imageView\") || {};\n  imageView.imagePath = \"\";\n  imageView.imageIndex = -1;\n  imageView.setImage = function ( imagePath, imageIndex )\n  {\n    imageView.imagePath = imagePath;\n    imageView.imageIndex = imageIndex;\n\n    $ge(\"imageView_contentArea\").innerHTML =\n      PKUTIL.instanceOfTemplate($ge(\"imageView_documentTemplate\"),\n      { \"src\" : imageView.imagePath        });\n  }\n```", "```js\n  imageView.confirmDeletePictures = function ()\n  {\n    var anAlert = new PKUI.MESSAGE.Confirm(__T(\"Delete Image\"), __T(\"This will delete the selected image.This action is unrecoverable.\"), __T(\"Don't Delete<|Delete*\"), function(i)\n    {\n      if (i == 1)\n      {\n        PKUTIL.delay ( 100, imageView.deleteSelectedPicture );\n      }\n    });\n    anAlert.show();\n  }\n\n  imageView.deleteSelectedPicture = function ()\n  {\n    PKFILE.removeFile ( imageView.imagePath,\n    function ()\n      {\n        PKUTIL.delay(100, function() { PKUI.CORE.popView(); } );\n        documentsView.reloadAvailableDocuments();\n\n        },\n      function (e)\n      {\n        var anAlert = new PKUI.MESSAGE.Alert (__T(\"Oops!\"), __T(\"Failed to remove file.\"));\n        anAlert.show();\n        documentsView.reloadAvailableDocuments();\n      }\n      );\n  }\n```", "```js\n  imageView.viewDidHide = function ()\n  {\n    $ge(\"imageView_contentArea\").innerHTML = \"\";\n  }\n```"]