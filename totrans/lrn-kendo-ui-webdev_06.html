<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Menu and ListView</h1></div></div></div><p>The Kendo UI Menu widget<a id="id381" class="indexterm"/> is <a id="id382" class="indexterm"/>designed to give you an easy way to implement an interactive JavaScript menu that opens and closes as the user commands and providers a rich visual display on a web page. These types <a id="id383" class="indexterm"/>of menus are available through other tricks as well, such as CSS, but the Kendo UI widget gives you a much more configurable framework and access to a simplified JavaScript API.</p><p>The Kendo UI <a id="id384" class="indexterm"/>ListView widget<a id="id385" class="indexterm"/> is a control for visualizing a collection of data elements in a graphically pleasing way, especially if the data contains images or special styles. Like all Kendo UI options, the configuration is consistent and sensible and allows you to create great-looking content, and provides display options for editing and selection.</p><p>These controls are a good addition to your toolset for creating modern web pages.</p><div><div><div><div><h1 class="title"><a id="ch06lvl1sec42"/>Learning the Menu widget basics</h1></div></div></div><p>The Menu widget<a id="id386" class="indexterm"/> creates a fantastic drop-down menu with fly-out sections for the menu's contents. It is functionally rich and requires very little code for most implementations. As an introduction, here is a code sample<a id="id387" class="indexterm"/> of a basic menu created from a static unordered HTML list:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Kendo UI Menu&lt;/title&gt;
    &lt;script src="img/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="img/kendo.all.js"&gt;&lt;/script&gt;
    &lt;link href="/Content/kendo/kendo.common.css" rel="stylesheet" /&gt;
    &lt;link href="/Content/kendo/kendo.default.css" rel="stylesheet" /&gt;
&lt;/head&gt;
&lt;body&gt;
        &lt;div id="menuDemo"&gt;
            &lt;ul id="menu"&gt;
                &lt;li&gt;
                    Music
                    &lt;ul&gt;
                        &lt;li&gt;
                            Blues / Folk
                            &lt;ul&gt;
                                &lt;li&gt;Contemporary Blues&lt;/li&gt;
                                &lt;li&gt;Contemporary Folk&lt;/li&gt;
                                &lt;li&gt;Traditional American&lt;/li&gt;
                                &lt;li&gt;World Folk&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/li&gt;
                        &lt;li&gt;
                            Christian / Gospel
                            &lt;ul&gt;
                                &lt;li&gt;Christian Rock / Hip Hop&lt;/li&gt;
                                &lt;li&gt;Contemporary Christian&lt;/li&gt;
                                &lt;li&gt;Traditional Gospel&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/li&gt;
                        ...
                    &lt;/ul&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    Videos
                    &lt;ul&gt;
                        &lt;li&gt;Movies&lt;/li&gt;
                        &lt;li&gt;TV&lt;/li&gt;
                        &lt;li&gt;Trailers&lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    Events
                &lt;/li&gt;
                &lt;li disabled="disabled"&gt;
                    News
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
        &lt;script&gt;
            $(document).ready(function () {
                $("#menu").kendoMenu();
            });
        &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>This is a menu showing different music styles, videos, and some other options just to demonstrate how the code looks. The top-level <code class="literal">&lt;li&gt;</code> elements in the unordered list all appear as actual menu headings in the output, in this example they are <strong>Music</strong>, <strong>Videos</strong>, <strong>Events</strong>, and <strong>News</strong>.</p><div><div><h3 class="title"><a id="note05"/>Note</h3><p>Notice that each of these top-level elements contains its own name and then can optionally contain a nested unordered list (<code class="literal">&lt;ul&gt;</code>) within itself, which becomes the choices that appear when that top-level item is selected on the page.</p></div></div><p>Moving down the chain, each of the <code class="literal">&lt;li&gt;</code> elements in the nested list can also contain its own <code class="literal">&lt;ul&gt;</code> for a further nested menu of options. This creates a cascading effect where menu options can continue to expand as you move your mouse to different options. Also note that the final top-level <code class="literal">&lt;li&gt;</code> item, <code class="literal">News</code>, is marked with a disabled attribute which means that it will still display in the output but not be selectable.</p><p>Here is the output from this code as the page is first loaded:</p><div><img src="img/4346OT_06_08.jpg" alt="Learning the Menu widget basics"/></div><p>Here is the Menu <a id="id388" class="indexterm"/>widget once the mouse is hovered over some of the elements in the menu. Try this on your own and see how fast and fluid the menu reacts to these events; it is very impressive.</p><div><img src="img/4346OT_06_01.jpg" alt="Learning the Menu widget basics"/></div><p>Like most of the <a id="id389" class="indexterm"/>widgets in the Kendo UI framework, the Menu widget does not have to run from static HTML, it can be fuelled by a <code class="literal">DataSource</code> object of either local or remote data. Here is the code adapted to use a local <code class="literal">DataSource</code> object instead of static HTML:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Kendo UI Menu&lt;/title&gt;
    &lt;script src="img/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="img/kendo.all.js"&gt;&lt;/script&gt;
    &lt;link href="/Content/kendo/kendo.common.css" rel="stylesheet" /&gt;
    &lt;link href="/Content/kendo/kendo.default.css" rel="stylesheet" /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="menuDemo"&gt;
    &lt;/div&gt;
    &lt;script type="text/javascript"&gt;
        var menuData = [
            {
                text: "Music",
                items: [
                    {
                        text: "Blues/Folk",
                        items: [
                            { text: "Contemporary Blues" },
                            { text: "Contemporary Folk" },
                            { text: "Traditional American" },
                            { text: "World Folk" }
                        ]
                    },
                    {
                        text: "Christian / Gospel",
                        items: [
                            { text: "Christian Rock / Hip Hop" },
                            { text: "Contemporary Christian" },
                            { text: "Traditional Gospel" }
                        ]
                    },
                    
                    ...
                ]
            },
            {
                text: "Videos",
                items: [
                    { text: "Movies" },
                    { text: "TV" },
                    { text: "Trailers" }
                ]
            },
            {
                text: "Events"
            },
            {
                text: "News",
                enabled: false
            }
        ];
    &lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        $(document).ready(function () {
            $("#menuDemo").kendoMenu(
                { dataSource: menuData });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>Note that the <code class="literal">DataSource</code> object can be configured with all the options that you have seen in the earlier chapters, <a id="id390" class="indexterm"/>and could just as easily be configured with a transport property for remote data.</p><p>The output is identical to the static HTML we used the first time:</p><div><img src="img/4346OT_06_02.jpg" alt="Learning the Menu widget basics"/></div><p>As is the case with most of the Kendo UI widgets, the interactive content on the page is identical whether the data comes from the page mark-up or from a JavaScript data source. To adapt this to use the MVC extension methods, we can create an MVC View with the following source code in the <code class="literal">cshtml</code> file:</p><div><pre class="programlisting">@using Kendo.Mvc.UI;

@{
    ViewBag.Title = "Mvc Menu";
}

&lt;h2&gt;Mvc Menu&lt;/h2&gt;
@(Html.Kendo().Menu()
    .Name("menuDemo")
    .Items(items =&gt;
        {
            items.Add().Text("Music").Items(sub =&gt;
            {
                sub.Add().Text("Blues / Folk").Items(subsub =&gt;
                {
                    subsub.Add().Text("Contemporary Blues");
                    subsub.Add().Text("Contemporary Folk");
                    subsub.Add().Text("Traditional American");
                    subsub.Add().Text("World Folk");
                });
                sub.Add().Text("Christian / Gospel").Items(subsub =&gt;
                {
                    subsub.Add().Text("Christian Rock / Hip Hop");
                    subsub.Add().Text("Contemporary Christian");
                    subsub.Add().Text("Traditional Gospel");
                });
                ...
                
            });
            items.Add().Text("Videos").Items(sub =&gt; {
                sub.Add().Text("Movies");
                sub.Add().Text("TV");
                sub.Add().Text("Trailers");
            });
            items.Add().Text("Events");
            items.Add().Text("News").Enabled(false);
        })
)</pre></div><p>Note, how in this code sample, I have declared the data statically. It could just as easily be gathered from a<a id="id391" class="indexterm"/> different source using logic within C# code, or even left as part of the JavaScript and retrieved from a remote source across HTTP.</p><p>The output, as you can see from this screenshot, is identical to the other two code samples:</p><div><img src="img/4346OT_06_03.jpg" alt="Learning the Menu widget basics"/></div><p>This illustrates<a id="id392" class="indexterm"/> three unique ways to create a Kendo UI Menu widget and the differences between them.</p><div><div><div><div><h2 class="title"><a id="ch06lvl2sec42"/>Menu items with images</h2></div></div></div><p>Menu items so<a id="id393" class="indexterm"/> far have only included text. The Menu widget, however, can also contain an <code class="literal">imageUrl</code> property or a <code class="literal">spriteCssClass</code> property to display an image along with the text. The image or sprite will appear as an icon to the left of the menu item text.</p><p>Here is an example of using the <code class="literal">imageUrl</code> property to show an icon for the <code class="literal">Videos</code> menu item:</p><div><pre class="programlisting">...
{
  text: "Videos",
  imageUrl: "images/reel.png",
  items: [
    { text: "Movies" },
    { text: "TV" },
    { text: "Trailers" }
  ]
},
...</pre></div><p>By adding <a id="id394" class="indexterm"/>this property, the output now displays the image in the menu:</p><div><img src="img/4346OT_06_04.jpg" alt="Menu items with images"/></div><p>This is how the code sample would look in MVC:</p><div><pre class="programlisting">items.Add().Text("Videos").ImageUrl("/static/images/reel.png").Items(sub =&gt; {
  sub.Add().Text("Movies");
  sub.Add().Text("TV");
  sub.Add().Text("Trailers");
});</pre></div><p>Notice the <code class="literal">ImageUrl</code> extension method that adds the image to the output.</p><p>To use a sprite, you would first set the background image of the menu items that should display the icons and then indicate a CSS class using the <code class="literal">spriteCssClass</code> property that will specify the pixel offset for each particular icon. Each menu item that has a <code class="literal">spriteCssClass</code> property specified will automatically be decorated with the <code class="literal">k-sprite</code> CSS class so that this is wired up properly. Here is a potential example:</p><div><pre class="programlisting">&lt;style&gt;
#menuDemo .k-sprite {
  background-image: url("images/sprites.png");
}
.someIcon {
  background-position: 0 0;
}
.someOtherIcon {
  background-position: 0 -32px;
}
&lt;/style&gt;
...
&lt;script&gt;
...
{
  text: "Videos",
  spriteCssClass: "someIcon",
  items: [
    { text: "Movies" },
    { text: "TV" },
    { text: "Trailers" }
  ]
},
...</pre></div><p>The CSS section of this sample shows assigning the <code class="literal">background-image</code> property for all of the <code class="literal">k-sprite</code> class-decorated<a id="id395" class="indexterm"/> elements and also designating two sprite pixel <code class="literal">background-position</code> styles. The script section shows the <code class="literal">spriteCssClass</code> property in use, which will assign that portion of the sprites image as the icon for that menu item.</p></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec43"/>Menu items with URLs</h2></div></div></div><p>So far all of the examples<a id="id396" class="indexterm"/> I have shown are menu items that do not perform any actions when selected. All that you have to do is add the <code class="literal">url</code> property to the menu item in order to make it navigate when clicked on. So, for any menu item that you want to navigate the user to a different page, include a <code class="literal">url</code> property, as shown here, and it will do so:</p><div><pre class="programlisting">...
{
  text: "Videos",
  spriteCssClass: "someIcon",
   url: "http://www.kendoui.com",
  items: [
    { text: "Movies" },
    { text: "TV" },
    { text: "Trailers" }
  ]
},
...</pre></div><div><img src="img/4346OT_06_09.jpg" alt="Menu items with URLs"/></div><p>Notice how the web browser <a id="id397" class="indexterm"/>in this screenshot is showing the URL that the <strong>Videos</strong> menu item now navigates to.</p></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec44"/>Menu API configuration options</h2></div></div></div><p>The Kendo UI Menu widget, <a id="id398" class="indexterm"/>as should be expected by now, is configurable through a full set of API properties and methods. These options are<a id="id399" class="indexterm"/> properties that can be configured, so that the Menu widget becomes suited to the needs of your web page and style. These configurations are specified at the point in code where you create the Menu widget. These sections will show you the options you can use.</p><div><div><div><div><h3 class="title"><a id="ch06lvl3sec16"/>The animation property</h3></div></div></div><p>The <a id="id400" class="indexterm"/>animation action<a id="id401" class="indexterm"/> of the Kendo UI Menu can be configured for style, speed, and direction. When you configure the open action of the menu, Kendo will automatically assign the reverse behavior for the <code class="literal">close</code> action. If you want to configure the <code class="literal">close</code> action independently of the <code class="literal">open</code> action, then you should configure them both separately, as shown here:</p><div><pre class="programlisting">...
$("menu").kendoMenu({
  animation: {
    close: {  // animation to use when closing a menu
      effects: "slideIn",  // 'slideIn' / 'fadeIn' / 'expand'
      duration: 10
    },
    open: {  // animation to use when opening a menu
      effects: "slideIn:Down", // You can assign a direction too
      duration: 10
    }
  }
});
...
// or you can disable animation entirely
$("menu").kendoMenu({
  animation: false
});</pre></div></div><div><div><div><div><h3 class="title"><a id="ch06lvl3sec17"/>The direction property</h3></div></div></div><p>The<a id="id402" class="indexterm"/> <code class="literal">direction</code> property<a id="id403" class="indexterm"/> determines which direction the menus will open when the user hovers over them. The available options here are <code class="literal">top</code>, <code class="literal">bottom</code>, <code class="literal">left</code>, and <code class="literal">right</code>.</p><div><pre class="programlisting">$("menu").kendoMenu({
  direction: "bottom"
});
...
// or you can specify how each level of submenus open separately
$("menu").kendoMenu({
  direction: "bottom right" // "bottom" for menu, "right" for sub menus
});</pre></div></div><div><div><div><div><h3 class="title"><a id="ch06lvl3sec18"/>Some more options</h3></div></div></div><p>There are a few additional options available for configuring menu behavior. You can configure how the menu behaves in relation to mouse movement and clicks with the<a id="id404" class="indexterm"/> <code class="literal">closeOnClick</code>
<a id="id405" class="indexterm"/>, <a id="id406" class="indexterm"/>
<code class="literal">openOnClick</code>,<a id="id407" class="indexterm"/> and <a id="id408" class="indexterm"/>
<code class="literal">hoverDelay</code> properties.<a id="id409" class="indexterm"/> You can configure whether the overall menu is oriented horizontally or vertically with the <a id="id410" class="indexterm"/>
<code class="literal">orientation</code> property<a id="id411" class="indexterm"/>, and you can instruct the Kendo UI framework on how you want menus to fit to a page with the <a id="id412" class="indexterm"/>
<code class="literal">popupCollision</code> property<a id="id413" class="indexterm"/>. All of this is shown here:</p><div><pre class="programlisting">$("menu").kendoMenu({
  closeOnClick: true,  // close menus when item is selected
  hoverDelay: 100,  // delay before menus open/close
  openOnClick: false,  // root submenus open with item is selected
  orientation: "vertical", // root menu orientation:
  popupCollision: "fit" // how to adjust menu to screen boundaries
                        // Use "fit flip" for vertical menus.
                        // Set to false to disable boundary detection completely.
});</pre></div></div></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec45"/>Configuring menu methods</h2></div></div></div><p>Some <a id="id414" class="indexterm"/>of the methods for the Kendo UI Menu widget<a id="id415" class="indexterm"/> require that you get a reference to an existing menu item object (not just the HTML element) as a reference point for appending or inserting some additional menu items. In this case, you can access the menu item objects through a reference to the Kendo Menu like this:</p><div><pre class="programlisting">var menu= $("#menuDemo").kendoMenu().data("kendoMenu");</pre></div><p>In this code, you can get a reference to the Kendo Menu object from the same line of code where you instantiate it. This way, you can reference this object in other parts of your page and JavaScript logic. You can also get a reference to the Kendo Menu object by calling <code class="literal">.data(…)</code> on the HTML element that contains it at any point in your code, but doing it in one step is nice.</p><p>Once you have this reference, you can access the children inside of the Kendo Menu through the <code class="literal">element</code> property:</p><div><pre class="programlisting">menu.element.children("li").eq(3);</pre></div><p>In this code sample, we are accessing the fourth <code class="literal">li</code> element in the children of this particular menu object. The return value here will be a JavaScript object that can be used as the reference point for the <code class="literal">append</code>, <code class="literal">insertAfter</code>, and <code class="literal">insertBefore</code> methods.</p><div><div><div><div><h3 class="title"><a id="ch06lvl3sec19"/>The append(), insertAfter(), and insertBefore() methods</h3></div></div></div><p>The<a id="id416" class="indexterm"/> <code class="literal">append</code> method<a id="id417" class="indexterm"/> takes two arguments: the JSON notation of the new menu item(s) to be appended as children, and a reference to the menu item that will be the parent of the newly appended items:</p><div><pre class="programlisting">var menu = $("menu").data("kendoMenu");
var referenceItem = menu.element.children("li").eq(1);

menu.append(
  [{
    text: "new menu item",
    url: "http://www.music.com",
    items: [...]
  }],
  referenceItem
);</pre></div><p>This code would append this menu item as a child to the second menu item on the page. The <a id="id418" class="indexterm"/>
<code class="literal">insertAfter</code>
<a id="id419" class="indexterm"/> and <a id="id420" class="indexterm"/>
<code class="literal">insertBefore</code>
<a id="id421" class="indexterm"/> methods work exactly the same way, except that they insert the new menu items at the same menu level and either after or before the reference item respectively.</p><div><div><h3 class="title"><a id="note06"/>Note</h3><p>All of these methods return the Menu object to support method chaining.</p></div></div></div><div><div><div><div><h3 class="title"><a id="ch06lvl3sec20"/>The close(), enable(), open(), and remove() methods</h3></div></div></div><p>These methods for the Kendo UI Menu do not require a JavaScript object reference; they operate directly on the HTML elements within the menu on the page. Because of this, you can use a jQuery selector type syntax to choose which item(s) to act upon in a familiar syntax.</p><p>The <code class="literal">enable</code> method<a id="id422" class="indexterm"/> takes two parameters: the selector for the HTML element(s) and then a <code class="literal">true</code> or <code class="literal">false</code> value to indicate whether the item should be enabled (true) or disabled (false):</p><div><pre class="programlisting">var menu = $("menu").data("kendoMenu");
menu.enable("#secondItem", false);</pre></div><p>This particular code sample will disable the element with an HTML <code class="literal">id</code> value of <code class="literal">secondItem</code>.</p><p>The other methods here, <a id="id423" class="indexterm"/>that is<a id="id424" class="indexterm"/>, <code class="literal">close</code>,<a id="id425" class="indexterm"/> <code class="literal">open</code>, <a id="id426" class="indexterm"/>and <a id="id427" class="indexterm"/>
<code class="literal">remove</code>, <a id="id428" class="indexterm"/>only<a id="id429" class="indexterm"/> take a single parameter which is the selector of the HTML element(s). Please note that the element's ID values or class names are not assigned by the framework for you, you have to assign these values to your elements yourself in order to select them:</p><div><pre class="programlisting">var menu = $("menu").data("kendoMenu");
menu.close(".green");

menu.open("#item3");

menu.remove("#lastItem");</pre></div><div><div><h3 class="title"><a id="note07"/>Note</h3><p>All of these methods return the Menu object to support method chaining.</p></div></div></div></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec46"/>Menu events</h2></div></div></div><p>There<a id="id430" class="indexterm"/> are three events fired by the Kendo UI Menu: <code class="literal">close</code>, <code class="literal">open</code>, and <code class="literal">select</code>. Each of these is given<a id="id431" class="indexterm"/> an event argument with an <code class="literal">item</code> property that contains the HTML <code class="literal">&lt;li&gt;</code> element that was closed, opened, or selected, as shown here:</p><div><pre class="programlisting">&lt;script&gt;
  $(document).ready(function () {
    function onSelected(e) {
      var menu = $("#menu").data("kendoMenu");
      menu.enable(".green", false);
      alert("disabling green menu");
    }
    $("#menu").kendoMenu({ select: onSelected });
    
  });
&lt;/script&gt;</pre></div><p>This code sample shows a method wired up to handle the select event, which will then disable all menu items with a class name of <code class="literal">green</code>. Since this code is not considering which specific element was selected, it will fire the same code regardless of which element was selected. Here is a different example:</p><div><pre class="programlisting">&lt;script type="text/javascript"&gt;
  $(document).ready(function () {
    function onSelected(e){
      alert(e.item.innerHTML);
    };
    var menu= $("#menuDemo").kendoMenu(
      { dataSource: menuData, select: onSelected }).data("kendoMenu");
  });
&lt;/script&gt;</pre></div><p>This code examines the specific element that was selected and alerts its <code class="literal">innerHTML</code> property back to the user.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch06lvl1sec43"/>The Kendo UI ListView</h1></div></div></div><p>The Kendo UI <a id="id432" class="indexterm"/>ListView widget <a id="id433" class="indexterm"/>is designed to present a collection of data on a web page with a richer set of functionality than a standard HTML list. The ListView widget retrieves its data through a Kendo <code class="literal">DataSource</code> object, it presents its data through one or more Kendo Template blocks, and it allows interaction with its data by giving the user the ability to both select and edit the data on the page.</p><div><div><div><div><h2 class="title"><a id="ch06lvl2sec47"/>ListView basics</h2></div></div></div><p>Basically, the<a id="id434" class="indexterm"/> ListView widget displays a collection of data by using a template and a <code class="literal">DataSource</code> object:</p><div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html &gt;
&lt;head&gt;
    &lt;title&gt;ListView&lt;/title&gt;
    &lt;script src="img/jquery.js"&gt;&lt;/script&gt;
    &lt;script src="img/kendo.all.js"&gt;&lt;/script&gt;
    &lt;link href="/Content/kendo/kendo.common.css" rel="stylesheet" /&gt;
    &lt;link href="/Content/kendo/kendo.default.css" rel="stylesheet" /&gt;
    &lt;style type="text/css"&gt;
        .animal {
            width:250px;
            height:200px;
            position:relative;
            float:left;
        }
        .animal-label {
            font-size:large;
        }
        .animal-image {
            max-height:100px;
            max-width: 150px;
            margin: 5px;
        }
        #listView {
            width:750px;
            height:100%;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="listView"&gt;&lt;/div&gt;

    &lt;script type="text/x-kendo-tmpl" id="template"&gt;
        &lt;div class="animal"&gt;
            &lt;img src="img/#= imageName #" alt="#= animalName # 
              image" class="animal-image" /&gt;
            &lt;div class="animal-label"&gt;#= animalName #&lt;/div&gt;
        &lt;/div&gt;
    &lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        var animals = [
            { animalName: "African Elephant", 
              imageName: "african-elephant.jpg" },
            { animalName: "African Lion", imageName: "african-lion.jpg" },
            { animalName: "Alpaca", imageName: "alpacas.jpg" },
            { animalName: "Badger", imageName: "badger.jpg" },
            { animalName: "Black Bear", imageName: "bear-black.jpg" },
            { animalName: "Bison", imageName: "bison.jpg" },
            { animalName: "Jack-Rabbit", 
              imageName: "black-tailed-jackrabbit.jpg" },
            { animalName: "Caribou", imageName: "caribou.jpg" },
            { animalName: "Giraffe", imageName: "giraffe.jpg" },
            { animalName: "Hummingbird", imageName: "humming-bird.jpg" },
            { animalName: "Jaguar", imageName: "jaguar.jpg" },
            { animalName: "Lemur", imageName: "lemur.jpg" },
            { animalName: "Red Fox", imageName: "red-fox.jpg" },
            { animalName: "Striped Skunk", imageName: "striped-skunk.jpg" }
        ];

        $(document).ready(function () {
            $("#listView").kendoListView({
                dataSource: animals,
                template: kendo.template($("#template").html())
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>The following code sample, from the top down, shows some styles for the elements that will appear inside the ListView widget. <a id="id435" class="indexterm"/>These style declarations are important in order to properly lay out the images inside the ListView widget on the web page:</p><div><pre class="programlisting">&lt;style type="text/css"&gt;
  .animal {
    width:250px;
    height:200px;
    position:relative;
    float:left;
  }
  .animal-label {
    font-size:large;
  }
  .animal-image {
    max-height:100px;
    max-width: 150px;
    margin: 5px;
  }
  #listView {
    width:750px;
    height:100%;
  }
&lt;/style&gt;</pre></div><p>We then create the <code class="literal">div</code> element that will contain the ListView widget and the Kendo UI Template that structures the individual ListView elements. This template determines how each item in the ListView will be rendered inside the web page. Any changes to the ListView items must occur here:</p><div><pre class="programlisting">&lt;div id="listView"&gt;&lt;/div&gt;
&lt;script type="text/x-kendo-tmpl" id="template"&gt;
  &lt;div class="animal"&gt;
    &lt;img src="img/#= ${imageName #}" alt="#= ${animalName #} 
      image" class="animal-image" /&gt;
    &lt;div class="animal-label"&gt;#= ${animalName #}&lt;/div&gt;
  &lt;/div&gt;
&lt;/script&gt;</pre></div><p>We then have the JavaScript object literal that contains some data and the instantiation of the ListView where the <code class="literal">dataSource</code> and <code class="literal">template</code> properties are set:</p><div><pre class="programlisting">&lt;script type="text/javascript"&gt;
        var animals = [
            { animalName: "African Elephant", 
              imageName: "african-elephant.jpg" },
            { animalName: "African Lion", imageName: "african-lion.jpg" },
            { animalName: "Alpaca", imageName: "alpacas.jpg" },
            { animalName: "Badger", imageName: "badger.jpg" },
            { animalName: "Black Bear", imageName: "bear-black.jpg" },
            { animalName: "Bison", imageName: "bison.jpg" },
            { animalName: "Jack-Rabbit", 
              imageName: "black-tailed-jackrabbit.jpg" },
            { animalName: "Caribou", imageName: "caribou.jpg" },
            { animalName: "Giraffe", imageName: "giraffe.jpg" },
            { animalName: "Hummingbird", imageName: "humming-bird.jpg" },
            { animalName: "Jaguar", imageName: "jaguar.jpg" },
            { animalName: "Lemur", imageName: "lemur.jpg" },
            { animalName: "Red Fox", imageName: "red-fox.jpg" },
            { animalName: "Striped Skunk", imageName: "striped-skunk.jpg" }
        ];

        $(document).ready(function () {
            $("#listView").kendoListView({
                dataSource: animals,
                template: kendo.template($("#template").html())
            });
        });
    &lt;/script&gt;</pre></div><p>As always, remember <a id="id436" class="indexterm"/>that the <code class="literal">DataSource</code> object can be fully configured to point to remote data sources, can be structured using a schema, or can use any of the other options that you might want to take advantage of in a production scenario.</p><div><img src="img/4346OT_06_05.jpg" alt="ListView basics"/></div><p>You can see how<a id="id437" class="indexterm"/> each element from the <code class="literal">DataSource</code> object has been rendered with the template, styled, and presented on the page as you would expect.</p></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec48"/>Selecting elements with ListView</h2></div></div></div><p>The ListView widget<a id="id438" class="indexterm"/> has a richer set of behaviors to offer than simply displaying data, however, and to start let's look at how it allows "selection" of elements. In this code sample, I have added some more properties and an event handler to the ListView instantiation logic to demonstrate this:</p><div><pre class="programlisting">        $(document).ready(function () {
            $("#listView").kendoListView({
                dataSource: animals,
                template: kendo.template($("#template").html()),
                selectable: "multiple",
                change: notifyUser
            });

            function notifyUser(e) {
                var selected = $.map(this.select(), function (item) {
                    return animals[$(item).index()].animalName;
                });
                alert(selected.join(", "));
            }
        });
    &lt;/script&gt;</pre></div><p>The <code class="literal">selectable</code> property has been set with <code class="literal">multiple</code> to allow for multiple selection of items (you can select multiple items on the page by holding the <em>Ctrl</em> button on the keyboard while clicking with a mouse). We also added an event handler for the <code class="literal">change</code> event so that we can see an alert box that displays which elements have been selected.</p><p>In the <code class="literal">notifyUser</code> event handler function, I want to explain what is happening because it looks a bit confusing at first glance. The variable selected is given an array value of all of the selected elements' <code class="literal">animalName</code> property values. It does this by using <code class="literal">$.map</code> on the results of <code class="literal">this.select()</code>. What is <code class="literal">this.select()</code>? Well, when Kendo fires an event from a widget, it sets the context of that event handler so that this refers to the Kendo widget that fired the event. So, in this case, this is a reference to the ListView itself. This means that calling <code class="literal">this.select()</code> in this event handler will return a collection of all of the selected elements within the ListView. The function as the second parameter of <code class="literal">$.map</code> then grabs the <code class="literal">animalName</code> property from each of these elements by using its index from the <code class="literal">animals</code> array. The result of this code is an array of strings containing all of the <code class="literal">animalName</code> values of the selected elements from the ListView. This is then displayed to the user using <code class="literal">[array].join()</code>.</p><p>Here is the output with some items selected and the alert box showing from the event handler:</p><div><img src="img/4346OT_06_06.jpg" alt="Selecting elements with ListView"/></div><p>Notice how the names of the animals are all showing up in the alert box that has popped up on the page.<a id="id439" class="indexterm"/> This is great because it means that you can accurately track selections that the user makes within your ListView and respond to those actions however you need to.</p></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec49"/>Editing elements with ListView</h2></div></div></div><p>The ListView widget <a id="id440" class="indexterm"/>also provides a good syntax for allowing edits to the data within the <code class="literal">DataSource</code> object. You need to create a separate template to display that allows the user to make edits and then make sure that you assign some of the Kendo-specific class names, so that it displays and understand the commands correctly. Here is the code of the new template. Place it right beneath the template we created in the last example.</p><div><pre class="programlisting">    &lt;script type="text/x-kendo-tmpl" id="edit-template"&gt;
        &lt;div class="animal"&gt;
            &lt;img src="img/#= imageName #" alt="#= animalName # image"
                class="animal-image" /&gt;
            &lt;div class="animal-label"&gt;
                &lt;input type="text" data-bind="value:animalName" name="animalName"
                    required="required" /&gt;&lt;/div&gt;
            &lt;div&gt;
                &lt;a class="k-button k-button-icontext k-update-button"
                    href="\\#"&gt;&lt;span class="k-icon k-update"&gt;&lt;/span&gt;Save&lt;/a&gt;
                &lt;a class="k-button k-button-icontext k-cancel-button"
                    href="\\#"&gt;&lt;span class="k-icon k-cancel"&gt;&lt;/span&gt;Cancel&lt;/a&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/script&gt;</pre></div><div><div><h3 class="title"><a id="note08"/>Note</h3><p>Did you notice the unusual characters in the <code class="literal">href</code> attribute of the two buttons in the template? The double-backslash characters, <code class="literal">\\#</code>, prevent the hash mark from being rendered as part of the Kendo template. If this hash mark was not escaped with these backslashes, the template would not render at all.</p></div></div><p>Next, we have<a id="id441" class="indexterm"/> added some more configurations to the JavaScript block that creates our ListView widget. Specifically, we now have an <code class="literal">editTemplate</code> property that points to the template that we just created:</p><div><pre class="programlisting">&lt;script type="text/javascript"&gt;
        var animals = [
            { animalName: "African Elephant", 
              imageName: "african-elephant.jpg" },
            ...
            
        ];

        $(document).ready(function () {
            $("#listView").kendoListView({
                dataSource: animals,
                template: kendo.template($("#template").html()),
                editTemplate: kendo.template($("#edit-template").html())
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>Here is a screenshot where the name of the Caribou has been edited to Reindeer:</p><div><img src="img/4346OT_06_07.jpg" alt="Editing elements with ListView"/></div></div><div><div><div><div><h2 class="title"><a id="ch06lvl2sec50"/>ListView API and configuration</h2></div></div></div><p>We have already covered several of the aspects of the ListView in our preceding examples; here are the remaining configuration properties<a id="id442" class="indexterm"/> from the documentation:</p><div><pre class="programlisting">$("#listView").kendoListView({
  autoBind: true, // if false, you must call read() manually
  dataSource: ..., // demonstrated above
  editTemplate: ..., // demonstrated above
  navigatable: false, // whether or not keyboard navigation is enabled
  selectable: false, // true/false or "single"/"multiple" are valid options
  template: ..., // demonstrated above
  altTemplate: ... // template used for alternating styles if desired
});</pre></div><div><div><div><div><h3 class="title"><a id="ch06lvl3sec21"/>ListView methods</h3></div></div></div><p>The ListView widget <a id="id443" class="indexterm"/>has several methods available. Most of them are designed to manipulate the items within the ListView, so that you can control the behavior through code. Like with any widget, you need a reference to the listView JavaScript object before you can call these methods, like this:</p><div><pre class="programlisting">var listView = $("#listView").data("kendoListView");
...
listView.add(...)</pre></div><p>Get the reference through the <code class="literal">.data(...)</code> method and then you can call the ListView-specific methods. Here is a brief overview of the methods that take no parameters:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">add</code>: Inserts<a id="id444" class="indexterm"/> an <a id="id445" class="indexterm"/>empty item into the ListView and prepares it for editing</li><li class="listitem" style="list-style-type: disc"><code class="literal">cancel</code>: Cancels <a id="id446" class="indexterm"/>changes<a id="id447" class="indexterm"/> in currently edited items</li><li class="listitem" style="list-style-type: disc"><code class="literal">clearSelection</code>: Clears <a id="id448" class="indexterm"/>ListView's selected items <a id="id449" class="indexterm"/>and triggers the <code class="literal">change</code> event</li><li class="listitem" style="list-style-type: disc"><code class="literal">refresh</code>: Reloads <a id="id450" class="indexterm"/>the data <a id="id451" class="indexterm"/>and reprints the ListView</li><li class="listitem" style="list-style-type: disc"><code class="literal">save</code>: Saves<a id="id452" class="indexterm"/> the edited ListView item. If validation<a id="id453" class="indexterm"/> succeeds, it will call the datasource's <code class="literal">sync</code> method.</li></ul></div><p>There are a few additional methods that do take parameters.</p><div><div><div><div><h4 class="title"><a id="ch06lvl4sec02"/>The edit method</h4></div></div></div><p>This<a id="id454" class="indexterm"/> method edits the specified ListView item and <a id="id455" class="indexterm"/>triggers the <code class="literal">edit</code> event. This method takes a single parameter which is the ListView item that needs to be edited. Here is a sample:</p><div><pre class="programlisting">var listView = $("#listView").data("kendoListView");
...
listView.edit(listView.element.children().first());</pre></div></div><div><div><div><div><h4 class="title"><a id="ch06lvl4sec03"/>The remove method</h4></div></div></div><p>This <a id="id456" class="indexterm"/>method removes<a id="id457" class="indexterm"/> the specified ListView item and triggers the <code class="literal">remove</code> event. It also triggers the datasource's <code class="literal">sync</code> method.</p><div><pre class="programlisting">var listView = $("#listView").data("kendoListView");
...
listView.remove(listView.element.children().first());</pre></div></div><div><div><div><div><h4 class="title"><a id="ch06lvl4sec04"/>The select method</h4></div></div></div><p>This <a id="id458" class="indexterm"/>method selects the specified ListView item. <a id="id459" class="indexterm"/>If this method is called without any arguments, it will return a collection of all of the selected items in the ListView. This is what we did in the code sample for selecting items. Here is a code sample for using the method with a parameter:</p><div><pre class="programlisting">var listView = $("#listView").data("kendoListView");
...
listView.select(listView.element.children().first());</pre></div></div></div><div><div><div><div><h3 class="title"><a id="ch06lvl3sec22"/>ListView events</h3></div></div></div><p>The ListView widget<a id="id460" class="indexterm"/> exposes several events for hooking into its lifecycle and behavior. <a id="id461" class="indexterm"/>We have already seen some of these in our examples. These events can all be assigned to handlers during the ListView instantiation as we save earlier in the chapter. Here is a list:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">change</code>: Fires <a id="id462" class="indexterm"/>when the ListView selection is changed</li><li class="listitem" style="list-style-type: disc"><code class="literal">dataBound</code>: Fires<a id="id463" class="indexterm"/> when the ListView has received data from the <code class="literal">DataSource</code> object and is about to render it</li><li class="listitem" style="list-style-type: disc"><code class="literal">dataBinding</code>: Fires<a id="id464" class="indexterm"/> when the data is about to be rendered on the page</li><li class="listitem" style="list-style-type: disc"><code class="literal">edit</code>: Fires<a id="id465" class="indexterm"/> when the ListView enters edit mode</li><li class="listitem" style="list-style-type: disc"><code class="literal">remove</code>: Fires<a id="id466" class="indexterm"/> before the ListView item is removed</li></ul></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch06lvl1sec44"/>Summary</h1></div></div></div><p>The Menu and ListView widgets are great tools for structuring data on your web pages. The Menu widget makes it simple to create interactive JavaScript menus for navigation and even for displaying data with graphics. The ListView widget should become a standard option for you when you want a standard way of rendering collections of data elements on a web page. It gives you the ability to hook up functionality that would otherwise require a lot of code and debugging.</p><p>In the next chapter, we will take a look at the Kendo UI PanelBar widget. Its API is very similar to the Kendo UI Menu widget, as you will see, and it is a powerful way to render accordion controls in a web page. Much like the Kendo UI Menu widget, its primary responsibility is to organize hierarchical content in a way that saves screen space, but still provides a sensible structure for users to understand.</p></div></body></html>