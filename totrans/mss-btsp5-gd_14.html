<html><head></head><body>
<div><div><h1 id="_idParaDest-255"><em class="italic"><a id="_idTextAnchor259"/>Chapter 11</em>: Using Bootstrap 5 with Advanced JavaScript Features</h1>
<p>In this chapter, we will learn about some advanced JavaScript features that can be used with the interactive components of Bootstrap 5. First, we will get a quick overview of the interactive components and see which requirements they have in common in terms of dependencies and initialization. Then, we will see how we can initialize interactive components with either data attributes or JavaScript. Following this, we will see how we can define options with either data attributes or JavaScript, and finally, we will take a closer look at how we can use JavaScript for methods and events.</p>
<p>In this chapter, we’re going to cover the following main topics:</p>
<ul>
<li>Interactive components of Bootstrap 5</li>
<li>Initializing interactive components</li>
<li>Defining options for interactive components</li>
<li>Using JavaScript methods</li>
<li>Using JavaScript events</li>
</ul>
<h1 id="_idParaDest-256"><a id="_idTextAnchor260"/>Technical requirements</h1>
<p>To preview the examples, you will need a code editor and a browser. The source code for all code examples can be found here:</p>
<p>https://github.com/PacktPublishing/The-Missing-Bootstrap-5-Guide</p>
<h1 id="_idParaDest-257"><a id="_idTextAnchor261"/>Interactive components of Bootstrap 5</h1>
<p>We will start this chapter by getting <a id="_idIndexMarker795"/>an overview of the interactive components of Bootstrap 5. For each component listed here, we will see which JavaScript file is being used, whether it requires custom initialization, which options, methods, and events it has, whether it has any dependencies, and for some of them also some additional information. In the following sections, we will then look closer at initialization, options, methods, and events, so this should just be regarded as an overview. At the end of the list, there’s also a summary to highlight the most important differences.</p>
<h2 id="_idParaDest-258"><a id="_idTextAnchor262"/>Accordion</h2>
<p>This component<a id="_idIndexMarker796"/> is built using the collapse<a id="_idIndexMarker797"/> component described later.</p>
<h2 id="_idParaDest-259"><a id="_idTextAnchor263"/>Alert</h2>
<p><code>alert.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><strong class="bold">Options</strong>: None</p>
<p><code>close</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>close.bs.alert</code>, <code>closed.bs.alert</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<p>This component<a id="_idIndexMarker798"/> can be<a id="_idIndexMarker799"/> dismissed<a id="_idIndexMarker800"/> with the close button<a id="_idIndexMarker801"/> component.</p>
<h2 id="_idParaDest-260"><a id="_idTextAnchor264"/>Button</h2>
<p><code>button.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><strong class="bold">Options</strong>: None</p>
<p><code>toggle</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><strong class="bold">Events</strong>: None</p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-261"><a id="_idTextAnchor265"/>Carousel</h2>
<p><code>carousel.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>interval</code>, <code>keyboard</code>, <code>pause</code>, <code>ride</code>, <code>wrap</code>, <code>touch</code></p>
<p><code>cycle</code>, <code>pause</code>, <code>prev</code>, <code>next</code>, <code>nextWhenVisible</code>, <code>to</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>slide.bs.carousel</code>, <code>slid.bs.carousel</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-262"><a id="_idTextAnchor266"/>Collapse</h2>
<p><code>collapse.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>parent</code>, <code>toggle</code></p>
<p><code>toggle</code>, <code>show</code>, <code>hide</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.collapse</code>, <code>shown.bs.collapse</code>, <code>hide.bs.collapse</code>, <code>hidden.bs.collapse</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-263"><a id="_idTextAnchor267"/>Dropdown</h2>
<p><code>dropdown.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>boundary</code>, <code>reference</code>, <code>display</code>, <code>offset</code>, <code>autoClose</code>, <code>popperConfig</code></p>
<p><code>toggle</code>, <code>show</code>, <code>hide</code>, <code>update</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.dropdown</code>, <code>shown.bs.dropdown</code>, <code>hide.bs.dropdown</code>, <code>hidden.bs.dropdown</code></p>
<p><strong class="bold">Dependencies</strong>: Popper</p>
<p>This component<a id="_idIndexMarker802"/> requires the<a id="_idIndexMarker803"/> external<a id="_idIndexMarker804"/> third-party library<a id="_idIndexMarker805"/> Popper for <a id="_idIndexMarker806"/>positioning. It must be included before <code>bootstrap.js</code> or by<a id="_idIndexMarker807"/> using <code>bootstrap.bundle.js</code>, which contains Popper.</p>
<h2 id="_idParaDest-264"><a id="_idTextAnchor268"/>List group</h2>
<p>This component<a id="_idIndexMarker808"/> uses <code>tab.js</code> to create<a id="_idIndexMarker809"/> tab navigation based<a id="_idIndexMarker810"/> on list groups. Please<a id="_idIndexMarker811"/> refer to the details<a id="_idIndexMarker812"/> for navs and tabs, which<a id="_idIndexMarker813"/> use the same JavaScript file.</p>
<h2 id="_idParaDest-265"><a id="_idTextAnchor269"/>Modal</h2>
<p><code>modal.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>backdrop</code>, <code>keyboard</code>, <code>focus</code></p>
<p><code>toggle</code>, <code>show</code>, <code>hide</code>, <code>handleUpdate</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.modal</code>, <code>shown.bs.modal</code>, <code>hide.bs.modal</code>, <code>hidden.bs.modal</code>, <code>hidePrevented.bs.modal</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-266"><a id="_idTextAnchor270"/>Navs and tabs</h2>
<p><code>tab.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><strong class="bold">Options</strong>: None</p>
<p><code>show</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.tab</code>, <code>shown.bs.tab</code>, <code>hide.bs.tab</code>, <code>hidden.bs.tab</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<p>The JavaScript file used by<a id="_idIndexMarker814"/> this component is also used <a id="_idIndexMarker815"/>by the list group component.</p>
<h2 id="_idParaDest-267"><a id="_idTextAnchor271"/>Offcanvas</h2>
<p><code>offcanvas.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>backdrop</code>, <code>keyboard</code>, <code>scroll</code></p>
<p><code>toggle</code>, <code>show</code>, <code>hide</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.offcanvas</code>, <code>shown.bs.offcanvas</code>, <code>hide.bs.offcanvas</code>, <code>hidden.bs.offcanvas</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-268"><a id="_idTextAnchor272"/>Popover</h2>
<p><code>popover.js</code></p>
<p><strong class="bold">Custom initialization</strong>: Yes</p>
<p><code>animation</code>, <code>container</code>, <code>content</code>, <code>delay</code>, <code>html</code>, <code>placement</code>, <code>selector</code>, <code>template</code>, <code>title</code>, <code>trigger</code>, <code>fallbackPlacements</code>, <code>boundary</code>, <code>customClass</code>, <code>sanitize</code>, <code>allowList</code>, <code>sanitizeFn</code>, <code>offset</code>, <code>popperConfig</code></p>
<p><code>show</code>, <code>hide</code>, <code>toggle</code>, <code>dispose</code>, <code>enable</code>, <code>disable</code>, <code>toggleEnabled</code>, <code>update</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.popover</code>, <code>shown.bs.popover</code>, <code>hide.bs.popover</code>, <code>hidden.bs.popover</code>, <code>inserted.bs.popover</code></p>
<p><code>tooltip.js</code>, Popover</p>
<p>This component<a id="_idIndexMarker816"/> requires <code>tooltip.js</code> as<a id="_idIndexMarker817"/> a dependency. It also<a id="_idIndexMarker818"/> requires the external<a id="_idIndexMarker819"/> third-party library Popper for positioning. The latter<a id="_idIndexMarker820"/> must be included before <code>bootstrap.js</code> or by using <code>bootstrap.bundle.js</code>, which<a id="_idIndexMarker821"/> contains Popper.</p>
<h2 id="_idParaDest-269"><a id="_idTextAnchor273"/>Scrollspy</h2>
<p><code>scrollspy.js</code></p>
<p><strong class="bold">Custom initialization</strong>: No</p>
<p><code>rootMargin</code>, <code>smoothScroll</code>, <code>target</code></p>
<p><code>refresh</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>activate.bs.scrollspy</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-270"><a id="_idTextAnchor274"/>Toast</h2>
<p><code>toast.js</code></p>
<p><strong class="bold">Custom initialization</strong>: Yes</p>
<p><code>animation</code>, <code>autohide</code>, <code>delay</code></p>
<p><code>show</code>, <code>hide</code>, <code>dispose</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.toast</code>, <code>shown.bs.toast</code>, <code>hide.bs.toast</code>, <code>hidden.bs.toast</code></p>
<p><strong class="bold">Dependencies</strong>: None</p>
<h2 id="_idParaDest-271"><a id="_idTextAnchor275"/>Tooltip</h2>
<p><code>tooltip.js</code></p>
<p><strong class="bold">Custom initialization</strong>: Yes</p>
<p><code>animation</code>, <code>container</code>, <code>delay</code>, <code>html</code>, <code>placement</code>, <code>selector</code>, <code>template</code>, <code>title</code>, <code>trigger</code>, <code>fallbackPlacements</code>, <code>boundary</code>, <code>customClass</code>, <code>sanitize</code>, <code>allowList</code>, <code>sanitizeFn</code>, <code>offset</code>, <code>popperConfig</code></p>
<p><code>show</code>, <code>hide</code>, <code>toggle</code>, <code>dispose</code>, <code>enable</code>, <code>disable</code>, <code>toggleEnabled</code>, <code>update</code>, <code>getInstance</code>, <code>getOrCreateInstance</code></p>
<p><code>show.bs.tooltip</code>, <code>shown.bs.tooltip</code>, <code>hide.bs.tooltip</code>, <code>hidden.bs.tooltip</code>, <code>inserted.bs.tooltip</code></p>
<p><strong class="bold">Dependencies</strong>: Popover</p>
<p>This component<a id="_idIndexMarker822"/> requires the external third-party library Popper for positioning. It must<a id="_idIndexMarker823"/> be included before <code>bootstrap.js</code> or by using <code>bootstrap.bundle.js</code>, which contains Popper.</p>
<p>The <code>tooltip.js</code> file is required by the popover component as a dependency.</p>
<p>We just ran through a list of all of the 15 components that use JavaScript in some way or another. Now, we will summarize this and highlight the most important differences among the components. Under the next four headings, we will therefore see which components stand out from the crowd.</p>
<h3>Requires initialization</h3>
<p><strong class="bold">Components</strong>: Popover, toast, tooltip</p>
<p>These components<a id="_idIndexMarker824"/> can’t be initialized with the use of data attributes due to performance reasons. Hence, they must instead be initialized using custom JavaScript. We will see how in the <em class="italic">Initializing interactive components </em>section.</p>
<h3>Has dependencies</h3>
<p><strong class="bold">Components</strong>: Dropdown, popover, tooltip</p>
<p>These components<a id="_idIndexMarker825"/> all require the external third-party library Popper for positioning. It must be included before <code>bootstrap.js</code> or by using <code>bootstrap.bundle.js</code>, which contains Popper.</p>
<p>In addition to this, the popover component also requires the <code>tooltip.js</code> JavaScript file from the tooltip component as a dependency.</p>
<h3>Has no options</h3>
<p><strong class="bold">Components</strong>: Alert, button, navs, and tabs</p>
<p>These<a id="_idIndexMarker826"/> components don’t have any options.</p>
<h3>Has no events</h3>
<p><strong class="bold">Component</strong>: Button</p>
<p>This component<a id="_idIndexMarker827"/> doesn’t have any events.</p>
<h1 id="_idParaDest-272"><a id="_idTextAnchor276"/>Initializing interactive components</h1>
<p>In this section, we<a id="_idIndexMarker828"/> will see how we can initialize interactive components in two different ways. First, we will see how we can do it with data attributes in the HTML, which is the default way, which you might have already been using. Then, we will see how we can do it with JavaScript instead. We can initialize most of the interactive components that come with Bootstrap 5 using data attributes and without adding any extra JavaScript code ourselves, while some of them we must initialize with our own JavaScript.</p>
<h2 id="_idParaDest-273"><a id="_idTextAnchor277"/>Initializing interactive components using data attributes</h2>
<p>We can initialize most of the interactive<a id="_idIndexMarker829"/> components that come with<a id="_idIndexMarker830"/> Bootstrap 5 using data attributes and without adding any extra JavaScript code ourselves. For most components, we use the <code>data-bs-toggle</code> data attribute, with the value being the name of the component, like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">HTML</p>
<pre class="source-code">&lt;button type="button" class="btn btn-primary" <strong class="bold">data-bs-toggle="button"</strong>&gt;Button&lt;/button&gt;</pre>
<p>However, for the carousel component, we must use <code>data-bs-ride="carousel"</code>, for the scrollspy component we must use <code>data-bs-spy="scroll"</code>, and, to dismiss the alert or offcanvas component, we must use <code>data-bs-dismiss="[alert/offcanvas]"</code>.</p>
<p class="callout-heading">Other required data attributes</p>
<p class="callout">Various other data attributes are required for some components to make them work. The data attributes mentioned above are just the ones used to initialize them.</p>
<h2 id="_idParaDest-274"><a id="_idTextAnchor278"/>Initializing interactive components using JavaScript</h2>
<p>As we saw in the list at the beginning<a id="_idIndexMarker831"/> of this chapter, we must <a id="_idIndexMarker832"/>initialize some of the interactive components with our own JavaScript code.</p>
<p>As an example, we want to create a tooltip component for the following badge component:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">HTML</p>
<pre class="source-code">&lt;div class="badge bg-secondary" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<p>The <code>&lt;div&gt;</code> tag has the <code>title</code> attribute<a id="_idIndexMarker833"/> that is used <a id="_idIndexMarker834"/>by the tooltip component.</p>
<h3>Syntax</h3>
<p>We can initialize<a id="_idIndexMarker835"/> an interactive component by using the constructor function in JavaScript to create and initialize an object instance of a class using the <code>new</code> keyword.</p>
<p>The syntax for this is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">var tooltip = new bootstrap.Tooltip(element, options)</pre>
<p>Here, <code>element</code> can be either a DOM element or a CSS selector and <code>options</code> is an object and is optional. Options can still be defined using data attributes, even though we are initializing a component with JavaScript. We will learn more about options in the <em class="italic">Defining options for interactive components </em>section.</p>
<h3>Using a DOM element</h3>
<p>To initialize an interactive<a id="_idIndexMarker836"/> component using a DOM element, we must<a id="_idIndexMarker837"/> first store it in a variable, and then use that variable as a reference to the DOM element. Here’s an example of how to do this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/index.xhtml line 14</p>
<pre class="source-code">&lt;div class="badge bg-secondary" title="Tooltip for badge" id="tooltipDOM"&gt;Badge with tooltip&lt;/div&gt;</pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/js/script.js line 1-2</p>
<pre class="source-code">var tooltipDOMelement = document.getElementById('tooltipDOM');</pre>
<pre class="source-code">var tooltipDOM = new bootstrap.Tooltip(tooltipDOMelement);</pre>
<p>In the previous code, we stored the element with <code>id="tooltipDOM"</code> in the <code>element</code> variable, which we then passed as an argument to the constructor function. We didn’t pass any options since we will take a closer look at that later in this chapter.</p>
<h3>Using a CSS selector</h3>
<p>To initialize an interactive<a id="_idIndexMarker838"/> component using a CSS selector, we<a id="_idIndexMarker839"/> can simply pass it as the argument to the constructor function. The element is then found using the <code>querySelector()</code> method. Here’s an example of how to do this using the ID of the <code>&lt;div&gt;</code> element as the selector:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/index.xhtml line 19</p>
<pre class="source-code">&lt;div class="badge bg-secondary" title="Tooltip for badge" id="tooltipCSS"&gt;Badge with tooltip&lt;/div&gt;</pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/js/script.js line 4</p>
<pre class="source-code">var tooltip = new bootstrap.Tooltip('#tooltipCSS');</pre>
<h2 id="_idParaDest-275"><a id="_idTextAnchor279"/>Initializing multiple components</h2>
<p>The various JavaScript plugins<a id="_idIndexMarker840"/> for the interactive components only support a single element. So, to initialize multiple elements, we can call the constructor function for each element in a list or an array. We will now see two different examples of how we can do just that.</p>
<h3>Using a for loop</h3>
<p>For the first<a id="_idIndexMarker841"/> example, we will use the following HTML with three identical<a id="_idIndexMarker842"/> badge components that all have the same <code>tooltipLoop</code> class:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/index.xhtml line 24-26</p>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipLoop" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipLoop" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipLoop" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<p>When using a <code>for</code> loop, we first store all <code>&lt;div&gt;</code> elements in the <code>tooltipLoopElements</code> variable. Then, we loop through this NodeList and call the constructor function for each element:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/js/script.js line 6-9</p>
<pre class="source-code">var tooltipLoopElements = document.querySelectorAll('.tooltipLoop');</pre>
<pre class="source-code">for (var i = 0; i &lt; tooltipLoopElements.length; i++) {</pre>
<pre class="source-code">  new bootstrap.Tooltip(tooltipLoopElements[i])</pre>
<pre class="source-code">}</pre>
<h3>Using the map method</h3>
<p>For the second example, we will<a id="_idIndexMarker843"/> use the following HTML with<a id="_idIndexMarker844"/> three identical badge components that all have the same <code>tooltipMap</code> class:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/index.xhtml line 31-33</p>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipMap" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipMap" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipMap" title="Tooltip for badge"&gt;Badge with tooltip&lt;/div&gt;</pre>
<p>When using the <code>map()</code> method, we first store all <code>&lt;div&gt;</code> elements in the <code>tooltipMapElements</code> variable. However, this time we use the <code>slice()</code> and <code>call()</code> methods to turn the NodeList into an array. Then, we create a new array using the <code>map()</code> method and store it in the <code>tooltipMap</code> variable. For every element in the array, we call the constructor function like before:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/initialization/js/script.js line 11-14</p>
<pre class="source-code">var tooltipMapElements = [].slice.call(document.querySelectorAll('.tooltipMap'));</pre>
<pre class="source-code">var tooltipMap = tooltipMapElements.map(function(tooltipMapElement) {</pre>
<pre class="source-code">  return new bootstrap.Tooltip(tooltipMapElement)</pre>
<pre class="source-code">});</pre>
<p class="callout-heading">Data attribute required for the dropdown component</p>
<p class="callout">Even if you choose to initialize<a id="_idIndexMarker845"/> the dropdown component<a id="_idIndexMarker846"/> using JavaScript, the <code>data-bs-toggle="dropdown"</code> data attribute is still required on the trigger element for the dropdown.</p>
<p>We have now learned <a id="_idIndexMarker847"/>how to initialize interactive<a id="_idIndexMarker848"/> components in various ways. We will continue to learn how to define options for interactive components.</p>
<h1 id="_idParaDest-276"><a id="_idTextAnchor280"/>Defining options for interactive components</h1>
<p>In the list at the beginning<a id="_idIndexMarker849"/> of this chapter, we saw which options were available for interactive components. In the official documentation of Bootstrap 5, you will find a table describing all of the available options (if any) for each component. In this table, you will find the name, type, default value, and description<a id="_idIndexMarker850"/> for each option. You can access the components in the official documentation through this link: <a href="http://getbootstrap.com/docs/5.1/components">getbootstrap.com/docs/5.1/components</a>.</p>
<p>Default options for all components of a type and common options for a group of components can be set via JavaScript, while options for individual components can be passed either via data attributes or via JavaScript. Let’s now see how this is done.</p>
<h2 id="_idParaDest-277"><a id="_idTextAnchor281"/>Defining default options</h2>
<p>You can change the default<a id="_idIndexMarker851"/> value for an option for a component by using the following syntax:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">bootstrap.[component name].Default.[option name] = [option value];</pre>
<p>As an example, we can set our tooltip components to have a default delay of 1,000 milliseconds in the following way:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">bootstrap.Tooltip.Default.delay = 1000;</pre>
<h2 id="_idParaDest-278"><a id="_idTextAnchor282"/>Defining options using data attributes</h2>
<p>To define options using <a id="_idIndexMarker852"/>data attributes, we append<a id="_idIndexMarker853"/> the option name to <code>data-bs-</code>, and the case type of the option name should be changed from <em class="italic">camelCase</em> to <em class="italic">kebab-case</em>.</p>
<p>Now, let’s see how we can initialize a tooltip component with an option for how to trigger it. For this purpose, we can use the <code>trigger</code> option, which accepts a value of the <code>string</code> type. The default is <code>‘hover focus’</code>, and the possible values are <code>‘click | hover | focus | manual’</code>. We will make the tooltip trigger on click only using the following code:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">HTML</p>
<pre class="source-code">&lt;a href="#" id="tooltip" title="Tooltip for link" <strong class="bold">data-bs-trigger="click"</strong>&gt;Link&lt;/a&gt;</pre>
<p>The tooltip will now only be triggered on click for both showing and hiding – just like the popover component. Keep in mind that the previous code on its own will not initialize the tooltip component. As we just learned, this must be done with our own JavaScript code:</p>
<p class="callout-heading">Options that can’t be set using data attributes</p>
<p class="callout">The following options<a id="_idIndexMarker854"/> used by the popover and tooltip components can’t be set using data attributes due to security reasons: <code>sanitize</code>, <code>sanitizeFn</code>, and <code>allowList</code>. These are all related to using HTML in the content of the tooltip or popover.</p>
<h2 id="_idParaDest-279"><a id="_idTextAnchor283"/>Defining options using JavaScript</h2>
<p>As mentioned earlier<a id="_idIndexMarker855"/> in this chapter, it’s possible<a id="_idIndexMarker856"/> to pass an optional <code>options</code> object to the constructor when initializing an interactive component with JavaScript. To repeat, the syntax looks like this:</p>
<pre class="source-code">var tooltip = new bootstrap.Tooltip(element, options)</pre>
<p>To define an option with an object, we simply use the option name as a property of the object and then give it a valid value<a id="_idIndexMarker857"/> depending on the type of option. Initializing<a id="_idIndexMarker858"/> the same tooltip component as before, with the <code>trigger</code> option set to <code>click</code>, will then look like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">HTML</p>
<pre class="source-code">&lt;a href="#" id="tooltip" title="Tooltip for link"&gt;Link&lt;/a&gt;</pre>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">var tooltip = new bootstrap.Tooltip('#tooltip', { trigger: 'click' })</pre>
<p>The tooltip will now only be triggered on click for both showing and hiding.</p>
<h2 id="_idParaDest-280"><a id="_idTextAnchor284"/>Defining default, common, and individual options</h2>
<p>As mentioned previously, we can<a id="_idIndexMarker859"/> define default, common, and individual<a id="_idIndexMarker860"/> options for components using JavaScript<a id="_idIndexMarker861"/> and data attributes. This is useful if you want to define some default options for all components of a type, options with the same value for a group of components, and individual options with different values for each instance of a component.</p>
<p>We will now see an example where we make use of all of this. In our HTML, we have four badge components to which we want to add a tooltip component. On each of the <code>&lt;div&gt;</code> elements, we define the placement for the tooltip using the <code>data-bs-placement</code> data attribute:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/options/index.xhtml</p>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipOnClick" title="Tooltip on top" <strong class="bold">data-bs-placement="top"</strong>&gt;Badge with tooltip on top&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipOnClick" title="Tooltip on bottom" <strong class="bold">data-bs-placement="bottom"</strong>&gt;Badge with tooltip on bottom&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipOnClick" title="Tooltip on left" <strong class="bold">data-bs-placement="left"</strong>&gt;Badge with tooltip on left&lt;/div&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary tooltipOnClick" title="Tooltip on right" <strong class="bold">data-bs-placement="right"</strong>&gt;Badge with tooltip on right&lt;/div&gt;</pre>
<p>Then, in our JavaScript, we first define the default option for <code>delay</code> and set it to <code>1000</code> milliseconds. After that, we initialize the components using JavaScript with the <code>trigger</code> option set to <code>‘click’</code>:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/options/js/script.js</p>
<pre class="source-code">bootstrap.Tooltip.Default.<strong class="bold">delay = 1000</strong>;</pre>
<pre class="source-code">var tooltipElementList = document.querySelectorAll('.tooltipOnClick');</pre>
<pre class="source-code">for (var i = 0; i &lt; tooltipElementList.length; i++) {</pre>
<pre class="source-code">    new bootstrap.Tooltip(tooltipElementList[i], <strong class="bold">{ trigger: </strong></pre>
<pre class="source-code">      <strong class="bold">'click' }</strong>)</pre>
<pre class="source-code">}</pre>
<p>The four badge components<a id="_idIndexMarker862"/> will now have a tooltip component<a id="_idIndexMarker863"/> each that will trigger on click<a id="_idIndexMarker864"/> with a delay of 1,000 milliseconds. The tooltips will be placed at the top, bottom, left, and right respectively.</p>
<p class="callout-heading">Using data attributes and JavaScript for the same option</p>
<p class="callout">If you specify the same<a id="_idIndexMarker865"/> option with both<a id="_idIndexMarker866"/> a data attribute and using JavaScript, the JavaScript setting will take precedence.</p>
<h1 id="_idParaDest-281"><a id="_idTextAnchor285"/>Using JavaScript methods</h1>
<p>In the list at the beginning<a id="_idIndexMarker867"/> of this chapter, we saw that all interactive components have methods. In the official documentation of Bootstrap 5, you will find a table describing all of the available methods for each component. In this table, you will find the name and description for each method. You can access the components<a id="_idIndexMarker868"/> in the official documentation through this link: <a href="http://getbootstrap.com/docs/5.2/components">getbootstrap.com/docs/5.2/components</a>.</p>
<p>Now, we will see some examples of how to use specific methods for the tooltip component. In our example page, we first have a default tooltip component for comparison. The HTML for this is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/index.xhtml line 15</p>
<pre class="source-code">&lt;div class="badge bg-secondary" id="tooltipDefault" title="Default tooltip"&gt;Badge with default tooltip&lt;/div&gt;</pre>
<p>The tooltip has the <code>id="tooltipDefault"</code> attribute, which we use to initialize it with the following JavaScript:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/js/script.js line 1</p>
<pre class="source-code">var tooltipDefault = new bootstrap.Tooltip('#tooltipDefault', { placement: "bottom" });</pre>
<p>As we can see, the tooltip is placed at the bottom using the <code>placement</code> option. This is simply to make the example page better visually.</p>
<p>For the next tooltip component<a id="_idIndexMarker869"/> on the example page, we want it to show when the page loads and, at the same time, disable triggering on hover and focus. The HTML is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/index.xhtml line 21</p>
<pre class="source-code">&lt;div class="badge bg-secondary" id="tooltipOnLoad" title="Tooltip triggered on load"&gt;Badge with tooltip triggered on load&lt;/div&gt;</pre>
<p>The tooltip has the <code>id="tooltipOnLoad"</code> attribute, which<a id="_idIndexMarker870"/> we will use for initialization. The JavaScript code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/js/script.js line 3-4</p>
<pre class="source-code">var tooltipOnLoad = new bootstrap.Tooltip('#tooltipOnLoad', { trigger: "manual", placement: "bottom" });</pre>
<pre class="source-code">tooltipOnLoad.show();</pre>
<p>The tooltip is placed at the bottom using the <code>placement</code> option and the method to trigger the tooltip is set to <code>manual</code>. This means that the tooltip will be triggered programmatically using JavaScript, which is exactly what we do in the line below where we call the <code>show()</code> method on the initialized tooltip component.</p>
<p>For our final tooltip component on the example page, we want to toggle its visibility when we click a button placed elsewhere on the page. The HTML for this is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/index.xhtml line 27-28</p>
<pre class="source-code">&lt;button type="button" id="triggerForTooltip" class="btn btn-secondary mb-4"&gt;Trigger for tooltip&lt;/button&gt;&lt;br&gt;</pre>
<pre class="source-code">&lt;div class="badge bg-secondary" id="tooltipOnButtonClick" title="Tooltip toggled on button click"&gt;Badge with tooltip toggled on button click&lt;/div&gt;</pre>
<p>The button has the <code>id="triggerForTooltip"</code> attribute, which we will use to attach an event listener, and the tooltip has the <code>id="tooltipOnButtonClick"</code> attribute, which we will use for initialization. The JavaScript code looks like this:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/methods/js/script.js line 6-10</p>
<pre class="source-code">var tooltipOnButtonClick = new bootstrap.Tooltip('#tooltipOnButtonClick', { trigger: "manual", placement: "bottom" });</pre>
<pre class="source-code">var triggerForTooltip = document.getElementById('triggerForTooltip');</pre>
<pre class="source-code">triggerForTooltip.addEventListener('click', function() {</pre>
<pre class="source-code">  tooltipOnButtonClick.toggle();</pre>
<pre class="source-code">})</pre>
<p>The first line is similar to the previous<a id="_idIndexMarker871"/> example: the tooltip is placed at the bottom using the <code>placement</code> option and the method to trigger the tooltip is set to <code>manual</code>. Below that, we first get the button element and then attach a <code>click</code> event to it and execute the <code>toggle()</code> method when the button is clicked. This will show and hide the tooltip.</p>
<h2 id="_idParaDest-282"><a id="_idTextAnchor286"/>Asynchronous methods and transitions</h2>
<p>It’s important to know<a id="_idIndexMarker872"/> that all methods are asynchronous<a id="_idIndexMarker873"/> and start a transition. As soon <a id="_idIndexMarker874"/>as that transition is started, they return to the caller. This means<a id="_idIndexMarker875"/> that a method call on a component that is currently transitioning is ignored. Take the following example, which will show the modal, but not hide it, since the <code>hide()</code> method is called immediately after <code>show()</code> and therefore before the transition to show that the modal is finished:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">var modalElement = document.getElementById('modal');</pre>
<pre class="source-code">var modal = bootstrap.Modal.getOrCreateInstance(modalElement);</pre>
<pre class="source-code">modal.show();</pre>
<pre class="source-code">modal.hide();</pre>
<p>Instead, if we want to execute some code when the transition is finished, we need to listen to the corresponding event, like so:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">JavaScript</p>
<pre class="source-code">var modalElement = document.getElementById('modal');</pre>
<pre class="source-code">var modal = bootstrap.Modal.getOrCreateInstance(modalElement);</pre>
<pre class="source-code">modal.show();</pre>
<pre class="source-code">modalElement.addEventListener('shown.bs.modal', function (event) {</pre>
<pre class="source-code">  modal.hide();</pre>
<pre class="source-code">})</pre>
<p>Now, the modal will first<a id="_idIndexMarker876"/> show and then hide again when<a id="_idIndexMarker877"/> the modal’s <code>shown</code> event is fired. In the next section, we<a id="_idIndexMarker878"/> will see another example of how<a id="_idIndexMarker879"/> to use Bootstrap 5 events.</p>
<h1 id="_idParaDest-283"><a id="_idTextAnchor287"/>Using JavaScript events</h1>
<p>In the list at the beginning<a id="_idIndexMarker880"/> of this chapter, we saw that most interactive components have events. In the official documentation of Bootstrap 5, you will find a table describing all of the available events for each component. In this table, you will find the event<a id="_idIndexMarker881"/> type and description for each method. You can access the components in the official documentation through this link: <a href="http://getbootstrap.com/docs/5.2/components">getbootstrap.com/docs/5.2/components</a>.</p>
<p>Now, we will see an example of how to use a specific event for the tooltip component. In our example page, we have a button that triggers a modal component. In the modal footer, we have a <strong class="bold">Confirm</strong> button on which we want to show a tooltip when the modal is shown and the transition is finished.</p>
<p>Here’s what the HTML looks like:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/events/index.xhtml</p>
<pre class="source-code">&lt;button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modal"&gt;Open modal&lt;/button&gt;</pre>
<pre class="source-code">&lt;div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalTitle" aria-hidden="true"&gt;</pre>
<pre class="source-code">  &lt;div class="modal-dialog"&gt;</pre>
<pre class="source-code">    &lt;div class="modal-content"&gt;</pre>
<pre class="source-code">      &lt;div class="modal-header"&gt;</pre>
<pre class="source-code">        &lt;h5 class="modal-title" id="modalTitle"&gt;Modal </pre>
<pre class="source-code">          title&lt;/h5&gt;</pre>
<pre class="source-code">        &lt;button type="button" class="btn-close" data-bs-</pre>
<pre class="source-code">          dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">      &lt;div class="modal-body"&gt;</pre>
<pre class="source-code">        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur </pre>
<pre class="source-code">           adipiscing elit. In laoreet pellentesque lorem </pre>
<pre class="source-code">           sed elementum. Suspendisse maximus convallis ex. </pre>
<pre class="source-code">           Etiam eleifend velit leo.&lt;/p&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">      &lt;div class="modal-footer"&gt;</pre>
<pre class="source-code">        &lt;button type="button" class="btn btn-primary" </pre>
<pre class="source-code">          <code>id="tooltip" title="Click here to </code></pre>
<pre class="source-code">          <code>confirm"</code>&gt;Confirm&lt;/button&gt;</pre>
<pre class="source-code">        &lt;button type="button" class="btn btn-secondary" </pre>
<pre class="source-code">          data-bs-dismiss="modal"&gt;Close&lt;/button&gt;</pre>
<pre class="source-code">      &lt;/div&gt;</pre>
<pre class="source-code">    &lt;/div&gt;</pre>
<pre class="source-code">  &lt;/div&gt;</pre>
<pre class="source-code">&lt;/div&gt;</pre>
<p>The tooltip has the <code>id="tooltip"</code>, which we will use<a id="_idIndexMarker882"/> for initialization, and the content for the tooltip is placed in a <code>title</code> attribute. In the JavaScript code, we first store the DOM element of the modal in a variable and initialize the tooltip component. Then, in an event listener attached to the modal, we listen to the <code>shown.bs.modal</code> event and call the <code>show()</code> method on the tooltip component when it fires. The JavaScript code for this is as follows:</p>
<p class="SC---Heading" lang="en-US" xml:lang="en-US">part-3/chapter-11/examples/events/js/script.js</p>
<pre class="source-code">var modal = document.getElementById('modal');</pre>
<pre class="source-code">var tooltip = new bootstrap.Tooltip('#tooltip');</pre>
<pre class="source-code">modal.addEventListener('shown.bs.modal', function (event) {</pre>
<pre class="source-code">  tooltip.show();</pre>
<pre class="source-code">})</pre>
<p>This example will now show<a id="_idIndexMarker883"/> the tooltip exactly when the transition for the modal is finished.</p>
<p class="callout-heading">Events with properties</p>
<p class="callout">The two events<a id="_idIndexMarker884"/> for the carousel component have the following additional properties: <code>direction</code> (<code>"left"</code> or <code>"right"</code>), <code>relatedTarget</code> (DOM element), <code>from</code> (index number), and <code>to</code> (index number).</p>
<h1 id="_idParaDest-284"><a id="_idTextAnchor288"/>Summary</h1>
<p>In this chapter, we have learned about some advanced JavaScript features that can be used with the interactive components of Bootstrap 5. First, we got a quick overview of the interactive components and saw which requirements they have in common in terms of dependencies and initialization. Then, we saw how we can initialize interactive components with either data attributes or JavaScript. Following this, we saw how we can define options with either data attributes or JavaScript, and finally, we took a closer look at how we can use JavaScript for methods and events.</p>
<p>In the next and final chapter of this book, we will learn how to optimize the compiled Bootstrap 5 CSS and JavaScript code.</p>
</div>
</div>
</body></html>