<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Instant RaphaelJS Starter"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Instant RaphaelJS Starter</h1></div></div></div><p>Welcome to <span class="emphasis"><em>Instant RaphaelJS Starter</em></span>.</p><p>This book has especially been created to provide you with all the information that you need to set up RaphaelJS. You will learn the basics of RaphaelJS, get started with building your first script, and discover some tips and tricks for using RaphaelJS.</p><p>This document contains the following sections:</p><p>
<span class="emphasis"><em>So what is RaphaelJS?</em></span> – Find out what RaphaelJS actually is, what you can do with it, and why it's so great.</p><p>
<span class="emphasis"><em>Installation</em></span> – Learn how to download and install RaphaelJS with minimum fuss and then set it up so that you can use it as soon as possible.</p><p>
<span class="emphasis"><em>Quick start</em></span> – This section will show you how to perform one of the core tasks of RaphaelJS, that is, creating shapes. Follow the steps to create your own shape, which will be the basis of most of your work in RaphaelJS.</p><p>
<span class="emphasis"><em>Top features you need to know about</em></span> – Here you will learn how to perform five tasks with the most important features of RaphaelJS.</p><p>
<span class="emphasis"><em>People and places you should get to know</em></span> – Every open source project is centered around a community. This section provides you with many useful links to the project page and forums, as well as a number of helpful articles, tutorials, blogs, and the Twitter feeds of RaphaelJS super contributors.</p><div class="section" title="So, what is RaphaelJS?"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec03"/>So, what is RaphaelJS?</h1></div></div></div><p>RaphaelJS is a vector graphics library, which is used to draw objects in the browser.</p><p>In this section, we will see what RaphaelJS is, how it is different from other similar drawing libraries, and how it sets itself apart from <span class="strong"><strong>HTML5 Canvas</strong></span>.</p><div class="section" title="Two-headed and three-lettered"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec03"/>Two-headed and three-lettered</h2></div></div></div><p>Almost a decade ago, we had a great technology called <span class="strong"><strong>Scalable Vector Graphics</strong></span> (<span class="strong"><strong>SVG</strong></span>), which was derived from <span class="strong"><strong>Vector Markup Language</strong></span> (<span class="strong"><strong>VML</strong></span>) to draw simple to complex 2D graphics on browsers. SVG was a <span class="strong"><strong>World Wide Web Consortium</strong></span> (<span class="strong"><strong>W3C</strong></span>) specification and was there lingering in the minds of advanced developers for a decade or so. VML, on the other hand, was Microsoft's specification and existed even before SVG. Though SVG was inspired from VML, they were never fond of each other and never co-existed on the same browser. SVG ran on all browsers except Internet Explorer (IE 9 and above supports SVG) and vice versa.</p><p>A two-headed and three-lettered headache.</p></div><div class="section" title="The marriage of two problems and the birth of RaphaelJS"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec04"/>The marriage of two problems and the birth of RaphaelJS</h2></div></div></div><p>SVG was a beautiful baby but no one wanted the labor pains—coding using SVG and VML for cross-browser consistency was so much of a serious pain that most developers simply used images. So we had two different technologies, both doing the same thing but they were both significantly different in their syntaxes and never ran on the same browser. It seemed like there was a problem in getting them to peacefully co-exist.</p><div class="section" title="JavaScript – the binder of oddities"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>JavaScript – the binder of oddities</h3></div></div></div><p>JavaScript bound these two giants together and out of their marriage was born RaphaelJS, inheriting the best charms of both parents. It has the ability to scale almost any browser's turf and dance to any developer's tune.</p><p>The solution—RaphaelJS.</p></div></div><div class="section" title="Browser support"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec05"/>Browser support</h2></div></div></div><p>Most browsers support SVG and all versions of IE from IE 5.0 onwards support VML. Since RaphaelJS was developed to make the most of SVG and VML, it can practically run in almost any browser, making it more reliable.</p><p>RaphaelJS—the amphibian</p></div><div class="section" title="What is RaphaelJS and what is not RaphaelJS?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec06"/>What is RaphaelJS and what is not RaphaelJS?</h2></div></div></div><p>We now know what RaphaelJS is—it's a combination of SVG and VML using whichever of these two technologies the current browser supports, therefore it is versatile and reliable. But it's equally important to also know what is not RaphaelJS.</p><div class="section" title="A little about vector and raster graphics"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>A little about vector and raster graphics</h3></div></div></div><p>Just like the world is of two primary states water and land, graphics are of two primitive types—vector and raster. Vector graphics are drawn using geometrical primitives like lines, curves, ellipses, and so on. Various such primitives join together and form a graphic. Vector graphics are drawn on the screen mathematically. They are scalable without loss in quality. Raster graphics, on the other hand, are pixel-based and are not scalable. The main advantage with vector graphics is that they are scalable and are also real objects, meaning we can fiddle with them and manipulate them dynamically. The following diagram shows the difference between raster (bitmap) and vector graphics:</p><div class="mediaobject"><img src="graphics/9857OS_01_01.jpg" alt="A little about vector and raster graphics"/><div class="caption"><p>Difference between raster (bitmap) and vector graphics</p></div></div></div><div class="section" title="RaphaelJS as a vector"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>RaphaelJS as a vector</h3></div></div></div><p>RaphaelJS is a vector graphics library, therefore the drawings are real DOM objects. Thus they can be dynamically accessed, manipulated, resized, and practically hammered into anything you want in runtime. Best of all is that they can be assigned events like <code class="literal">click</code>, <code class="literal">mouseover</code>, <code class="literal">mouseleave</code>, and so on. The capabilities of RaphaelJS are just incredible.</p><p>Raphael uses vector graphics and HTML 5 Canvas uses raster graphics.</p></div></div><div class="section" title="The x, y positioning that RaphaelJS uses"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>The x, y positioning that RaphaelJS uses</h2></div></div></div><p>RaphaelJS uses the x, y positioning system to draw. The top-left corner of the screen is 0,0 and the horizontal scale is the x axis and the vertical scale is the y axis.</p><p>So if the code says (15,20) then it means that the point will be at 15 points from the x axis (horizontal) and 20 points from the y axis (vertical).</p><p>RaphaelJS is a vector graphics-based library built to make it easier to draw on the screen. RaphaelJS uses either SVG or VML, whichever the current browser supports. The drawings created using RaphaelJS are DOM objects and can be manipulated dynamically making them more versatile, they can also be assigned events such as <code class="literal">click</code>, <code class="literal">mouseover</code>, and <code class="literal">mouseleave</code>. All these amazing properties make RaphaelJS exciting to learn and use.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note01"/>Note</h3><p>RaphaelJS and HTML 5 Canvas are two different things entirely. Though they both appear to do similar things (drawing), they are different in how they do it. RaphaelJS is based on vector graphics and HTML5 Canvas is raster-based.</p></div></div></div></div></div>
<div class="section" title="Installation"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec04"/>Installation</h1></div></div></div><p>Installing and setting up RaphaelJS is very simple, it's as simple as downloading the latest RaphaelJS file and including it in HTML.</p><p>In three easy steps, you can install RaphaelJS and get it set up.</p><div class="section" title="Step 1 – What do I need?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Step 1 – What do I need?</h2></div></div></div><p>Before you install RaphaelJS, you will need to check that you have all of the following required elements:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A web browser</li><li class="listitem" style="list-style-type: disc">A text editor</li></ul></div></div><div class="section" title="Step 2 – Downloading RaphaelJS"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Step 2 – Downloading RaphaelJS</h2></div></div></div><p>The easiest way to download RaphaelJS is as a minified JS, from <a class="ulink" href="https://raw.github.com/DmitryBaranovskiy/raphael/master/raphael-min.js">https://raw.github.com/DmitryBaranovskiy/raphael/master/raphael-min.js</a>.</p><p>RaphaelJS, unlike most libraries, does not have any other dependencies, so it's just <code class="literal">raphael.js</code>.</p><p>Since RaphaelJS is a JavaScript plugin, the download link will show a plain JavaScript file in the browser. You should copy the text and paste it into a new file named <code class="literal">raphael.js</code> (or any name you prefer), and save it to your JavaScript directory or to any location in your server.</p><div class="mediaobject"><img src="graphics/9857OS_01_02.jpg" alt="Step 2 – Downloading RaphaelJS"/><div class="caption"><p>Minified RaphaelJS code shown in the browser</p></div></div></div><div class="section" title="Step 3 – Adding it to the HTML"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Step 3 – Adding it to the HTML</h2></div></div></div><p>Include it in the bottom section of your HTML page using the <code class="literal">&lt;script&gt;</code> tag and point the <code class="literal">src</code> attribute to the path where the <code class="literal">raphael.js</code> file is located.</p><div class="mediaobject"><img src="graphics/9857OS_01_03.jpg" alt="Step 3 – Adding it to the HTML"/><div class="caption"><p>Script included at the bottom</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>The browser reads the HTML code in a linear fashion. If there is a script tag at the top, the browser will download the script and it will start executing it. During this stage, the browser displays a blank white screen, as the rest of the page is yet to be downloaded. Therefore, it is recommended to include the script at the bottom of the page, so that the browser will download all the HTML code and the user will have some content on the screen, while JavaScript is being downloaded in the background.</p></div></div></div><div class="section" title="And that's it!"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>And that's it!</h2></div></div></div><p>By this point, you should have a working installation of RaphaelJS and are free to play around and discover more about it.</p></div></div>
<div class="section" title="Quick start &#x2013; creating your first shape"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec05"/>Quick start – creating your first shape</h1></div></div></div><p>Here, we will create the first shape in Raphael in two simple steps.</p><div class="section" title="Step 1 – Creating a canvas to draw on"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Step 1 – Creating a canvas to draw on</h2></div></div></div><p>Initializing a Raphael object is as simple as munching a banana, and there are two ways to munch.</p><p>It can either be created directly in the browser's viewport (viewable area) or in an element. It's usually advisable to create the Raphael object in an element, probably a <code class="literal">Div</code> tag. It's important to keep in mind that the paper (drawing area) is the boundary of the x, y grid, not the browser's window.</p><div class="section" title="Creating a canvas in the browser's viewport"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Creating a canvas in the browser's viewport</h3></div></div></div><p>The syntax for creating the Raphael object, which is the base for all other Raphael methods and functions, is as follows:</p><div class="informalexample"><pre class="programlisting">var raphaelObj = Raphael(x,y,width,height);</pre></div><p>The four parameters inside the Raphael function are nothing but x-position, y-position, width, and height of the canvas to be created.</p><p>Since it is created in the browser's viewport, the positioning of the canvas will be absolute; therefore, it will overlap any HTML element underneath.</p><p>For example:</p><div class="informalexample"><pre class="programlisting">// Creating the canvas in the browser's viewport
var paper = Raphael(20, 30, 650, 400);</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip01"/>Tip</h3><p>
<span class="strong"><strong>Downloading the example code</strong></span>
</p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.PacktPub.com">http://www.PacktPub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.PacktPub.com/support">http://www.PacktPub.com/support</a> and register to have the files e-mailed directly to you.</p></div></div><p>Here the Raphael object is initialized and assigned to a variable called <code class="literal">paper</code>. This variable will be christened with all the powers of RaphaelJS. It will, henceforth, become the <span class="strong"><strong>Raphael Paper Object</strong></span>.</p></div><div class="section" title="Creating an object in an element (recommended)"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Creating an object in an element (recommended)</h3></div></div></div><p>To initiate the Raphael object inside an element, we must add the element ID or the element itself in the place of the positioning coordinates (x, y).</p><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">//The element itself is passed 
//This line creates a Raphael paper inside 'paperDiv', which is 650px in width and 400px in height
var elm= document.getElementById("paperDiv");
var paper = Raphael(elm, 650, 400);
//or 
// The element ID is passed directly
//This line also creates a Raphael paper inside 'paperDiv', which is 650px in width and 400px in height
var paper = Raphael("paperDiv", 650, 400);</pre></div><p>That's it; we now have the engine up and running.</p><p>Vrooom vrooom.</p></div></div><div class="section" title="Step 2 – Drawing the circle"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Step 2 – Drawing the circle</h2></div></div></div><p>It is now time to shift gears.</p><p>The moment we assigned the Raphael object to the variable <code class="literal">paper</code>, it transforms itself into a magic wand, allowing us to pull off tricks to the best of our imagination.</p><p>There are certain predefined methods to create basic geometrical shapes such as circles, rectangles, and ellipses. Now we are going to spell out a circle with our shiny new wand.</p><p>A circle can be drawn using the <code class="literal">circle()</code> method. This method takes three parameters, namely x, y, and radius. Assign it to a variable that allows us to use it later in the code, specifically, to access the vector object easily for animations, transformations, and other effects.</p><p>The syntax is as follows:</p><div class="informalexample"><pre class="programlisting">var cir = paper.circle(x,y,r);
// x and y are the positioning co-ordinates, and "r" is the radius of the circle
//Here the circle is assigned to a variable called cir.
//Example
var cir = paper.circle(35,25,20);
// This will create a circle of 20 pixels in radius at 35,25 (X &amp; Y axis).</pre></div><p>The output for the preceding code is as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_04.jpg" alt="Step 2 – Drawing the circle"/><div class="caption"><p>A circle created using RaphaelJS</p></div></div><div class="section" title="The attr() method"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>The attr() method</h3></div></div></div><p>We now have a smooth circle. It's absolutely fantastic, but wouldn't it be much better if we could add some color and other styles to it? RaphaelJS gives us the option to add styles to the object. It's a fairly straightforward method.</p><p>Styles and other customizations to our new circle are done using the <code class="literal">attr()</code> method.</p><p>This method takes the properties as parameters. The properties are entered as a collection of objects in key-value pairs. If you are familiar with jQuery, then its syntax is identical to jQuery's <code class="literal">attr()</code> method. This format is known as <span class="strong"><strong>JavaScript Object Notation</strong></span> (<span class="strong"><strong>JSON</strong></span>), to further clarify.</p><p>The syntax for this method is as follows:</p><div class="informalexample"><pre class="programlisting">element.attr({
  "Property1":value1,
  "Property2":value2
})</pre></div><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">//adding the attributes as key value pair
var coloredCircle = paper.circle(35,25,20).attr({
  "fill":"#17A9C6",
  "stroke":"#2A6570",
  "stroke-width":2
});</pre></div><p>The output for the preceding code snippet is as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_05.jpg" alt="The attr() method"/><div class="caption"><p>A circle with styles applied using the <code class="literal">attr()</code> method</p></div></div><p>Raphael's paper allows easy integration of vector graphics in an HTML layout, which makes it even more appealing.</p><p>Paper—the shiny new wand.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>There are a ton of attributes available for each object and a list of all the objects can be found at the Raphael documentation. The URL can be found at the <span class="emphasis"><em>People and places you should get to know</em></span> section, as an entire list of attributes is beyond the scope of this book.</p></div></div></div></div></div>
<div class="section" title="Top features you need to know about"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec06"/>Top features you need to know about</h1></div></div></div><p>As you learn to use RaphaelJS, you will realize that there are a plethora of things you can do with it. This section will teach you all about the most commonly performed tasks and most commonly used features in RaphaelJS.</p><p>By the end of this section, you will be able to:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create a Raphael element</li><li class="listitem" style="list-style-type: disc">Manipulate the style of the element</li><li class="listitem" style="list-style-type: disc">Transform the element</li><li class="listitem" style="list-style-type: disc">Perform animations on the element</li><li class="listitem" style="list-style-type: disc">Add JavaScript events to the element</li></ul></div><div class="section" title="Creating a Raphael element"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Creating a Raphael element</h2></div></div></div><p>Creating a Raphael element is very easy. To make it better, there are predefined methods to create basic geometrical shapes.</p><div class="section" title="Basic shape"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Basic shape</h3></div></div></div><p>There are three basic shapes in RaphaelJS, namely circle, ellipse, and rectangle. Since the circle is already covered in the <span class="emphasis"><em>Quick start </em></span>section, we are going to skip drawing a circle.</p><div class="section" title="Rectangle"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec01"/>Rectangle</h4></div></div></div><p>We can create a rectangle using the <code class="literal">rect()</code> method. This method takes four required parameters and a fifth optional parameter, <code class="literal">border-radius</code>. The <code class="literal">border-radius</code> parameter will make the rectangle rounded (rounded corners) by the number of pixels specified.</p><p>The syntax for this method is:</p><div class="informalexample"><pre class="programlisting">paper.rect(X,Y,Width,Height,border-radius(optional));</pre></div><p>A normal rectangle can be created using the following code snippet:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paper in 'paperDiv'
var paper = Raphael ("paperDiv", 650,400);
// creating a rectangle with the rect() method. The four required parameters are X,Y,Width &amp; Height
var rect = paper.rect(35,25,170,100).attr({
  "fill":"#17A9C6", //filling with background color
  "stroke":"#2A6570", // border color of the rectangle
  "stroke-width":2 // the width of the border 
});</pre></div><p>The output for the preceding code snippet is shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_06.jpg" alt="Rectangle"/><div class="caption"><p>Plain rectangle</p></div></div></div><div class="section" title="Rounded rectangle"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec02"/>Rounded rectangle</h4></div></div></div><p>The following code will create a basic rectangle with rounded corners:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paper in 'paperDiv'
var paper = Raphael ("paperDiv", 650,400);
//The fifth parameter will make the rectangle rounded by the number of pixels specified – A rectangle with rounded corners
var rect = paper.rect(35,25,170,100,20).attr({
  "fill":"#17A9C6",//background color of the rectangle
  "stroke":"#2A6570",//border color of the rectangle
  "stroke-width":2 // width of the border
});
//in the preceding code 20(highlighted) is the border-radius of the rectangle.</pre></div><p>The output for the preceding code snippet is a rectangle with rounded corners, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_07.jpg" alt="Rounded rectangle"/><div class="caption"><p>Rectangle with rounded corners</p></div></div><p>We can create other basic shapes in the same way. Let's create an ellipse with our magic wand.</p></div><div class="section" title="Ellipse"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec03"/>Ellipse</h4></div></div></div><p>An ellipse is created using the <code class="literal">ellipse()</code> method and it takes four required parameters, namely x,y, horizontal radius, and vertical radius. The horizontal radius will be the width of the ellipse divided by two and the vertical radius will be the height of the ellipse divided by two.</p><p>The syntax for creating an ellipse is:</p><div class="informalexample"><pre class="programlisting">paper.ellipse(X,Y,rX,rY);
//rX is the horizontal radius &amp; rY is the vertical radius of the ellipse</pre></div><p>Let's consider the following example for creating an ellipse:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paperin 'paperDiv'
var paper = Raphael ("paperDiv", 650,400);
//The ellipse() method takes four required parameters: X,Y, horizontal radius &amp; vertical Radius
var ellipse = paper.ellipse(195,125,170,100).attr({
  "fill":"#17A9C6", // background color of the ellipse
  "stroke":"#2A6570", // ellipse's border color
  "stroke-width":2 // border width
});</pre></div><p>The preceding code will create an ellipse of width 170 x 2 and height 100 x 2.</p><p>An ellipse created using the <code class="literal">ellipse()</code> method is shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_08.jpg" alt="Ellipse"/><div class="caption"><p>An Ellipse</p></div></div></div></div><div class="section" title="Complex shapes"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Complex shapes</h3></div></div></div><p>It's pretty easy to create basic shapes, but what about complex shapes such as  stars, octagons, or any other shape which isn't a circle, rectangle, or an ellipse.</p><p>It's time for the next step of Raphael wizardry.</p><p>Complex shapes are created using the <code class="literal">path()</code> method which has only one parameter called <code class="literal">pathString</code>. Though the path string may look like a long genetic sequence with alphanumeric characters, it's actually very simple to read, understand, and draw with.</p><p>Before we get into path drawing, it's essential that we know how it's interpreted and the simple logic behind those complex shapes. Imagine that you are drawing on a piece of paper with a pencil. To draw something, you will place the pencil at a point in the paper and begin to draw a line or a curve and then move the pencil to another point on the paper and start drawing a line or curve again. After several such cycles, you will have a masterpiece—at least, you will call it a masterpiece.</p><p>Raphael uses a similar method to draw and it does so with a path string.</p><p>A typical path string may look like this: <code class="literal">M0,0L26,0L13,18L0,0</code>. Let's zoom into this path string a bit.</p><p>The first letter says <code class="literal">M</code> followed by <code class="literal">0,0</code>. That's right genius, you've guessed it correctly.</p><p>It says <span class="emphasis"><em>move to</em></span> <code class="literal">0,0</code> position, the next letter <code class="literal">L</code> is <span class="emphasis"><em>line to</em></span> <code class="literal">26,0</code>. RaphaelJS will move to <code class="literal">0,0</code> and from there draw a line to <code class="literal">26,0</code>. This is how the path string is understood by RaphaelJS and paths are drawn using these simple notations.</p><p>Here is a comprehensive list of commands and their respective meanings:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Command</p>
</th><th style="text-align: left" valign="bottom">
<p>Meaning expansion</p>
</th><th style="text-align: left" valign="bottom">
<p>Attributes</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">M</code>
</p>
</td><td style="text-align: left" valign="top">
<p>move to</p>
</td><td style="text-align: left" valign="top">
<p>(x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Z</code>
</p>
</td><td style="text-align: left" valign="top">
<p>close path</p>
</td><td style="text-align: left" valign="top">
<p>(none)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">L</code>
</p>
</td><td style="text-align: left" valign="top">
<p>line to</p>
</td><td style="text-align: left" valign="top">
<p>(x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">H</code>
</p>
</td><td style="text-align: left" valign="top">
<p>horizontal line to</p>
</td><td style="text-align: left" valign="top">
<p>x</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">V</code>
</p>
</td><td style="text-align: left" valign="top">
<p>vertical line to</p>
</td><td style="text-align: left" valign="top">
<p>y</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">C</code>
</p>
</td><td style="text-align: left" valign="top">
<p>curve to</p>
</td><td style="text-align: left" valign="top">
<p>(x1, y1, x2, y2, x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">S</code>
</p>
</td><td style="text-align: left" valign="top">
<p>smooth curve to</p>
</td><td style="text-align: left" valign="top">
<p>(x2, y2, x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Q</code>
</p>
</td><td style="text-align: left" valign="top">
<p>quadratic Bézier curve to</p>
</td><td style="text-align: left" valign="top">
<p>(x1, y1, x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">T</code>
</p>
</td><td style="text-align: left" valign="top">
<p>smooth quadratic Bézier curve to</p>
</td><td style="text-align: left" valign="top">
<p>(x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">A</code>
</p>
</td><td style="text-align: left" valign="top">
<p>elliptical arc</p>
</td><td style="text-align: left" valign="top">
<p>(rx, ry, x axis-rotation, large-arc-flag, sweep-flag, x, y)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">R</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Catmull-Rom-curve to*</p>
</td><td style="text-align: left" valign="top">
<p>x1, y1 (x y)</p>
</td></tr></tbody></table></div><p>The uppercase commands are absolute (<code class="literal">M20, 20</code>); they are calculated from the <code class="literal">0,0</code> position of the drawing area (paper). The lowercase commands are relative (<code class="literal">m20, 20</code>); they are calculated from the last point where the pen left off.</p><p>There are so many commands, which might feel like too much to take in—don't worry; there is no need to remember every command and its format. Because we'll be using vector graphics editors to extract paths, it's essential that you understand the meaning of each and every command so that when someone asks you "hey genius, what does this mean?", you shouldn't be standing there clueless pretending to have not heard it.</p><p>The syntax for the <code class="literal">path()</code> method is as follows:</p><div class="informalexample"><pre class="programlisting">paper.path("pathString");</pre></div><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paper in 'paperDiv'
var paper = Raphael ("paperDiv", 350,200);
// Creating a shape using the path() method and a path string
var tri = paper.path("M0,0L26,0L13,18L0,0").attr({
  "fill":"#17A9C6", // filling the background color
  "stroke":"#2A6570", // the color of the border
  "stroke-width":2 // the size of the border
});</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>All these commands ("<code class="literal">M0,0L26,0L13,18L0,0</code>") use uppercase letters. They are therefore absolute values.</p></div></div><p>The output for the previous example is shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_09.jpg" alt="Complex shapes"/><div class="caption"><p>A triangle shape drawn using the path string</p></div></div></div></div><div class="section" title="Extracting and using paths from an editor"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>Extracting and using paths from an editor</h2></div></div></div><p>Well, a triangle may be an easy shape to put into a path string. How about a complex shape such as a star? It's not that easy to guess and manually find the points. It's also impossible to create a fairly more complex shape like a simple flower or a 2D logo.</p><p>Here in this section, we'll see a simple but effective method of drawing complex shapes with minimal fuss and sharp accuracy.</p><div class="section" title="Vector graphics editors"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec09"/>Vector graphics editors</h3></div></div></div><p>The vector graphics editors are meant for creating complex shapes with ease and they have some powerful tools in their disposal to help us draw. For this example, we'll create a star shape using an open source editor called Inkscape, and then extract those paths and use Raphael to get out the shape! It is as simple as it sounds, and it can be done in four simple steps.</p><div class="section" title="Step 1 – Creating the shape in the vector editor"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec04"/>Step 1 – Creating the shape in the vector editor</h4></div></div></div><p>Let's create some star shapes in Inkscape using the built-in shapes tool.</p><div class="mediaobject"><img src="graphics/9857OS_01_10.jpg" alt="Step 1 – Creating the shape in the vector editor"/><div class="caption"><p>Star shapes created using the built-in shapes tool</p></div></div></div><div class="section" title="Step 2 – Saving the shape as SVG"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec05"/>Step 2 – Saving the shape as SVG</h4></div></div></div><p>The paths used by SVG and RaphaelJS are similar. The trick is to use the paths generated by the vector graphics editor in RaphaelJS. For this purpose, the shape must be saved as an SVG file.</p><div class="mediaobject"><img src="graphics/9857OS_01_11.jpg" alt="Step 2 – Saving the shape as SVG"/><div class="caption"><p>Saving the shape as an SVG file</p></div></div></div><div class="section" title="Step 3 – Copying the SVG path string"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec06"/>Step 3 – Copying the SVG path string</h4></div></div></div><p>The next step is to copy the path from SVG and paste it into Raphael's <code class="literal">path()</code> method.</p><p>SVG is a markup language, and therefore it's nested in tags. The SVG path can be found in the <code class="literal">&lt;path&gt;</code> and <code class="literal">&lt;/path&gt;</code> tags. After locating the path tag, look for the <code class="literal">d</code> attribute. This will contain a long path sequence. You've now hit the bullseye.</p><div class="mediaobject"><img src="graphics/9857OS_01_12.jpg" alt="Step 3 – Copying the SVG path string"/><div class="caption"><p>The path string is highlighted</p></div></div></div><div class="section" title="Step 4 – Using the copied path as a Raphael path string"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec07"/>Step 4 – Using the copied path as a Raphael path string</h4></div></div></div><p>After copying the path string from SVG, paste it into Raphael's <code class="literal">path()</code> method.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>var newpath=paper.path("copied path string from SVG").attr({</strong></span>
  "fill":"#5DDEF4",
  "stroke":"#2A6570",
  "stroke-width":2
});</pre></div><p>That's it! We have created a complex shape in RaphaelJS with absolute simplicity.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>Using this technique, we can only extract the path, not the styles. So the background color, shadow, or any other style in the SVG won't apply. We need to add our own styles to the path objects using the <code class="literal">attr()</code> method.</p></div></div><p>A screenshot depicting the complex shapes created in RaphaelJS using the path string copied from an SVG file is shown here:</p><div class="mediaobject"><img src="graphics/9857OS_01_13.jpg" alt="Step 4 – Using the copied path as a Raphael path string"/><div class="caption"><p>Complex shapes created in RaphaelJS using path string</p></div></div></div></div><div class="section" title="Creating text"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec10"/>Creating text</h3></div></div></div><p>Text can be created using the <code class="literal">text()</code> method. Raphael gives us a way to add a battery of styles to the text object, right from changing colors to animating physical properties like position and size.</p><p>The <code class="literal">text()</code> method takes three required parameters, namely, x,y, and the text string.</p><p>The syntax for the <code class="literal">text()</code> method is as follows:</p><div class="informalexample"><pre class="programlisting">paper.text(X,Y,"Raphael JS Text");
// the text method with X,Y coordinates and the text string</pre></div><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paper in 'paperDiv'
var paper = Raphael ("paperDiv", 650,400);
// creating text
var text = paper.text(40,55,"Raphael Text").attr({
  "fill":"#17A9C6", // font-color
  "font-size":75, // font size in pixels
//text-anchor indicates the starting position of the text relative to the X, Y position.It can be "start", "middle" or  "end" default is "middle"
"text-anchor":"start",
"font-family":"century gothic" // font family of the text
});</pre></div><p>I am pretty sure that the <code class="literal">text-anchor</code> property is a bit heavy to munch. Well, there is a saying that a picture is worth a thousand words. The following diagram clearly explains the <code class="literal">text-anchor</code> property and its usage.</p><div class="mediaobject"><img src="graphics/9857OS_01_14.jpg" alt="Creating text"/><div class="caption"><p>A brief explanation of text-anchor property</p></div></div><p>A screenshot of the text rendered using the <code class="literal">text()</code> method is as follows:</p><div class="mediaobject"><img src="graphics/9857OS_01_15.jpg" alt="Creating text"/><div class="caption"><p>Rendering text using the text() method</p></div></div></div></div><div class="section" title="Manipulating the style of the element"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>Manipulating the style of the element</h2></div></div></div><p>The <code class="literal">attr()</code> method not only adds styles to an element, but it also modifies an existing style of an element.</p><p>The following example explains the <code class="literal">attr()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.attr('fill','#ddd');
// This will update the background color of the rectangle to gray</pre></div></div><div class="section" title="Transforming an element"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>Transforming an element</h2></div></div></div><p>RaphaelJS not only creates elements, but it also allows the manipulating or transforming of any element and its properties dynamically.</p><div class="section" title="Manipulating a shape"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec11"/>Manipulating a shape</h3></div></div></div><p>By the end of this section, you would know how to transform a shape.</p><p>There might be many scenarios wherein you might need to modify a shape dynamically. For example, when the user mouse-overs a circle, you might want to scale up that circle just to give a visual feedback to the user. Shapes can be manipulated in RaphaelJS using the <code class="literal">transform()</code> method.</p><p>Transformation is done through the <code class="literal">transform()</code> method, and it is similar to the <code class="literal">path()</code> method where we add the path string to the method. <code class="literal">transform()</code> works in the same way, but instead of the path string, it's the transformation string. There is only a moderate difference between a transformation string and a path string.</p><p>There are four commands in the transformation string:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">T</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Translate</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">S</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Scale</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">R</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Rotate in degrees</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">M</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Matrix</p>
</td></tr></tbody></table></div><p>The fourth command, <code class="literal">M</code>, is of little importance and let's keep it out of the way, to avoid confusion.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>The transformation string might look similar to a path string. In reality, they are different, not entirely but significantly, sharing little in common. The <code class="literal">M</code> in a path string means <span class="emphasis"><em>move to</em></span>, whereas the same in a transformation string means <span class="emphasis"><em>Matrix</em></span>. The path string is not to be confused with a transformation string.</p></div></div><p>As with the path string, the uppercase letters are for absolute transformations and the lowercase for relative transformation. If the transformation string reads <code class="literal">r90T100,0</code>, then the element will rotate 90 degrees and move 100 px in the x axis (left). If the same reads <code class="literal">r90t100,0</code>, then the element will rotate 90 degrees and since the translation is relative, it will actually move vertically down 100px, as the rotation has tilted its axis.</p><p>I am sure the previous point will confuse most, so let me break it up.</p><p>Imagine a rectangle with a head and now this head is at the right side of the rectangle. For the time being, let's forget about absolute and relative transformation; our objective is to:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Rotate the rectangle by 90 degrees.</li><li class="listitem">Move the rectangle 100px on the x axis (that is, 100px to the right).</li></ol></div><p>It's critical to understand that the elements' original values don't change when we translate it, meaning its x and y values will remain the same, no matter how we rotate or move the element.</p><p>Now our first requirement is to rotate the rectangle by 90 degrees. The code for that would be <code class="literal">rect.transform("r90")</code> where <code class="literal">r</code> stands for rotation—fantastic, the rectangle is rotated by 90 degrees. Now pay attention to the next important step. We also need the rectangle to move 100px in the x axis and so we update our previous code to <code class="literal">rect.transform("r90t100,0")</code>, where <code class="literal">t</code> stands for translation. What happens next is interesting—the translation is done through a lowercase <code class="literal">t</code>, which means it's relative. One thing about relative translations is that they take into account any previous transformation applied to the element, whereas absolute translations simply reset any previous transformations before applying their own.</p><p>Remember the head of the rectangle on the right side? Well, the rectangle's x axis falls on the right side. So when we say, move 100px on the x axis, it is supposed to move 100px towards its right side, that is, in the direction where its head is pointing. Since we have rotated the rectangle by 90 degrees, its head is no longer on the right side but is facing the bottom.</p><p>So when we apply the relative translation, the rectangle will still move 100px to its x axis, but the x axis is now pointing down because of the rotation. That's why the rectangle will move 100px down when you expect it to move to the right.</p><p>What happens when we apply absolute translation is something that is entirely different from the previous one. When we again update our code for absolute translation to <code class="literal">rect.transform("r90T100,0")</code>, the axis of the rectangle is not taken into consideration. However, the axis of the paper is used, as absolute transformations don't take previous transformations into account, and they simply reset them before applying their own. Therefore, the rectangle will move 100px to the right after rotating 90 degrees, as intended.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note07"/>Note</h3><p>Absolute transformations will ignore all the previous transformations on that element, but relative transformations won't.</p></div></div><p>Getting a grip on this simple logic will save you a lot of frustration in the future while developing as well as while debugging.</p><p>The following is a screenshot depicting relative translation:</p><div class="mediaobject"><img src="graphics/9857OS_01_16.jpg" alt="Manipulating a shape"/><div class="caption"><p>Using relative translation</p></div></div><p>The following is a screenshot depicting absolute translation:</p><div class="mediaobject"><img src="graphics/9857OS_01_17.jpg" alt="Manipulating a shape"/><div class="caption"><p>Using absolute translation</p></div></div><p>Notice the gap on top of the rotated rectangle; it's moved 100px on the one with relative translation and there is no such gap on top of the rectangle with absolute translation.</p><p>By default, the transform method will append to any transformation already applied to the element. To reset all transformations, use <code class="literal">element.transform("")</code>. Adding an empty string to the transform method will reset all the previous transformations on that element.</p><p>It's also important to note that the element's original x,y position will not change when translated. The element will merely assume a temporary position but its original position will remain unchanged. Therefore after translation, if we call for the element's position programmatically, we will get the original x,y, not the translated one, just so we don't jump from our seats and call RaphaelJS dull!</p><p>The following is an example of scaling and rotating a triangle:</p><div class="informalexample"><pre class="programlisting">//creating a Triangle using the path string
var tri = paper.path("M0,0L104,0L52,72L0,0").attr({
  "fill":"#17A9C6",
  "stroke":"#2A6570",
  "stroke-width":2
});
//transforming the triangle.
    tri.animate({
      "transform":"r90t100,0,s1.5"
    },1000);
//the transformation string should be read as rotating the element by 90 degrees, translating it to 100px in the X-axis and scaling up by 1.5 times</pre></div><p>The following screenshot depicts the output of the preceding code:</p><div class="mediaobject"><img src="graphics/9857OS_01_18.jpg" alt="Manipulating a shape"/><div class="caption"><p>Scaling and rotating a triangle</p></div></div><p>The triangle is transformed using relative translation (t). Now you know the reason why the triangle has moved down rather than moving to its right.</p></div></div><div class="section" title="Animating a shape"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Animating a shape</h2></div></div></div><p>What good is a magic wand if it can't animate inanimate objects! RaphaelJS can animate as smooth as butter almost any property from color, opacity, width, height, and so on with little fuss.</p><p>Animation is done through the <code class="literal">animate()</code> method. This method takes two required parameters, namely <code class="literal">final values</code> and <code class="literal">milliseconds</code>, and two optional parameters, <code class="literal">easing</code> and <code class="literal">callback</code>.</p><p>The syntax for the <code class="literal">animate()</code> method is as follows:</p><div class="informalexample"><pre class="programlisting">Element.animate({
  Animation properties in key value pairs
},time,easing,callback_function);</pre></div><p>Easing is that special effect with which the animation is done, for example, if the easing is <code class="literal">bounce</code>, the animation will appear like a bouncing ball. The following are the several easing options available in RaphaelJS:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">linear</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;</code> or <code class="literal">easeIn</code> or <code class="literal">ease-in</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&gt;</code> or <code class="literal">easeOut</code> or <code class="literal">ease-out</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;&gt;</code> or <code class="literal">easeInOut</code> or <code class="literal">ease-in-out</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">backIn</code> or <code class="literal">back-in</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">backOut</code> or <code class="literal">back-out</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">elastic</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">bounce</code></li></ul></div><p>Callbacks are functions that will execute when the animation is complete, allowing us to perform some tasks after the animation.</p><p>Let's consider the example of animating the width and height of a rectangle:</p><div class="informalexample"><pre class="programlisting">// creating a raphael paper in 'paperDiv'
var paper = Raphael ("paperDiv", 650,400);
rect.animate({
  "width":200, // final width
  "height":200 // final height
},300,"bounce',function(){
  // something to do when the animation is complete – this callback function is optional
  // Print 'Animation complete' when the animation is complete
  $("#animation_status").html("Animation complete")
})</pre></div><p>The following screenshot shows a rectangle before animation:</p><div class="mediaobject"><img src="graphics/9857OS_01_19.jpg" alt="Animating a shape"/><div class="caption"><p>Rectangle before animation</p></div></div><p>A screenshot demonstrating the use of a callback function when the animation is complete is as follows. The text <span class="strong"><strong>Animation complete</strong></span> will appear in the browser after completing the animation.</p><div class="mediaobject"><img src="graphics/9857OS_01_20.jpg" alt="Animating a shape"/><div class="caption"><p>Use of a callback function</p></div></div><p>The following code animates the background color and opacity of a rectangle:</p><div class="informalexample"><pre class="programlisting">rect.animate({
  "fill":"#ddd", // final color,
  "fill-opacity":0.7
},300,"easeIn",function(){
  // something to do when the animation is complete – this call back function is optional
  // Alerts done when the animation is complete
  alert("done");
})</pre></div><p>Here the rectangle is animated from blue to gray and with an opacity from 1 to 0.7 over a duration of 300 milliseconds.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note08"/>Note</h3><p>Opacity in RaphaelJS is the same as in CSS, where 1 is opaque and 0 is transparent.</p></div></div></div><div class="section" title="Animating transformations"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>Animating transformations</h2></div></div></div><p>The transformations can be animated using the transformation string.</p><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">//animating the rotation and scaling of a rectangle 
rect.animate({
// animating with a rotation of 45 degree and scaling up 1.5 times
transform:"r45s1.5" 
},500)</pre></div><p>The following is a screenshot of a rectangle before animation:</p><div class="mediaobject"><img src="graphics/9857OS_01_21.jpg" alt="Animating transformations"/><div class="caption"><p>Before animation</p></div></div><p>The following is a screenshot of the same rectangle after animation:</p><div class="mediaobject"><img src="graphics/9857OS_01_22.jpg" alt="Animating transformations"/><div class="caption"><p>After animation</p></div></div><p>Animation can be done on almost any property.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note09"/>Note</h3><p>Animation is an awesome feature and it's really smooth. But it comes at a cost; it takes up precious browser resources. It won't drain the browser leaving it out of juice, but reckless use of animation will have a significant impact on the end performance. Therefore, the developer must use animations wisely, so that it adds value to the entire user experience rather than annoying the user.</p></div></div></div><div class="section" title="Adding events to Raphael elements"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Adding events to Raphael elements</h2></div></div></div><p>Adding events to elements is like injecting life into them. They take the drawings to the next level. Events can be added to elements using the various event handlers. In fact, all the normal JavaScript events are available for any Raphael element.</p><p>Here is an example of <code class="literal">click</code> and <code class="literal">mouseover</code> events.</p><div class="section" title="Click event"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec12"/>Click event</h3></div></div></div><p>The mouse click event can be added using the <code class="literal">click()</code> method.</p><p>Let's consider the following example:</p><div class="informalexample"><pre class="programlisting">//creating a raphael paper in 'paperDiv'
var paper = Raphael("paperDiv", 650, 400);
var blueStyle={
  "fill":"#5DDEF4",
  "stroke":"#2A6570",
  "stroke-width":2
}
//creating a plain circle
var cir = paper.circle(120,120,30).attr(blueStyle);
cir.click(function(){
  alert('Clicked circle');
})</pre></div><p>The following is a screenshot demonstrating the click event handler:</p><div class="mediaobject"><img src="graphics/9857OS_01_23.jpg" alt="Click event"/><div class="caption"><p>Click event handler</p></div></div></div><div class="section" title="Mouseover event"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec13"/>Mouseover event</h3></div></div></div><p>The mouseover event can be added using the <code class="literal">mouseover()</code> method.</p><p>The following is an example of the <code class="literal">mouseover()</code> method:</p><div class="informalexample"><pre class="programlisting">// creating a circle with blue background
var cir = paper.circle(35,25,20).attr({
  "fill":"#17A9C6",
  "stroke":"#2A6570",
  "stroke-width":2
});
// adding mouseover event to the circle with the mouseover() event handler
cir.mouseover(function(){
cir.animate({
  "fill":"#15EA18",
  "transform":"s2"
  },400)
})
// The preceding code animates the background color and scales up the circle twice on mouseover</pre></div></div></div><div class="section" title="Methods you'll want to know and use"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Methods you'll want to know and use</h2></div></div></div><p>This section will cover only the most common and frequent methods, as an entire list of attributes and methods is beyond the scope of this book.</p><div class="section" title="Element methods"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec14"/>Element methods</h3></div></div></div><p>These methods can only be used with an element and not directly. For example, <code class="literal">rect.click()</code>.</p><div class="section" title="animate()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec08"/>animate()</h4></div></div></div><p>The <code class="literal">animate()</code> method is used to animate various properties of the element for a specified duration.</p><p>The syntax for this method is as follows:</p><div class="informalexample"><pre class="programlisting">element.animate({
  Property1:value,
  Property2:value
},time_in_milliseconds,easing(optional),
callback_function(optional));</pre></div><p>The following is an example of the <code class="literal">animate()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.animate({
  "width":"300",
  "height":"200"
},500,'bounce',function(){
//something to do after animation
  alert("animation complete")
})</pre></div></div><div class="section" title="attr()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec09"/>attr()</h4></div></div></div><p>The <code class="literal">attr()</code> method is a very important method that is used to add attributes such as styles and other physical properties such as position, height, width, and so on to the element. It takes values in key value pairs.</p><p>The syntax for this method is as follows:</p><div class="informalexample"><pre class="programlisting">element.attr({
  Property1:value,
  Property2:value
})</pre></div><p>The following is an example of the <code class="literal">attr()</code> method:</p><div class="informalexample"><pre class="programlisting">// Adding background color and stroke to a rectangle
rect.attr({
  "fill":"#17A9C6",   // Adds a background color
  "stroke":"#2A6570", // the color of the border
  "stroke-width":2    // the width of the border
})</pre></div></div><div class="section" title="click()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec10"/>click()</h4></div></div></div><p>The <code class="literal">click()</code> method is used to bind the <code class="literal">click</code> event to Raphael elements.</p><p>The following is an example of the <code class="literal">click()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.click(function(){
  //something to do when the rectangle is clicked
  alert("clicked rectangle");
})</pre></div></div><div class="section" title="dblclick()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec11"/>dblclick()</h4></div></div></div><p>The <code class="literal">dblclick()</code> method adds the <code class="literal">double click</code> event to the element.</p><p>The following is an example of the <code class="literal">dblclick()</code> method:</p><div class="informalexample"><pre class="programlisting">cir.dblclick(function(){
  //alerts "it's a double click " when double clicked
  alert("It's a double click !");
})</pre></div></div><div class="section" title="mousedown()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec12"/>mousedown()</h4></div></div></div><p>The <code class="literal">mousedown()</code> method binds the <code class="literal">mousedown</code> event to Raphael elements—it triggers when any mouse button is pressed down.</p><p>The following is an example of the <code class="literal">mousedown()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.mousedown(function(){
// The rectangle will animate to 200px wide when any mouse button is pressed down
rect.animate({
  'width':'200'
  },400)
})</pre></div></div><div class="section" title="mouseup()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec13"/>mouseup()</h4></div></div></div><p>The <code class="literal">mouseup()</code> event binds the <code class="literal">mouseup</code> event to Raphael elements—it triggers when any mouse button is released.</p><p>The following is an example of the <code class="literal">mouseup()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.mouseup(function(){
// The rectangle will animate to 100px wide any mouse button is released
rect.animate({
  'width':'100'
  },400)
})</pre></div></div><div class="section" title="mousemove()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec14"/>mousemove()</h4></div></div></div><p>The <code class="literal">mousemove()</code> method triggers when the mouse is moved over the element.</p><p>The following is an example of the <code class="literal">mousemove()</code> method:</p><div class="informalexample"><pre class="programlisting">// increases the size of the rectangle as the mouse moves over the rectangle.
var wd=100 // Intial width
rect.mousemove(function(){
  wd++ // incrementing the width on mouse move
  rect.attr({
    //setting the width of the rectangle with the attr() method
    'width':wd
  });
})</pre></div></div><div class="section" title="mouseover()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec15"/>mouseover()</h4></div></div></div><p>The <code class="literal">mouseover()</code> method triggers when the mouse enters the Raphael element.</p><p>The following is an example of the <code class="literal">mouseover()</code> method:</p><div class="informalexample"><pre class="programlisting">//animating the size of the circle when the mouse enters the circle
cir.mouseover(function(){
  cir.animate({
  transform:'s2' // scaling up the circle twice
  },500,'elastic'); //adding and elastic easing function to the animation
})</pre></div></div><div class="section" title="mouseout()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec16"/>mouseout()</h4></div></div></div><p>The <code class="literal">mouseout()</code> method triggers when the mouse leaves the Raphael element.</p><p>The following is an example of the <code class="literal">mouseout()</code> method:</p><div class="informalexample"><pre class="programlisting">// scaling down the size of the circle when the mouse leaves it
cir.mouseout(function(){
  cir.animate({
  transform:'s0.5' // scaling down the circle to half of its original size
  },500,'bounce') //adding and elastic easing function to the animation
})</pre></div></div><div class="section" title="clone()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec17"/>clone()</h4></div></div></div><p>There will be situations where we will want to duplicate an element. Some might say, "Ah ! that's easy, I just need to copy the element to a new variable like <code class="literal">var newrect=rect</code>". Well, it looks like you have made a copy, but that won't work for sure. The variable acts as a reference to the object, in this case, the rectangle. So when we copy the variable, we are just copying the reference. In reality, the new variable still points to the same old object. Here is an example of the wrong way:</p><div class="informalexample"><pre class="programlisting">// assigning the rect to a new variable called newRect
var newRect=rect;
newRect.attr({
  fill:'#ddd',
  transform:'t100,100'
})</pre></div><p>The following screenshot demonstrates what happens when the variable is duplicated—there is no clone of the rectangle.</p><div class="mediaobject"><img src="graphics/9857OS_01_24.jpg" alt="clone()"/><div class="caption"><p>Variable is duplicated</p></div></div><p>It's obvious that copying the variable didn't work, as it's evident that the background color has been applied to the same rectangle, and there is no second rectangle as there is supposed to be.</p><p>This problem can be addressed by the <code class="literal">clone()</code> method in a simple and elegant way.</p><div class="informalexample"><pre class="programlisting">//To duplicate a rectangle
var newRect=rect.clone();
newRect.attr({
  fill:'#ddd',
  transform:'t100,100'
})</pre></div><p>Using the <code class="literal">clone()</code> method instead of duplicating the variable will produce a clone of the rectangle, as depicted in the following screenshot:</p><div class="mediaobject"><img src="graphics/9857OS_01_25.jpg" alt="clone()"/><div class="caption"><p>Producing a clone using the clone() method</p></div></div><p>Now, we see two rectangles and the background color of the second rectangle is now gray as intended.</p></div><div class="section" title="data()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec18"/>data()</h4></div></div></div><p>Raphael has an incredibly simple way to assign some data to each and every element and retrieve it on demand. It's as simple as assigning some data to an element while creating it and recalling that data whenever necessary. It's a simple and straightforward way.</p><p>Data can be added to an element using the <code class="literal">data()</code> method in key value pairs.</p><p>The following is an example of the <code class="literal">data()</code> method:</p><div class="informalexample"><pre class="programlisting">//assigning a name to a circle
cir.data('name','Am Raphael JS');
// retrieving the data
cir.click(function(){
  alert(this.data('name'));
})</pre></div><p>The following is a screenshot depicting the data contents of the circle when clicked:</p><div class="mediaobject"><img src="graphics/9857OS_01_26.jpg" alt="data()"/><div class="caption"><p>Data contents of the circle when clicked</p></div></div></div><div class="section" title="removedata()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec19"/>removedata()</h4></div></div></div><p>The <code class="literal">removedata()</code> method takes the key as a parameter. If the key isn't provided, it will remove all the associated data.</p><p>The syntax for this method is:</p><div class="informalexample"><pre class="programlisting">removedata(key)</pre></div><p>The following is an example of the <code class="literal">removedata()</code> method:</p><div class="informalexample"><pre class="programlisting">//removing the name of the circle
cir.removeData('name') // removes the name of the circle</pre></div></div><div class="section" title="getBBox()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec20"/>getBBox()</h4></div></div></div><p>The <code class="literal">getBBox()</code> method returns the bounding box of the element. By default, the bounding will take into account any transformations on the element. To get the bounding box before any transformation is applied on the element, the <code class="literal">isWithoutTransform</code> parameter must be set to <code class="literal">true</code>.</p><div class="mediaobject"><img src="graphics/9857OS_01_27.jpg" alt="getBBox()"/></div><p>The following is an example of the <code class="literal">getBBox()</code> method:</p><div class="informalexample"><pre class="programlisting">cir.getBBox() // returns the bounding box 
cir.getBBox({
isWithoutTransform:true // this will return the bouding box values before any transformation that has been applied on the element. It will still return the old values ignoring the transformations
})</pre></div><p>The <code class="literal">getBBox()</code> method returns an object with the following values:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Value</p>
</th><th style="text-align: left" valign="bottom">
<p>Type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">X</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Top-left corner's x position</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Y</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Top-left corner's y position</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">X2</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Bottom-right corner's x position</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Y2</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Bottom-right corner's y position</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Width</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Width of the bounding box</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>Height of the bounding box</p>
</td></tr></tbody></table></div></div><div class="section" title="getPointAtLength()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec21"/>getPointAtLength()</h4></div></div></div><p>The <code class="literal">getPointAtLength()</code> method returns the coordinates of the point at a particular length of a path. The <code class="literal">getPointAtLength()</code> method takes two parameters, namely <code class="literal">path</code> and <code class="literal">length</code>.</p><p>The syntax for this method is:</p><div class="informalexample"><pre class="programlisting">getPointAtLength(path,length)</pre></div><p>The <code class="literal">path</code> must be a path string and the <code class="literal">length</code> a number.</p><p>The <code class="literal">getPointAtLength()</code> method returns an object with the following values:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Value</p>
</th><th style="text-align: left" valign="bottom">
<p>Type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">X</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>The x coordinate of the point</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Y</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>The y coordinate of the point</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Alpha</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Number</p>
</td><td style="text-align: left" valign="top">
<p>The angle of the derivative</p>
</td></tr></tbody></table></div></div><div class="section" title="toFront()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec22"/>toFront()</h4></div></div></div><p>The <code class="literal">toFront()</code> method brings the element to the forefront on top of all other elements. Its function is similar to <span class="strong"><strong>CSS z-index</strong></span>. It doesn't take any parameters.</p><p>The following is an example of the <code class="literal">toFront()</code> method:</p><div class="informalexample"><pre class="programlisting">cir.toFront();//brings the circle on top of all the elements</pre></div><p>The following screenshot demonstrates the use of the <code class="literal">toFront()</code> method. The circle is brought to the front by using the <code class="literal">toFront()</code> method; therefore, it overlaps the rectangle.</p><div class="mediaobject"><img src="graphics/9857OS_01_28.jpg" alt="toFront()"/><div class="caption"><p>Circle brought to the front using the toFront() method</p></div></div></div><div class="section" title="toBack()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec23"/>toBack()</h4></div></div></div><p>The <code class="literal">toBack()</code> method is the exact opposite of the <code class="literal">toFront()</code> method, as it moves the element behind all the other elements.</p><p>The following is an example of the <code class="literal">toBack()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.toBack() // moves the rect behind all the elements</pre></div></div><div class="section" title="hide()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec24"/>hide()</h4></div></div></div><p>The <code class="literal">hide()</code> method makes the element invisible. This method is the Raphael equivalent of <code class="literal">visibility:hidden</code> or <code class="literal">display:none</code> in CSS.</p><p>The following is an example of the <code class="literal">hide()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.hide()</pre></div></div><div class="section" title="show()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec25"/>show()</h4></div></div></div><p>The <code class="literal">show()</code> method makes the element visible.</p><p>The following is an example of the <code class="literal">show()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.show()</pre></div></div><div class="section" title="transform()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec26"/>transform()</h4></div></div></div><p>The <code class="literal">transform()</code> method adds a transformation to a given element. It takes only one parameter and it's the transformation string.</p><p>The syntax for this method is as follows:</p><div class="informalexample"><pre class="programlisting">transform([transformationString]);</pre></div><p>The following is an example of the <code class="literal">transform()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.transform("s1.5t100,100,r90");
//scales the rectangle to 1.5 times larger and then translates it to 100px in the X-axis, 100px in the Y-axis and finally rotating it by 90 degrees
<span class="strong"><strong>//Transformation can also be done using the attr() method.</strong></span>
<span class="strong"><strong>element.attr('transform','s1.5t100,100,r90');</strong></span>
</pre></div></div><div class="section" title="remove()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec27"/>remove()</h4></div></div></div><p>The <code class="literal">remove()</code> method removes the element from the paper.</p><p>The following is an example of the <code class="literal">remove()</code> method:</p><div class="informalexample"><pre class="programlisting">rect.remove();
//the preceding line removes the rect from Raphael paper</pre></div></div></div><div class="section" title="Paper methods"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec15"/>Paper methods</h3></div></div></div><p>The paper methods can only be used with the Raphael paper object.</p><div class="section" title="paper.circle()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec28"/>paper.circle()</h4></div></div></div><p>The <code class="literal">paper.circle()</code> method creates a circle.</p><p>The following is the syntax for this method:</p><div class="informalexample"><pre class="programlisting">circle(x,y,radius);</pre></div><p>Where <code class="literal">x</code> is the x position of the circle, <code class="literal">y</code> is the y position of the circle, and <code class="literal">radius</code> is the radius of the circle.</p><p>The following is an example of the <code class="literal">paper.circle()</code> method:</p><div class="informalexample"><pre class="programlisting">var cir=paper.circle(100,50,20);</pre></div></div><div class="section" title="paper.ellipse()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec29"/>paper.ellipse()</h4></div></div></div><p>The <code class="literal">paper.ellipse()</code> method creates an ellipse.</p><p>The following is the syntax for this method:</p><div class="informalexample"><pre class="programlisting">ellipse(x,y,rx,ry);</pre></div><p>where <code class="literal">x</code> is the x position of the circle, <code class="literal">y</code> is the y position of the circle, <code class="literal">rx</code> is the horizontal radius, and <code class="literal">ry</code> is the vertical radius.</p><p>The following is an example of the <code class="literal">paper.ellipse()</code> method:</p><div class="informalexample"><pre class="programlisting">var ell = paper.ellipse(15,30,80,50);</pre></div></div><div class="section" title="paper.rect()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec30"/>paper.rect()</h4></div></div></div><p>The <code class="literal">paper.rect()</code> method creates a simple rectangle.</p><p>The following is a syntax for this method:</p><div class="informalexample"><pre class="programlisting">rect(x,y,width,height,radius(optional));</pre></div><p>Where <code class="literal">x</code> is the x position of the circle, <code class="literal">y</code> is the y position of the circle, <code class="literal">width</code> is the width of the rectangle, and <code class="literal">height</code> is the height of the rectangle. It also has a last fifth parameter — the border radius of the rectangle, which will add a curved edge of the given radius to the rectangle. Rounded corners do look smooth. Though the method's name is <code class="literal">rect()</code>, it can be used to create a box of any shape. It is not restricted to create perfect rectangles.</p><p>The following is an example of the <code class="literal">paper.rect()</code> method:</p><div class="informalexample"><pre class="programlisting">// A rectangle with a border radius of 5px
var rectangle = paper.rect(10,10,50,70,5);</pre></div></div><div class="section" title="paper.clear()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec31"/>paper.clear()</h4></div></div></div><p>The <code class="literal">paper.clear()</code> method is used to clear the drawing canvas. This is the magical broom. The <code class="literal">paper.clear()</code> method doesn't take any parameters; it wipes it all.</p><p>The following is an example of the <code class="literal">paper.clear()</code> method:</p><div class="informalexample"><pre class="programlisting">paper.clear()</pre></div></div><div class="section" title="paper.image()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec32"/>paper.image()</h4></div></div></div><p>Raphael is good at drawing, and using Raphael we can replace some images with it. But that doesn't mean it's an image replacement solution; Raphael can only substitute. It's, therefore, wrong to consider it as a complete replacement for images. However, images can be manipulated in Raphael.</p><p>The <code class="literal">paper.image()</code> method allows us to import images on to the paper. This method takes the following five parameters:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Parameter</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">src</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The path of the image</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">X</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The x coordinate point where the image should be placed</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Y</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The y coordinate point where the image should be placed</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Width</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The width of the image</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">Height</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The height of the image</p>
</td></tr></tbody></table></div><p>The following is an example of the <code class="literal">paper.image()</code> method:</p><div class="informalexample"><pre class="programlisting">var img=paper.image("images/world.png",10,15,80,100);
//imports an image called world.png and places it at 10,15 position. Sets the image's width to 80px and height to 100px</pre></div><p>And now the imported image is converted into a Raphael object. All the usual transformations can be applied to that image object.</p></div><div class="section" title="paper.setSize()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec33"/>paper.setSize()</h4></div></div></div><p>The <code class="literal">paper.setSize()</code> method is a very handy method. This method allows the resizing of the Raphael paper object, so that you don't run out of space. This method takes two required parameters, namely, width and height—these will be the new width and height of the Raphael paper.</p><p>The following is the syntax of this method:</p><div class="informalexample"><pre class="programlisting">paper.setSize(width,height);</pre></div><p>The following is an example of the <code class="literal">paper.setSize()</code> method:</p><div class="informalexample"><pre class="programlisting">paper.setSize(500,600);
//500 and 600 will be the new width and height of the paper.</pre></div></div><div class="section" title="paper.set()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec34"/>paper.set()</h4></div></div></div><p>The <code class="literal">paper.set()</code> method groups several Raphael objects, and any action performed on this set will apply to all the elements. The <code class="literal">set()</code> method merely groups the elements, it doesn't create any copies of the elements. Deleting a set will have no effect on the elements.</p><p>It is worth mentioning that sets in RaphaelJS are ordered. This varies from the set type in Python, which is a group of unordered objects.</p><p>The following is the syntax for this method:</p><div class="informalexample"><pre class="programlisting">var raphaelSet=paper.set();
raphaelSet.push(element1,element2, ...);</pre></div><p>The following is an example of the <code class="literal">paper.set()</code> method:</p><div class="informalexample"><pre class="programlisting">// the following code will create a new set called raphaelSet, add elements to it and change the color of the set to red
var raphaelSet=paper.set();//creating a new set
// adding elements to the set using the push() method 
raphaelSet.push(circle,rect,ellipse);
//changing the color of the set – this will affect all the elements in the set.
raphaelSet.attr('fill','red');</pre></div><p>The following is a screenshot demonstrating the use of the <code class="literal">paperset()</code> method in RaphaelJS.</p><div class="mediaobject"><img src="graphics/9857OS_01_29.jpg" alt="paper.set()"/></div><p>Changing the color of the set to red changes the color of all the elements in the set.</p></div></div><div class="section" title="Set methods"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec16"/>Set methods</h3></div></div></div><p>The set methods can only be used with the set object, created using the <code class="literal">set()</code> method.</p><div class="informalexample"><pre class="programlisting">var raphaelSet=paper.set();
//raphaelSet is now a set object to which all the set methods apply.</pre></div><div class="section" title="set.clear()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec35"/>set.clear()</h4></div></div></div><p>The <code class="literal">set.clear()</code> method removes all the elements from the set. The <code class="literal">set()</code> method only groups elements together, it doesn't duplicate any elements. Therefore, when a set is cleared, no elements are removed, they are just unbounded.</p><p>The following is the syntax of this method:</p><div class="informalexample"><pre class="programlisting">Set.clear();</pre></div><p>The following is an example of the <code class="literal">set.clear()</code> method:</p><div class="informalexample"><pre class="programlisting">raphaelSet.clear();
// The preceding code will remove the set called raphaelSet, not its elements</pre></div></div><div class="section" title="set.exclude()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec36"/>set.exclude()</h4></div></div></div><p>Clearing a set seems to be simple—a call to the clear method and kaboom, everything is gone. What about precision picking? RaphaelJS provides the <code class="literal">set.exclude()</code> method, which can be used to remove only a particular element from the set. This method takes only one required parameter, that is, the element to be removed. Want to remove a black sheep? No problem.</p><p>The following is the syntax of this method:</p><div class="informalexample"><pre class="programlisting">set.exclude(element);</pre></div><p>The following is an example of the <code class="literal">set.exclude()</code> method:</p><div class="informalexample"><pre class="programlisting">raphaelSet.exclude(rect);
//The preceding code removes the element called 'rect' from the set 'raphaelSet'</pre></div></div><div class="section" title="set.forEach()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec37"/>set.forEach()</h4></div></div></div><p>The <code class="literal">set.forEach()</code> method executes a function for every element of the set. The callback function takes only one parameter, which is a reference to the current element in the loop.</p><p>The following is the syntax of this method:</p><div class="informalexample"><pre class="programlisting">set.forEach(callback_function,thisArg);</pre></div><p>The following is an example of the <code class="literal">set.forEach()</code> method:</p><div class="informalexample"><pre class="programlisting">raphaelSet.forEach(function(elm){
  elm.attr('fill','green');
})
// The preceding code will loop through all the elements in the raphaelSet and change the background color of each and every element to green.</pre></div></div><div class="section" title="set.pop()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec38"/>set.pop()</h4></div></div></div><p>The <code class="literal">set.pop()</code> method removes the last element from the set and returns it.</p><p>The following is an example of the <code class="literal">set.pop()</code> method:</p><div class="informalexample"><pre class="programlisting">raphaelSet.pop();
// the preceding code will remove the last element from the raphaelSet and return the removed element.</pre></div></div><div class="section" title="set.splice()"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec39"/>set.splice()</h4></div></div></div><p>The <code class="literal">set.splice()</code> method is used to delete and insert an element. This method takes three parameters, namely, <code class="literal">index</code>, <code class="literal">count</code>, and <code class="literal">element</code>, which are to be inserted. Index is where the element should be deleted, count is the number of elements to remove from the index position, and finally, the element to be inserted.</p><p>The following is the syntax of this method:</p><div class="informalexample"><pre class="programlisting">set.splice(index, count, element);</pre></div><p>The following is an example of the <code class="literal">set.splice()</code> method:</p><div class="informalexample"><pre class="programlisting">var rect=paper.rect(10,10,50,100).attr('fill','green');
raphaelSet.splice(1,2,rect);
// The preceding code will remove two elements from the index position of 1 and add a rect element.</pre></div></div></div></div></div>
<div class="section" title="People and places you should get to know"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec07"/>People and places you should get to know</h1></div></div></div><p>If you need help with RaphaelJS, here are some people and places that will prove invaluable.</p><div class="section" title="Official sites"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>Official sites</h2></div></div></div><p>The official sites for all the official information regarding RaphaelJS are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Homepage</strong></span>: <a class="ulink" href="http://raphaeljs.com/">http://raphaeljs.com/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Manual and documentation</strong></span>: <a class="ulink" href="http://raphaeljs.com/reference.html">http://raphaeljs.com/reference.html</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Twitter</strong></span>: <a class="ulink" href="http://twitter.com/RaphaelJS/">http://twitter.com/RaphaelJS/</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Source code</strong></span>: <a class="ulink" href="https://github.com/DmitryBaranovskiy/raphael/">https://github.com/DmitryBaranovskiy/raphael/</a></li></ul></div></div><div class="section" title="Articles and tutorials"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>Articles and tutorials</h2></div></div></div><p>A useful list of articles and tutorials for further reference and reading is as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.alistapart.com/articles/using-svg-for-flexible-scalable-and-fun-backgrounds-part-i">http://www.alistapart.com/articles/using-svg-for-flexible-scalable-and-fun-backgrounds-part-i</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.alistapart.com/articles/cross-platform-scalable-vector-graphics-with-svgweb/">http://www.alistapart.com/articles/cross-platform-scalable-vector-graphics-with-svgweb/</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://net.tutsplus.com/tutorials/javascript-ajax/an-introduction-to-the-raphael-js-library/">http://net.tutsplus.com/tutorials/javascript-ajax/an-introduction-to-the-raphael-js-library/</a>: An introduction to the RaphaelJS Library, from net tuts+</li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.w3.org/TR/SVG11/">http://www.w3.org/TR/SVG11/</a>: W3C SVG specification</li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://www.irunmywebsite.com/raphael/additionalhelp.php#pagetop">http://www.irunmywebsite.com/raphael/additionalhelp.php#pagetop</a>: An exhaustive list of RaphaelJS examples</li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="http://inkscape.org/download/">http://inkscape.org/download/</a>: A link for downloading Inkscape</li></ul></div></div><div class="section" title="Community"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Community</h2></div></div></div><p>Official RaphaelJS communities and forums:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Official forums</strong></span>: <a class="ulink" href="https://groups.google.com/forum/?fromgroups#!forum/raphaeljs">https://groups.google.com/forum/?fromgroups#!forum/raphaeljs</a></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>User FAQ</strong></span>: <a class="ulink" href="http://raphaeljs.com/">http://raphaeljs.com/</a></li></ul></div></div><div class="section" title="Blogs"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Blogs</h2></div></div></div><p>Official RaphaelJS blog:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The blog of Dmitry Baranovskiy, the creator of RaphaelJS and various other libraries: <a class="ulink" href="http://dmitry.baranovskiy.com/">http://dmitry.baranovskiy.com/</a></li></ul></div></div><div class="section" title="Twitter"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>Twitter</h2></div></div></div><p>RaphaelJS tweets:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Follow RaphaelJS on Twitter at <a class="ulink" href="http://twitter.com/RaphaelJS/">http://twitter.com/RaphaelJS/</a></li><li class="listitem" style="list-style-type: disc">For more open source information, follow Packt at <a class="ulink" href="http://twitter.com/#!/packtopensource">http://twitter.com/#!/packtopensource</a></li></ul></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Summary</h1></div></div></div><p>RaphaelJS is a versatile and easy-to-use vector graphics library, allowing us to do tasks which were unthinkable a few years ago. Though HTML5 Canvas was inspired from vector graphics, it doesn't mean that it's a replacement for SVG, rather they compliment each other. Today's browsers have faster and better JavaScript engines that make rendering vector graphics even better.</p><p>From a user perspective, adding a little interactivity will make the site more interesting and engaging, and for this, vector graphics libraries like RaphaelJS are key. They make applications stand apart from the standard boxes and lines. RaphaelJS does add glitter to our applications and makes us completely rethink how we present our data. RaphaelJS is more versatile in the hands of the most creative, and that's what this book is all about—realizing the creative potential of RaphaelJS.</p></div></body></html>