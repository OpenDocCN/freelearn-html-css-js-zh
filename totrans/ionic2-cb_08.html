<html><head></head><body><div class="chapter" title="Chapter&#xA0;8.&#xA0;Theming the App" id="aid-1GKCM1"><div class="titlepage"><div><div><h1 class="title"><a id="ch08"/>Chapter 8. Theming the App</h1></div></div></div><p>In this chapter, we will cover the following tasks related to app theme customization:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Viewing and debugging themes for a specific platform</li><li class="listitem">Customizing themes based on the platform</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl1sec45"/>Introduction</h1></div></div></div><p>Although Ionic has its own out-of-the-box default themes, you might want to even customize your app's look and feel further. There are several methods, as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Change style sheet within Sass file</li><li class="listitem">Detecting platform-specific type (iOS, Android, Windows) in JavaScript and applying custom classes or AngularJS conditions</li></ul></div><p>Either of the above two methods should work, but it's highly recommended to apply customization in a Sass file before the app is built in order to achieve maximum rendering performance.</p></div></div>
<div class="section" title="Viewing and debugging themes for a specific platform"><div class="titlepage" id="aid-1HIT82"><div><div><h1 class="title"><a id="ch08lvl1sec46"/>Viewing and debugging themes for a specific platform</h1></div></div></div><p>One of the biggest <a id="id666" class="indexterm"/>challenges in developing an app is to ensure that it has the desired look and feel for each platform. Specifically, you want to write the code and theme once and have it just work. Another challenge is figuring out the workflow on a daily basis, from writing code and previewing it in the browser to deploying to a <a id="id667" class="indexterm"/>device for testing purposes. You want to minimize a lot of unnecessary steps. It's certainly difficult if you have to rebuild the app and test it independently for each mobile platform.</p><p>Ionic 2 CLI provides seamless integration to improve your workflow to ensure that you can <span class="emphasis"><em>catch</em></span> all the issues for each platform ahead of time. You can quickly view the app on various platforms in the same browser window. This feature is powerful because now one can make a side-by-side comparison for each screen with specific interaction. If you want to debug JavaScript code, you employ the same web developer tool that you have been using in the browser. This capability will save you a lot of time instead of waiting to push the app to a physical device, which could take minutes if your app is getting larger.</p><p>In this example, you<a id="id668" class="indexterm"/> will learn how to modify a theme quickly using Sass variables. Then, you will run the app and inspect different platforms for<a id="id669" class="indexterm"/> UI consistency.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec112"/>Getting ready</h2></div></div></div><p>There is no need to test the theme on a physical device because Ionic can render iOS, Android, and Windows Phone in the browser.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec113"/>How to do it…</h2></div></div></div><p>Here are the instructions:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new app using the <code class="literal">tutorial</code> template, as shown, and go to the folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ionic start ThemeApp tutorial --v2</strong></span>
<span class="strong"><strong>$ cd ThemeApp</strong></span>
</pre></div><div class="note" title="Note"><h3 class="title"><a id="tip22"/>Tip</h3><p>In Ionic 1, you need to set up Sass dependencies because Ionic uses a number of external libraries for this. However, Ionic 2 has no such requirements because all the dependencies are added when you create the project.</p></div></li><li class="listitem">Open the <code class="literal">/app/theme/app.variable.scss</code> file and replace the <code class="literal">$colors</code> variable with the following commands:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$colors: (</strong></span>
<span class="strong"><strong>  primary:    #2C3E50, // #387ef5,</strong></span>
<span class="strong"><strong>  clear:      white,</strong></span>
<span class="strong"><strong>  secondary:  #446CB3, // #32db64,</strong></span>
<span class="strong"><strong>  danger:     #96281B, // #f53d3d,</strong></span>
<span class="strong"><strong>  light:      #BDC3C7, // #f4f4f4,</strong></span>
<span class="strong"><strong>  dark:       #6C7A89, // #222,</strong></span>
<span class="strong"><strong>  favorite:   #16A085 // #69BB7B</strong></span>
<span class="strong"><strong>);</strong></span>
</pre></div><div class="note" title="Note"><h3 class="title"><a id="tip23"/>Tip</h3><p>The default color codes can be commented out as shown in the preceding code.</p></div></li><li class="listitem">Open <code class="literal">app.html</code> and add the <code class="literal">clear</code> attribute to the following code block:<div class="informalexample"><pre class="programlisting">  &lt;ion-toolbar clear&gt;
    &lt;ion-title&gt;Pages&lt;/ion-title&gt;
  &lt;/ion-toolbar&gt;</pre></div></li><li class="listitem">Open the <code class="literal">./src/pages/hello-ionic/hello-ionic.html</code> file and replace the contents <a id="id670" class="indexterm"/>with the given code:<div class="informalexample"><pre class="programlisting">&lt;ion-header&gt;
  &lt;ion-navbar primary&gt;
    &lt;button ion-button menuToggle&gt;
      &lt;ion-icon name="menu"&gt;&lt;/ion-icon&gt;
    &lt;/button&gt;
    &lt;ion-title&gt;Hello Ionic&lt;/ion-title&gt;
  &lt;/ion-navbar&gt;
&lt;/ion-header&gt;


&lt;ion-content padding class="getting-started"&gt;

  &lt;h3&gt;Welcome to your first Ionic app!&lt;/h3&gt;

  &lt;p&gt;
    This starter project is our way of helping you get a functional app running in record time.
  &lt;/p&gt;
  &lt;p&gt;
    Follow along on the tutorial section of the Ionic docs!
  &lt;/p&gt;
  &lt;p&gt;
    &lt;button ion-button color="secondary" menuToggle&gt;Toggle Menu&lt;/button&gt;
  &lt;/p&gt;

&lt;/ion-content&gt;</pre></div></li><li class="listitem">Test-run the app<a id="id671" class="indexterm"/> in the browser and you should be able to see a screen as follows:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ionic serve -l</strong></span>
</pre></div><div class="note" title="Note"><h3 class="title"><a id="tip24"/>Tip</h3><p>The <code class="literal">-l</code> (lima) command means render the app for all three platforms.</p></div><div class="mediaobject"><img src="../Images/image00389.jpeg" alt="How to do it…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec114"/>How it works…</h2></div></div></div><p>Ionic 2 has made it very easy to develop and test themes for different platforms. Your typical flow is to modify<a id="id672" class="indexterm"/> the theme variable in <code class="literal">app.variables.scss</code> first. You should not modify any <code class="literal">.css</code> files directly. Also, Ionic 2 project now makes it safe so that you can't accidently edit the wrong core theme files because those core files are no longer in the app folder location.</p><p>To update the <a id="id673" class="indexterm"/>default color, you just have to modify the color code in <code class="literal">app.variables.scss</code>. You can even add more color names, such as <code class="literal">clear: white</code>, and Ionic 2 will automatically take care of the rest. That means the <code class="literal">clear</code> keyword is available as an attribute to any Ionic element that takes a color name. A few examples are as follows:</p><div class="informalexample"><pre class="programlisting">&lt;ion-navbar primary&gt;
&lt;button ion-button color="secondary" menuToggle&gt;
&lt;ion-toolbar clear&gt;</pre></div><p>The Ionic CLI is a very useful tool for debugging your theme in different platforms. To get help on how to use the Ionic CLI, you can type the following command line in the console:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ionic -h</strong></span>
</pre></div><p>This will list all the options available for you to choose from. Under the <code class="literal">serve</code> option, you should familiarize yourself with some of the important features, which are as follows:</p><div class="informaltable"><table border="1"><colgroup><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Parameters</p>
</th><th valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>
<code class="literal">--consolelogs|-c</code>
</p>
</td><td valign="top">
<p>Print app console logs to Ionic CLI</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">--serverlogs|-s</code>
</p>
</td><td valign="top">
<p>Print dev server logs to Ionic CLI</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">--browser|-w</code>
</p>
</td><td valign="top">
<p>Specifies<a id="id674" class="indexterm"/> the browser to use (Safari, Firefox, and Chrome)</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">--browseroption|-o</code>
</p>
</td><td valign="top">
<p>Specifies a<a id="id675" class="indexterm"/> path to open to (<code class="literal">/#/tab/dash</code>)</p>
</td></tr><tr><td valign="top">
<p>
<code class="literal">--lab|-l</code>
</p>
</td><td valign="top">
<p>Tests your apps on multiple screen sizes and platform types</p>
</td></tr></tbody></table></div></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec115"/>There's more…</h2></div></div></div><p>You can get more<a id="id676" class="indexterm"/> color palettes by visiting Matheus Cruz Rocha's cloned repository at <a class="ulink" href="https://github.com/innovieco/ionic-flat-colors">https://github.com/innovieco/ionic-flat-colors</a>.</p></div></div>
<div class="section" title="Customizing themes based on the platform"><div class="titlepage" id="aid-1IHDQ2"><div><div><h1 class="title"><a id="ch08lvl1sec47"/>Customizing themes based on the platform</h1></div></div></div><p>Each mobile platform vendor has its own design guideline. This section will go over an example of a typical workflow to develop, view, debug, and address the app theme differently for iOS, Android, and Windows Phone. In traditional development (of using either the native language or other hybrid app solutions), you have to keep separate repositories for<a id="id677" class="indexterm"/> each platform in order to customize the theme. This could be very inefficient in the long-run.</p><p>Ionic 2 has many built-in features to support theme changes based on the detected platform. It makes it very convenient by separating Sass variables for each platform. This will eliminate a lot of unnecessary customizations. As a developer, you'd rather focus on the app experience than spend time managing the platform.</p><p>The example in this section covers two possible of customizations using Sass and JavaScript. The following screenshot shows an iOS, Android, and Windows app with a different title bar color and text:</p><div class="mediaobject"><img src="../Images/image00390.jpeg" alt="Customizing themes based on the platform"/></div><p style="clear:both; height: 1em;"> </p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec116"/>Getting ready</h2></div></div></div><p>There is no need to<a id="id678" class="indexterm"/> test themes on a physical device because Ionic can render all three platforms in the browser.</p></div><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec117"/>How to do it…</h2></div></div></div><p>Here are the instructions:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new app using the <code class="literal">blank</code> template and go into the project folder:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ionic start PlatformStylesApp blank --v2</strong></span>
<span class="strong"><strong>$ cd PlatformStylesApp</strong></span>
</pre></div></li><li class="listitem">Open the <code class="literal">./src/app/app.module.ts </code>file and replace the entire body with the following:<div class="informalexample"><pre class="programlisting">import { NgModule } from '@angular/core';
import { IonicApp, IonicModule } from 'ionic-angular';
import { MyApp } from './app.component';
import { HomePage } from '../pages/home/home';

@NgModule({
  declarations: [
    MyApp,
    HomePage
  ],
  imports: [
    IonicModule.forRoot(MyApp, {
      backButtonText: 'Go Back',
      iconMode: 'md',
      modalEnter: 'modal-slide-in',
      modalLeave: 'modal-slide-out',
      tabbarPlacement: 'bottom',
      pageTransition: 'ios',
    })
  ],
  bootstrap: [IonicApp],
  entryComponents: [
    MyApp,
    HomePage
  ],
  providers: []
})
export class AppModule {}</pre></div><p>This example expands the use<a id="id679" class="indexterm"/> of Ionic Bootstrap, which will be discussed now.</p></li><li class="listitem">Open <code class="literal">./src/pages/home/home.ts</code> and replace the code with the following:<div class="informalexample"><pre class="programlisting">import { Component } from '@angular/core';
import { Platform } from 'ionic-angular';
import { NavController } from 'ionic-angular';

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})
export class HomePage {
  platform: any;
  isIOS: Boolean;
  isAndroid: Boolean;
  isWP: Boolean;
  
  constructor(private navController: NavController, platform: Platform) {
    this.platform = platform;
    this.isIOS = this.platform.is('ios');
    this.isAndroid = this.platform.is('android');
    this.isWP = this.platform.is('windows');
    console.log(this.platform);
  }
}</pre></div></li><li class="listitem">Open the <code class="literal">./src/pages/home/home.html</code> file and change the template to:<div class="informalexample"><pre class="programlisting">&lt;ion-header&gt;
  &lt;ion-navbar primary [ngClass]="{'large-center-title': isWP}"&gt;
    &lt;ion-title&gt;
      My Theme
    &lt;/ion-title&gt;
  &lt;/ion-navbar&gt;
&lt;/ion-header&gt;

&lt;ion-content padding&gt;
  Did you see this bulb? It's the same across all platforms.
  &lt;p class="center"&gt;
    &lt;ion-icon class="large-icon" name="bulb"&gt;&lt;/ion-icon&gt;
  &lt;/p&gt;
  
  &lt;p *ngIf="isIOS"&gt;
    Hey iPhone user, can you review this app in App Store? 
  &lt;/p&gt;
  &lt;p *ngIf="isAndroid"&gt;
    Hey Android user, can you review this app in Google Play? 
  &lt;/p&gt;
  &lt;p *ngIf="isWP"&gt;
    Hey Windows Phone user, can you review this app inMarketplace? 
  &lt;/p&gt;
&lt;/ion-content&gt;</pre></div><p>This is the only template for the app, but its UI will look different depending on the detected platform.</p></li><li class="listitem">Replace <code class="literal">./src/pages/home/home.scss</code> with<a id="id680" class="indexterm"/> the following stylesheet:<div class="informalexample"><pre class="programlisting">.large-icon {
  font-size: 60px;
}

.center {
  text-align: center;
}

.md .toolbar[primary] .toolbar-background {
  background: #1A2980; 
  background: -webkit-linear-gradient(right, #1A2980, #26D0CE);
  background: -o-linear-gradient(right, #1A2980, #26D0CE);
  background: linear-gradient(to left, #1A2980, #26D0CE); 
}

.large-center-title {
  text-align: center;
  .toolbar-title {
    font-size: 25px;
  }
}</pre></div><p>There is no need to change the global variables. Thus, you only modify the styles for one page. The purpose is to demonstrate the ability to customize for each platform.</p></li><li class="listitem">Test-run the app in the browser using the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>$ ionic serve -l</strong></span>
</pre></div></li></ol><div style="height:10px; width: 1px"/></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec118"/>How it works…</h2></div></div></div><p>Ionic automatically<a id="id681" class="indexterm"/> created platform-specific parent classes and put them at the <code class="literal">&lt;body&gt;</code> tag. The iOS app will include the .<code class="literal">ios</code> class. The Android app will have <code class="literal">.md class</code>. So, for stylesheet customization, you can leverage those existing classes to change the look and feel of your app.</p><p>Ionic 2 documentation has<a id="id682" class="indexterm"/> a list of all platform modes and configuration properties at <a class="ulink" href="http://%20http://ionicframework.com/docs/v2/theming/platform-specific-styles/">http://ionicframework.com/docs/v2/theming/platform-specific-styles/</a>.</p><div class="informaltable"><table border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th valign="bottom">
<p>Platform</p>
</th><th valign="bottom">
<p>Mode</p>
</th><th valign="bottom">
<p>Details</p>
</th></tr></thead><tbody><tr><td valign="top">
<p>iPhone/iPad/iPad</p>
</td><td valign="top">
<p>
<code class="literal">ios</code>
</p>
</td><td valign="top">
<p>The iOS style is used across all Apple products</p>
</td></tr><tr><td valign="top">
<p>Android</p>
</td><td valign="top">
<p>
<code class="literal">md</code>
</p>
</td><td valign="top">
<p>
<span class="emphasis"><em>md</em></span> means <span class="strong"><strong>Material Design</strong></span> as this is the default design for <a id="id683" class="indexterm"/>Android devices</p>
</td></tr><tr><td valign="top">
<p>Windows Phone</p>
</td><td valign="top">
<p>
<code class="literal">wp</code>
</p>
</td><td valign="top">
<p>Viewing on any windows device inside Cordova or Electron uses the Windows styles</p>
</td></tr><tr><td valign="top">
<p>Core</p>
</td><td valign="top">
<p>
<code class="literal">md</code>
</p>
</td><td valign="top">
<p>Material Design is the default for all others</p>
</td></tr></tbody></table></div><p>First, let's take a look at the Ionic Bootstrap class from Ionic Angular. You declared this in <code class="literal">app.ts</code> file:</p><div class="informalexample"><pre class="programlisting">IonicModule.forRoot(MyApp, {
    backButtonText: 'Go Back',
    iconMode: 'md',
    modalEnter: 'modal-slide-in',
    modalLeave: 'modal-slide-out',
    tabbarPlacement: 'bottom',
    pageTransition: 'ios',
})</pre></div><p>This statement basically instructs the app to bootstrap with the <code class="literal">MyApp</code> object. The third parameter is where you can inject your customized <a id="id684" class="indexterm"/>configuration properties. There is a list of all <code class="literal">Config</code> properties at<a class="ulink" href="http://%20http://ionicframework.com/docs/v2/api/config/Config/"> http://ionicframework.com/docs/v2/api/config/Config/</a>.</p><p>One main thing to<a id="id685" class="indexterm"/> point out here is <code class="literal">iconMode</code>. Icons are very different for each platform in Ionic 2. The entire Ionicons set is now separated by the<a id="id686" class="indexterm"/> platform name. There are three platforms according to Ionic 2's documentation page, at <a class="ulink" href="http://ionicframework.com/docs/v2/ionicons/">http://ionicframework.com/docs/v2/ionicons/</a>.</p><p>You can even search for the icon name using the <span class="strong"><strong>Search Ionicons</strong></span>, buttons as follows:</p><div class="mediaobject"><img src="../Images/image00391.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>Note that you don't need to worry about which icon to pick for which platform. Even though, in this example, the code forces you to choose iOS icon for all three platforms, you could just use<a id="id687" class="indexterm"/> the icon name and let Ionic 2 decide which icon to use:</p><div class="mediaobject"><img src="../Images/image00392.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>For example, when you state the icon name as <code class="literal">"add"</code>, Ionic 2 will use <code class="literal">"md-add"</code> if the user is using Android, as follows:</p><div class="informalexample"><pre class="programlisting">&lt;ion-icon name="add"&gt;
&lt;/ion-icon&gt;</pre></div><p>There are several ways to theme your app based on the platform. First, you could add variables to detect the current platform as in the <code class="literal">HomePage</code> class, as illustrated:</p><div class="informalexample"><pre class="programlisting">export class HomePage {
  platform: any;
  isIOS: Boolean;
  isAndroid: Boolean;
  isWP: Boolean;
  
  constructor(private navController: NavController, platform: Platform) {
    this.platform = platform;
    this.isIOS = this.platform.is('ios');
    this.isAndroid = this.platform.is('android');
    this.isWP = this.platform.is('windows');
    console.log(this.platform);
  }
}</pre></div><p>
<code class="literal">this.platform = platform</code> is what Ionic 2 provides. If you open up the browser console while running the app, you can inspect the <code class="literal">platform</code> object:</p><div class="mediaobject"><img src="../Images/image00393.jpeg" alt="How it works…"/></div><p style="clear:both; height: 1em;"> </p><p>This <code class="literal">platform</code> object has<a id="id688" class="indexterm"/> a rich amount of information. This is similar to <code class="literal">ionic.platform</code> in Ionic 1. However, it has been restructured significantly.</p><p>By making the platform variables available to the view, you can use it to hide or show a specific DOM using <code class="literal">ngIf</code>. It's recommended to use <code class="literal">ngIf</code> instead of <code class="literal">ngShow</code> because <code class="literal">ngShow</code> may show and hide the element right away, creating a <span class="emphasis"><em>flickering</em></span> effect. The following is the code in the template relating to using those platform variables:</p><div class="informalexample"><pre class="programlisting">  &lt;p *ngIf="isIOS"&gt;
    Hey iPhone user, can you review this app in App Store? 
  &lt;/p&gt;
  &lt;p *ngIf="isAndroid"&gt;
    Hey Android user, can you review this app in Google Play? 
  &lt;/p&gt;
  &lt;p *ngIf="isWP"&gt;
    Hey Windows Phone user, can you review this app in Marketplace? 
  &lt;/p&gt;</pre></div><p>Finally, you could change the theme using platform classes directly. Consider the following example:</p><div class="informalexample"><pre class="programlisting">.md .toolbar[primary] .toolbar-background {
  background: #1A2980; 
  background: -webkit-linear-gradient(right, #1A2980, #26D0CE);
  background: -o-linear-gradient(right, #1A2980, #26D0CE);
  background: linear-gradient(to left, #1A2980, #26D0CE); 
}</pre></div><p>This means that, whenever it's a Material Design mode (<code class="literal">.md</code> class), you will override the classes with your own styles. The <a id="id689" class="indexterm"/>preceding example shows an interesting CSS gradient, which works very nicely in mobile devices.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch08lvl2sec119"/>There's more…</h2></div></div></div><p>Further, device information is available<a id="id690" class="indexterm"/> from the <code class="literal">Platform</code> class. You can even detect iPad devices at <a class="ulink" href="http://ionicframework.com/docs/v2/api/platform/Platform/">http://ionicframework.com/docs/v2/api/platform/Platform/</a>.</p></div></div></body></html>