<html><head></head><body>
		<div id="_idContainer057">
			<h1 id="_idParaDest-39" class="chapter-number"><a id="_idTextAnchor044"/>2</h1>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor045"/>Fortress of Solitude – Configuring WebdriverIO</h1>
			<p>In this chapter, we will install WebdriverIO and its dependencies. There are two approaches, and we will discuss the advantages of each. It is also important to keep the versions of the dependencies up to date. To help with this, we will use Yarn to keep our package.json and yarn.lock files up <span class="No-Break">to date.</span></p>
			<p>The setup instructions for WDIO can be<a id="_idIndexMarker080"/> found in the <strong class="bold">Getting Started</strong> section on the official <span class="No-Break">website (</span><a href="https://webdriver.io/docs/gettingstarted"><span class="No-Break">https://webdriver.io/docs/gettingstarted</span></a><span class="No-Break">):</span></p>
			<div>
				<div id="_idContainer032" class="IMG---Figure">
					<img src="image/B19395_Figure_2.1.jpg" alt="Figure 2.1 – Getting Started"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.1 – Getting Started</p>
			<div>
				<div id="_idContainer033" class="IMG---Figure">
					<img src="image/B19395_Figure_2.2.jpg" alt="Figure 2.2 – Current documentation indicators for version 7.x"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.2 – Current documentation indicators for version 7.x</p>
			<p>In this section, we'll cover the following <span class="No-Break">main topics:</span></p>
			<ul>
				<li>WebdriverIO setup </li>
				<li>Building and installing the project dependencies </li>
				<li>Making out <span class="No-Break">first commit</span></li>
			</ul>
			<p class="callout-heading">Tip</p>
			<p class="callout">Be sure you are viewing the latest version of WDIO 8.0. Googling questions about WDIO features can lead to support pages of <span class="No-Break">prior versions.</span></p>
			<h1 id="_idParaDest-41"><a id="_idTextAnchor046"/>WebdriverIO setup</h1>
			<p>The<a id="_idIndexMarker081"/> WDIO team works hard to make everything easy to install, as described in the documentation. WDIO can be set up in <span class="No-Break">two ways:</span></p>
			<ul>
				<li>Custom configuration while answering a series <span class="No-Break">of questions</span></li>
				<li>Cloned from an existing project <span class="No-Break">on GitHub</span></li>
			</ul>
			<p>For this project, we will show the questions and the selected answers. The second option, cloning the boilerplate project approach, is described in the <span class="No-Break">following section.</span></p>
			<p>Option 1 – required steps<a id="_idIndexMarker082"/> to start installing WebdriverIO 8.0 <span class="No-Break">for TypeScript</span></p>
			<p>Navigate<a id="_idIndexMarker083"/> from the <strong class="bold">TERMINAL</strong> window to the <strong class="source-inline">\repos\wdio</strong> folder. The quickest way to set up a WDIO project quickly from Yarn is to type <strong class="source-inline">yarn create wdio</strong>, ending with a <span class="No-Break">dot (</span><span class="No-Break"><strong class="source-inline">.</strong></span><span class="No-Break">):</span></p>
			<pre class="console">
&gt; yarn create wdio .</pre>			<p>The WDIO robot will appear, and a list of configuration questions will <span class="No-Break">be presented:</span></p>
			<div>
				<div id="_idContainer034" class="IMG---Figure">
					<img src="image/B19395_Figure_2.3.jpg" alt="Figure 2.3 – WDIO initialization from the code TERMINAL window"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.3 – WDIO initialization from the code TERMINAL window</p>
			<p>The initialization will ask how to configure WDIO from scratch. Here is the list of settings for WebDriver 8.0. There are<a id="_idIndexMarker084"/> several options, and many will use the default. Each item with a star (<strong class="source-inline">*</strong>) shows the choice selected <span class="No-Break">at setup:</span></p>
			<p class="callout-heading">Note</p>
			<p class="callout">WebdriverIO is always being updated. These questions themselves should be similar for both Mac and Windows users. However, the order, phrasing, and selection details do change slightly as new features <span class="No-Break">are added.</span></p>
			<div>
				<div id="_idContainer035" class="IMG---Figure">
					<img src="image/B19395_Figure_2.4.jpg" alt="Figure 2.4 – Settings"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.4 – Settings</p>
			<p><strong class="bold">? What type of testing would you like to do? (Use </strong><span class="No-Break"><strong class="bold">arrow keys)</strong></span></p>
			<ul>
				<li>&gt; (*) E2E Testing - of Web<a id="_idIndexMarker085"/> or <span class="No-Break">Mobile Applications</span></li>
				<li>( ) Component or Unit Testing - in <span class="No-Break">the browser</span></li>
				<li>&gt; <span class="No-Break">https://webdriver.io/docs/component-testing</span></li>
				<li>( ) Desktop Testing - of <span class="No-Break">Electron Applications</span></li>
				<li> &gt; <span class="No-Break">https://webdriver.io/docs/desktop-testing/electron</span></li>
				<li>( ) Desktop Testing - of <span class="No-Break">MacOS Applications</span></li>
				<li>&gt; <span class="No-Break">https://webdriver.io/docs/desktop-testing/macos</span></li>
			</ul>
			<p><strong class="bold">? Where is your automation backend located? (Use </strong><span class="No-Break"><strong class="bold">arrow keys)</strong></span></p>
			<ul>
				<li>&gt; (*) On my local <span class="No-Break">machine (default)</span></li>
				<li>( ) In the cloud <span class="No-Break">using Experitest</span></li>
				<li>( ) In the cloud using <span class="No-Break">Sauce Labs</span></li>
				<li>( ) In the cloud using Browserstack or Testingbot or LambdaTest or a <span class="No-Break">different service</span></li>
				<li>( ) I have my own <span class="No-Break">Selenium cloud</span></li>
			</ul>
			<p>Today, there are many cloud options, including <strong class="source-inline">Experitest</strong>, <strong class="source-inline">Sauce Labs</strong>, <strong class="source-inline">BrowserStack</strong>, <strong class="source-inline">Testingbot</strong>, and <strong class="source-inline">LambdaTest</strong>. For this book, we will install the automation backend on our local Mac or <span class="No-Break">Windows machine.</span></p>
			<p>Next is the environment type. For these purposes, we will <span class="No-Break">use </span><span class="No-Break"><strong class="source-inline">Web</strong></span><span class="No-Break">:</span></p>
			<p><strong class="bold">? Which environment would you like to automate? (Use </strong><span class="No-Break"><strong class="bold">arrow keys)</strong></span></p>
			<ul>
				<li>(*) Web - web applications in <span class="No-Break">the browser</span></li>
				<li>( ) Mobile - native, hybrid, and mobile web apps, on Android <span class="No-Break">or iOS</span></li>
			</ul>
			<p>Then, select the browser(s) we <a id="_idIndexMarker086"/>will be using. Select the default of Chrome. Note that we can add <span class="No-Break">others later:</span></p>
			<p><strong class="bold">? With which browser should we start? (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection, and &lt;enter&gt; </strong><span class="No-Break"><strong class="bold">to proceed)</strong></span></p>
			<ul>
				<li>(*) <span class="No-Break">Chrome</span></li>
				<li>( ) <span class="No-Break">Firefox</span></li>
				<li>( ) <span class="No-Break">Safari</span></li>
				<li>( ) <span class="No-Break">Microsoft Edge</span></li>
			</ul>
			<p>Next is the reporting framework type. For this book, we will be using Jasmine. However, much of the code that’s supplied will apply to all <span class="No-Break">listed frameworks:</span></p>
			<p><strong class="bold">? Which framework do you want to use? (Use </strong><span class="No-Break"><strong class="bold">arrow keys)</strong></span></p>
			<ul>
				<li>( ) <span class="No-Break">Mocha (https://mochajs.org/)</span></li>
				<li>( ) Mocha with <span class="No-Break">Serenity/JS (https://serenity-js.org/)</span></li>
				<li>(*) <span class="No-Break">Jasmine (https://jasmine.github.io/)</span></li>
				<li>( ) Jasmine with <span class="No-Break">Serenity/JS (https://serenity-js.org/)</span></li>
				<li>( ) <span class="No-Break">Cucumber (https://cucumber.io/)</span></li>
				<li>( ) Cucumber with <span class="No-Break">Serenity/JS (https://serenity-js.org/)</span></li>
			</ul>
			<p>Out of the box, WebdriverIO uses Mocha by default. However, it also supports Jasmine and can be combined with Chai for advanced assertions. Cucumber is an extra layer of abstraction framework that hides the core code. This allows fewer technical resources to create tests from Feature files. Cucumber is outside the scope of this book, but the techniques described can be implemented in a Cucumber WDIO project. Next, we will tell WDIO this is a <a id="_idIndexMarker087"/><span class="No-Break">Typescript project:</span></p>
			<p><strong class="bold">? Do you want to use a compiler? (Use </strong><span class="No-Break"><strong class="bold">arrow keys</strong></span></p>
			<ul>
				<li>( ) <span class="No-Break">Babel (https://babeljs.io/)</span></li>
				<li>(*) <span class="No-Break">TypeScript (https://www.typescriptlang.org/)</span></li>
				<li>( ) <span class="No-Break">No!</span></li>
			</ul>
			<p><strong class="bold">Question: What is Babel and is </strong><span class="No-Break"><strong class="bold">it needed?</strong></span></p>
			<p>Babel (<a href="https://babeljs.io/">https://babeljs.io/</a>) is a <a id="_idIndexMarker088"/>JavaScript transpiler. Because JavaScript is implemented differently in different <a id="_idIndexMarker089"/>browsers, a transpiler is used to transform our code to an older JavaScript version. Some features are not implemented in certain browsers, such as async/await, depending on what browser version we are testing against. So, a transpiler allows us to have our framework be backward compatible. Although this is a TypeScript project, we do not need the <span class="No-Break">TypeScript transpiler.</span></p>
			<p><strong class="bold">Question: How to know what features are available in different browsers </strong><span class="No-Break"><strong class="bold">and versions?</strong></span></p>
			<p>The <a href="http://caniuse.com">caniuse.com</a> website provides descriptive tables of the different ECMAScript features that <span class="No-Break">are supported:</span></p>
			<p>We will be creating our tests in TypeScript, which is a superset of JavaScript. The Typescript transpiler will be used.  Now to get a quick startup <span class="No-Break">sample script.</span></p>
			<p><strong class="bold">? Do you want WebdriverIO to autogenerate some </strong><span class="No-Break"><strong class="bold">test files?</strong></span></p>
			<p> (<span class="No-Break">Y/n) Yes</span></p>
			<p>This will automatically set up a sample test to run to ensure WebdriverIO is working. It is also where we will build a framework unit test to check features are working. Oh yes, we are developers, and our automation project has its own unit and <span class="No-Break">integration tests.</span></p>
			<p>The following is the default path for the TypeScript sample test cases and should not <span class="No-Break">be changed:</span></p>
			<p><strong class="bold">? Where should be the location of your </strong><span class="No-Break"><strong class="bold">specs files?</strong></span></p>
			<p>./<span class="No-Break">test/specs/**/*.ts</span></p>
			<p>Tests can be organized into feature sub-folders and smoke tests under the specs folder. Notice that because we selected TypeScript in the prior question, the test extensions (.js) replaced <span class="No-Break">with .ts.</span></p>
			<p><strong class="bold">? Do you want to use page </strong><span class="No-Break"><strong class="bold">objects (</strong></span><a href="https://martinfowler.com/bliki/PageObject.html"><span class="No-Break">https://martinfowler.com/bliki/PageObject.html</span></a><span class="No-Break"><strong class="bold">)?</strong></span></p>
			<p><span class="No-Break">Yes</span></p>
			<p>This sets up a Page<a id="_idIndexMarker090"/> Object Model folder structure for <span class="No-Break">our project.</span></p>
			<p><strong class="bold">? Where are your page objects </strong><span class="No-Break"><strong class="bold">located? ./test/pageobjects/**/*.ts</strong></span></p>
			<p>Now, we want to configure <span class="No-Break">our reporters.</span></p>
			<p>Which reporter do you want <span class="No-Break">to use?</span></p>
			<ul>
				<li>(*) <span class="No-Break">spec</span></li>
				<li>( ) <span class="No-Break">dot</span></li>
				<li>( ) <span class="No-Break">junit</span></li>
				<li>(*) <span class="No-Break">allure</span></li>
				<li>( ) <span class="No-Break">video</span></li>
				<li>( ) <span class="No-Break">mochawesome</span></li>
				<li>( ) <span class="No-Break">slack</span></li>
			</ul>
			<p>WebdriverIO supports a wide variety of reporters. For this small sample, we will start with the spec and allure reporters. Note that WDIO even supports a <strong class="bold">Video</strong> option. You may notice that Slack is included. In the final chapter of this book, we will be using Jenkins to send update messages to a <span class="No-Break">Slack channel.</span></p>
			<p><strong class="bold">? Do you want to add a plugin to your </strong><span class="No-Break"><strong class="bold">test setup?</strong></span></p>
			<ul>
				<li>( ) wait-for: utilities that provide functionalities to wait for certain conditions till a defined task <span class="No-Break">is complete.</span></li>
				<li>&gt; <span class="No-Break">https://www.npmjs.com/package/wdio-wait-for</span></li>
				<li>( ) angular-component-harnesses: support for Angular component <span class="No-Break">test harnesses</span></li>
				<li>&gt; <span class="No-Break">https://www.npmjs.com/package/@badisi/wdio-harness</span></li>
				<li>( ) Testing Library: utilities that encourage good testing practices laid down <span class="No-Break">by dom-testing-library.</span></li>
				<li>&gt; <span class="No-Break">https://testing-library.com/docs/webdriverio-testing-library/intro</span></li>
			</ul>
			<p>In our framework, we will have an advanced approach for waiting for page synchronization. This option will be <span class="No-Break">left as-is.</span></p>
			<p>If the<a id="_idIndexMarker091"/> application under test (AUT) is an Angular project, it is recommended to use the Angular Component <span class="No-Break">Harnesses configuration.</span></p>
			<p><strong class="bold">? Do you want to add a service to your </strong><span class="No-Break"><strong class="bold">test setup?</strong></span></p>
			<ul>
				<li>( ) <span class="No-Break">vscode</span></li>
				<li>( ) <span class="No-Break">eslinter-service</span></li>
				<li>( ) <span class="No-Break">lambdatest</span></li>
				<li>( ) <span class="No-Break">crossbrowsertesting</span></li>
				<li>( ) <span class="No-Break">vscode</span></li>
				<li>( ) <span class="No-Break">docker</span></li>
				<li>( ) <span class="No-Break">slack</span></li>
			</ul>
			<p class="callout-heading">Note</p>
			<p class="callout">34 additional services are integrated into WDIO, including Slack, Cross Browser Testing (Selenium Standalone), and ES-Linter. Covering them all is beyond the scope of <span class="No-Break">this book.</span></p>
			<p>The WebdriverIO <strong class="bold">Visual Studio Code</strong> (<strong class="bold">VS Code</strong>) service<a id="_idIndexMarker092"/> allows us to seamlessly test extensions from end to end in the VS Code Desktop ID. By providing a path to your extension, the service does the rest, <span class="No-Break">as follows:</span></p>
			<ul>
				<li>🏗 Installs VS Code (either stable, insiders, or a <span class="No-Break">specified version).</span></li>
				<li>⬇ Download Chromedriver specific to the given VS <span class="No-Break">Code version.</span></li>
				<li>🚀 Enables you to access the VS Code API from <span class="No-Break">your tests.</span></li>
				<li>🖥 Starts VS Code with custom user settings (including support for VS Code on Ubuntu, macOS, <span class="No-Break">and Windows).</span></li>
				<li>🌐 Serves VS Code from a server to be accessed by any browser for testing <span class="No-Break">web extensions</span><span class="No-Break">.</span></li>
				<li>📔 Bootstraps page objects with locators that match your VS <span class="No-Break">Code version.</span></li>
			</ul>
			<p>The next <a id="_idIndexMarker093"/>question asks you to enter the landing page for the application under test. For this, we will use the default provided as the sample tests use this to navigate internally to a website <span class="No-Break">for testing.</span></p>
			<p><strong class="bold">? What is the </strong><span class="No-Break"><strong class="bold">base URL?</strong></span></p>
			<p><span class="No-Break">http://localhost</span></p>
			<p>This is the base landing <a id="_idIndexMarker094"/>page that our tests <span class="No-Break">will launch.</span></p>
			<p>A base landing page ensures we do not repeatedly add code to navigate to the same landing page. Later in this book, we will see how to customize this value. For the moment, we will use the internet sandbox <span class="No-Break">for testing.</span></p>
			<p>The final installation step is to have npm download and install all the packages. While this part can be performed by the installer, we need to make one modification. Choose No for the <span class="No-Break">final question.</span></p>
			<p><strong class="bold">? Do you want me to run `npm </strong><span class="No-Break"><strong class="bold">install` (Y/n)</strong></span></p>
			<p><span class="No-Break">No</span></p>
			<p>We will be using Yarn rather than npm as our package manager due to its speed. This completes the setup for installing and configuring WebdriverIO from the wizard. Another option is to clone an existing project, which will be covered next. Skip to the <em class="italic">Installing and configuring WebdriverIO</em> section if you do not plan to clone from an <span class="No-Break">existing project.</span></p>
			<p>Because we <a id="_idIndexMarker095"/>are using Yarn as our package manager instead of npm, we will need to remove the package-lock.json file and run the yarn install command to build the equivalent <span class="No-Break">yarn.lock file.</span></p>
			<pre class="source-code">
&gt; yarn install</pre>			<h2 id="_idParaDest-42"><a id="_idTextAnchor047"/>Option 1 – cloning WebdriverIO from a boilerplate project</h2>
			<p>An alternate way to <a id="_idIndexMarker096"/>set up WDIO is to use a preconfigured <a id="_idIndexMarker097"/>WDIO boilerplate project from the WDIO GitHub repo. This means that less troubleshooting might be needed. We can choose from many preconfigured boilerplate projects with all the <span class="No-Break">necessary components.</span></p>
			<p>For this project, we will fork the <strong class="source-inline">Jasmine TypeScript Boilerplate</strong> project <span class="No-Break">from GitHub:</span></p>
			<div>
				<div id="_idContainer036" class="IMG---Figure">
					<img src="image/B19395_Figure_2.5.jpg" alt="Figure 2.5 – The Jasmine TypeScript boilerplate project on GitHub"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.5 – The Jasmine TypeScript boilerplate project on GitHub</p>
			<p>Click the <strong class="bold">jasmine-boilerplate</strong> link. This will allow us to create our own version via the <span class="No-Break"><strong class="bold">Code</strong></span><span class="No-Break"> button:</span></p>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="image/B19395_Figure_2.6.jpg" alt="Figure 2.6 – Copying the project URL from GitHub"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.6 – Copying the project URL from GitHub</p>
			<p>Click <strong class="bold">Code</strong>. Multiple choices<a id="_idIndexMarker098"/> for cloning the project will be <a id="_idIndexMarker099"/>displayed. Select <strong class="bold">Open with </strong><span class="No-Break"><strong class="bold">GitHub Desktop</strong></span><span class="No-Break">:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="image/B19395_Figure_2.7.jpg" alt="Figure 2.7 – Cloning from the source path to the local destination"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.7 – Cloning from the source path to the local destination</p>
			<p>Click <strong class="bold">Clone</strong>; the project will be put in the <span class="No-Break"><strong class="source-inline">repos</strong></span><span class="No-Break"> path.</span></p>
			<p>Next, we will change the <strong class="bold">Local path</strong> directory so that it points to where our project lives. We can do this by clicking <strong class="bold">Choose...</strong>, changing the<a id="_idIndexMarker100"/> directory<a id="_idIndexMarker101"/> to <strong class="source-inline">repo\wdio</strong>, and <span class="No-Break">clicking </span><span class="No-Break"><strong class="bold">Clone</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="image/B19395_Figure_2.8.jpg" alt="Figure 2.8 – The project’s Explorer icon in VS Code"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.8 – The project’s Explorer icon in VS Code</p>
			<p>Click the <strong class="bold">Explorer</strong> icon in the top-left corner of VS Code and open the <span class="No-Break"><strong class="source-inline">WDIO</strong></span><span class="No-Break"> folder.</span></p>
			<p>Then, click <strong class="bold">Open Folder</strong>, navigate to the <strong class="source-inline">repo\wdio</strong> folder, and <span class="No-Break">click </span><span class="No-Break"><strong class="bold">Open</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer040" class="IMG---Figure">
					<img src="image/B19395_Figure_2.9.jpg" alt="Figure 2.9 – Trusting the authors of a project"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.9 – Trusting the authors of a project</p>
			<p>If this <a id="_idIndexMarker102"/>dialogue<a id="_idIndexMarker103"/> appears, check the <strong class="bold">Trust the authors of all files in the parent folder ‘repos’</strong> option and click <strong class="bold">Yes, I trust </strong><span class="No-Break"><strong class="bold">the authors</strong></span><span class="No-Break">.</span></p>
			<p>With that, we have covered the clone installation approach. Next, we will <span class="No-Break">install everything.</span></p>
			<h1 id="_idParaDest-43"><a id="_idTextAnchor048"/>Building and installing the project dependencies</h1>
			<p>If you installed <a id="_idIndexMarker104"/>WebdriverIO from an existing project, this is where we<a id="_idIndexMarker105"/> continue. We need to build the project before we can run our first test. From the Terminal, type <span class="No-Break">the following:</span></p>
			<pre class="source-code">
&gt; yarn install</pre>			<p>This will bring in all the associated packages to run the project. Sometime in the future, vulnerabilities may occur and we will have to update our packages. We can use Yarn to check which packages are current and which <span class="No-Break">are outdated:</span></p>
			<pre class="source-code">
&gt; yarn outdated</pre>			<p>The output can be seen in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer041" class="IMG---Figure">
					<img src="image/B19395_Figure_2.10.jpg" alt="Figure 2.10 – Displaying the outdated package"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.10 – Displaying the outdated package</p>
			<p>Incompatibility<a id="_idIndexMarker106"/> could occur if we upgrade all packages blindly. Fortunately, there<a id="_idIndexMarker107"/> is the yarn upgrade command, which allows the packages to be <span class="No-Break">upgraded individually:</span></p>
			<pre class="source-code">
&gt; yarn upgrade-interactive</pre>			<p>We will see the <span class="No-Break">following output:</span></p>
			<div>
				<div id="_idContainer042" class="IMG---Figure">
					<img src="image/B19395_Figure_2.11.jpg" alt="Figure 2.11 – Interactive package list for upgrading"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.11 – Interactive package list for upgrading</p>
			<p> This gives us the most flexibility when we’re keeping our project packages up <span class="No-Break">to date.</span></p>
			<p class="callout-heading">Quick tip</p>
			<p class="callout"> If you want to clear the Terminal, use cls in Windows or Ctrl + K  or clear <span class="No-Break">on Mac.</span></p>
			<p>After the installation, the<a id="_idIndexMarker108"/> yarn.lock file will be updated and the node_modules<a id="_idIndexMarker109"/> folder will have all the supporting dependencies downloaded. This contains the expanded list of packages, which has been included to support the packages in package.json. The <strong class="source-inline">yarn.lock</strong> file will never need to <span class="No-Break">be edited.</span></p>
			<p>At this point, we should point out that the WebdriverIO setup assumes that a novice user may not know what to do to bring in all the <span class="No-Break">supporting packages:</span></p>
			<div>
				<div id="_idContainer043" class="IMG---Figure">
					<img src="image/B19395_Figure_2.12.jpg" alt="Figure 2.12 – WebdriverIO with TypeScript successfully installed"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.12 – WebdriverIO with TypeScript successfully installed</p>
			<p>Lastly, we can confirm the <a id="_idIndexMarker110"/>version of WebdriverIO <a id="_idIndexMarker111"/>that is installed with the <span class="No-Break">version flag.</span></p>
			<p>For <span class="No-Break">Windows users:</span></p>
			<pre class="source-code">
&gt; npx wdio --version</pre>			<p>For <span class="No-Break">Mac users:</span></p>
			<pre class="source-code">
&gt; wdio --version</pre>			<p>We made it! All the supported features have been added to the package.json file. WDIO even gives us a hint to try out our first test – <strong class="source-inline">npm </strong><span class="No-Break"><strong class="source-inline">run wdio</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer044" class="IMG---Figure">
					<img src="image/B19395_Figure_2.13.jpg" alt="Figure 2.13 – WebdriverIO gives us a hint on how to run the first test"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.13 – WebdriverIO gives us a hint on how to run the first test</p>
			<p>This has set up WebdriverIO and created a sample test that can be executed with the following <span class="No-Break">yarn command:</span></p>
			<pre class="source-code">
&gt; yarn wdio</pre>			<p>This results in the <span class="No-Break">following output:</span></p>
			<div>
				<div id="_idContainer045" class="IMG---Figure">
					<img src="image/B19395_Figure_2.14.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"> </p>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.14 – Output of yard command</p>
			<p>Tests can also be executed by running a command. Let’s take a look at the options for both Windows <span class="No-Break">and Mac:</span></p>
			<p>For <span class="No-Break">Windows users:</span></p>
			<pre class="source-code">
&gt; npx wdio run test/wdio.conf.ts</pre>			<p>For <span class="No-Break">Mac users:</span></p>
			<pre class="source-code">
&gt; wdio run test/wdio.conf.ts</pre>			<p>All the test examples can be found in this book’s GitHub <span class="No-Break">repository: </span><a href="https://github.com/PacktPublishing/Enhanced-Test-Automation-with-WebdriverIO"><span class="No-Break">https://github.com/PacktPublishing/Enhanced-Test-Automation-with-WebdriverIO</span></a><span class="No-Break">.</span></p>
			<p>This runs the sample tests with basic output detail to the Terminal window from the <strong class="bold">spec </strong><span class="No-Break"><strong class="bold">Reporter</strong></span><span class="No-Break"> window:</span></p>
			<div>
				<div id="_idContainer046" class="IMG---Figure">
					<img src="image/B19395_Figure_2.15.jpg" alt="Figure 2.15 – Pass results shown in the spec report from the sample WDIO test"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.15 – Pass results shown in the spec report from the sample WDIO test</p>
			<p>Now that we <a id="_idIndexMarker112"/>have set up our project, either by an<a id="_idTextAnchor049"/>swering the initial <a id="_idIndexMarker113"/>configuration questions or cloning an existing project, we are ready<a id="_idIndexMarker114"/> to look at the configurations and file <a id="_idIndexMarker115"/>settings of our new WDIO <span class="No-Break">automation project:</span></p>
			<div>
				<div id="_idContainer047" class="IMG---Figure">
					<img src="image/B19395_Figure_2.16.jpg" alt="Figure 2.16 – All project files"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.16 – All project files</p>
			<p>This will display all the files and folders in the project. There are quite a lot of them, so we will cover the important ones here. Open the <strong class="source-inline">README.md</strong> <span class="No-Break">file first.</span></p>
			<p>For any project, the <strong class="source-inline">README</strong> file is the best place to start. It gives us critical information about how the project is configured, its features, and, most importantly, how to quick-start a <span class="No-Break">sample test.</span></p>
			<p>Next, open the <span class="No-Break"><strong class="source-inline">package.json</strong></span><span class="No-Break"> file.</span></p>
			<p>This is where much of the <strong class="source-inline">Node.js</strong> <span class="No-Break">configuration occurs:</span></p>
			<p class="IMG---Figure"> </p>
			<div>
				<div id="_idContainer048" class="IMG---Figure">
					<img src="image/B19395_Figure_2.17.jpg" alt="Figure 2.17 – All devDependancies in the wdio project"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.17 – All devDependancies in the wdio project</p>
			<p>What is the <span class="No-Break"><strong class="source-inline">yarn.lock</strong></span><span class="No-Break"> file?</span></p>
			<p>The <strong class="source-inline">yarn.lock</strong> file <a id="_idIndexMarker116"/>contains the full list of required project packages, including <a id="_idIndexMarker117"/>ones that support other packages in package.json. It is massive, but don’t worry – you will never have to change it. Yarn Package Manager handles all of <span class="No-Break">this. Whew!</span></p>
			<p>Let’s run Yarn Package Manager with the <strong class="source-inline">install</strong> command to get everything loaded and up <span class="No-Break">to date:</span></p>
			<pre class="source-code">
&gt; yarn install</pre>			<p>This can be seen in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer049" class="IMG---Figure">
					<img src="image/B19395_Figure_2.18.jpg" alt="Figure 2.18 – Building the project using Yarn Package Manager"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.18 – Building the project using Yarn Package Manager</p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor050"/>Making our first commit</h2>
			<p>Now that we have our first test running, it is time to bring it all to our fortress of solitude – by committing it to our local repo and then to the <span class="No-Break">GitHub repository.</span></p>
			<h3>Ignoring files in the Git repository</h3>
			<p>Before we make<a id="_idIndexMarker118"/> our first commit to the Git repo, we need to ignore some files. Once we have set up our WDIO project, VS Code might suggest that the <strong class="source-inline">node_modules</strong> folder should be included in the <span class="No-Break"><strong class="source-inline">gitignore</strong></span><span class="No-Break"> file:</span></p>
			<div>
				<div id="_idContainer050" class="IMG---Figure">
					<img src="image/B19395_Figure_2.19.jpg" alt="Figure 2.19 – VS Code detects that the node_modules folder can be ignored"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.19 – VS Code detects that the node_modules folder can be ignored</p>
			<p>We never want to commit this folder to our Git repo as it gets updated constantly by npm. Having <strong class="source-inline">npm</strong> create the folder contents on the fly with the most up-to-date versions <span class="No-Break">is better:</span></p>
			<div>
				<div id="_idContainer051" class="IMG---Figure">
					<img src="image/B19395_Figure_2.20.jpg" alt="Figure 2.20 – GitHub Desktop indicates over 12,000 files to be committed to the new repo"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.20 – GitHub Desktop indicates over 12,000 files to be committed to the new repo</p>
			<p>This is far more files than <span class="No-Break">we need.</span></p>
			<p>To tell Git to <a id="_idIndexMarker119"/>ignore this project folder, simply create a <strong class="source-inline">.gitignore</strong> file in the root of the project and enter the <strong class="source-inline">node_modules</strong> <span class="No-Break">folder name:</span></p>
			<div>
				<div id="_idContainer052" class="IMG---Figure">
					<img src="image/B19395_Figure_2.21.jpg" alt="Figure 2.21 – A .gitignore file contains files and folders that should not be committed"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.21 – A .gitignore file contains files and folders that should not be committed</p>
			<p>The same goes for our Allure report and results folders. These files will be rebuilt repeatedly after each test and will not need to be under version control. Once these tests are run from Jenkins, prior runs can be preserved there temporarily <span class="No-Break">or permanently.</span></p>
			<p>By simply adding and saving the <strong class="source-inline">.gitignore</strong> file, the list of files <span class="No-Break">changes dramatically:</span></p>
			<div>
				<div id="_idContainer053" class="IMG---Figure">
					<img src="image/B19395_Figure_2.22.jpg" alt="Figure 2.22 – The repo now only stores the files"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.22 – The repo now only stores the files</p>
			<p>Once this <strong class="source-inline">.gitignore</strong> file is saved, we will see the changes reflected in GitHub Desktop with a manageable size of just <span class="No-Break">eight files.</span></p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Never store passwords in the repo. A password should be provided by a secure data provider service such as Vault or AWS Secrets. If no such option exists, then a password file could be referenced in the folder above the project. Otherwise, storing such a credential file in the project requires adding it to the <strong class="source-inline">.gitignore</strong> file <span class="No-Break">for security.</span></p>
			<p>One of the first bugs I found in my career was related to passwords. Here, the user had the option to reset their password with a random string of characters. This page would occasionally crash. The reason was that the requirement had the password generated from all 128 ASCII characters. This included BELL, unprintable characters, as well as ones that were difficult to type on the keyboard. The real problem was that this set included angle brackets (<strong class="source-inline">&lt;</strong> and <strong class="source-inline">&gt;</strong>). The page would only crash when a new password was generated with one of those two characters, as they were interpreted as opening or closing HTML tags on <span class="No-Break">the page.</span></p>
			<p>There are tools that<a id="_idIndexMarker120"/> IT security uses to detect passwords in repos, but they often only check the <strong class="source-inline">main</strong> or <strong class="source-inline">master</strong> repos and ignore the later <strong class="source-inline">feature</strong> branches. This, too, is a security risk. Always clean up old branches, as this can be<a id="_idIndexMarker121"/> considered a <strong class="bold">security operations center</strong> (<strong class="bold">SOC</strong>) II compliance violation, even if the passwords have long <span class="No-Break">since expired.</span></p>
			<p>We can now add a summary description and optional details. Simply click <strong class="bold">Commit to main</strong> – all our new files will be committed to our local <span class="No-Break">main branch:</span></p>
			<div>
				<div id="_idContainer054" class="IMG---Figure">
					<img src="image/B19395_Figure_2.23.jpg" alt="Figure 2.23 – Adding a comment and details to a local commit"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.23 – Adding a comment and details to a local commit</p>
			<p>However, this is just staged <a id="_idTextAnchor051"/>on our local Git repo. The final step is to click <strong class="bold">Push origin</strong>, which will push it up to GitHub for our team to <span class="No-Break">pull down:</span></p>
			<div>
				<div id="_idContainer055" class="IMG---Figure">
					<img src="image/B19395_Figure_2.24.jpg" alt="Figure 2.24 – GitHub Desktop shows that all changes have been committed and suggests pushing any new changes"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.24 – GitHub Desktop shows that all changes have been committed and suggests pushing any new changes</p>
			<p>Congratulations! You have made your<a id="_idIndexMarker122"/> first commit to your Git repo. Your team members can now pull your changes to be sure all their tests are <span class="No-Break">running smoothly.</span></p>
			<p>But what if you need to add new functionality that will take a few days <span class="No-Break">to complete?</span></p>
			<h3>Branching out</h3>
			<p>To be a part of an<a id="_idIndexMarker123"/> automation team, you may be asked to add new and complex functionality. If this takes a few days, we might consider feature branching. A new branch is created from <strong class="source-inline">main</strong>. Your changes will be committed to your branch, and<a id="_idTextAnchor052"/> changes from <strong class="source-inline">main</strong> will be brought <span class="No-Break">in periodically:</span></p>
			<div>
				<div id="_idContainer056" class="IMG---Figure">
					<img src="image/B19395_Figure_2.25.jpg" alt="Figure 2.25 – Adding a new branch in GitHub Desktop from main"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 2.25 – Adding a new branch in GitHub Desktop from main</p>
			<p>When your changes are<a id="_idIndexMarker124"/> complete, a pull request will be made to pull your changes into the <strong class="source-inline">main</strong> branch, and the <strong class="source-inline">feature</strong> branch may <span class="No-Break">be deleted.</span></p>
			<p>For this book, the final state of the framework will be in a branch named after this chapter. The <strong class="source-inline">main</strong> branch will contain the <span class="No-Break">final project.</span></p>
			<h1 id="_idParaDest-45"><a id="_idTextAnchor053"/>Summary</h1>
			<p>In this chapter, we installed WebdriverIO with several options added to a set of configuration questions. We also showed how Yarn can keep dependencies current. Lastly, we showed how to make a commit to the repo from <span class="No-Break">GitHub Desktop.</span></p>
			<p>If you run into issues, check the <a href="B19395_16.xhtml#_idTextAnchor314"><em class="italic">Appendix</em></a> at the end of this book. There, you will find a detailed list of common and arcane issues with causes, explanations, and resolutions. It also includes a node command cheatsheet for many of these <span class="No-Break">initial processes.</span></p>
			<p>In the next chapter, we will explore the files and connections in the <strong class="source-inline">wdio</strong> config file and look at different ways to debug <span class="No-Break">our code.</span></p>
		</div>
	</body></html>