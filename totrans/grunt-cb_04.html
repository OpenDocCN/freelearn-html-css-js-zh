<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Generating CSS and JavaScript</h1></div></div></div><p>In this chapter, we will cover the following recipes:</p><div><ul class="itemizedlist"><li class="listitem">Compiling LESS to CSS</li><li class="listitem">Compiling Sass to CSS</li><li class="listitem">Compiling Stylus to CSS</li><li class="listitem">Compiling CoffeeScript to JavaScript</li><li class="listitem">Compiling LiveScript to JavaScript</li><li class="listitem">Generating source maps for LESS</li><li class="listitem">Generating source maps for Sass</li><li class="listitem">Generating source maps for CoffeeScript</li><li class="listitem">Defining custom functions with LESS</li><li class="listitem">Using Stylus plugins</li></ul></div><div><div><div><div><h1 class="title"><a id="ch04lvl1sec40"/>Introduction</h1></div></div></div><p>Being as most of the technology in use today is based on standards, most notably the ones maintained by the W3C, and the evolution of standards being quite slow, there has always been a community of developers that aim to force evolution by building tools on top of existing antiquated technologies.</p><p>Generating <a id="id87" class="indexterm"/>
<strong>CSS</strong> and <strong>JavaScript</strong> code has<a id="id88" class="indexterm"/> been around for quite some time now, and has become somewhat of an industry standard. Using the latest tools to generate code allows us to manage and build our web applications faster than ever before. We can now make use of more modern language features in our code, and we can finally make use of our programming skills to generate our CSS style sheets.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec41"/>Compiling LESS to CSS</h1></div></div></div><p>In this<a id="id89" class="indexterm"/> recipe, we'll <a id="id90" class="indexterm"/>make use of the <code class="literal">contrib-less (0.11.4)</code> plugin to compile our <strong>LESS</strong> style sheets to <strong>CSS</strong> style sheets, which can be used by our web applications.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec92"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure we created in the <em>Installing Grunt on a project</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec93"/>How to do it...</h2></div></div></div><p>The following steps will take us through creating a simple LESS style sheet and compiling it to CSS:</p><div><ol class="orderedlist arabic"><li class="listitem">We'll start by installing the package that contains the <code class="literal">contrib-less</code> plugin, as per the instructions provided in the <em>Installing a plugin</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>.</li><li class="listitem">Let's create a simple LESS file called <code class="literal">styles.less</code> in our project directory with the following contents:<div><pre class="programlisting">@first: #ffffff;
@second: #000000;

body {
  background-color: @first;
  background-image: url('../background.png');
  color: @second;
}</pre></div></li><li class="listitem">Now, we can add the following <code class="literal">less</code> task to our configuration, which will compile the <code class="literal">styles.less</code> file to the <code class="literal">styles.css</code> file in our project directory:<div><pre class="programlisting">less: {
  styles: {
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt less</code> command, which will produce output similar to the following:<div><pre class="programlisting">
<strong>Running "less:styles" (less) task</strong>
<strong>File styles.css created: 0 B → 56 B</strong>
</pre></div></li><li class="listitem">If we now take a look at our project directory, we should see the new <code class="literal">styles.css</code> file with the following contents:<div><pre class="programlisting">body {
  background-color: #ffffff;
  background-image: url('background.png');
  color: #000000;
}</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec94"/>There's more...</h2></div></div></div><p>The <a id="id91" class="indexterm"/>
<code class="literal">less</code> task<a id="id92" class="indexterm"/> provides <a id="id93" class="indexterm"/>us with several useful options that can be used in conjunction with its basic compilation feature. We'll look at how to specify a root path for resources, minify the resulting output, rewrite URLs to be relative, force evaluation of imports, specify extra import paths, and add a banner to the resulting output.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec40"/>Specifying a root path for resources</h3></div></div></div><p>In <a id="id94" class="indexterm"/>case we'd like to prepend a path to all the URL resources in our L file, we can make use of the <code class="literal">rootpath</code> option, as per the following example:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>rootpath: '../'</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec41"/>Minifying the resulting output</h3></div></div></div><p>As we're <a id="id95" class="indexterm"/>always working toward a smaller download size for our web applications, we will eventually reach the point where we'd like to reduce the size of our style sheets by minimizing them. The <code class="literal">cleancss</code> option can be used to indicate that the <strong>clean-css</strong> utility<a id="id96" class="indexterm"/> should be used to compress the compiled result, as per the following example:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>cleancss: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec42"/>Rewriting URLs to be relative</h3></div></div></div><p>In case<a id="id97" class="indexterm"/> we import one LESS style sheet into another, the URL references to assets may become a bit confusing because we would have to reference resources into our style sheet, using URLs that are relative to whichever style sheet that might want to import it. This would, of course, also break if we were importing the same style sheet into two different style sheets, each with a different location.</p><p>By enabling the <code class="literal">rewriteUrls</code> option, we don't have to worry about having incorrect resource references when importing style sheets. The compiler will check all the URLs of referenced resources in the style sheet that is being imported, and alter them to be relative to their new location.</p><p>Say we had the following directory structure with a main <code class="literal">style.less</code> file that imports the <code class="literal">body.less</code> file, which references the <code class="literal">background.png</code> image in the project root:</p><div><pre class="programlisting">
<strong>project/</strong>
<strong>├── background.png</strong>
<strong>├── styles.less</strong>
<strong>└── lib</strong>
<strong>    └── body.less</strong>
</pre></div><p>With the <code class="literal">rewriteUrls</code> option set to <code class="literal">false</code>, a reference from the <code class="literal">body.less</code> file of <code class="literal">url('../background.png')</code> will remain the same in the resulting <code class="literal">style.css</code> file.</p><p>With <code class="literal">rewriteUrls</code> set to <code class="literal">true</code>, as per the following example, it will be changed to <code class="literal">url('background.png')</code> as this will be the new correct relative path from the resulting <code class="literal">style.css</code> file to the <code class="literal">background.png</code> file:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>relativeUrls: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec43"/>Forcing evaluation of imports</h3></div></div></div><p>In order <a id="id98" class="indexterm"/>to receive error messages for missing import dependencies, we can set the <code class="literal">strictImports</code> option to <code class="literal">true</code>, as per the following example:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>strictImports: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec44"/>Specifying extra import paths</h3></div></div></div><p>In <a id="id99" class="indexterm"/>case we'd like to allow our LESS style sheets to import style sheets other than the ones available to them via a simple relative path, we can indicate extra directories that should be scanned when importing files by using the <code class="literal">paths</code> option. The following example indicates that the <code class="literal">lib</code> directory in our project root should be included when scanning for imports:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>paths: ['lib']</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec45"/>Adding a banner to the resulting output</h3></div></div></div><p>In case<a id="id100" class="indexterm"/> we would like to add some extra information to the beginning of our compiled style sheet, we can make use of the <code class="literal">banner</code> option. The following example adds a banner that contains some information about the file we're producing:</p><div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>banner: '/* Name: style.css */\n' +</strong>
<strong>        '/* Author: Grunt Wiz */\n' +</strong>
<strong>        '/* License: MIT */\n\n'</strong>
 
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec42"/>Compiling Sass to CSS</h1></div></div></div><p>In this <a id="id101" class="indexterm"/>recipe, we'll make use of the <code class="literal">sass (0.12.1)</code> plugin <a id="id102" class="indexterm"/>to compile our <strong>Sass</strong> style sheets to <strong>CSS</strong> style sheets, which can be used by our web application.</p><div><h3 class="title"><a id="tip38"/>Tip</h3><p>The contrib-sass plugin is slightly more popular and more mature that the sass plugin but requires the Sass <strong>Ruby</strong> library<a id="id103" class="indexterm"/> to be installed, which seems to be an unnecessary step for this recipe.</p><p>Please note that at the time of writing, the sass plugin did not work with Version <code class="literal">0.11.*</code> of Node.js, but a solution for this issue was in the works. In the following recipe, Version<code class="literal"> 0.10.*</code> was used.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec95"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Installing Grunt on a project</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec96"/>How to do it...</h2></div></div></div><p>The following steps will take us through creating a simple Sass style sheet and compiling it to CSS:</p><div><ol class="orderedlist arabic"><li class="listitem">We'll start by installing the package that contains the <code class="literal">sass</code> plugin as per the instructions provided in the <em>Installing a plugin</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>.</li><li class="listitem">Let's create a simple Sass file called <code class="literal">styles.scss</code> in our project directory with the following contents:<div><pre class="programlisting">$first: #ffffff;
$second: #000000;

body {
  background-color: $first;
  background-image: url('background.png');
  color: $second;
}</pre></div></li><li class="listitem">Now, we <a id="id104" class="indexterm"/>can add the following <code class="literal">sass</code> task to our configuration, which will compile the <code class="literal">styles.scss</code> file to the <code class="literal">styles.css</code> file in our project directory:<div><pre class="programlisting">sass: {
  styles: {
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt sass</code> command, which will produce output similar to the following:<div><pre class="programlisting">
<strong>Running "sass:styles" (sass) task</strong>
<strong>File styles.css created.</strong>
</pre></div></li><li class="listitem">If we <a id="id105" class="indexterm"/>now take a look at our project directory, we should see the new <code class="literal">styles.css</code> file with the following contents:<div><pre class="programlisting">body {
  background-color: #ffffff;
  background-image: url('background.png');
  color: #000000;
}</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec97"/>There's more...</h2></div></div></div><p>The <code class="literal">sass</code> task<a id="id106" class="indexterm"/> provides us with several useful options that can be used in conjunction with its basic compilation feature. We'll look at how to change the output style, specify a path for images, and specify extra import paths.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec46"/>Changing the output style</h3></div></div></div><p>There <a id="id107" class="indexterm"/>are two output styles available when compiling Sass style sheets, each providing a different level of readability. By default, the <code class="literal">outputStyle</code> option is set to <code class="literal">nested</code>, which produces a more readable output. To remove all white spaces from the output, you can set it to <code class="literal">compressed</code>, as per the following example:</p><div><pre class="programlisting">sass: {
  styles: {
    options: {
      <strong>outputStyle: 'compressed'</strong>
    },
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec47"/>Specifying a path for images</h3></div></div></div><p>The <code class="literal">image-url</code> function<a id="id108" class="indexterm"/> is provided by the <code class="literal">sass</code> plugin if you'd like to have the ability to <a id="id109" class="indexterm"/>easily alter the paths to all the images referenced in a Sass style sheet. The following example makes use of the <code class="literal">imagePath</code> option to indicate that the <code class="literal">img</code> string should be prepended to every URL specified, using the <code class="literal">image-url</code> function:</p><div><pre class="programlisting">sass: {
  styles: {
    options: {
      <strong>imagePath: 'img'</strong>
    },
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec48"/>Specifying extra import paths</h3></div></div></div><p>In <a id="id110" class="indexterm"/>case we'd like to allow our Sass style sheets to import style sheets other than the ones available to them via a simple relative path, we can indicate extra directories that should be scanned when importing files by using the <code class="literal">includePaths</code> option. The following example indicates that the <code class="literal">lib</code> directory in our project root should be included when scanning for imports:</p><div><pre class="programlisting">sass: {
  styles: {
    options: {
      <strong>includePaths: ['lib']</strong>
    },
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec43"/>Compiling Stylus to CSS</h1></div></div></div><p>In this recipe, we'll<a id="id111" class="indexterm"/> make use of the <code class="literal">contrib-stylus (0.18.0)</code> plugin to compile our <strong>Stylus</strong> style sheets to <strong>CSS</strong> style sheets, which <a id="id112" class="indexterm"/>can be used by our web application.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec98"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Installing Grunt on a project</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec99"/>How to do it...</h2></div></div></div><p>The following steps will take us through creating a simple Stylus style sheet and compiling it to CSS:</p><div><ol class="orderedlist arabic"><li class="listitem">We'll start by installing the package that contains the <code class="literal">contrib-stylus</code> plugin, as per the instructions provided in the <em>Installing a plugin</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>.</li><li class="listitem">Let's create a simple Stylus file called <code class="literal">styles.styl</code> in our project directory with the following contents:<div><pre class="programlisting">first = #ffffff
second = #000000

body
  background-color: first
  background-image: url('background.png')
  color: second</pre></div></li><li class="listitem">Now, we can add the following <code class="literal">stylus</code> task to our configuration, which will compile the <code class="literal">styles.styl</code> file to the <code class="literal">styles.css</code> file in our project directory:<div><pre class="programlisting">stylus: {
  styles: {
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt stylus</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "stylus:styles" (stylus) task</strong>
<strong>File styles.css created.</strong>
</pre></div></li><li class="listitem">If we now take a look at our project directory, we should see the new <code class="literal">styles.css</code> file with the following contents:<div><pre class="programlisting">
<strong>body {</strong>
</pre></div><div><pre class="programlisting">  background-color: #fff;
  background-image: url("background.png");
  color: #000;
}</pre></div><div><h3 class="title"><a id="tip39"/>Tip</h3><p>Note that the contents of this file will probably be in a compressed state due to the <code class="literal">stylus</code> task compressing its output by default. The contents are presented uncompressed here, for the sake of readability.</p></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec100"/>There's more...</h2></div></div></div><p>The <a id="id113" class="indexterm"/>
<code class="literal">stylus</code> task <a id="id114" class="indexterm"/>provides us with several useful options <a id="id115" class="indexterm"/>that can be used in conjunction with its basic compilation feature. We'll look at how to disable compression of the resulting CSS, specify extra import paths, define global variables, enable the inclusion of imported CSS files, and add a banner to the resulting output.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec49"/>Disabling compression of the resulting CSS</h3></div></div></div><p>By default, the <a id="id116" class="indexterm"/>
<code class="literal">stylus</code> task will compress the resulting CSS by removing all white spaces. This behavior can be disabled by setting the <code class="literal">compress</code> option to <code class="literal">false</code>, as per the following example:</p><div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>compress: false</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec50"/>Specifying extra import paths</h3></div></div></div><p>In <a id="id117" class="indexterm"/>case we'd like to allow our Stylus style sheets to import style sheets other than the ones available to them via a simple relative path, we can indicate extra directories that should be scanned when importing files by using the <code class="literal">paths</code> option. The following example indicates that the <code class="literal">lib</code> directory in our project root should be included when scanning for imports:</p><div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>paths: ['lib']</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec51"/>Defining global variables</h3></div></div></div><p>By<a id="id118" class="indexterm"/> making use of the <code class="literal">define</code> option, we can define variables that should be made available to all the LESS style sheets that we target. The following example defines the <code class="literal">keyColor</code> variable that is to be available globally:</p><div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>define: {</strong>
<strong>        keyColor: '#000000'</strong>
<strong>      }</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec52"/>Enabling the inclusion of imported CSS files</h3></div></div></div><p>When <a id="id119" class="indexterm"/>using the <code class="literal">@import</code> statement in Stylus style sheets to import regular CSS files, the default behavior of the compiler is to produce a standard CSS <code class="literal">@import</code> directive that references the file. By setting the <code class="literal">'include css'</code> option to <code class="literal">true</code>, as per the following example, we can direct the compiler to actually include the specified files into the final result:</p><div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>'include css': true</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec53"/>Adding a banner to the resulting output</h3></div></div></div><p>In <a id="id120" class="indexterm"/>case we'd like to add some extra information to the beginning of our compiled style sheet, we can make use of the <code class="literal">banner</code> option. The following example adds a banner containing information about the file we're producing:</p><div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>banner: '/* Name: style.css */\n' +</strong>
<strong>        '/* Author: Grunt Wiz */\n' +</strong>
<strong>        '/* License: MIT */\n\n'</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec44"/>Compiling CoffeeScript to JavaScript</h1></div></div></div><p>In this recipe, we'll <a id="id121" class="indexterm"/>make use of the <code class="literal">contrib-coffee (0.11.0)</code> plugin to compile <strong>CoffeeScript</strong> source files to <strong>JavaScript</strong>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec101"/>Getting ready</h2></div></div></div><p>In this example, we'll <a id="id122" class="indexterm"/>work with the basic project structure we created in the <em>Installing Grunt on a project</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec102"/>How to do it...</h2></div></div></div><p>The following steps will take us through creating a simple CoffeeScript source file and compiling it to JavaScript:</p><div><ol class="orderedlist arabic"><li class="listitem">We'll start by installing the package that contains the <code class="literal">contrib-coffee</code> plugin, as per the instructions provided in the <em>Installing a plugin</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>.</li><li class="listitem">Let's create a simple CoffeeScript file called <code class="literal">main.coffee</code> in our project directory with the following contents:<div><pre class="programlisting">logic = (message) -&gt;
  console.log(message)

message = 'Functionality!'

logic(message)</pre></div></li><li class="listitem">Now, we can <a id="id123" class="indexterm"/>add the following <code class="literal">coffee</code> task to our configuration, which will compile the <code class="literal">main.coffee</code> file to the <code class="literal">main.js</code> file in our project directory:<div><pre class="programlisting">coffee: {
  main: {
    src: 'main.coffee',
    dest: 'main.js'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt coffee</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "coffee:main" (coffee) task</strong>
<strong>&gt;&gt; 1 files created.</strong>
</pre></div></li><li class="listitem">If we now <a id="id124" class="indexterm"/>take a look at our project directory, we should see the new <code class="literal">main.js</code> file with the following contents:<div><pre class="programlisting">(function() {
  var logic, message;

  logic = function(message) {
    return console.log(message);
  };

  message = 'Functionality!';

  logic(message);

}).call(this);</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec103"/>There's more...</h2></div></div></div><p>The <code class="literal">coffee</code> task<a id="id125" class="indexterm"/> provides us with several useful options that can be used in conjunction with its basic compilation feature. We'll look at how to compile without the top-level safety wrapper and concatenate multiple targets before compilation.</p><div><div><div><div><h3 class="title"><a id="ch04lvl3sec54"/>Compiling without the top-level safety wrapper</h3></div></div></div><p>By default, the CoffeeScript <a id="id126" class="indexterm"/>compiler wraps the compiled code it produces in an anonymous JavaScript function. This practice prevents the produced code from polluting the global namespace, which can cause a host of <a id="id127" class="indexterm"/>problems. This behavior can be disabled by making use of the <code class="literal">bare</code> option as per the following example:</p><div><pre class="programlisting">coffee: {
  main: {
    options: {
      <strong>bare: true</strong>
    },
    src: 'main.coffee',
    dest: 'main.js'
  }
}</pre></div></div><div><div><div><div><h3 class="title"><a id="ch04lvl3sec55"/>Concatenating multiple targets before compilation</h3></div></div></div><p>When<a id="id128" class="indexterm"/> specifying that multiple targets should be compiled into one resulting file, the default behavior is to join these files together after they were each compiled individually. With the top-level safety wrapper enabled, this would result in a file that contains the code of each compiled file, wrapped inside its own top-level function.</p><p>To join the files before compilation and have all the compiled contents in one top-level wrapper function, we can make use of the <code class="literal">join</code> option, as per the following example:</p><div><pre class="programlisting">coffee: {
  main: {
    options: {
      <strong>join: true</strong>
    },
    <strong>src: ['main.coffee', 'more.coffee'],</strong>
    dest: 'main.js'
  }
}</pre></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec45"/>Compiling LiveScript to JavaScript</h1></div></div></div><p>In this recipe, we'll <a id="id129" class="indexterm"/>make use of the <code class="literal">livescript (0.5.1)</code> plugin <a id="id130" class="indexterm"/>to compile <strong>LiveScript</strong> source files to <strong>JavaScript</strong>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec104"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure we created in the <em>Installing Grunt on a project</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec105"/>How to do it...</h2></div></div></div><p>The following <a id="id131" class="indexterm"/>steps will take us through creating a simple LiveScript source file and compiling it to JavaScript:</p><div><ol class="orderedlist arabic"><li class="listitem">We'll start by installing the package that contains the <code class="literal">contrib-livescript</code> plugin, as per the instructions provided in the <em>Installing a plugin</em> recipe in <a class="link" title="Chapter 1. Getting Started with Grunt" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Getting Started with Grunt</em>.</li><li class="listitem">Let's create a simple LiveScript file called <code class="literal">main.ls</code> in our project directory with the following contents:<div><pre class="programlisting">logic = (msg) -&gt; console.log(msg)
message = 'Functionality!'
logic message</pre></div></li><li class="listitem">Now, we can add the following <code class="literal">livescript</code> task to our configuration, which will compile the <code class="literal">main.ls</code> file to the <code class="literal">main.js</code> file in our project directory:<div><pre class="programlisting">livescript: {
  main: {
    src: 'main.ls',
    dest: 'main.js'
  }
}</pre></div></li><li class="listitem">Then, we <a id="id132" class="indexterm"/>can run the task by using the <code class="literal">grunt livescript</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "livescript:main" (livescript) task</strong>
<strong>File main.js created.</strong>
</pre></div></li><li class="listitem">If we now take a look at our project directory, we should see the new <code class="literal">main.js</code> file with the following contents:<div><pre class="programlisting">(function(){
  var logic, message;
  logic = function(msg){
    return console.log(msg);
  };
  message = 'Functionality!';
  logic(message);
}).call(this);</pre></div></li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec46"/>Generating source maps for LESS</h1></div></div></div><p>In this <a id="id133" class="indexterm"/>recipe, we'll <a id="id134" class="indexterm"/>make use of the <code class="literal">contrib-less (0.11.4)</code> plugin to generate <strong>source maps</strong> when compiling our <strong>LESS</strong> style sheets to <strong>CSS</strong>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec106"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Compiling LESS to CSS</em> recipe of this chapter. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec107"/>How to do it...</h2></div></div></div><p>The following steps will take us through compiling our LESS style sheet to a CSS file, which contains both our source map and the source style sheet:</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll indicate that we'd like to generate a source map by setting the <code class="literal">sourceMap</code> option to <code class="literal">true</code> in our <code class="literal">less</code> task's configuration:<div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>sourceMap: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Next, we'll indicate that we'd like to include the source of the generated CSS in the resulting file by setting the <code class="literal">outputSourceFiles</code> option to <code class="literal">true</code> in task's configuration:<div><pre class="programlisting">less: {
  styles: {
    options: {
      sourceMap: true,
      <strong>outputSourceFiles: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt less</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "less:styles" (less) task</strong>
<strong>File styles.css created: 99 B → 296 B</strong>
</pre></div></li><li class="listitem">If we now take a look at the generated <code class="literal">styles.css</code> file, we should see the source map and source style sheet embedded near the end of it.</li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec108"/>There's more...</h2></div></div></div><p>As seen in our <a id="id135" class="indexterm"/>main recipe, the default behavior for the <code class="literal">less</code> task is to embed the source map in the generated CSS file. This is the simplest way to both generate and consume a source map, but this method increases the size of the resulting file for all users, which in turn increases the loading time of the web application.</p><p>Most developers prefer to keep the source map and the CSS result separate, so that the average user shouldn't have to download the source map and the source file it references. This kind of setup is, however, a little bit more complex due to the fact that it requires the source maps and source files to be made available to the browser, which will make use of the CSS files produced.</p><p>The following steps <a id="id136" class="indexterm"/>take us through altering the configuration to indicate that the source map and source file should not be included in the resulting CSS file.</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll indicate that we'd like to generate a source map by setting the <code class="literal">sourceMap</code> option to <code class="literal">true</code> in our <code class="literal">less</code> task's configuration:<div><pre class="programlisting">less: {
  styles: {
    options: {
      <strong>sourceMap: true</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we'll alter the task to indicate that an external source map should be generated. This is done by specifying a name for the source map file by using the <code class="literal">sourceMapFilename</code> option:<div><pre class="programlisting">less: {
  styles: {
    options: {
      sourceMap: true,
      <strong>sourceMapFilename: 'styles.css.map'</strong>
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt less</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "less:styles" (less) task</strong>
<strong>File styles.css.map created.</strong>
<strong>File styles.css created: 99 B → 137 B</strong>
</pre></div></li><li class="listitem">If we now<a id="id137" class="indexterm"/> take a look at our project directory, we should see the <code class="literal">styles.css</code> and <code class="literal">styles.css.map</code> files. The generated style sheet should now also contain a reference to the source map file, and now the source map should also reference the <code class="literal">styles.less</code> source file.</li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec109"/>How it works...</h2></div></div></div><p>Making use of the <a id="id138" class="indexterm"/>generated source map is as simple as including the generated CSS file in a sample HTML file. We would, however, have to ensure that all the necessary files are accessible to the browser that opens the HTML file, which is taken care of in our current example due to all the files being located in the same directory. We must also ensure that the browser we use to open the HTML file provides support for the use of source maps.</p><p>The following steps take us through creating a sample HTML file, which includes the generated CSS file, and opening it in a browser that supports source maps.</p><div><ol class="orderedlist arabic"><li class="listitem">Let's create a sample HTML file, which will include the generated JavaScript source file. Let's create a file in the project directory called <code class="literal">test.html</code> with the following contents:<div><pre class="programlisting">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Less Source Map Test&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Less Source Map Test&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div></li><li class="listitem">With our sample HTML file ready, we can open it using a browser that supports source maps. For our example, we'll use Google Chrome Version 36. The <a id="id139" class="indexterm"/>following image shows the browser window with the developer's tools open and the <code class="literal">body</code> element selected for inspection.<div><img src="img/image00270.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">If we take a <a id="id140" class="indexterm"/>look at the styles inspector that is located in the developer's tools, we'll see that <code class="literal">styles.less:4</code> is being displayed as the location from which the body elements style is being derived. This indicates that our source map is working correctly.</li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec47"/>Generating source maps for Sass</h1></div></div></div><p>In this recipe, we'll<a id="id141" class="indexterm"/> make use of the <code class="literal">sass (0.12.1)</code> plugin to<a id="id142" class="indexterm"/> generate <strong>source maps</strong> when compiling our <strong>Sass</strong> style sheets to <strong>CSS</strong>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec110"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Compiling Sass to CSS</em> recipe in this chapter. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec111"/>How to do it...</h2></div></div></div><p>The following steps <a id="id143" class="indexterm"/>will take us through altering our configuration so that a source map is generated when our Sass style sheet is compiled to CSS:</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll indicate that we'd like to generate a source map by setting the <code class="literal">sourceMap</code> option to <code class="literal">true</code> in our <code class="literal">sass</code> task's configuration:<div><pre class="programlisting">sass: {
  styles: {
    options: {
      <strong>sourceMap: true</strong>
    },
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can run the task by using the <code class="literal">grunt sass</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "sass:styles" (sass) task</strong>
<strong>File styles.css created.</strong>
<strong>File styles.css.map created.</strong>
</pre></div></li><li class="listitem">If we now take a look at our project directory, we should see the <code class="literal">styles.css</code> and <code class="literal">styles.css.map</code> files. The generated style sheet should now also contain a reference to the source map file, and the source map should now also reference the <code class="literal">styles.scss</code> source file.</li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec112"/>How it works...</h2></div></div></div><p>Making use of the generated source map is as simple as including the generated CSS file in a sample HTML file. We will, however, have to ensure that all the necessary files are accessible to the browser that opens the HTML file, which is taken care of in our current example due to all <a id="id144" class="indexterm"/>the files being located in the same directory. We must also ensure that the browser we use to open the HTML file provides support for the use of source maps.</p><p>The following steps will take us through creating a sample HTML file that includes the generated CSS file and opening it in a browser that supports source maps:</p><div><ol class="orderedlist arabic"><li class="listitem">Let's create a sample HTML file called <code class="literal">test.html</code>, which will include the generated JavaScript source file, and provide it with the following contents:<div><pre class="programlisting">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Sass Source Map Test&lt;/title&gt;
    &lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Sass Source Map Test&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div></li><li class="listitem">With our <a id="id145" class="indexterm"/>sample HTML file ready, we can open it using a browser that supports source maps. For our example, we'll use Google Chrome Version 36. The following image shows the browser window with the developers tools open and the <code class="literal">body</code> element selected for inspection.<div><img src="img/image00271.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">If we take a look at the styles inspector that is located in the developer's tools, we'll see that <code class="literal">styles.scss:4</code> is being displayed as the location from where the body elements style is being derived. This indicates that our source map is working correctly.</li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec48"/>Generating source maps for CoffeeScript</h1></div></div></div><p>In this <a id="id146" class="indexterm"/>recipe, we'll <a id="id147" class="indexterm"/>make use of the <code class="literal">contrib-coffee (0.11.0)</code> plugin to generate <strong>source maps</strong> when compiling our <strong>CoffeeScript</strong> source files to <strong>JavaScript</strong>.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec113"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Compiling CoffeeScript to JavaScript</em> recipe of this chapter. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec114"/>How to do it...</h2></div></div></div><p>The following steps<a id="id148" class="indexterm"/> will take us through altering our configuration to generate a source map when compiling our CoffeeScript source files to JavaScript:</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll indicate that we'd like to generate a source map by setting the <code class="literal">sourceMap</code> option to <code class="literal">true</code> in our <code class="literal">coffee</code> task's configuration:<div><pre class="programlisting">sass: {
  styles: {
    options: {
      <strong>sourceMap: true</strong>
    },
    src: 'styles.scss',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we<a id="id149" class="indexterm"/> can run the task by using the <code class="literal">grunt coffee</code> command, which should produce output similar to the following:<div><pre class="programlisting">
<strong>Running "coffee:main" (coffee) task</strong>
<strong>&gt;&gt; 1 files created.</strong>
<strong>&gt;&gt; 1 source map files created.</strong>
</pre></div></li><li class="listitem">If we now take a look at our project directory, we should see the <code class="literal">main.js</code> and <code class="literal">main.js.map</code> files. The generated JavaScript source file should now also contain a reference to the source map file, and the source map should now also reference the <code class="literal">main.coffee</code> source file.</li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec115"/>How it works...</h2></div></div></div><p>Making use of the generated source map is as simple as including the generated CSS file in a sample HTML file. We will, however, have to ensure that all the necessary files are accessible to the browser that opens the HTML file, which is taken care of in our current example due to all the files being located in the same directory. We must also ensure that the browser we use to open the HTML file provides support for the use of source maps.</p><p>The following steps take us through creating a sample HTML file that includes the generated JavaScript file and opening the HTML file in a browser that supports source maps:</p><div><ol class="orderedlist arabic"><li class="listitem">Let's create a sample HTML file called <code class="literal">test.html</code>, which will include the generated JavaScript source file, and provide it with the following contents:<div><pre class="programlisting">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;CoffeeScript Source Map Test&lt;/title&gt;
    &lt;script type="text/javascript" src="img/main.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;CoffeeScript Source Map Test&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div></li><li class="listitem">With our<a id="id150" class="indexterm"/> sample HTML file ready, we can open it using a browser that supports source maps. For <a id="id151" class="indexterm"/>our example, we'll use Google Chrome Version 36. The following image shows the browser window with the developer's tools open:<div><img src="img/image00272.jpeg" alt="How it works..."/></div><p style="clear:both; height: 1em;"> </p><div><h3 class="title"><a id="tip40"/>Tip</h3><p>You may have to refresh the browser after opening the developer's tools in order to see the appropriate console output discussed in the next step.</p></div></li><li class="listitem">If we take a <a id="id152" class="indexterm"/>look at the output in the console <a id="id153" class="indexterm"/>located in the developer's tools, we'll see that <code class="literal">main.coffee:2</code> is being displayed as the location from where the <code class="literal">'Functionality!'</code> string is being logged. This indicates that our source map is working correctly.</li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec49"/>Defining custom functions with LESS</h1></div></div></div><p>In this recipe, we'll <a id="id154" class="indexterm"/>make use of the <code class="literal">contrib-less (0.11.4)</code> plugin to define custom functions that can be used in our <strong>LESS</strong> style sheets.</p><p>For our example, we'll <a id="id155" class="indexterm"/>create a custom function called <code class="literal">halfDarken</code>, which will darken any color provided to it by 50 percent. It will make use of the LESS library's built-in <code class="literal">darken</code> function.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec116"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Compiling LESS to CSS</em> recipe of this chapter. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec117"/>How to do it...</h2></div></div></div><p>The following steps will take us through altering our configuration to define a custom function, and altering our LESS style sheet to use it:</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll alter the configuration of our <code class="literal">less</code> task by adding the <code class="literal">customFunctions</code> option and defining a stub for the <code class="literal">halfDarker</code> function:<div><pre class="programlisting">less: {
  styles: {
    options: {
      customFunctions: {
        <strong>halfDarken: function (less, color) {</strong>
<strong>          return color;</strong>
<strong>        }</strong>
      }
    },
    src: 'styles.less',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">Then, we can add some logic for the <code class="literal">halfDarken</code> function that darkens the provided color by 50 percent and returns the result:<div><pre class="programlisting">halfDarken: function (less, color) {
  functions = less.tree.functions;
  return functions.darken(color, {value:50});
}</pre></div></li><li class="listitem">Once we've got the function defined, we can alter our <code class="literal">styles.less</code> file to make use of it:<div><pre class="programlisting">@first: #ffffff;
@second: #000000;

body {
  <strong>background-color: halfDarken(@first);</strong>
  color: @second;
}</pre></div></li><li class="listitem">We<a id="id156" class="indexterm"/> can<a id="id157" class="indexterm"/> now run our task by using the <code class="literal">grunt less</code> command, which should produce the following output:<div><pre class="programlisting">Running "less:styles" (less) task
File styles.css created: 0 B → 56 B</pre></div></li><li class="listitem">If we now take a look inside the resulting <code class="literal">styles.css</code> file, we can see that the <code class="literal">halfDarken</code> function has made the color that was provided to it 50 percent darker:<div><pre class="programlisting">body {
  background-color: #808080;
  color: #000000;
}</pre></div></li></ol><div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch04lvl1sec50"/>Using Stylus plugins</h1></div></div></div><p>In this recipe, we'll<a id="id158" class="indexterm"/> make use of the <code class="literal">contrib-stylus (0.18.0)</code> plugin to compile <strong>Stylus</strong> style sheets that make use of one of the Stylus libraries provided by the developer community.</p><div><h3 class="title"><a id="tip41"/>Tip</h3><p>A partial list of the <a id="id159" class="indexterm"/>plugins available for the Stylus framework can be found at the following URL:</p><p><a class="ulink" href="https://github.com/LearnBoost/stylus/wiki">https://github.com/LearnBoost/stylus/wiki</a></p></div><p>For our example, we'll make use of the <strong>axis</strong> library<a id="id160" class="indexterm"/> that comes packaged with the <a id="id161" class="indexterm"/>
<strong>Roots</strong> platform. It provides a host of useful functions, mixins, and other utilities that you'll be sure to make use of in your day-to-day style sheet development.</p><div><div><div><div><h2 class="title"><a id="ch04lvl2sec118"/>Getting ready</h2></div></div></div><p>In this example, we'll work with the basic project structure that we created in the <em>Compiling Stylus to CSS</em> recipe of this chapter. Be sure to refer to it if you are not yet familiar with its contents.</p></div><div><div><div><div><h2 class="title"><a id="ch04lvl2sec119"/>How to do it...</h2></div></div></div><p>The following steps<a id="id162" class="indexterm"/> will take us through altering our configuration in order to provide our style sheets with access to the axis library:</p><div><ol class="orderedlist arabic"><li class="listitem">First, we'll need to install the <code class="literal">axis-css</code> package on our local project path, using the <code class="literal">npm install --save axis-css</code> command. This should produce output that contains the following:<div><pre class="programlisting">axis-css@0.1.8 node_modules/axis-css</pre></div></li><li class="listitem">With the library now installed, we can alter the configuration of the <code class="literal">stylus</code> task in such a way that the library is loaded before the target style sheets are compiled. This is done with the <code class="literal">use</code> option that accepts an array of imported libraries that are prepared to be used as Stylus plugins. The following configuration uses this option to load the <code class="literal">axis-css</code> plugin:<div><pre class="programlisting">stylus: {
  styles: {
    options: {
      <strong>use: [</strong>
<strong>        require('axis-css')</strong>
<strong>      ]</strong>
    },
    src: 'styles.styl',
    dest: 'styles.css'
  }
}</pre></div></li><li class="listitem">As a test, we can now also make use of a feature provided by the axis library in our sample style sheet. Let's alter the contents of <code class="literal">main.styl</code> to include the special <code class="literal">absolute</code> property provided by the library:<div><pre class="programlisting">first = #ffffff
second = #000000

body
  <strong>absolute: top left</strong>
  background-color: first
  color: second</pre></div></li><li class="listitem">We can now test our setup by running the <code class="literal">grunt stylus</code> command, which should produce output similar to the following:<div><pre class="programlisting">Running "stylus:styles" (stylus) task
File styles.css created.</pre></div></li><li class="listitem">If we take a<a id="id163" class="indexterm"/> look inside the generated <code class="literal">main.css</code> file, we'll now see that it contains positional properties that were generated by the axis library's <code class="literal">absolute</code> property:<div><pre class="programlisting">body {
  <strong>position: absolute;</strong>
<strong>  top: 0;</strong>
<strong>  left: 0;</strong>
  background-color: #fff;
  color: #000;
}</pre></div><div><h3 class="title"><a id="tip42"/>Tip</h3><p>Note that the contents of this file will probably be in a compressed state due to the stylus task compressing its output by default. The contents are presented uncompressed here for the sake of readability.</p></div></li></ol><div></div></div></div></body></html>