<html><head></head><body>
        

                            
                    <h1 class="header-title">Creating Your Personal Portfolio with Elm</h1>
                
            
            
                
<p>Welcome to <a href="a0913cd7-9a18-4111-8d7a-7f39f0f2a07a.xhtml">Chapter 3</a>, <em>Creating Your Personal Portfolio with Elm</em>. The goal of this chapter is to create a simple personal portfolio website in Elm.</p>
<p>The topics we will cover include:</p>
<ul>
<li>Understanding Type Aliases</li>
<li>Discussing the Model, View, Message, Update workflow in detail (a detailed look into the Elm Architecture)</li>
<li>Mapping and filtering Lists of values with <kbd>List.map</kbd> and <kbd>List.filter</kbd></li>
<li>Using elm-make-app</li>
<li>Adding Bootstrap 4 styles to our app</li>
<li>Working with the <kbd>HTML</kbd> module in Elm</li>
<li>Understanding function signatures for HTML elements</li>
<li>Modularizing our app by splitting the views into multiple files</li>
<li>Using case expressions to dynamically render sections of a web page</li>
<li>Improving our <em>FizzBuzz</em> app using <kbd>List.map</kbd> and <kbd>String.concat</kbd></li>
</ul>
<p>After completing this chapter, you will be able to:</p>
<ul>
<li>Work with type aliases in Elm</li>
<li>Know how to use the Elm architecture</li>
<li>Be able to manipulate Lists in Elm with <kbd>List.map</kbd> and <kbd>List.filter</kbd></li>
<li>Build Elm apps with elm-make-app</li>
<li>Modularize Elm apps into multiple files
<ul>
<li>Use <kbd>case</kbd> expressions for dynamic updates to your Elm-powered web pages</li>
</ul>
</li>
<li>Add custom styles to your Elm apps</li>
</ul>


            

            
        
    

        

                            
                    <h1 class="header-title">Creating our portfolio with elm-make-app</h1>
                
            
            
                
<p>To start this chapter, let's remember that in <a href="7ac82686-ac2c-4001-94b1-8006f6691fdc.xhtml">Chapter 1</a>, <em>Why Is This a Great Time to Learn Elm?</em>, we have set up a workflow with the Atom editor. The beauty of this setup is in the fact that, although complicated, once the setup is complete, we have all the additional Elm tools at our disposal.</p>
<p>To follow the instructions in this chapter, it's not absolutely necessary to use the said Atom setup, but it would make it easier to work with our <em>Portfolio</em> app. Alternatively, you can use any editor as these steps will still work, but in that case you'd be working without the linter and the syntax highlighter.</p>
<p>Thus, to start, let's create a folder for our new project using the console. For example, we can point our bash to Desktop, and make a new folder there:</p>
<pre><strong>mkdir chapter3</strong></pre>
<p>Next, let's change the directory to <kbd>chapter3</kbd> by using the following command in our console: <kbd>cd chapter3</kbd>.</p>
<p>In <a href="7ac82686-ac2c-4001-94b1-8006f6691fdc.xhtml">Chapter 1</a>, <em>Why Is This a Great Time to Learn Elm?</em>, we discussed several ways to create a new Elm app. One of them was using the <kbd>create-elm-app</kbd> npm package. If you don't already have the package installed, refer back to <a href="7ac82686-ac2c-4001-94b1-8006f6691fdc.xhtml">Chapter 1</a>, <em>Why Is This a Great Time to Learn Elm?</em>, to make sure you've set everything up correctly.</p>
<p>Using the <kbd>create-elm-app</kbd> npm package, let's create a new Elm app, called <kbd>my-portfolio</kbd>:</p>
<pre><strong>create-elm-app my-portfolio</strong></pre>
<p>The console will print out the result of running the preceding command, as follows:</p>
<pre><strong>Creating my-portfolio project...</strong><br/><br/><strong>Starting downloads...</strong><br/><br/><strong>  ● elm-lang/HTML 2.0.0</strong><br/><strong>  ● elm-lang/virtual-dom 2.0.4</strong><br/><strong>  ● elm-lang/core 5.1.1</strong><br/><br/><strong>Packages configured successfully!</strong><br/><br/><strong>Project is successfully created in `C:\Users\PC\Desktop\chapter3\my-portfolio`.</strong><br/><br/><strong>Inside that directory, you can run several commands:</strong><br/><br/><strong>  elm-app start</strong><br/><strong>    Starts the development server.</strong><br/><br/><strong>  elm-app build</strong><br/><strong>    Bundles the app into static files for production.</strong><br/><br/><strong>  elm-app test</strong><br/><strong>    Starts the test runner.</strong><br/><br/><strong>  elm-app eject</strong><br/><strong>    Removes this tool and copies build dependencies, configuration files</strong><br/><strong>    and scripts into the app directory. If you do this, you can’t go back!</strong><br/><br/><strong>We suggest that you begin by typing:</strong><br/><br/><strong>  cd my-portfolio</strong><br/><strong>  elm-app start</strong></pre>
<p>Once your new Elm app is created, open the <kbd>my-portfolio</kbd> folder in the Atom editor.</p>
<p>From the Atom editor, twirl-open the <kbd>src</kbd> folder, and open the <kbd>Main.elm</kbd> file. Delete the existing code, and paste in the following code:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, text)<br/><br/>main : HTML msg<br/>main =<br/>    HTML.h1 [] <br/>       [ text "My Portfolio" ]</pre>
<p>Alternatively, you could import the <kbd>h1</kbd> function directly, and change the <kbd>main</kbd> function accordingly, as follows:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, h1, text)<br/><br/>main : HTML msg<br/>main =<br/>    h1 [] <br/>       [ text "My Portfolio" ]</pre>
<p>The difference between the above two examples is in the functions that we are importing. If we don't import the <kbd>h1</kbd> function, we need to use <kbd>HTML.h1</kbd>.</p>
<p>Finally, using your console, <kbd>cd</kbd> into the <kbd>my-portfolio</kbd> folder and run the following command:</p>
<pre><strong>elm-app start</strong></pre>
<p>Running the preceding command will open your default browser with the URL of <kbd>localhost:3000</kbd>. On the page that opens, you'll see a nicely formatted <kbd>h1</kbd> heading: <em>My Portfolio</em>. In the next section, we'll give our site some more content.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Building a static single-page portfolio</h1>
                
            
            
                
<p>We are building a simple single-page site to showcase a writer's portfolio. This should be a fun little exercise in which we will understand how to actually build websites with Elm. At the same time, we have removed a level of complexity as our site will consist almost entirely of text. Of course, as we progress with Elm, we will introduce more concepts, but for now, we'll stick with the basics.</p>
<p>Let's expand our site by adding a few more sections to our home page. We will begin by making an error. The following code will not work:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, div, h1, text) <br/>-- NOTE: we imported the 'div' function here so we can use it below<br/><br/>main : HTML msg<br/>main =<br/>    h1 []<br/>        [ text "My Portfolio" ]<br/>        div<br/>        []<br/>        [ text "Just a bunch of text here " ]</pre>
<p>We'll get the following error when we save the preceding code:</p>
<pre><strong>Function `h1` is expecting 2 arguments, but was given 5.</strong><br/><br/><strong> 8| h1 []</strong><br/><strong> 9| [ text "My Portfolio" ]</strong><br/><strong>10|&gt; div</strong><br/><strong>11|&gt; []</strong><br/><strong>12|&gt; [ text "Just a bunch of text here " ]</strong><br/><br/><strong>Maybe you forgot some parentheses? Or a comma?</strong><br/><br/><strong>Detected errors in 1 module.</strong></pre>
<p>To resolve the issue, we need to structure the code we pass to the <kbd>main</kbd> function a bit differently. Basically, we need to have a wrapping HTML element for all our HTML. We'll wrap everything we pass to <kbd>main</kbd> inside the wrapping <kbd>div</kbd> function:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, div, h1, text)<br/><br/><br/>main : HTML msg<br/>main =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , div [] [ text "Just a bunch of text here " ]<br/>        ]</pre>
<p>Now, we can add to our portfolio using a number of other elements. To make them all available, we will expose everything inside the <kbd>HTML</kbd> module. The updated code will now look like this:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/><br/><br/>main : HTML msg<br/>main =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , div []<br/>            [ ul []<br/>                [ li [] [ text "About Me" ]<br/>                , li [] [ text "Poems" ]<br/>                , li [] [ text "Stories" ]<br/>                , li [] [ text "Contact" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>At this time, you might start to appreciate the work that <kbd>elm-format</kbd> does for us. No matter how bad our formatting of Elm code is, it will fix it for us on every save. </p>
<p>Before going any further, let's add a CSS framework to our single-page site. For this example, we will be using the most recent version of the Bootstrap framework, namely Bootstrap 4. In order to obtain the link to the CSS of the framework, navigate to the following web page: <a href="https://getbootstrap.com/docs/4.0/getting-started/introduction/?#css">https://getbootstrap.com/docs/4.0/getting-started/introduction/?#css</a>.<a href="https://getbootstrap.com/docs/4.0/getting-started/introduction/?#css"/></p>
<p>The preceding link points to an HTML <kbd>link</kbd> element that serves Bootstrap 4 from a <strong>Content Delivery Network</strong> (<strong>CDN</strong>).  There is even a handy <kbd>copy</kbd> button on the right-hand side. Once you copy the link, navigate to the <kbd>public</kbd> folder of your project, and paste in the copied <kbd>link</kbd> tag in the <kbd>index.HTML</kbd> file. The place to paste in the <kbd>link</kbd> tag is just above the <kbd>title</kbd> tag, inside the <kbd>head</kbd> of the document. The mentioned section of our <kbd>index.HTML</kbd> file should look like this after the update:</p>
<pre>    &lt;link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico"&gt;<br/>    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous"&gt;<br/>    &lt;title&gt;Elm App&lt;/title&gt;<br/>&lt;/head&gt;</pre>
<p>Once that is done, save the <kbd>index.HTML</kbd> file and close it. Back in <kbd>Main.elm</kbd>, we need to import the <kbd>HTML.Attributes</kbd> module. We also need to specify the CSS classes to use. We'll begin by adding the <kbd>.card</kbd> class to the <kbd>div</kbd> that wraps the <kbd>ul</kbd> tag.</p>
<p>The updated code should look like this:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/><br/><br/>main : HTML msg<br/>main =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , div [ class "card" ]<br/>            [ ul []<br/>                [ li [] [ text "About Me" ]<br/>                , li [] [ text "Poems" ]<br/>                , li [] [ text "Stories" ]<br/>                , li [] [ text "Contact" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>After this update to our code, you will see a slight change to the <kbd>ul</kbd> element in our page. Let's take it a step further by passing several Bootstrap 4 CSS classes to our <kbd>div</kbd>. To do that, we'll simply replace this code:</p>
<pre>, div [ class "card" ]</pre>
<p>Now, let's change the preceding line by adding the following code:</p>
<pre>, div [ class "card text-white bg-primary mb-3" ]</pre>
<p>After saving <kbd>Main.elm</kbd>, you should see a nice blue background on the <kbd>ul</kbd> element, with the <kbd>li</kbd> items colored white.</p>
<p>However, we are using the wrong kind of Bootstrap component. We are using a card, but it would be much more suitable to use the <kbd>nav</kbd> component, available at <a href="https://getbootstrap.com/docs/4.0/components/navs/#horizontal-alignment">https://getbootstrap.com/docs/4.0/components/navs/#horizontal-alignment</a>, with the following HTML code:</p>
<pre>&lt;ul class="nav justify-content-center"&gt;<br/>  &lt;li class="nav-item"&gt;<br/>    &lt;a class="nav-link active" href="#"&gt;Active&lt;/a&gt;<br/>  &lt;/li&gt;<br/>  &lt;li class="nav-item"&gt;<br/>    &lt;a class="nav-link" href="#"&gt;Link&lt;/a&gt;<br/>  &lt;/li&gt;<br/>  &lt;li class="nav-item"&gt;<br/>    &lt;a class="nav-link" href="#"&gt;Link&lt;/a&gt;<br/>  &lt;/li&gt;<br/>  &lt;li class="nav-item"&gt;<br/>    &lt;a class="nav-link disabled" href="#"&gt;Disabled&lt;/a&gt;<br/>  &lt;/li&gt;<br/>&lt;/ul&gt; </pre>
<p>However, the preceding code is plain HTML, and we need to turn it into Elm code.</p>
<p>It is a nice exercise to try to convert the aforementioned HTML code to Elm code by yourself. However, there is an online converter available at: <a href="http://mbylstra.github.io/html-to-elm/">http://mbylstra.github.io/HTML-to-elm/</a>. We can simply paste in the HTML code to the left pane of the provided URL.</p>
<p>The code we get back, in the right pane, will look like this:</p>
<pre>ul [ class "nav justify-content-center" ]<br/>    [ li [ class "nav-item" ]<br/>        [ a [ class "nav-link active", href "#" ]<br/>            [ text "Active" ]<br/>        ]<br/>    , li [ class "nav-item" ]<br/>        [ a [ class "nav-link", href "#" ]<br/>            [ text "Link" ]<br/>        ]<br/>    , li [ class "nav-item" ]<br/>        [ a [ class "nav-link", href "#" ]<br/>            [ text "Link" ]<br/>        ]<br/>    , li [ class "nav-item" ]<br/>        [ a [ class "nav-link disabled", href "#" ]<br/>            [ text "Disabled" ]<br/>        ]<br/>    ]</pre>
<p>Now, we can simply paste in the preceding code in place of the child <kbd>div</kbd> we had earlier. The complete code will now look like this:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/><br/><br/>main : HTML msg<br/>main =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , ul [ class "nav justify-content-center" ]<br/>            [ li [ class "nav-item" ]<br/>                [ a [ class "nav-link active", href "#" ]<br/>                    [ text "Active" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link", href "#" ]<br/>                    [ text "Link" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link", href "#" ]<br/>                    [ text "Link" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link disabled", href "#" ]<br/>                    [ text "Disabled" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>Before we continue, we'll have to do some housekeeping and explain a few other important concepts.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">HTML for Elm</h1>
                
            
            
                
<p>Up to this point in our journey through Elm, we have not referred to the official docs in any meaningful manner. In this section, we will focus on the official documentation and look at the practical ways it can help us.</p>
<p>To start, navigate to the official README for the HTML Elm package, available at:<br/>
 <a href="http://package.elm-lang.org/packages/elm-lang/html/2.0.0/">http://package.elm-lang.org/packages/elm-lang/HTML/2.0.0/</a>. As it says on the website, the page we have opened describes the core HTML library for Elm. At the current stage of our learning, the best way to grow our Elm skills is to look at the actual HTML package, available at: <a href="http://package.elm-lang.org/packages/elm-lang/html/2.0.0/Html">http://package.elm-lang.org/packages/elm-lang/HTML/2.0.0/HTML</a>.</p>
<p>Specifically, we will look at the type definitions of all the HTML functions we have used in this chapter: <kbd>div</kbd>, <kbd>h1</kbd>, <kbd>text</kbd>, <kbd>p</kbd>, <kbd>ul</kbd>, <kbd>li</kbd>, and <kbd>a</kbd>. Being able to grasp the signatures of functions we use in our programs fully will make it that much easier to reason about them. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Function signatures for HTML elements</h1>
                
            
            
                
<p>All HTML elements share the same function signature pattern:</p>
<pre>&lt;element&gt; : List (Attribute msg) -&gt; List (HTML msg) -&gt; HTML msg</pre>
<p>Every HTML element takes in two lists: a List of Attributes and a List of Children elements. Then, they return an <kbd>HTML msg</kbd>. If the value returned from a function does not emit a message, that code will return the<em> </em><kbd>msg</kbd> type.</p>
<p>In other words, every element returns a <em>value</em> of <em>HTML</em>. This <em>HTML value</em> is of type <kbd>msg</kbd>, because they end up as plain HTML nodes and they will not (cannot!) change our app's state. </p>
<p>That's why it is perfectly possible to just keep writing Elm's HTML functions in our <kbd>main</kbd> function and never add the <kbd>view</kbd> or <kbd>update</kbd>, and still have a working web page. It is possible because we are rendering our code without any messages, so effectively, there is <em>never</em> going to be anything to update, and thus, we can do without the <kbd>update</kbd> function. That's why we can replace the implicit type of <kbd>msg</kbd> with <kbd>a</kbd>: </p>
<pre>main : HTML a</pre>
<p>By convention, <kbd>a</kbd> stands for <kbd>anything</kbd>. Since the <kbd>main</kbd> function will <em>never</em> return a message, we can be more explicit about it, and have the following code as the function signature:</p>
<pre>main : HTML Never</pre>
<p>Now, we are explicitly declaring that we will <em>never</em> return a message. The Type of <kbd>Never</kbd> cannot ever be constructed.</p>
<p>Being able to grasp the signatures of functions we use in our programs fully will make it that much easier to reason about them. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Function signature for text function</h1>
                
            
            
                
<p>The text function's signature, as we can see in the official documentation, is as follows:</p>
<pre>text : String -&gt; HTML msg</pre>
<p>Thus, the <kbd>text</kbd> function takes a <kbd>String</kbd> and returns an <kbd>HTML msg</kbd>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Adding our view function</h1>
                
            
            
                
<p>In this section, we will take out our <kbd>view</kbd> code from directly passing it to the <kbd>main</kbd> function, and instead assign it to the <kbd>view</kbd> function, which will then be passed to the <kbd>main</kbd> function. This way, we are beginning to make our code more modular and reusable.</p>
<p>First, in our portfolio app, let's rename the <kbd>main</kbd> function to <kbd>view</kbd> function:</p>
<pre>view : HTML Never<br/>view =</pre>
<p>Next, at the very bottom of the file, we can simply add an updated <kbd>main</kbd> function:</p>
<pre>main : HTML Never<br/>main =<br/>    view</pre>
<p>A nice thing about this setup is that we can now pass our entire <kbd>view</kbd> to a wrapping <kbd>div</kbd>, for example, like this:</p>
<pre>main : HTML Never<br/>main =<br/>    div [] [ view ]</pre>
<p>We can also begin to make our <kbd>view</kbd> even more modular and reusable by calling it from another file. </p>


            

            
        
    

        

                            
                    <h1 class="header-title">Calling the view function from another file</h1>
                
            
            
                
<p>To begin, let's make a new folder inside the <kbd>src</kbd> folder of our project. Inside your console, from the root of your project, run the following command:</p>
<pre><strong>cd src &amp;&amp; mkdir View</strong> </pre>
<p>Next, <kbd>cd</kbd> into <kbd>View</kbd> and create a new <kbd>View.elm</kbd> file by using the touch command.  If you have the <kbd>atom</kbd> command available in your console, you can open the <kbd>View.elm</kbd> file right from your command line:</p>
<pre><strong>cd View &amp;&amp; touch View.elm &amp;&amp; atom View.elm</strong></pre>
<p>What does the preceding command do? It navigates to the <kbd>View</kbd> folder via command line, then creates a new file called <kbd>View.elm</kbd>, and then opens it in <em>Atom</em>. You don't have to use the command line at all—you can complete these actions using the graphical user interface of your operating system.</p>
<p>Because we are now putting our <kbd>view</kbd> function in a separate file, we will effectively use the view function as an Elm module. Since we will be using our <kbd>View.elm</kbd> file as a module, we need to be explicit about all the <kbd>HTML</kbd> functions we will use, similar to how it works in the original <kbd>Main.elm</kbd> file. Thus, our <kbd>View.elm</kbd> code needs to look like this:</p>
<pre>module View.View exposing (view)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/><br/><br/>view : HTML Never<br/>view =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , ul [ class "nav justify-content-center" ]<br/>            [ li [ class "nav-item" ]<br/>                [ a [ class "nav-link active", href "#" ]<br/>                    [ text "Active" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link", href "#" ]<br/>                    [ text "Link" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link", href "#" ]<br/>                    [ text "Link" ]<br/>                ]<br/>            , li [ class "nav-item" ]<br/>                [ a [ class "nav-link disabled", href "#" ]<br/>                    [ text "Disabled" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>Next, let's update our <kbd>Main.elm</kbd> file, so that it looks like this:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import View.View exposing (..)<br/><br/><br/>
main : HTML Never<br/>main =<br/>    div [] [ view ]</pre>
<p>Save everything and the app will still work, although with a warning from our linter, saying:</p>
<pre>Module HTML.Attributes is unused.<br/>Best to remove it. Don't save code quality for later!</pre>
<p>Basically, what's happened here is that we are importing <kbd>HTML.Attributes exposing (..)</kbd> in our <kbd>Main.elm</kbd>, but we are not using it at all. There are several ways we can deal with this. For example, we can simply pass only the <kbd>view</kbd> function to the <kbd>main</kbd> function. Or, we could add a class of, for example, <kbd>bg-warning</kbd> to our <kbd>div</kbd>:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import View.View exposing (..)<br/><br/><br/>main : HTML Never<br/>main =<br/>    div [ class "bg-warning" ] [ view ]</pre>
<p>Feel free to try out other solutions to solve this warning, as it is a useful little exercise.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Adding some style</h1>
                
            
            
                
<p>To continue, let's make an intentional error. If you've seen the result of using the <kbd>bg-warning</kbd> class on our <em>Portfolio</em> app, you'll see that it looks like an orange stripe, and everything else below is just plain old white. Let's say we'd like to increase the height of our wrapping <kbd>div</kbd>, so that it covers the height of 1,000 pixels, thus coloring everything orange. To achieve this in vanilla HTML, we could use the <kbd>style</kbd> attribute. Let's do that with Elm.</p>
<p>Without knowing the signature of the <kbd>style</kbd> function that Elm uses, let's just try to solve it without looking at the docs:</p>
<pre>main : HTML Never<br/>main =<br/>    div [ class "bg-warning", style "height:1000px" ] [ view ]</pre>
<p>As you've probably guessed, saving the preceding code results in an error. Let's look at the linter message we get in Atom:</p>
<pre>The argument to function style is causing a mismatch.<br/>Function style is expecting the argument to be:<br/>List(String,String)<br/>But it is:<br/>String</pre>
<p>Great! Now, we know how we need to change our <kbd>style</kbd> function. It needs to take one or more pairs of <kbd>Strings</kbd>, in parentheses, just like the compiler said previously. So, we'll update our function like this:</p>
<pre>main : HTML Never<br/>main =<br/>    div [ class "bg-warning", style [("height","1000px")] ] [ view ]</pre>
<p>Now, everything works again, and the height of our orange background has increased. Even better, to make sure that our screen is completely orange, let's update the style again:</p>
<pre>main : HTML Never<br/>main =<br/>    div [ class "bg-warning", style [("height","100vh")] ] [ view ]</pre>
<p>Instead of using pixels, we are using <kbd>100vh</kbd>, that is, 100 viewport height, which translates to the full height of the screen. In the next section, we will make our view even more modular, by splitting it into multiple files.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Splitting the view into multiple files</h1>
                
            
            
                
<p>In this section, we will split our view into multiple files. We will also add additional content to it, so that when we are finished, we have a complete single-page site. </p>
<p>To begin, let's think about what part of our view code we can split into a separate file. It's obvious that the <kbd>ul</kbd> function is a separate chunk of code, so let's turn it into a module. In your <kbd>View</kbd> folder, open a new file and call it <kbd>Navigation.elm</kbd>. Next, paste in the following code:</p>
<pre>module View.Navigation exposing (navigation)<br/><br/>import HTML exposing (HTML, a, li, text, ul)<br/>import HTML.Attributes exposing (class, href)<br/><br/><br/>navigation : HTML Never<br/>navigation =<br/>    ul [ class "nav justify-content-center" ]<br/>        [ li [ class "nav-item" ]<br/>            [ a [ class "nav-link active", href "#" ]<br/>                [ text "Active" ]<br/>            ]<br/>        , li [ class "nav-item" ]<br/>            [ a [ class "nav-link", href "#" ]<br/>                [ text "Link" ]<br/>            ]<br/>        , li [ class "nav-item" ]<br/>            [ a [ class "nav-link", href "#" ]<br/>                [ text "Link" ]<br/>            ]<br/>        , li [ class "nav-item" ]<br/>            [ a [ class "nav-link disabled", href "#" ]<br/>                [ text "Disabled" ]<br/>            ]<br/>        ]</pre>
<p>We have just built a new module called <kbd>View.Navigation</kbd>. Save the file, and go back to <kbd>View.elm</kbd>, where we will import this new module.</p>
<p>Back in <kbd>View.elm</kbd>, our updated code will look like this:</p>
<pre>module View.View exposing (view)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import View.Navigation exposing (..)<br/><br/><br/>view : HTML Never<br/>view =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , navigation<br/>        ]</pre>
<p>Notice the change in this version of <kbd>View.elm</kbd>—we have imported the <kbd>View.Navigation</kbd> module, exposing everything, and we have also put the navigation function in place of the modularized <kbd>ul [] []</kbd> code.</p>
<p>We can follow this pattern to build up our entire page. The next thing that our page needs to have is a couple of poems.</p>
<p>To add them, we will use the Bootstrap 4 <kbd>card</kbd> component. Thus, let's make a new file in our <kbd>View</kbd> folder, call it <kbd>Poem.elm</kbd>, and add this code to it:</p>
<pre>module View.Poem exposing (poem)<br/><br/>import HTML exposing (HTML, div, h4, p, small, text)<br/>import HTML.Attributes exposing (class)<br/><br/><br/>poem : HTML Never<br/>poem =<br/>    div [ class "card" ]<br/>        [ div [ class "card-header" ]<br/>            [ text "Summer poetry collection " ]<br/>        , div [ class "card-block" ]<br/>            [ h4 [ class "card-title" ]<br/>                [ text "Title of Poem" ]<br/>            , p [ class "card-text" ]<br/>                [ text "Lorem ipsum." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Dolor." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Sit amet." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Consectetur." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Adipiscing elit." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Adipiscing elit." ]<br/>            , p [ class "card-text" ]<br/>                [ small [ class "text-muted" ]<br/>                    [ text "Last updated 3 mins ago" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>Next, import the Poem module inside the <kbd>View.elm</kbd> file:</p>
<pre>module View.View exposing (view)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import View.Navigation exposing (..)<br/>import View.Poem exposing (..)<br/><br/><br/>view : HTML Never<br/>view =<br/>    div []<br/>        [ h1 [] [ text "My Portfolio" ]<br/>        , p [] [ text "Just Another Writer's Portfolio" ]<br/>        , navigation<br/>        , poem<br/>        ]</pre>
<p>If you look at the website right now, you will see that the poem is stretching the entire width of the screen, which is not the best possible look. Let's wrap the poem inside a container, <kbd>div</kbd>, by updating our <kbd>View.elm</kbd> file:</p>
<pre>view : HTML Never<br/>view =<br/>    div [ class "container-fluid" ]<br/>        [ div [ class "container" ]<br/>            [ h1 [] [ text "My Portfolio" ]<br/>            , p [] [ text "Just Another Writer's Portfolio" ]<br/>            , navigation<br/>            , poem<br/>            ]<br/>        ]</pre>
<p>Let's also change our code so that we can fit more than one card on a single row. We'll do that by adding another default Bootstrap 4 class, <kbd>row</kbd>. Inside the <kbd>row</kbd>, we'll add three columns of equal widths. To do this, we'll update the <kbd>View.elm</kbd> file as follows:</p>
<pre>view : HTML Never<br/>view =<br/>    div [ class "container-fluid" ]<br/>        [ div [ class "container" ]<br/>            [ h1 [] [ text "My Portfolio" ]<br/>            , p [] [ text "Just Another Writer's Portfolio" ]<br/>            , navigation<br/>            , div [ class "row" ]<br/>                [ div [ class "col" ]<br/>                    [ poem ]<br/>                , div [ class "col" ]<br/>                    [ poem ]<br/>                , div [ class "col" ]<br/>                    [ poem ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>If you followed all the steps correctly up to this point, you should see the following web page in your browser:</p>
<div><img src="img/ca7b8d1c-8fa3-4d7a-b07b-922bb29041e7.png" style="width:44.42em;height:20.42em;"/></div>
<p>Now, we are fitting three cards nicely on a single row on our page. Before we continue building our page, it's time to make it better looking. Back in <kbd>Main.elm</kbd>, let's erase the <kbd>class</kbd> function, and add another CSS declaration to the <kbd>style</kbd> function:</p>
<pre>main : HTML Never<br/>main =<br/>    div [ style [ ( "height", "100vh" ), ( "background", "#eee" ) ] ] [ view ]</pre>
<p>This will give our page a much calmer, light gray background. </p>
<p>The <kbd>style</kbd> function takes a <em>List of 2-element tuples</em>. In the preceding example, the List consists of <em>two 2-element tuples</em>, where each element in the tuple is of type <em>String</em>. Thus, the first tuple is <kbd>("height", "100vh")</kbd>, and the second one is <kbd>("background", "#eee")</kbd>.</p>
<p>In the next section, we will finish our page by adding the remaining <kbd>view</kbd> files.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Completing our Writer's portfolio</h1>
                
            
            
                
<p>In this section, we will finish our Writer's portfolio. Before we continue, let's list what it is that we still need to add.</p>
<p>As we mentioned at the beginning of the chapter, the completed portfolio should have these sections:</p>
<ul>
<li>About Me</li>
<li>Poems</li>
<li>Stories</li>
<li>Contact</li>
</ul>
<p>We have completed the Poems section. Now, let's add the remaining sections. As we already know how this is done, let's batch our processes to speed up development. </p>
<p>First, inside the <kbd>View</kbd> folder, let's create three new files:</p>
<ul>
<li><kbd>About.elm</kbd></li>
<li><kbd>Stories.elm</kbd></li>
<li><kbd>Contact.elm</kbd></li>
</ul>
<p>Next, let's import all of these into <kbd>View.elm</kbd>:</p>
<pre>module View.View exposing (view)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import View.Navigation exposing (..)<br/>import View.About exposing (..)<br/>import View.Poem exposing (..)<br/>import View.Stories exposing (..)<br/>import View.Contact exposing (..)</pre>
<p>Next, let's add some content to each of the files we just made. First, the <kbd>About.elm</kbd> file:</p>
<pre>module View.About exposing (about)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (class, href)<br/><br/><br/>about : HTML Never<br/>about =<br/>    div [ class "" ]<br/>        [ h1 [ class "display-2 mt-5" ]<br/>            [ text "John Doe" ]<br/>        , h3 [ class "display-5" ]<br/>            [ text "A man of words" ]<br/>        , p [ class "" ]<br/>            [ text "Etiam in libero gravida, viverra ex eu, vehicula leo. Vestibulum eget elementum velit. Fusce viverra erat quis felis auctor, id consequat augue sollicitudin. Vivamus accumsan mi metus, vitae lacinia metus aliquet ornare. Curabitur interdum scelerisque varius. Nullam consequat imperdiet massa eget eleifend." ]<br/>        ]</pre>
<p>Next, let's update the <kbd>Stories.elm</kbd> file:</p>
<pre>module View.Stories exposing (stories)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (class, href)<br/><br/><br/>stories : HTML Never<br/>stories =<br/>    div [ class "" ]<br/>        [ h1 [ class "display-2 mt-5" ]<br/>            [ text "Stories" ]<br/>        , h3 [ class "display-5" ]<br/>            [ text "A List of My stories" ]<br/>        , p [ class "" ]<br/>            [ text "Etiam in libero gravida, viverra ex eu, vehicula leo. Vestibulum eget elementum velit. Fusce viverra erat quis felis auctor, id consequat augue sollicitudin. Vivamus accumsan mi metus, vitae lacinia metus aliquet ornare. Curabitur interdum scelerisque varius. Nullam consequat imperdiet massa eget eleifend." ]<br/>        ]</pre>
<p>Also, let's update the <kbd>Contact.elm</kbd> file:</p>
<pre>module View.Contact exposing (contact)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (class, href)<br/><br/><br/>contact : HTML Never<br/>contact =<br/>    div [ class "card" ]<br/>        [ div [ class "card-header" ]<br/>            [ text "Summer poetry collection " ]<br/>        , div [ class "card-block" ]<br/>            [ h4 [ class "card-title" ]<br/>                [ text "Title of Poem" ]<br/>            , p [ class "card-text" ]<br/>                [ text "Lorem ipsum." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Dolor." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Sit amet." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Consectetur." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Adipiscing elit." ]<br/>            , p [ class "card-text" ]<br/>                [ text "Adipiscing elit." ]<br/>            , p [ class "card-text" ]<br/>                [ small [ class "text-muted" ]<br/>                    [ text "Last updated 3 mins ago" ]<br/>                ]<br/>            ]<br/>        ]</pre>
<p>We'll also need to update the <kbd>View.elm</kbd> file:</p>
<pre>view : HTML Never<br/>view =<br/>    div [ class "container-fluid" ]<br/>        [ div [ class "container" ]<br/>            [ h1 [] [ text "My Portfolio" ]<br/>            , p [] [ text "Just Another Writer's Portfolio" ]<br/>            , navigation<br/>            , about<br/>            , div [ class "row" ]<br/>                [ div [ class "col-md-4 mb-5" ]<br/>                    [ poem ]<br/>                , div [ class "col-md-4 mb-5" ]<br/>                    [ poem ]<br/>                , div [ class "col-md-4 mb-5" ]<br/>                    [ poem ]<br/>                ]<br/>            , stories<br/>            , contact<br/>            ]<br/>        ]</pre>
<p>Finally, let's update the <kbd>Main.elm</kbd> file too:</p>
<pre>main : HTML Never<br/>main =<br/>    div [ class "bg-light" ]<br/>        [ view ]</pre>
<p>Our Elm-powered website should, at this point, look like this:</p>
<div><img src="img/c35e7f33-149b-43ac-a9ca-92b10f53e591.png"/></div>
<p>We have made a number of updates in the aforementioned files. Although all of these updates deal with concepts we have already covered in this book, writing out the preceding code in our app is a great way to reinforce what we've learned before moving on to more advanced topics.</p>
<p>In the preceding code, one point of possible confusion could be the use of various Bootstrap 4 classes. For more information about these classes, please refer to the official documentation for Bootstrap 4, or to a number of titles in the Packt library that cover Bootstrap 4 in detail.</p>
<p>Now that all our files are complete, let's save everything and look at the result. There are many ways in which we could have improved our <em>Portfolio</em> app. For example, we still need to give it a working navigation. Unfortunately, at this point of our journey into Elm, adding navigation to our web page would require being familiar with a number of relatively complex topics, which would only create confusion. That's why we'll leave our static page as it is. </p>
<p>If you would like to experiment with changing things up in the portfolio for the sake of practice, remember that you can use the HTML to Elm website at <a href="https://mbylstra.github.io/html-to-elm/">https://mbylstra.github.io/HTML-to-elm/</a>, which should make things both faster and easier.</p>
<p>In the section that follows, rather than prematurely getting into more advanced concepts to build a complex navigation solution, we'll look at a simple alternative. This alternative will deal with using case expressions to display different sections of our static page on the screen. The advantage of this approach is that we'll reinforce how all the working parts of the Elm architecture fit together.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Rendering sections of our page using case expressions</h1>
                
            
            
                
<p>We will start this section from scratch. Create a new folder and run the following command on it: <kbd>create-elm-app alternative-to-navigation</kbd>. Once the app is ready, navigate to the <kbd>alternative-to-navigation</kbd> folder, open <kbd>Main.elm</kbd> in <kbd>src</kbd>, and erase all the code. Add the following code to <kbd>Main.elm</kbd>. The following code works as is, so feel free to save it and run the app:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import HTML.Events exposing (onClick)<br/><br/>model =<br/>    ""<br/><br/>type Msg<br/>    = FirstButtonMessage<br/>    | SecondButtonMessage<br/>    | ThirdButtonMessage<br/>    | FourthButtonMessage<br/><br/><br/>update msg model =<br/>    case msg of<br/>        FirstButtonMessage -&gt;<br/>            "You've clicked the first button!"<br/><br/>        SecondButtonMessage -&gt;<br/>            "You've clicked the second button!"<br/><br/>        ThirdButtonMessage -&gt;<br/>            "You've clicked the third button!"<br/><br/>        FourthButtonMessage -&gt;<br/>            "You've clicked the fourth button!"<br/><br/><br/>view model =<br/>    div []<br/>        [ h1 [ class "display-4 mt-5" ] [ text "My Portfolio" ]<br/>        , div [ class "container" ]<br/>            [ h2 [ class "strong" ] [ text "Just Another Writer's Portfolio" ]<br/>            , hr [] []<br/>            , div [ class "mt-5" ]<br/>                [ button<br/>                    [ class "btn btn-primary mr-1", onClick FirstButtonMessage ]<br/>                    [ text "First Button" ]<br/>                , button<br/>                    [ class "btn btn-primary", onClick SecondButtonMessage ]<br/>                    [ text "Second Button" ]<br/>                , button<br/>                    [ class "btn btn-primary", onClick ThirdButtonMessage ]<br/>                    [ text "3rd Button" ]<br/>                , button<br/>                    [ class "btn btn-primary", onClick FourthButtonMessage ]<br/>                    [ text "4th Button" ]<br/>                , p [ class "mt-5 lead" ] [ text model ]<br/>                ]<br/>            ]<br/>        ]<br/><br/><br/>main =<br/>    HTML.beginnerProgram<br/>        { model = model<br/>        , view = view<br/>        , update = update<br/>        }</pre>
<p>Before we can improve the preceding code, we first need to make sure that we understand it. As we previously discussed, the first five lines deal with importing modules that we will be using in our application. Next, we set the <kbd>model</kbd> to the value of an empty string.</p>
<p>We follow this up by creating a union type of <kbd>Msg</kbd>, which can equate to only one of four values: <kbd>FirstButtonMessage</kbd>, <kbd>SecondButtonMessage</kbd>, and so on. Why the verbose <kbd>Msg</kbd> value names? Because we want to make it absolutely clear that the <kbd>Msg</kbd> union type holds messages. These messages will be emitted to the <kbd>update</kbd> function once a user clicks one of the buttons.</p>
<p>Next, we write our <kbd>update</kbd> function, which takes a <kbd>message</kbd> and a <kbd>model</kbd>.</p>
<p>Reminder: The first parameter of the <kbd>update</kbd> function is the name of the <kbd>case</kbd> expression inside the update function.</p>
<p>Then, we pass it a <kbd>case</kbd> expression, which will execute one of the four pieces of code based on what message it received. So, if the <kbd>update</kbd> function receives the message which we aptly named <kbd>FirstButtonMessage</kbd>, the case expression will evaluate to the <kbd>You've clicked the first button!</kbd> string.</p>
<p>Next, our <kbd>view</kbd> function takes in a <kbd>model</kbd>, and we pass it a <kbd>div</kbd> function, which holds an <kbd>h1</kbd> and a <kbd>div</kbd> with the class of <kbd>container</kbd>. In turn, this wrapping <kbd>div</kbd> holds an <kbd>h2</kbd>, an <kbd>hr</kbd>, and another <kbd>div</kbd>, which holds four buttons and a <kbd>p</kbd> function.</p>
<p>Each button's attributes list takes two attributes; the first one is the class to use on the button, and the second one is the <kbd>onClick</kbd> event. Each <kbd>onClick</kbd> event will emit a different message, ready to be accepted and used by the <kbd>update</kbd> function.</p>
<p>Finally, the <kbd>main</kbd> function takes in <kbd>HTML.beginnerProgram</kbd>, which was explained in <a href="c80584ff-97c8-411b-8ec3-a4b122121579.xhtml">Chapter 2</a>, <em>Building Your First Elm App</em>. Now that we understand just what the preceding code is doing, we can improve it a bit.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Improving our messages</h1>
                
            
            
                
<p>To begin this section, let's look at the completed code, with all the improvements made to it, and after that, we'll discuss the changes made to the code:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (..)<br/>import HTML.Attributes exposing (..)<br/>import HTML.Events exposing (onClick)<br/><br/><br/>model : String<br/>model =<br/>    ""<br/><br/><br/>type Msg<br/>    = FirstButtonMessage<br/>    | SecondButtonMessage<br/>    | ThirdButtonMessage<br/>    | FourthButtonMessage<br/><br/><br/>update : Msg -&gt; a -&gt; String<br/>update msg model =<br/>    case msg of<br/>        FirstButtonMessage -&gt;<br/>            """<br/>             You've clicked the "About Me" button! \n<br/><br/>             I'm a successful writer.<br/><br/>             """<br/><br/>        SecondButtonMessage -&gt;<br/>            """<br/>             You've clicked the "My Poems" button!<br/><br/>             I've written over 50 poems in the last 10 years.<br/><br/>             """<br/><br/>        ThirdButtonMessage -&gt;<br/>            """<br/>             You've clicked the "My Stories" button!<br/><br/>             I've written a short story in the sci-fi genre<br/>             and it won the Nebula award.<br/><br/>             """<br/><br/>        FourthButtonMessage -&gt;<br/>            """<br/>             You've clicked the "Contact Me" button!<br/><br/>             To get in touch, send me an email.<br/>             My email address is: me@example.com<br/><br/>             """<br/><br/><br/>view : String -&gt; HTML Msg<br/>view model =<br/>    div []<br/>        [ h1 [ class "display-4 mt-5" ] [ text "My Portfolio" ]<br/>        , div [ class "container" ]<br/>            [ h2 [ class "strong" ] [ text "Just Another Writer's Portfolio" ]<br/>            , hr [] []<br/>            , div [ class "mt-5" ]<br/>                [ button<br/>                    [ class "btn btn-primary mr-1", onClick FirstButtonMessage ]<br/>                    [ text "About Me" ]<br/>                , button<br/>                    [ class "btn btn-primary mr-1", onClick SecondButtonMessage ]<br/>                    [ text "My Poems" ]<br/>                , button<br/>                    [ class "btn btn-primary mr-1", onClick ThirdButtonMessage ]<br/>                    [ text "My Stories" ]<br/>                , button<br/>                    [ class "btn btn-primary mr-1" <br/>                    , style [( "cursor", "pointer" )]<br/>                    , onClick FourthButtonMessage <br/>                    ]<br/>                    [ text "Contact Me" ]<br/>                , p [ class "mt-5 lead" ] [ text model ]<br/>                ]<br/>            ]<br/>        ]<br/><br/><br/>main : Program Never String Msg<br/>main =<br/>    HTML.beginnerProgram<br/>        { model = model<br/>        , view = view<br/>        , update = update<br/>        }<br/><br/></pre>
<p>In this iteration of our app, the focus was on improving the messages. Basically, we wanted each message to have some meaningful text, and in order to do that, we used multiline strings, which start and finish with three sets of double quotes.</p>
<p>While that makes it easier for us to see all the text that was typed, it does not give us a flexible way to style our strings better, since, as you can see in the preceding code, multiline quotes in Elm cannot be broken onto the next line by using the <kbd>newline</kbd> character.</p>
<p>Another change that we made involved adding a <kbd>style</kbd> function on the fourth button so that when a user hovers over the button, it displays a pointer instead of the regular cursor. This improvement makes it more obvious that the button is clickable. </p>
<p>Another improvement that we made was giving type annotations to each of our functions so that we can see that the <kbd>model</kbd> function takes a <kbd>String</kbd>. The <kbd>update</kbd> function takes a <kbd>message</kbd> and a <kbd>model</kbd> (which can be anything) and returns a <kbd>String</kbd>. The <kbd>view</kbd> function takes a <kbd>String</kbd> and returns an HTML <kbd>Msg</kbd>, which is our own custom union type, as discussed before.</p>
<p>With the updated <em>Portfolio</em> app being served in our browser, upon clicking the first button on the navigation, the About Me button, we will get the following output:</p>
<div><img src="img/34adbf52-37b4-43d9-ae05-9f76b83bb548.png"/></div>
<p>Clicking other buttons will swiftly change what we see on the screen.</p>
<p>If you cannot see the styles, make sure to add the Bootstrap 4 CDN link to <kbd>public/index.HTML</kbd> (just like we did for the <em>Portfolio</em> app):<br/>
<br/>
<pre>    &lt;link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico"&gt;<br/>    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous"&gt;<br/>    &lt;title&gt;Elm App&lt;/title&gt;<br/>&lt;/head&gt;</pre></p>
<p>Next, we'll improve our portfolio just a bit more, by adding a type alias of <kbd>Model</kbd>.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Adding the type alias of Model</h1>
                
            
            
                
<p>By adding a type alias for our Model, we'll make it easier to change our Model from something other than <kbd>String</kbd>, if we ever decide to do so, which makes our code more maintainable.</p>
<p>Just under the module imports, at line 8 of our app, add this snippet of code:</p>
<pre>type alias Model =<br/>    String</pre>
<p>Next, let's update type annotations throughout the app:</p>
<pre>model : Model<br/>model =<br/>...<br/><br/>update : Msg -&gt; Model -&gt; String<br/>update msg model =<br/>...<br/><br/>view : Model -&gt; HTML Msg<br/>view model =<br/>...</pre>
<p>It's obvious what we are doing in the code: we are aliasing the value of <kbd>String</kbd> with the type alias <kbd>Model</kbd>. It is very important to understand this and commit it to memory since this simple example shows exactly what type alias does and how it works.</p>
<p>Making these changes, we can now see an interesting pattern: the <kbd>update</kbd> function's type annotation uses the <kbd>Msg</kbd>, with the capital <kbd>M</kbd>, while we pass it the <kbd>msg</kbd>, with the small <kbd>m</kbd>, since it's the first argument.</p>
<p>Similarly, we are passing the <kbd>model</kbd> with the small letter m to our <kbd>view</kbd>, but in our <kbd>view</kbd> function's type annotation, we are referencing the <kbd>Model</kbd> with the capital letter M.</p>
<p>What's going on here? The explanation is simple. We can think of the lowercase instances as simply generic labels, which can be anything. For example, consider the following changes to our code.</p>
<p>First, let's replace the existing update function's <kbd>msg</kbd> with this:</p>
<pre>update a model =<br/>    case a of</pre>
<p>Next, let's replace the existing <kbd>view</kbd> function's <kbd>model</kbd> with <kbd>a</kbd>,  as follows:</p>
<pre>view a =<br/>...<br/>                , p [ class "mt-5 lead" ] [ text a ]<br/>                ]<br/>            ]<br/>        ]<br/><br/></pre>
<p>The fact that we replaced both <kbd>msg</kbd> and <kbd>model</kbd> with the more generic <kbd>a</kbd> in the preceding code, and did not break it, is great. The compiler happily performs its duties, and we still have a working app.</p>
<p>Type alias is used to make it easier to read complex type annotations. Also, type annotations are capitalized by default, and so are union types. Thus, both the <kbd>Model</kbd> and the <kbd>Msg</kbd> are capitalized in our code, and we cannot change them.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with List.map and List.filter</h1>
                
            
            
                
<p>As discussed in previous chapters, Elm works with immutable data structures. How do we then use the existing immutable data structure to find its members that satisfy only a certain condition or to produce different values based on existing values?</p>
<p>To achieve these two goals, we can use the <kbd>map</kbd> and <kbd>filter</kbd> functions. To keep things simple, we'll look at the <kbd>List.map</kbd> and <kbd>List.filter</kbd> functions, although <kbd>.map</kbd> and <kbd>.filter</kbd> can also be used with some other data structures in Elm.</p>
<p>Let's say our goal is to take a <kbd>List</kbd> of <kbd>numbers</kbd> and find only those that are divisible by 3. To begin, let's define a function that will take an <kbd>Int</kbd> and return a <kbd>Boolean</kbd> (either <kbd>True</kbd> or <kbd>False</kbd>), based on whether the number given to the function is divisible by 3. Navigate to <a href="http://elmrepl.cuberoot.in/">elmrepl.cuberoot.in</a>, and type the following function definition:</p>
<pre><strong>findThrees num = num % 3 == 0</strong></pre>
<p>Upon pressing the return key, the Elm REPL will return the following:</p>
<pre><strong>&lt;function&gt; : Int -&gt; Bool</strong></pre>
<p>Our <kbd>findThrees</kbd> function takes an <kbd>Int</kbd> and returns a <kbd>Boolean</kbd>. Put differently, the expression <kbd>num % 3 == 0</kbd> is evaluated first. Let's say that <kbd>num</kbd> is <kbd>3</kbd>, making the expression look like this: <kbd>3 % 3 == 0</kbd>. This expression is true, and thus the expression evaluates to the value of <kbd>True</kbd>, which is of type <kbd>Boolean</kbd>. Next, this value is assigned to the <kbd>findThrees</kbd> function. </p>
<p>In other words, if we call the <kbd>findThrees</kbd> function and give it number 3 as its parameter, the <kbd>findThrees</kbd> function will return the value of <kbd>True</kbd>, which is of type <kbd>Boolean</kbd>.  </p>
<p>Next, let's give our <kbd>findThrees</kbd> function to our <kbd>List.map</kbd>. The following code will not work. Try to guess why before reading the explanation:</p>
<pre><strong>List.map findThrees 3</strong></pre>
<p>If you ran the preceding code in the REPL, you'd get the following error:</p>
<pre><strong>-- TYPE MISMATCH --------------------------------------------- repl-temp-000.elm</strong><br/><strong>The 2nd argument to function `map` is causing a mismatch.</strong><br/><strong>3| List.map findThrees 3</strong><br/><strong> ^</strong><br/><strong>Function `map` is expecting the 2nd argument to be:</strong><br/><strong>List Int</strong><br/><strong>But it is:</strong><br/><strong>number</strong></pre>
<p>Obviously, we can't give just a number as the second argument of the <kbd>List.map</kbd> function. Instead, to make this work, we need to give it a <kbd>List</kbd> of <kbd>numbers</kbd>. Like this:</p>
<pre><strong>List.map findThrees [1,2]</strong></pre>
<p>This time, success! REPL returns the following:</p>
<pre><strong>[False, False] : List Bool</strong></pre>
<p>Let's try giving it a List of three numbers:</p>
<pre><strong>List.map findThrees [1,2,3]</strong></pre>
<p>This time, REPL returns:</p>
<pre><strong>[False,False,True] : List Bool</strong></pre>
<p>Next, let's type a List of 10 numbers, and store it in a variable:  </p>
<pre><strong>ourList = [1,2,3,4,5,6,7,8,9,10]</strong></pre>
<p>Running the preceding code in the REPL will return:</p>
<pre><strong>[1,2,3,4,5,6,7,8,9] : List number</strong></pre>
<p>Looking at the preceding code, we can say that a <kbd>List</kbd> of numbers is stored in a variable we called <kbd>ourList</kbd>. Now, let's give the <kbd>findThrees</kbd> function to the <kbd>List.map</kbd> function, and pass the <kbd>ourList</kbd> as the second argument:</p>
<pre><strong>List.map findThrees ourList</strong></pre>
<p>REPL returns a List of <kbd>Bool</kbd> values:</p>
<pre><strong>[False,False,True,False,False,True,False,False,True,False] : List Bool</strong></pre>
<p>Finally, let's try to replace <kbd>List.map</kbd> with <kbd>List.filter</kbd>:</p>
<pre><strong>List.filter findThrees ourList</strong></pre>
<p>REPL returns a filter of <kbd>ourList</kbd>:</p>
<pre><strong>[3,6,9] : List Int</strong></pre>
<p>Now that we have practiced using <kbd>List.map</kbd> a little bit, let's look at its anatomy. <kbd>List.map</kbd> takes two arguments, the first one being a function, and the second one being the actual <kbd>List</kbd>.</p>
<p>The function that is passed as the first argument to <kbd>List.map</kbd> is used to convert the second argument (the <kbd>List</kbd>) to a new <kbd>List</kbd>, based on the logic in the function. <kbd>List.map</kbd> does that by running the function we give it over each single member of the <kbd>List</kbd> provided. This behavior of <kbd>List.map</kbd> makes it a great candidate for improving our <em>FizzBuzz</em> app, which we will do in the next section.</p>
<p>For now, let's run a <kbd>List.map</kbd> in our Elm-REPL. In order to be able to run <kbd>List.map</kbd>, we need to define a function it will use. So, let's open Elm-REPL and define our custom <kbd>fizzBuzzer</kbd> function:</p>
<pre><strong>fizzBuzzer number = \</strong><br/><strong>    if number % 15 == 0 then \</strong><br/><strong>        "fizzBuzz" \</strong><br/><strong>    else if number % 5 == 0 then \</strong><br/><strong>        "fizz" \</strong><br/><strong>    else if number % 3 == 0 then \</strong><br/><strong>        "buzz" \</strong><br/><strong>    else \</strong><br/><strong>        toString number</strong></pre>
<p>The REPL gives us back the following:</p>
<pre><strong>&lt;function&gt; : Int -&gt; String</strong></pre>
<p>Now, we can map over our <kbd>List</kbd> with the help of <kbd>fizzBuzzer</kbd> and <kbd>List.map</kbd>:</p>
<pre><strong>List.map fizzBuzzer [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17 ]</strong></pre>
<p>What we get back in the REPL is this:</p>
<pre><strong>["1","2","buzz","4","fizz","buzz","7","8","buzz","fizz","11","buzz","13","14","fizzBuzz","16","17"]</strong><br/><strong>    : List String</strong></pre>
<p>Feel free to play with various combinations of the building blocks we discussed previously. In the next section, we will revisit our <em>FizzBuzz</em> app and apply some of the things we learned in practice.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Revisiting the FizzBuzz app</h1>
                
            
            
                
<p>We have covered a lot of ground in <a href="a0913cd7-9a18-4111-8d7a-7f39f0f2a07a.xhtml">Chapter 3</a>, <em>Creating Your Personal Portfolio with Elm</em>. Can we use our newfound knowledge to make a better implementation of the <em>FizzBuzz</em> app? Let's find out!</p>
<p>Let's begin with the <em>FizzBuzz</em> app as it was in <a href="c80584ff-97c8-411b-8ec3-a4b122121579.xhtml">Chapter 2</a>, <em>Building Your First Elm App</em>:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (text)<br/><br/>fizzBuzz = "Fizz Buzz"<br/>fizz = "Fizz"<br/>buzz = "Buzz"<br/><br/>fizzBuzzInput value = <br/>    if value % 15 == 0 then<br/>        fizzBuzz<br/>    else if value % 3 == 0 then<br/>        fizz<br/>    else if value % 5 == 0 then<br/>        buzz<br/>    else (toString value)<br/><br/>main =<br/>    text (fizzBuzzInput 34567)</pre>
<p>How can we go about improving the preceding code?</p>
<p>First, we can implement our <em>FizzBuzz</em> app as a <kbd>beginnerProgram</kbd>. We can also replace the <kbd>if</kbd> expressions with a <kbd>case</kbd> expression. Finally, we can introduce buttons and style everything nicely.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Implementing FizzBuzz with List.map</h1>
                
            
            
                
<p>Let's first list out the completed, improved <kbd>FizzBuzz</kbd> app:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, text)<br/><br/>ourList = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]<br/><br/>fizzBuzzCheck fizz buzz fizzBuzz num =<br/>    if num % 15 == 0 then<br/>         toString fizzBuzz ++ ", "<br/>     else if num % 5 == 0 then<br/>         toString buzz ++ ", "<br/>     else if num % 3 == 0 then<br/>         toString fizz ++ ", " <br/>     else <br/>         (toString num) ++ ", "<br/><br/>main =<br/> text (String.concat (List.map (fizzBuzzCheck "fizz" "buzz" "fizz buzz") ourList ) )</pre>
<p>Before we start discussing what's going on in the preceding code, let's quickly update the <kbd>main</kbd> function using the forward function application operator, <kbd>|&gt;</kbd>:</p>
<pre>module Main exposing (main)<br/><br/>import HTML exposing (HTML, text)<br/><br/>ourList = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]<br/><br/>fizzBuzzCheck fizz buzz fizzBuzz num =<br/>    if num % 15 == 0 then<br/>         toString fizzBuzz ++ ", "<br/>     else if num % 5 == 0 then<br/>         toString buzz ++ ", "<br/>     else if num % 3 == 0 then<br/>         toString fizz ++ ", " <br/>     else <br/>         (toString num) ++ ", "<br/><br/>main =<br/> List.map (fizzBuzzCheck "fizz" "buzz" "fizz buzz") ourList<br/> |&gt; String.concat<br/> |&gt; text</pre>
<p>Seeing the <kbd>main</kbd> function written in this different notation might make it simpler to understand what is happening in the preceding code. After importing the <kbd>Main</kbd> and <kbd>HTML</kbd> modules, we declare the <kbd>ourList</kbd> variable and the <kbd>fizzBuzzCheck</kbd> function definition.</p>
<p>As we can see, the <kbd>fizzBuzzCheck</kbd> function takes four parameters and returns a value of type <kbd>String</kbd>.</p>
<p>The <kbd>main</kbd> function maps <kbd>ourList</kbd> based on the logic in the <kbd>fizzBuzzCheck</kbd> function, then we use the <kbd>String.concat</kbd> function to take that <kbd>List</kbd> of <kbd>Strings</kbd> that the <kbd>List.map</kbd> produced, and turn it into a single <kbd>String</kbd>, because the <kbd>text</kbd> function receives a single <kbd>String</kbd> value as its parameter.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>In this chapter, we have covered a number of important topics, namely:</p>
<ul>
<li>Using elm-make-app</li>
<li>Adding Bootstrap 4 styles to our app</li>
<li>Working with the <kbd>HTML</kbd> module in Elm, and understanding function signatures for HTML elements</li>
<li>Modularizing our app by splitting the views into multiple files</li>
<li>Using case expressions to render sections of a web page dynamically</li>
<li>Working with type aliases</li>
<li>Mapping and filtering Lists of values</li>
<li>Improving our <em>FizzBuzz</em> app using <kbd>List.map</kbd> and <kbd>String.concat</kbd></li>
</ul>
<p>In the next chapter, we will start using <kbd>Records</kbd> for our <kbd>model</kbd> and <kbd>update</kbd> functions as we begin building our unit conversion website. We will also learn about <em>let</em> expressions and how to use them, and we will wrap everything up by using a third-party Elm module for the first time in our code.</p>
<p> </p>
<p> </p>


            

            
        
    </body></html>