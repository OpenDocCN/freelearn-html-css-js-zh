- en: Chapter 5. StealJS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章. StealJS
- en: '**StealJS** is an independent code manager and packaging tool, which allows
    us to load JavaScript and other file types into an application, concatenate multiple
    JavaScript or CSS files, and compress their content. StealJS provides cross-browser
    message logging, code generators, and a simple package management tool.'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**StealJS**是一个独立的代码管理和打包工具，它允许我们将JavaScript和其他文件类型加载到应用程序中，连接多个JavaScript或CSS文件，并压缩其内容。StealJS提供跨浏览器消息日志、代码生成器和简单的包管理工具。'
- en: In this chapter, we will go through all the StealJS features.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍StealJS的所有功能。
- en: Note
  id: totrans-3
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: StealJS requires Java 1.6 or greater.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: StealJS需要Java 1.6或更高版本。
- en: Dependency management
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 依赖管理
- en: '**Dependency management** is a tool, which provides an organized way for managing
    software components to work together as a one system.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**依赖管理**是一个工具，它提供了一种有组织的方式来管理软件组件协同工作作为一个单一系统。'
- en: 'The following are a few StealJS key features:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些StealJS的关键特性：
- en: Loading individual files only once
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只加载单个文件一次
- en: Loading files from different domains
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从不同领域加载文件
- en: Loading JavaScript and CoffeeScript
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载JavaScript和CoffeeScript
- en: Loading CSS less
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加载CSS less
- en: We have used StealJS many times in the previous chapters. Let's have a closer
    look at it now.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在前面章节中多次使用了StealJS。现在让我们更详细地看看它。
- en: 'Using StealJS, we can load files as follows:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 使用StealJS，我们可以按如下方式加载文件：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'These files are loaded in parallel and in a random order. If `file_two` has
    dependences in `file_one`, we can wait for `file_one` before starting to fetch
    `file_two`, as follows:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这些文件并行且随机顺序加载。如果`file_two`在`file_one`中有依赖，我们可以在开始获取`file_two`之前等待`file_one`，如下所示：
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Logger
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 记录器
- en: '`steal.dev` provides two logging functions similar to the popular `console.log()`
    function, and automatically removes them from the production build.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '`steal.dev`提供了两个类似于流行`console.log()`函数的日志功能，并自动从生产构建中移除它们。'
- en: 'We can use it as follows:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以这样使用它：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Note
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: All logs are removed from the production build.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 所有日志都从生产构建中移除。
- en: Code cleaner
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 代码清理器
- en: '`steal.clean` beautifies the JavaScript code and checks it using the **JSLint**
    code quality tool:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`steal.clean`美化JavaScript代码，并使用**JSLint**代码质量工具进行检查：'
- en: '[http://www.jslint.com](http://www.jslint.com)'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://www.jslint.com](http://www.jslint.com)'
- en: '[http://jsbeautifier.org](http://jsbeautifier.org)'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[http://jsbeautifier.org](http://jsbeautifier.org)'
- en: 'We can use the `cleanjs` command to beautify the code in one file:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用`cleanjs`命令来美化单个文件中的代码：
- en: '[PRE3]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Or all files in our project:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 或者我们项目中的所有文件：
- en: '[PRE4]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'To run our code against JSLint, add the `-jslint true` parameter:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 要对JSLint运行我们的代码，请添加`-jslint true`参数：
- en: '[PRE5]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We can ignore the files from being cleaned by adding a comment similar to the
    following:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过添加类似以下注释来忽略文件被清理：
- en: '[PRE6]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Concatenation and compression
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接和压缩
- en: '`steal.build` compresses and concatenates CSS and JavaScript files into a single
    or several files. It uses the Google Closure compressor by default.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`steal.build`将CSS和JavaScript文件压缩和连接到单个或多个文件中。默认情况下，它使用Google Closure compressor。'
- en: Since it opens the applications in Envjs, it can be run against applications
    that don't use StealJS.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 由于它通过Envjs打开应用程序，它可以针对不使用StealJS的应用程序运行。
- en: 'To make production-ready files of our `Todo` application, we can run the following
    command:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 要制作我们的`Todo`应用程序的生产就绪文件，我们可以运行以下命令：
- en: '[PRE7]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'We can run the script against a URL:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以对URL运行脚本：
- en: '[PRE8]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Summary
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we learned how to load files into the project, used cross-browser
    logging systems that are removed in production build, cleaned the code and made
    a production-ready application.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了如何将文件加载到项目中，使用了在生产构建中移除的跨浏览器日志系统，清理了代码并制作了一个生产就绪的应用程序。
