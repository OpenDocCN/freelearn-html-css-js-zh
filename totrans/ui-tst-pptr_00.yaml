- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Puppeteer is a multi-purpose browser automation tool created by Google. You
    will see Puppeteer being used in many different ways. It's used for web scraping,
    task automation, content generation, web monitoring, and UI testing.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Puppeteer 是由 Google 开发的一款多用途浏览器自动化工具。你将看到 Puppeteer 以多种不同的方式被使用。它被用于网页抓取、任务自动化、内容生成、网页监控和
    UI 测试。
- en: This book focuses on UI testing, but we won't stop there. For instance, we have
    a chapter focused on content generation and another chapter that focuses on web
    scraping. If you read this book from cover to cover, you will be able to use Puppeteer
    in all fields.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书专注于 UI 测试，但不会止步于此。例如，我们有一章专注于内容生成，另一章则专注于网页抓取。如果你从头到尾阅读这本书，你将能够将 Puppeteer
    应用于所有领域。
- en: 'When I found that there was no book about Puppeteer available on the market,
    that really motivated me: I wanted this book to cover the entire Puppeteer API.
    By the end of this book, you''ll have learned about the whole Puppeteer API.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 当我发现市场上没有关于 Puppeteer 的书籍时，这真的激励了我：我想这本书要涵盖整个 Puppeteer API。到本书结束时，你将了解整个 Puppeteer
    API。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书面向的对象
- en: If you are a quality assurance professional looking for a better and more modern
    tool to do your job, this is the book for you.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是一位寻求更好、更现代的工具来完成工作的质量保证专业人士，这本书就是为你准备的。
- en: These days, UI testing is not only for the QA team. There is a new wave of frontend
    developers looking for tools to test their UI components. If you are a web developer
    using JavaScript and Node.js in your daily job and you want to test your UI components,
    this book is also for you.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，UI 测试不仅限于 QA 团队。有一股新的前端开发者浪潮正在寻找测试他们 UI 组件的工具。如果你是一位在日常工作中使用 JavaScript 和
    Node.js 的网页开发者，并且你想测试你的 UI 组件，这本书也适合你。
- en: Web developers will also learn from this book how to use browser automation
    tools to automate tasks such as taking screenshots, generating PDF files, or doing
    web scraping.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 网页开发者也将从本书中学到如何使用浏览器自动化工具来自动化截图、生成 PDF 文件或进行网页抓取等任务。
- en: What this book covers
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[*Chapter 1*](B16113_01_Final_SK_ePub.xhtml#_idTextAnchor014), *Getting started
    with Puppeteer*, lays the foundation for the book. It will help you get started
    with Puppeteer by introducing you to the tool and getting you acquainted with
    the essentials. You will also learn how to write async code in JavaScript.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 1 章*](B16113_01_Final_SK_ePub.xhtml#_idTextAnchor014)，*开始使用 Puppeteer*，为本书奠定了基础。它将通过介绍这个工具并让你熟悉基本知识来帮助你开始使用
    Puppeteer。你还将学习如何在 JavaScript 中编写异步代码。'
- en: '[*Chapter 2*](B16113_02_Final_SK_ePub.xhtml#_idTextAnchor038), *Automated Testing
    and Test runners*, covers end-to-end testing fundamentals and the difference between
    different types of tests. In the latter part of the chapter, we will cover creating
    and organizing a test project and getting started with test runners.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 2 章*](B16113_02_Final_SK_ePub.xhtml#_idTextAnchor038)，*自动化测试和测试运行器*，涵盖了端到端测试的基础知识和不同类型测试之间的区别。在章节的后半部分，我们将介绍创建和组织测试项目以及开始使用测试运行器。'
- en: '[*Chapter 3*](B16113_03_Final_SK_ePub.xhtml#_idTextAnchor050), *Navigating
    through a website*, sees you start coding your tests. You will learn how to launch
    a browser, navigate to a page, and make some assertions. Then, you will see how
    to publish your tests to the cloud to be tested.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 3 章*](B16113_03_Final_SK_ePub.xhtml#_idTextAnchor050)，*浏览网站*，将带你开始编写测试代码。你将学习如何启动浏览器，导航到页面，并进行一些断言。然后，你将了解如何将测试发布到云端进行测试。'
- en: '[*Chapter 4*](B16113_04_Final_SK_ePub.xhtml#_idTextAnchor072), *Interacting
    with a page,* is all about interaction. Once you get to a page, how do you test
    it? How do you simulate user interaction? This chapter takes you through the most
    common ways of interacting with a page. This chapter also covers some basic HTML
    concepts, so you can take advantage of all the tools Puppeteer provides.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第 4 章*](B16113_04_Final_SK_ePub.xhtml#_idTextAnchor072)，*与页面交互*，全部关于交互。一旦你到达一个页面，你如何测试它？你如何模拟用户交互？本章将带你了解与页面交互的最常见方式。本章还涵盖了一些基本的
    HTML 概念，这样你就可以充分利用 Puppeteer 提供的所有工具。'
- en: '[*Chapter 5*](B16113_05_Final_SK_ePub.xhtml#_idTextAnchor087), *Waiting for
    elements and network calls,* teaches you how to wait for the different scenarios
    on the page you are testing—waiting for the page to load and be ready, waiting
    for a button to be enabled, waiting for an Ajax call to be completed, and so on.
    This chapter covers all the tools that Puppeteer offers to handle these scenarios.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第5章*](B16113_05_Final_SK_ePub.xhtml#_idTextAnchor087), *等待元素和网络调用*，教你如何等待你在测试页面上的不同场景——等待页面加载并准备就绪，等待按钮启用，等待
    Ajax 调用完成，等等。本章涵盖了 Puppeteer 提供的所有处理这些场景的工具。'
- en: '[*Chapter 6*](B16113_06_Final_SK_ePub.xhtml#_idTextAnchor104), *Executing and
    Injecting JavaScript,* shows you one of the best features of Puppeteer: injecting
    JavaScript code easily. In this chapter, we will leave the end-to-end testing
    world for a moment and dive into web automation using a general-purpose tool.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第6章*](B16113_06_Final_SK_ePub.xhtml#_idTextAnchor104), *执行和注入 JavaScript*，展示了
    Puppeteer 的最佳特性之一：轻松注入 JavaScript 代码。在这一章中，我们将暂时离开端到端测试的世界，深入使用通用工具进行网页自动化。'
- en: '[*Chapter 7*](B16113_07_Final_SK_ePub.xhtml#_idTextAnchor130), *Generating
    Content with Puppeteer,* expands on the usage of Puppeteer and shows you how we
    can create content using Puppeteer. We''ll start by learning how screenshots are
    created and how they can be used for regression tests. Then, we will cover PDF
    generation, and finally, we will learn how to create pages on the fly.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第7章*](B16113_07_Final_SK_ePub.xhtml#_idTextAnchor130), *使用 Puppeteer 生成内容*，扩展了
    Puppeteer 的使用范围，展示了如何使用 Puppeteer 创建内容。我们将从学习截图的创建及其在回归测试中的应用开始。然后，我们将涵盖 PDF 生成，最后，我们将学习如何动态创建页面。'
- en: '[*Chapter 8*](B16113_08_Final_SK_ePub.xhtml#_idTextAnchor137), *Environments
    emulation,* explains all the tools Puppeteer provides to emulate different scenarios.
    It will show you how to emulate mobile devices, different screen resolutions,
    various network speeds, geolocation, and even things such as vision deficiency.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第8章*](B16113_08_Final_SK_ePub.xhtml#_idTextAnchor137), *环境模拟*，解释了 Puppeteer
    提供的所有用于模拟不同场景的工具。它将向你展示如何模拟移动设备、不同的屏幕分辨率、各种网络速度、地理位置，甚至视力缺陷等问题。'
- en: '[*Chapter 9*](B16113_09_Final_SK_ePub.xhtml#_idTextAnchor156), *Scraping tools,*
    demystifies web scraping, showing you how it can be used to your advantage. You
    will learn how to create scrapers and run tasks in parallel using Puppeteer Cluster.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第9章*](B16113_09_Final_SK_ePub.xhtml#_idTextAnchor156), *爬虫工具*，揭示了网络爬取的神秘面纱，展示了如何利用它来为你带来优势。你将学习如何使用
    Puppeteer Cluster 创建爬虫并并行运行任务。'
- en: '[*Chapter 10*](B16113_10_Final_SK_ePub.xhtml#_idTextAnchor167), *Evaluating
    and Improving the Performance of a Website,* shows you how Puppeteer can help
    developers to evaluate and improve the performance of their sites. We will learn
    how to extract and analyze all the performance metrics you can see on the Developer
    Tools. This chapter also has a great introduction to Google Lighthouse and how
    to automate its reports and integrate them into your tests.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[*第10章*](B16113_10_Final_SK_ePub.xhtml#_idTextAnchor167), *评估和提升网站性能*，展示了 Puppeteer
    如何帮助开发者评估和提升他们网站的性能。我们将学习如何提取和分析你在开发者工具中可以看到的所有性能指标。本章还提供了对 Google Lighthouse
    的精彩介绍，以及如何自动化其报告并将其集成到你的测试中。'
- en: I also want this book to fill your toolbox with more tools besides Puppeteer.
    During the course of this book, you will learn about other tools, such as GitHub
    Actions, Visual Studio Code, Checkly and its Puppeteer recorder, and many others.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我还希望这本书能给你的工具箱增添更多工具，而不仅仅是 Puppeteer。在本书的学习过程中，你将了解其他工具，例如 GitHub Actions、Visual
    Studio Code、Checkly 及其 Puppeteer 录制器，以及其他许多工具。
- en: To get the most out of this book
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了最大限度地利用这本书
- en: This book assumes that you have some knowledge of JavaScript, but you don't
    need to be an expert. All the examples will run on Node.js. If you have experience
    with this framework, you will find it easier to get started. If you don't, don't
    worry; we won't go deep into Node.js*.*
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设你有一些 JavaScript 的知识，但不需要成为专家。所有示例都将运行在 Node.js 上。如果你有这个框架的经验，你会发现开始更容易。如果你没有，不要担心；我们不会深入探讨
    Node.js*.*
- en: All the tools we will use are cross-platform. You will be able to follow the
    code of this book using any popular operating system, such as Windows, macOS,
    or Linux. In [*Chapter 1*](B16113_01_Final_SK_ePub.xhtml#_idTextAnchor014), *Getting
    started with Puppeteer*, we will see how to install Node.js and Visual Studio
    Code. If you already have these tools installed, notice that Puppeteer relies
    on Node 10.18.1+.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用的所有工具都是跨平台的。您将能够使用任何流行的操作系统（如Windows、macOS或Linux）跟随本书的代码。在[*第1章*](B16113_01_Final_SK_ePub.xhtml#_idTextAnchor014)“使用Puppeteer入门”中，我们将看到如何安装Node.js和Visual
    Studio Code。如果您已经安装了这些工具，请注意Puppeteer依赖于Node 10.18.1+。
- en: '**If you are using the digital version of this book, we advise you to type
    the code yourself or access the code via the GitHub repository (link available
    in the next section). Doing so will help you avoid any potential errors related
    to the copying and pasting of code.**'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您正在使用这本书的数字版，我们建议您亲自输入代码或通过GitHub仓库（下一节中提供链接）访问代码。这样做将帮助您避免与代码复制粘贴相关的任何潜在错误。**'
- en: Download the example code files
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/UI-Testing-with-Puppeteer](https://github.com/PacktPublishing/UI-Testing-with-Puppeteer).
    In case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从GitHub下载本书的示例代码文件：[https://github.com/PacktPublishing/UI-Testing-with-Puppeteer](https://github.com/PacktPublishing/UI-Testing-with-Puppeteer)。如果代码有更新，它将在现有的GitHub仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供其他丰富的代码包，这些代码包来自我们的书籍和视频目录：[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)。请查看它们！
- en: Disclaimer
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 免责声明
- en: Many of the examples of this book will be based on real websites that most of
    us use every day. We are going to test websites like [GitHub.com](http://GitHub.com),
    [StackOverlow.com](http://StackOverlow.com), The Weather Channel, and PacktPub.
    That means that you will learn how to automate real websites using the latest
    technologies. However, this also means that some of the code examples might eventually
    fail. This could be due to network conditions, problems with the server, or a
    website redesign. However, our main aim is that you can learn the concepts and
    apply them to your own solutions besides these changes.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的许多示例将基于我们大多数人每天都会使用的真实网站。我们将测试GitHub.com、StackOverlow.com、天气频道和PacktPub等网站。这意味着您将学习如何使用最新技术自动化真实网站。然而，这也意味着一些代码示例最终可能会失败。这可能是由于网络条件、服务器问题或网站重新设计。然而，我们的主要目标是您能够学习这些概念并将它们应用到您自己的解决方案中，而不仅仅是这些变化。
- en: Download the color images
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载颜色图像
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://static.packt-cdn.com/downloads/9781800206786_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781800206786_ColorImages.pdf).'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个包含本书中使用的截图/图表的颜色图像的PDF文件。您可以从这里下载：[https://static.packt-cdn.com/downloads/9781800206786_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781800206786_ColorImages.pdf)。
- en: 'Alternatively, you can also find the color images for the book at: [https://github.com/PacktPublishing/UI-Testing-with-Puppeteer/blob/master/ColorImages.pdf](https://github.com/PacktPublishing/UI-Testing-with-Puppeteer/blob/master/ColorImages.pdf)'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您也可以在以下位置找到本书的颜色图像：[https://github.com/PacktPublishing/UI-Testing-with-Puppeteer/blob/master/ColorImages.pdf](https://github.com/PacktPublishing/UI-Testing-with-Puppeteer/blob/master/ColorImages.pdf)
- en: Conventions used
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本书使用了多种文本约定。
- en: '`Code in text`: Indicates code words in text, functions, variables, folder
    names, filenames, file extensions, pathnames, dummy URLs and user input. Here
    is an example: "Every HTML document will be contained inside an `<html>` element."'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`文本中的代码`：表示文本中的代码单词、函数、变量、文件夹名称、文件名、文件扩展名、路径名、虚拟URL和用户输入。以下是一个示例：“每个HTML文档都将包含在`<html>`元素中。”'
- en: 'A block of code is set as follows:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都应如下编写：
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`page.click`, that function will return a **Promise**."'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '`page.click`，该函数将返回一个**Promise**。'
- en: Tips or important notes
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 提示或重要注意事项
- en: Appear like this.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来是这样的。
- en: Get in touch
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: If you have questions about any aspect of this book,
    mention the book title in the subject of your message and email us at customercare@packtpub.com.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：如果您对这本书的任何方面有疑问，请在邮件主题中提及书名，并通过customercare@packtpub.com给我们发送邮件。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误表**：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们非常感谢您能向我们报告。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择您的书籍，点击勘误提交表单链接，并输入详细信息。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the Internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at copyright@packt.com with a link
    to the material.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上发现任何形式的我们作品的非法副本，我们非常感谢您能提供位置地址或网站名称。请通过版权@packt.com与我们联系，并附上材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com)。'
- en: Reviews
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评价
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 请留下您的评价。一旦您阅读并使用过这本书，为何不在购买它的网站上留下评价呢？潜在读者可以查看并使用您的客观意见来做出购买决定，我们Packt公司可以了解您对我们产品的看法，并且我们的作者可以查看他们对书籍的反馈。谢谢！
- en: For more information about Packt, please visit [packt.com](http://packt.com).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解更多关于Packt的信息，请访问[packt.com](http://packt.com)。
