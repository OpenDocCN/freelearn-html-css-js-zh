<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Installing CreateJS</h1></div></div></div><p>Installing and using a client-side library in the right manner is really important. Using a large client-side library incorrectly could cause real problems; one obvious problem is the slow loading of web pages. In this chapter, we are going to see how we can set up and use CreateJS for both development and production environments.</p><p>In this chapter, you'll learn about the following topics:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Requirements</li><li class="listitem" style="list-style-type: disc">Download</li><li class="listitem" style="list-style-type: disc">Installation and setup</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Understanding CreateJS and subsets</h1></div></div></div><p>CreateJS contains<a id="id0" class="indexterm"/> different libraries such as<a id="id1" class="indexterm"/> <strong>SoundJS</strong>, <a id="id2" class="indexterm"/>
<strong>TweenJS</strong>, <a id="id3" class="indexterm"/>
<strong>EaselJS</strong>, and <a id="id4" class="indexterm"/>
<strong>PreloadJS</strong>. Each one has different requirements to run in browsers.</p><p>TweenJS should work in all browsers and their older versions as well. SoundJS requires <a id="id5" class="indexterm"/>
<strong>HTMLAudio</strong>, <a id="id6" class="indexterm"/>
<strong>Flash</strong>, or <a id="id7" class="indexterm"/>
<strong>WebAudio</strong>, and these features need modern browsers. SoundJS should work <a id="id8" class="indexterm"/>perfectly with the following browsers:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Google Chrome 31+</li><li class="listitem" style="list-style-type: disc">Mozilla Firefox 25+</li><li class="listitem" style="list-style-type: disc">Internet Explorer 9+</li><li class="listitem" style="list-style-type: disc">Opera 18+</li></ul></div><p>Among the <a id="id9" class="indexterm"/>mobile browsers, it should work with these:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">iOS Safari 4.0+</li><li class="listitem" style="list-style-type: disc">Android browser 2.3+</li><li class="listitem" style="list-style-type: disc">BlackBerry browser 7.0+</li></ul></div><p>PreloadJS should work with all browsers, even Internet Explorer 6.</p><p>EaselJS <a id="id10" class="indexterm"/>has a dependency on HTML5 canvas, so your audiences should have one of the following browsers to be able to use EaseJS:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Google Chrome 31+</li><li class="listitem" style="list-style-type: disc">Mozilla Firefox 25+</li><li class="listitem" style="list-style-type: disc">Internet Explorer 9+</li><li class="listitem" style="list-style-type: disc">Opera 18+</li></ul></div><p>For mobile, <a id="id11" class="indexterm"/>one of these browsers is required:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">iOS Safari 3.2+</li><li class="listitem" style="list-style-type: disc">Opera Mini 5.0-7.0</li><li class="listitem" style="list-style-type: disc">Android browser 2.1+</li><li class="listitem" style="list-style-type: disc">BlackBerry browser 7.0+</li></ul></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Downloading CreateJS</h2></div></div></div><p>There<a id="id12" class="indexterm"/> are some ways to download and include CreateJS files into your project which are discussed in the following sections.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec09"/>GitHub</h2></div></div></div><p>You can download <a id="id13" class="indexterm"/>the <a id="id14" class="indexterm"/>latest version of CreateJS and all subsets from the GitHub, as shown in the following screenshot from <a class="ulink" href="https://github.com/CreateJS/">https://github.com/CreateJS/</a>:</p><div><img src="img/0260OS_1_1.jpg" alt="GitHub"/></div><p>After going to each<a id="id15" class="indexterm"/> repository, you can either download the ZIP <a id="id16" class="indexterm"/>folder of the latest changes or use the Git clone command to get the source from GitHub, as shown in the following screenshot:</p><div><img src="img/0260OS_1_2.jpg" alt="GitHub"/></div><p>You can find this box on the right-hand side of each repository page, which helps you to get the code.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Understanding the Content Delivery Network</h2></div></div></div><p>CreateJS has a great <strong>Content Delivery Network</strong> (<strong>CDN</strong>), which<a id="id17" class="indexterm"/> contains all versions and all subset libraries hosted. You can access CDN servers from <a class="ulink" href="http://code.createjs.com/">http://code.createjs.com/</a>.</p><div><div><h3 class="title"><a id="note02"/>Note</h3><p>Using the CDN-hosted versions of CreateJS libraries in your project allows them to be downloaded quickly and cached across different sites using the same version of the libraries. This can reduce bandwidth costs and page load times.</p></div></div><p>You can find all versions at <a class="ulink" href="http://code.createjs.com/">http://code.createjs.com/</a> as shown in the following screenshot:</p><div><img src="img/0260OS_1_3(2).jpg" alt="Understanding the Content Delivery Network"/></div><p>You can also use a <a id="id18" class="indexterm"/>combined version of all subsets and libraries that contains all of the latest stable versions of all libraries, including EaselJS, TweenJS, SoundJS, and PreloadJS.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Setting up the libraries</h2></div></div></div><p>After choosing how to download <a id="id19" class="indexterm"/>the source, you need to set up the library to make it work. In this section, we are going to see how to set up the library for both production and development environments.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec01"/>The production environment</h3></div></div></div><p>If you want to use CreateJS in<a id="id20" class="indexterm"/> the production environment, things will be much easier. All you need to use is a single compiled source file. For this purpose, you can either use hosted files from CreateJS CDN or build locally, and then link in locally.</p><div><div><div><div><h4 class="title"><a id="ch01lvl4sec01"/>Using CDN</h4></div></div></div><p>In this case, all <a id="id21" class="indexterm"/>you need to do is link <code class="literal">&lt;script…&gt;</code> to the source of the file in the CreateJS CDN server (see the <em>Downloading CreateJS</em> section of this chapter); after that, everything should work properly.</p></div></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec02"/>The development environment</h3></div></div></div><p>If you want to debug, <a id="id22" class="indexterm"/>develop using CreateJS, or see how things are going on inside CreateJS, you need to use uncompiled source files.</p><p>For each library, you can find the uncompiled source files at <code class="literal">/src/</code>. All dependencies and source code will be here.</p><p>To use uncompiled source files, the important thing to keep in mind is that all files should be called in the correct order; otherwise, you will get some errors. Luckily, there is a file in each project that will give you hints on how to include files in the correct order. This config file is placed in <code class="literal">build/config.json</code>.</p><p>You can see an example of this config for EaselJS in the following screenshot:</p><div><img src="img/0260OS_1_4.jpg" alt="The development environment"/></div><p>So, you have to <a id="id23" class="indexterm"/>put <code class="literal">&lt;script…&gt;</code> and load files in this order. You can find the same config file in the same location for other projects too.</p><p>After loading all JS files, you can use the library and also put your breakpoints on the source code to trace or debug it.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Building the source code</h1></div></div></div><p>All CreateJS libraries use Grunt<a id="id24" class="indexterm"/> to <a id="id25" class="indexterm"/>make and build files, so you need to have the NodeJS and Grunt module installed (0.10.2 or greater is required).</p><p>First of all, get the latest version of NodeJS<a id="id26" class="indexterm"/> from <a class="ulink" href="http://www.nodejs.org">www.nodejs.org</a> and install it. Then go to the <code class="literal">/build</code> folder for the library (for example, EaselJS) and run the following commands in your command environment:</p><div><pre class="programlisting">
<strong># Install the grunt command line utility globally </strong>
<strong>npm install grunt-cli -g </strong>

<strong># Install all the dependencies from package.json</strong>
<strong>npm install</strong>
</pre></div><p>After executing these commands, you should obtain a result as shown in the following screenshot:</p><div><img src="img/0260OS_1_5.jpg" alt="Building the source code"/></div><p>After installing all dependencies, you have only one step left to build the library. Go to the library folder and run the following command:</p><div><pre class="programlisting">
<strong>grunt build</strong>
</pre></div><p>You should see the<a id="id27" class="indexterm"/> following result in your command environment:</p><div><img src="img/0260OS_1_6.jpg" alt="Building the source code"/></div><p>When you see the <code class="literal">Done, without errors</code> message, you can find your compiled file in the <code class="literal">/lib</code> folder of the library, named <code class="literal">{PROJECT_NAME}-{VERSION}.min.js</code>, for example <code class="literal">easeljs-0.7.0.min.js</code>. This is exactly same as the files in the CDN server. You can link your <code class="literal">script</code> tag locally to this file and use it.</p><p>For more information about options and how to work with them, you can read the <code class="literal">README.md</code> file in the <code class="literal">/build</code> folder of each library.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Summary</h1></div></div></div><p>In this chapter, we have learned how to set up and prepare CreateJS for different environments, because as a programmer, you may want to make changes to CreateJS or customize it for yourself. We also discussed using CreateJS for the production environment, using CDN servers, and building the source code.</p><p>In the next chapter, we are going to discuss how to write the first working example with CreateJS and how to use the API.</p></div></body></html>