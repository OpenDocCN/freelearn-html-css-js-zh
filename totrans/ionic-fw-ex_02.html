<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02" class="calibre1"/>Chapter 2. To-Do List App</h1></div></div></div><p class="calibre10">In this chapter, we will be diving headfirst into Ionic and will be using a lot of the Ionic CLI tool. We will create our first Ionic application and add some basic Ionic features to our app. We will also get to run our app for the first time using Ionic and will debug our app in Chrome. We will finish this chapter by creating a to-do list application with Ionic. This application will simply let us add items to our app and also provide us a way of deleting these items or marking them as done.</p></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch02lvl1sec12" class="calibre1"/>Creating our first application</h1></div></div></div><p class="calibre10">Creating a new project <a id="id35" class="calibre1"/>with Ionic is actually a very pain-free experience with the Ionic CLI. There are different ways to create a new Ionic project but the easiest and more standard technique is to use the Ionic templates. This is by far the easiest way, and it let us use any of the three standard templates provided by Ionic.</p><p class="calibre10">These templates include:</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre11">The blank template</strong>: This creates a new project with some boilerplate code to help you get set up with a<a id="id36" class="calibre1"/> blank application</li><li class="listitem"><strong class="calibre11">The tabs template</strong>: This is the<a id="id37" class="calibre1"/> same as the first but instead of a blank application, you get an application with a tabbed design</li><li class="listitem"><strong class="calibre11">The side menu template</strong>: This <a id="id38" class="calibre1"/>creates a new application with a side menu design and some boilerplate</li></ul></div><p class="calibre10">We will be using each of these in this book at some point of time. For now, we are going to start with the first and create a brand new Ionic project using the blank template. Before we move on, let's have a look at the command that the Ionic CLI uses to create a new application:</p><div><pre class="programlisting">
<strong class="calibre11">ionic create [Name Of App] [template]</strong>
</pre></div><p class="calibre10">The <code class="email">create</code> command for the Ionic CLI allows us to provide two parameters, the first being the name we want our app to be called. This first parameter will also be the name given to the folder that gets generated with our files. The second parameter is the template name. As discussed earlier, there are three template styles. You can either pass in blank, tabs, or<a id="id39" class="calibre1"/> side menu as a parameter to represent the type of template you want your app to be generated with.</p></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec11" class="calibre1"/>Creating our to-do list app</h2></div></div></div><p class="calibre10">We are going to create our to-do list application. We are going to use the blank template to do this. We will be<a id="id40" class="calibre1"/> calling our app <code class="email">todo</code> for the sake of consistency. To create the <code class="email">todo</code> app, go ahead and run the following command:</p><div><pre class="programlisting">
<strong class="calibre11">ionic start todo blank</strong>
</pre></div><p class="calibre10">This command will <a id="id41" class="calibre1"/>create a new blank Ionic application called <code class="email">todo</code>. When this command has finished running, enter the project of your application via the command line by running the following command:</p><div><pre class="programlisting">
<strong class="calibre11">cd todo</strong>
</pre></div><p class="calibre10">To further explore our newly created <code class="email">todo</code> app, open the <code class="email">todo</code> app folder in your favorite IDE.</p></div></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec13" class="calibre1"/>The Ionic workflow</h1></div></div></div><p class="calibre10">When you create a <a id="id42" class="calibre1"/>new Ionic project, there are a couple of folders and files that come as stock as part of the generated project. Your directory should look similar to what is seen in the following screenshot:</p><div><img src="img/00009.jpeg" alt="The Ionic workflow" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">The structure you see is pretty much the same as in every Cordova project, with the exception of a <a id="id43" class="calibre1"/>few files and folders. For example, there is a <code class="email">scss</code> folder. This contains a file that lets us customize the look and feel of our application and will be covered in detail in later chapters. There are also the <code class="email">platforms</code> and <code class="email">plugins</code> folder. The <code class="email">platforms</code> folder, in most cases is auto-generated, but we will not be covering them in this book so you can ignore them for the time being.</p><p class="calibre10">You will also notice that in your <code class="email">www/lib</code> folder, there is a folder called <code class="email">ionic</code> that contains all the required<a id="id44" class="calibre1"/> files to run Ionic. There are <code class="email">css</code>, <code class="email">fonts</code>, <code class="email">js</code>, and <code class="email">scss</code> folder.</p><div><ul class="itemizedlist"><li class="listitem"><code class="email">css</code>: This folder<a id="id45" class="calibre1"/> contains all the default CSS that come with an Ionic app.</li><li class="listitem"><code class="email">fonts</code>: Ionic comes with its<a id="id46" class="calibre1"/> own font and Icon library called<a id="id47" class="calibre1"/> <strong class="calibre11">Ionicons</strong>. This Ionicons library contains hundreds of icons, which are all available for use in your app.</li><li class="listitem"><code class="email">js</code>: This contains all the <a id="id48" class="calibre1"/>code for the core Ionic library. Since Ionic is built with Angular, there is a version of Angular here with a bunch of other files that make up the Ionic framework.</li><li class="listitem"><code class="email">scss</code>: This is the folder<a id="id49" class="calibre1"/> that contains SASS files that are used to build the beautiful Ionic framework CSS styles. Everything here can be overwritten easily in order to make <a id="id50" class="calibre1"/>your app feel a bit more customized and we will discuss how you can do this in <a class="calibre1" title="Chapter 7. Customizing the App" href="part0031_split_000.html#TI1E1-798adc86542b445d8a1bb648e10b6714">Chapter 7</a>, <em class="calibre14">Customizing the App</em>.</li></ul></div><p class="calibre10">If you have a look at the root folder, you will see a lot of other files that are generated for you as part of the Ionic workflow. These files are not overly important now, but let's have a look at the more important ones in the following list:</p><div><ul class="itemizedlist"><li class="listitem"><code class="email">bower.json</code>: This is the file that <a id="id51" class="calibre1"/>contains some of the dependencies acquired from the bower package manager. The browser dependencies are resolved in the <code class="email">lib</code> folder as specified in the <code class="email">bowerrc</code> file. This is a great place to specify other third-party dependencies that your project might need.</li><li class="listitem"><code class="email">config.xml</code>: This is the<a id="id52" class="calibre1"/> standard <code class="email">config</code> file that comes along with any Phonegap/Cordova project. This is where you request permissions for device features and also specify universal and platform-specific configurations for you app.</li><li class="listitem"><code class="email">gulpfile</code>: Ionic uses the<a id="id53" class="calibre1"/> Gulp build tool, and this file contains some code that is provided by Ionic that enables you do some amazing things. We will use some features of this file in <a class="calibre1" title="Chapter 7. Customizing the App" href="part0031_split_000.html#TI1E1-798adc86542b445d8a1bb648e10b6714">Chapter 7</a>, <em class="calibre14">Customizing the App</em>, when we do some customization tasks.</li><li class="listitem"><code class="email">ionic.project</code>: This is a file specific for Ionic services. It is the file used by the Ionic CLI and the <code class="email">ionic.IO</code> services as a place to specify some of your Ionic-specific configuration. We will use some of the features of this file when we use the Ionic view<a id="id54" class="calibre1"/> app in <a class="calibre1" title="Chapter 3. Running Ionic Apps" href="part0022_split_000.html#KVCC2-798adc86542b445d8a1bb648e10b6714">Chapter 3</a>, <em class="calibre14">Running Ionic Apps</em>.</li><li class="listitem"><code class="email">package.json</code>: This is a file <a id="id55" class="calibre1"/>used by node to specify some node dependencies. When you create a project with the Ionic CLI, Ionic uses both the Node and Bower Package Manager to resolve some of your dependencies. If you require a node module when you are developing Ionic apps, you<a id="id56" class="calibre1"/> can specify these dependencies here.</li></ul></div><p class="calibre10">These files are some of the more important files that are by default a part of a project created with the Ionic CLI. At the moment you do not need to worry too much about them, but it's always good to know that they exist and have an idea about what they actually represent.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec12" class="calibre1"/>In-depth look at our project</h2></div></div></div><p class="calibre10">Before we go ahead and do any development, it is imperative that we understand how to actually add features to our app and where to do this. There are two files in particular that we are going to pay great attention to:</p><div><ul class="itemizedlist"><li class="listitem"><code class="email">index.html</code>: This file is the entry point of your application in terms of what you actually see. It is a normal HTML page with some boilerplate code based on the blank Ionic template. If you pay close attention, you will see some custom HTML tags such as <code class="email">&lt;ion-pane&gt;</code>, <code class="email">&lt;ion-header&gt;</code>, and <code class="email">&lt;ion-content&gt;</code>. These<a id="id57" class="calibre1"/> custom tags are actually Ionic components that have been built with Angular, and for now, you need not worry about what they do as we will be discussing this shortly. A closer look at the <code class="email">&lt;body&gt;</code> tag will also reveal the attribute <code class="email">ng-app=starter</code>. This is a custom attribute provided by Angular, which we use to provide the name of the main module of an angular application.</li><li class="listitem"><code class="email">app.js</code>: This file lives<a id="id58" class="calibre1"/> in the <code class="email">js</code> folder, and this is the file that contains the main module of our application. In Angular, modules provide us a way to create isolated chunks of code that our application uses. The main module is the module that actually gets loaded to our application when it starts. Think of the main module as the entry point of our application. If you take a closer look at the <code class="email">app.js</code> file, you will see how we create the module and specify its name as starter:<div><pre class="programlisting">angular.module('starter', ['ionic'])

.run(function($ionicPlatform) {
  $ionicPlatform.ready(function() {
    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
    // for form inputs)
    if(window.cordova &amp;&amp; window.cordova.plugins.Keyboard) {
      cordova.plugins.Keyboard .hideKeyboardAccessoryBar(true);
    }
    if(window.StatusBar) {
      StatusBar.styleDefault();
    }
  });
})</pre></div><div><h3 class="title2"><a id="tip02" class="calibre1"/>Tip</h3><p class="calibre10">
<strong class="calibre11">Downloading the example code</strong>
</p><p class="calibre10">You can download the example code files from your account at <a class="calibre1" href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a class="calibre1" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><p class="calibre27">You will also<a id="id59" class="calibre1"/> see that it takes a second parameter, an array which contains one string called <code class="email">ionic</code>. In Angular, this array is used to provide the names of any module that our application depends on. So, just like we specified the name of our main module, starter to the <code class="email">ng-app</code> attribute in the <code class="email">index.html</code> file, we specify a list of modules that our main module relies on, in this case, <code class="email">ionic</code>.</p><p class="calibre27">You would have also noticed a <code class="email">run</code> function in the <code class="email">app.js</code>. This function is the function that fires as soon as our app is ready and all our dependent Angular modules and factories have loaded. The <code class="email">run</code> function is a great place to do little pieces of tidying up that you want done as soon as your application begins.</p></li></ul></div><p class="calibre10">These two files are the ones you need to worry about as they are the two main files we will be working with in order to build our to-do list application.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec13" class="calibre1"/>Envisioning our app</h2></div></div></div><p class="calibre10">It is always good to do <a id="id60" class="calibre1"/>a small bit of wireframing before you build any application. This enables you to understand how the app will work and how it will probably look just before you actually begin to code the app. The following screenshot is a rough wireframe of what our <code class="email">todo</code> app will look like:</p><div><img src="img/00010.jpeg" alt="Envisioning our app" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">Our <code class="email">todo</code> application allows a user to simply enter any task they want added to their to-do list. Think of this app as a mini diary where you put in things you want done later. In this section, we <a id="id61" class="calibre1"/>will only be building the very basic feature of our <code class="email">todo</code> app, and we will only be allowing the user to add new items. In later chapters, as we learn more about Ionic, we will be adding more complex features like using a complex list and also letting the user edit, remove, and even archive to-do list items.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec14" class="calibre1"/>Building our todo app</h2></div></div></div><p class="calibre10">To get started with<a id="id62" class="calibre1"/> building our <code class="email">todo</code> app, we will need to further<a id="id63" class="calibre1"/> break down what we want to achieve into smaller steps. The first thing we need to do is to create the UI for our application.</p><div><div><div><div><h3 class="title2"><a id="ch02lvl3sec02" class="calibre1"/>Creating the UI</h3></div></div></div><p class="calibre10">The first thing we are going to do to get started with building our <code class="email">todo</code> application is building the user interface. We are going to build the input form and the button that will add the <code class="email">todo</code> item <a id="id64" class="calibre1"/>currently typed in the input. After we have written the code for this, we will add the markup for the list where we want any entered <code class="email">todo</code> item to be displayed. I have already compiled this markup for you in the following code:</p><div><pre class="programlisting">&lt;div class="list"&gt;
    &lt;div class="item item-input-inset"&gt;
        &lt;label class="item-input-wrapper"&gt;
            &lt;input type="text" placeholder="enter todo item"&gt;
        &lt;/label&gt;
        &lt;button class="button button-small"&gt;
            Add
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;ul class="list"&gt;
    &lt;li class="item&gt;
        
    &lt;/li&gt;
&lt;/ul&gt;</pre></div><p class="calibre10">From the preceding code, you can see the skin of our user interface ready. We have an input that receives what we want entered into our to-do list. We have an HTML unordered list that will be placed where our to-do list items will be situated. You can see some classes on some of our elements. These are actually classes from the auto-generated Ionic CSS styles that come as part of any Ionic project.</p></div><div><div><div><div><h3 class="title2"><a id="ch02lvl3sec03" class="calibre1"/>The code</h3></div></div></div><p class="calibre10">Since we have written the <a id="id65" class="calibre1"/>user interface for our application, we will also need to write the Angular code to enable it to work. What we need to do is to create an array that will hold the list of <code class="email">todo</code> items and also create a function that will add a <code class="email">todo</code> item into this list anytime we click the <strong class="calibre11">Add</strong> button we created earlier. We will achieve this all by creating an Angular controller in our main module and insert all this logic into it. I have already written this code and you can copy it and get it into your project from the following:</p><div><pre class="programlisting">.controller('TodoController', function ($scope) {
  $scope.todos = [];
  $scope.todoModel = {};
  $scope.todoModel.todo = '';
  $scope.addTodo = function () {
    $scope.todos.push($scope.todoModel.todo);
    $scope.todoModel = {
        todo: ''
    };
  };
})</pre></div><p class="calibre10">From the preceding code, you can see that we have created a controller called the <code class="email">TodoController</code>. Within this <code class="email">TodoController</code>, we have a <code class="email">todos</code> array. This is the array that will hold all our <code class="email">todo</code> items. We also have a <code class="email">todoModel</code> object that is an empty object that<a id="id66" class="calibre1"/> will hold our entered <code class="email">todo</code> item. Lastly, we have a function called <code class="email">addTodo</code> that adds the current value in our <code class="email">todoModel</code> object to our <code class="email">todos</code> array and then sets the value of our current <code class="email">todoModel</code> object to an empty string so we can type from scratch again.</p></div><div><div><div><div><h3 class="title2"><a id="ch02lvl3sec04" class="calibre1"/>Wiring things up</h3></div></div></div><p class="calibre10">Now that we have created our <a id="id67" class="calibre1"/>user interface boilerplate code and also written our code for it, it is time to wire the two together and dictate what gets to appear where:</p><div><pre class="programlisting">&lt;ion-content ng-controller="TodoController"&gt;
    &lt;div class="list"&gt;
        &lt;div class="item item-input-inset"&gt;
            &lt;label class="item-input-wrapper"&gt;
                &lt;input type="text" placeholder="enter todo item" ng-model="todoModel.todo"&gt;
            &lt;/label&gt;
            &lt;button class="button button-small" ng- click="addTodo()"&gt;
                Add
            &lt;/button&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;ul class="list"&gt;
        &lt;li class="item" ng-repeat="todo in todos track by $index"&gt;
            {{todo}}
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/ion-content&gt;</pre></div><p class="calibre10">If you have a look at the preceding code, you will see that the UI code now looks a bit different. Firstly, we have associated our <code class="email">&lt;ion-content&gt;</code> element with our <code class="email">TodoController</code>. This is done in order to create a binding context, meaning any variable within the <code class="email">TodoController</code> is now available for data binding to all its descendants. Secondly, you will also notice that our input now has a new <code class="email">ng-model</code> attribute that binds to our <code class="email">todoModel</code> variable from our <code class="email">TodoController</code>. This is binding the value of the input tag at any point in time to the <code class="email">todoModel</code> object. Thirdly, we have set an <code class="email">ng-click</code> attribute on the <strong class="calibre11">add todo</strong> button to ensure that any time it is clicked, a new <code class="email">todo</code> item is added to our array. Finally, we have done an <code class="email">ng-repeat</code> within the UL element to <a id="id68" class="calibre1"/>specify that we want all children of the <code class="email">todo</code> array to be rendered with the LI.</p><p class="calibre10">With this, we have successfully completed the <code class="email">todo</code> application and all that is left is to see it in action. We will be learning how to run this application we have just built-in different ways in the next chapter, so do follow up to learn how to get your app to run and test it live.</p></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec14" class="calibre1"/>Summary</h1></div></div></div><p class="calibre10">In this chapter, we got to create our very first Ionic application using the Ionic blank application template. We had a look at what the Ionic workflow looks like and also got to see some of the files that make up the workflow. We then dived in and discussed about how we intended to build our to-do list application. We further went ahead and actually implemented the UI of our to-do list app based on a wireframe. We wrote some Angular code and wired it up to the user interface we created.</p><p class="calibre10">In the next chapter, we will learn different ways to run and test our application for the very first time with the Ionic CLI.</p></div></body></html>