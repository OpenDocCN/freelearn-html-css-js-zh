<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch08" class="calibre1"/>Chapter 8. Building a Simple Social App</h1></div></div></div><p class="calibre10">In this chapter, we are going to focus on learning how to create an Ionic application that has tabs using the Ionic tabs template. We will also have a look at some of the things that make up the tabs template and learn how to add features into it.</p></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch08lvl1sec28" class="calibre1"/>The Ionic tabs application</h1></div></div></div><p class="calibre10">Tabs are a very <a id="id257" class="calibre1"/>common menu system in mobile apps. They provide users with a simple yet effective way to create independent views in an app that sort of act like apps within an app.</p><div><img src="img/00059.jpeg" alt="The Ionic tabs application" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">The preceding screenshot is a view of a sample Ionic tabs application. One great feature that a tabbed menu <a id="id258" class="calibre1"/>system provides is the ability to maintain the independent context within each individual tab menu. No matter where you are in the application, you always have the option of switching to another tab at any point. Navigation history is another feature that the tabs menu provides. You are able to navigate to different views within each tab, and you do not lose this navigation history when you switch back and forth between any tab menu. Now that we have some clarity about what the tabs application entails, let's go ahead and create a brand new tab application and look in detail at how it operates.</p></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch08lvl2sec33" class="calibre1"/>Creating an Ionic tabs application</h2></div></div></div><p class="calibre10">Creating an<a id="id259" class="calibre1"/> Ionic tabs application is not too different from creating the side menu and blank Ionic applications as we have done in the previous chapters of this book. We are going to create a new Ionic tabs application, and we will call this application <code class="email">tabs-app</code>. To create this new application, fire up a terminal window and run the following command:</p><div><pre class="programlisting">
<strong class="calibre11">ionic start tabs-app tabs</strong>
</pre></div><p class="calibre10">Using the preceding command, you will create your <code class="email">tabs-app</code> ionic application successfully. The <a id="id260" class="calibre1"/>next thing we are going to do is to have an overview of the application we just created. To do this, simply open the <code class="email">tabs-app</code> project in your favorite IDE. You should have a projects folder structure that looks similar to what I have in the following screenshot:</p><div><img src="img/00060.jpeg" alt="Creating an Ionic tabs application" class="calibre12"/></div><p class="calibre13"> </p><div><div><div><div><h3 class="title2"><a id="ch08lvl3sec24" class="calibre1"/>Running the tabs-app application</h3></div></div></div><p class="calibre10">Now that we have<a id="id261" class="calibre1"/> created our app, let's go ahead and see it in action. To do this, fire up a terminal window on your computer and run your application using the <code class="email">ionic serve</code> technique.</p><div><h3 class="title2"><a id="tip11" class="calibre1"/>Tip</h3><p class="calibre10">Make sure you are within your project's folder by running <code class="email">cd tabs-app</code>. To run your app using the <code class="email">ionic serve</code> technique, run the <code class="email">ionic serve</code> command on your terminal.</p></div><p class="calibre10">You should see an application with three tabs that looks similar to what we have in the following screenshots.</p><div><ul class="itemizedlist"><li class="listitem">For iOS:<div><img src="img/00061.jpeg" alt="Running the tabs-app application" class="calibre12"/></div><p class="calibre25"> </p></li><li class="listitem">For Android:<div><img src="img/00062.jpeg" alt="Running the tabs-app application" class="calibre12"/></div><p class="calibre25"> </p></li></ul></div></div><div><div><div><div><h3 class="title2"><a id="ch08lvl3sec25" class="calibre1"/>Overview of the tabs-app application</h3></div></div></div><p class="calibre10">To begin to understand the life cycle of our <code class="email">tabs-app</code> Ionic tabs application, we first need to have a look at the entry module of our application. Our<a id="id262" class="calibre1"/> entry module is normally specified within the <code class="email">index.html</code> file of our app via the <code class="email">ng-app</code> directive.</p><div><h3 class="title2"><a id="note10" class="calibre1"/>Note</h3><p class="calibre10">The <code class="email">index.html</code> file is located in the <code class="email">www</code> directory of your application.</p></div><p class="calibre10">A look through your <code class="email">index.html</code> will reveal a file that closely resembles what we have in the following screenshot:</p><div><img src="img/00063.jpeg" alt="Overview of the tabs-app application" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">You will see an Angular<a id="id263" class="calibre1"/> module called <code class="email">starter</code> specified as on the opening <code class="email">&lt;body&gt;</code> tag of our page via the <code class="email">ng-app</code> directive. This can be seen highlighted in the preceding screenshot. This <code class="email">starter</code> module is normally located in our <code class="email">app.js</code> file, and we are going to have a look at it to understand the module even more deeply.</p><div><h3 class="title2"><a id="note11" class="calibre1"/>Note</h3><p class="calibre10">The <code class="email">app.js</code> file is located in the <code class="email">www/js</code> path of you project.</p></div><p class="calibre10">Open your <code class="email">app.js</code> file and pay close attention to the <code class="email">.config()</code> function where your routes are configured. Pay close attention to the first route definition of a route called <code class="email">tab</code>. This route definition is represented in the following screenshot:</p><div><img src="img/00064.jpeg" alt="Overview of the tabs-app application" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">This <code class="email">tab</code> state is an abstract state. An <a id="id264" class="calibre1"/>
<strong class="calibre11">abstract state</strong> in Angular is a state that you cannot directly navigate to but which can contain child states that can be navigated to. This is a great way to create<a id="id265" class="calibre1"/> some sort of hierarchy for your states.</p><p class="calibre10">Based on the state definition of the tabs as highlighted in the preceding screenshot, you can see that it references <code class="email">templateUrl</code> to the <code class="email">tabs.html</code> file contained in the <code class="email">templates/template.html</code> directory. To understand how Ionic works with tabs, let's explore the <code class="email">tabs.html</code> file.</p></div><div><div><div><div><h3 class="title2"><a id="ch08lvl3sec26" class="calibre1"/>Overview of the tabs.html file</h3></div></div></div><p class="calibre10">When you open<a id="id266" class="calibre1"/> your <code class="email">tabs.html</code> file, you will see something that closely resembles what I have in the following screenshot:</p><div><img src="img/00065.jpeg" alt="Overview of the tabs.html file" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">You will clearly see<a id="id267" class="calibre1"/> that the entire markup is wrapped within the <code class="email">&lt;ion-tabs&gt;</code> element. This <code class="email">&lt;ion-tabs&gt;</code> element is the root element that acts like a container for the tabs that you declare in your Ionic tabs application. You can see that the opening <code class="email">&lt;ion-tabs&gt;</code> tag also has a <code class="email">class</code> attribute with some built-in Ionic CSS classes provided. This is because the <code class="email">&lt;ion-tabs&gt;</code> element is just like every other element and is submissive to some CSS styling.</p></div></div></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch08lvl1sec29" class="calibre1"/>The &lt;ion-tab&gt; element</h1></div></div></div><p class="calibre10">Within the <code class="email">&lt;ion-tabs&gt;</code> element, you<a id="id268" class="calibre1"/> will see three distinct <code class="email">&lt;ion-tab&gt;</code> elements. The <code class="email">&lt;ion-tab&gt;</code> element is the element used to create a tab and must be a child element of the <code class="email">&lt;ion-tabs&gt;</code> element. You will see that each <code class="email">&lt;ion-tab&gt;</code> element has some attributes. The <code class="email">title</code> attribute is used to specify the title that that particular tab will display. The <code class="email">icon-on</code> and <code class="email">icon-off</code> are attributes that are used to define what icons get displayed when the tab is in focus and out of focus. Lastly, the <code class="email">href</code> attribute is used to provide the path of the route that should be navigated to when that particular tab is selected.</p><div><h3 class="title2"><a id="note12" class="calibre1"/>Note</h3><p class="calibre10">There are a lot more attributes that are available for different customizations and actions for <code class="email">&lt;ion-tab&gt;</code>, and these are all available and duly documented on the official Ionic documentation page.</p></div><p class="calibre10">Within each <code class="email">&lt;ion-tab&gt;</code> element, you will find an <code class="email">&lt;ion-nav-view&gt;</code> declaration. The <code class="email">&lt;ion-nav-view&gt;</code> is an element used to refer to an Angular view. If you pay close attention, you will see that the <code class="email">&lt;ion-nav-view&gt;</code> elements have a <code class="email">name</code> attribute, which has values. This <code class="email">name</code> attribute is used to specify the name of a particular view that is defined in our <code class="email">app.js</code> file. If you have another short look at the <code class="email">app.js</code> file, as we did previously in this chapter, you <a id="id269" class="calibre1"/>will see that some of the states have views defined. A clear demonstration of this is shown in the following screenshot of the <code class="email">tab.dash</code> state:</p><div><img src="img/00066.jpeg" alt="The &lt;ion-tab&gt; element" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">You can see that there is a <code class="email">tab-dash</code> view named within the views object, and this <code class="email">tab-dash</code> view has a <code class="email">templateUrl</code> definition as well as a <code class="email">controller</code> definition similar to a normal state definition. This is how Ionic provides a hierarchy that enables each tab to have a separate <code class="email">&lt;ion-nav-view&gt;</code>, where its view is placed. To get an even better understanding of how this tab system works, we will be adding another tab to our application.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch08lvl2sec34" class="calibre1"/>Adding tabs to the tabs-app application</h2></div></div></div><p class="calibre10">We will add one<a id="id270" class="calibre1"/> new tab which will contain a feature that will let users post<a id="id271" class="calibre1"/> messages like a message board and see that it appears similar to a Facebook wall or a Twitter wall. We will be calling this new tab the <code class="email">wall</code> tab. To add this new tab, the first thing we need to do is to add the route for our new tab.</p><div><div><div><div><h3 class="title2"><a id="ch08lvl3sec27" class="calibre1"/>Adding the state for the new tab</h3></div></div></div><p class="calibre10">To add the state<a id="id272" class="calibre1"/> for our new tab, we need to define this tab<a id="id273" class="calibre1"/> in our <code class="email">app.js</code> file where all our default tab routes are defined. Within the <code class="email">.config()</code> function found in your <code class="email">app.js</code> file, place the following block of code just after the state definition of the tab abstract state:</p><div><pre class="programlisting">.state('tab.wall', {
    url: '/wall',
    views: {
      'tab-wall': {
        templateUrl: 'templates/tab-wall.html',
        controller: 'WallController'
      }
    }
  })</pre></div><p class="calibre10">If you have done this<a id="id274" class="calibre1"/> correctly, parts of the <code class="email">.config()</code> function of your <code class="email">app.js</code> file should look something like this:</p><div><img src="img/00067.jpeg" alt="Adding the state for the new tab" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">Let's try to understand what we have just done here. We have created a new state called <code class="email">tab.wall</code>, which has a route <code class="email">/tab</code>. This means that we are able to navigate to this <code class="email">tab.wall</code> state or <code class="email">/tab</code> route as part of our Angular application. We have also created a new view called <code class="email">tab-wall</code>, and later in this chapter, we will use this <code class="email">tab-wall</code> view to reference it as where we <a id="id275" class="calibre1"/>want the content of our newly created tab to be displayed.</p><p class="calibre10">If you take a closer look <a id="id276" class="calibre1"/>at our new state definition, you will see that we referenced a <code class="email">templateUrl</code> to a file with the path <code class="email">templates/tab-wall.html</code> and a controller, <code class="email">WallController</code>, both of which we have not yet created. We will need to create this <code class="email">tab-wall.html</code> file and also create the <code class="email">WallController</code> controller.</p></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch08lvl2sec35" class="calibre1"/>Creating the tab-wall.html file</h2></div></div></div><p class="calibre10">To create<a id="id277" class="calibre1"/> the <code class="email">tab-wall.html</code> file correctly, we need to make sure that we create it within the <code class="email">templates</code> directory in order for it to<a id="id278" class="calibre1"/> match the <code class="email">templates/tab-wall.html</code> directory which we passed when declaring our state definition.</p><p class="calibre10">Create a file called <code class="email">tab-wall.html</code> within your <code class="email">templates</code> folder. If you have done this correctly, your <code class="email">templates</code> directory should look something very similar to what we have in the following screenshot:</p><div><img src="img/00068.jpeg" alt="Creating the tab-wall.html file" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">The next step is to actually populate the newly created <code class="email">tab-wall.html</code> file. Place the code as shown<a id="id279" class="calibre1"/> in the following code block into <a id="id280" class="calibre1"/>your <code class="email">tab-wall.html</code> file:</p><div><pre class="programlisting">&lt;ion-view view-title="Wall"&gt;
  &lt;ion-content class="padding"&gt;

    &lt;div class="list"&gt;
      &lt;div class="item item-input-inset"&gt;
        &lt;label class="item-input-wrapper"&gt;
          &lt;input type="text" placeholder="enter your message"&gt;
        &lt;/label&gt;
        &lt;button class="button button-small"&gt;
          Post
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="card"&gt;
      &lt;div class="item item-text-wrap"&gt;
        This Is A Sample Message Post
      &lt;/div&gt;
    &lt;/div&gt;

  &lt;/ion-content&gt;
&lt;/ion-view&gt;</pre></div><p class="calibre10">If you have correctly<a id="id281" class="calibre1"/> done this, your <code class="email">tab-wall.html</code> should<a id="id282" class="calibre1"/> look something like the following screenshot:</p><div><img src="img/00069.jpeg" alt="Creating the tab-wall.html file" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">This next step is to create the controller we defined in our state definition.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch08lvl2sec36" class="calibre1"/>Creating the WallController controller</h2></div></div></div><p class="calibre10">To create the <code class="email">WallController</code> controller, first we need to open the <code class="email">controller.js</code> file. This file <a id="id283" class="calibre1"/>can be found within the same<a id="id284" class="calibre1"/> folder as our <code class="email">app.js</code> file, that is, the <code class="email">JS</code> folder. Your <code class="email">controller.js</code> file should closely resemble what we have in the following screenshot:</p><div><img src="img/00070.jpeg" alt="Creating the WallController controller" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">To create the <code class="email">WallController</code> file, simply place the code found in the following code block just after the first line where you can find the line of code, <code class="email">angular.module('starter.controllers', [])</code>:</p><div><pre class="programlisting">.controller('WallController', function($scope) {
    
  })</pre></div><p class="calibre10">If you have correctly replicated this code, your <code class="email">controller.js</code> file should closely resemble to the following screenshot:</p><div><img src="img/00071.jpeg" alt="Creating the WallController controller" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">By doing this, we<a id="id285" class="calibre1"/> have successfully created<a id="id286" class="calibre1"/> the <code class="email">WallController</code> controller. However, we still have one last step to complete the implementation of our new tab. We need to actually create the tab itself using the <code class="email">&lt;ion-tab&gt;</code> element.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_4"><a id="ch08lvl2sec37" class="calibre1"/>Creating the tab</h2></div></div></div><p class="calibre10">To create our tab, we<a id="id287" class="calibre1"/> need to revisit the <code class="email">tabs.html</code> file. Within the<a id="id288" class="calibre1"/> file, locate the opening <code class="email">&lt;ion-tabs&gt;</code> tag and place the code mentioned in the following code block just after that:</p><div><pre class="programlisting">&lt;!-- Wall Tab --&gt;
  &lt;ion-tab title="Wall" icon-off="ion-ios-compose-outline" icon- on="ion-ios-compose" href="#/tab/wall"&gt;
    &lt;ion-nav-view name="tab-wall"&gt;&lt;/ion-nav-view&gt;
  &lt;/ion-tab&gt;</pre></div><p class="calibre10">If you have done this correctly, your <code class="email">tabs.html</code> file should look like what is shown in the following screenshot:</p><div><img src="img/00072.jpeg" alt="Creating the tab" class="calibre12"/></div><p class="calibre13"> </p><p class="calibre10">By doing this, we have successfully created a new tab in our application. Let's recap what we did to achieve this feat. First, we created a new state definition for our tab and referenced it a controller and template file. We then went ahead to create the tab itself using the <code class="email">&lt;ion-tab&gt;</code> element, as in the preceding screenshot.</p><p class="calibre10">If you look at the preceding screenshot and pay close attention to <code class="email">&lt;ion-tab&gt;</code> that we just replicated from the code block, you will see that its <code class="email">&lt;ion-nav-view&gt;</code> child element has a <code class="email">name</code> attribute with the value <code class="email">tab-wall</code>. This is simply referencing the view we defined while defining our <code class="email">tab.wall</code> state in our <code class="email">app.js</code> file. These steps complete our tabs implementation.</p><p class="calibre10">Now, the next step is to go on and run our app and see it in action. To do this, simply run your application using the <code class="email">ionic serve</code> technique.</p><div><h3 class="title2"><a id="note13" class="calibre1"/>Note</h3><p class="calibre10">To run your app using the <code class="email">ionic serve</code> technique, simply run <code class="email">ionic serve</code> from the root <a id="id289" class="calibre1"/>directory of your <code class="email">tab-app</code> application.</p></div><p class="calibre10">If you have done this<a id="id290" class="calibre1"/> correctly, you should see something that closely resembles what we have in the following screenshots.</p><div><ul class="itemizedlist"><li class="listitem">For iOS:<div><img src="img/00073.jpeg" alt="Creating the tab" class="calibre12"/></div><p class="calibre25"> </p></li><li class="listitem">For Android:<div><img src="img/00074.jpeg" alt="Creating the tab" class="calibre12"/></div><p class="calibre25"> </p></li></ul></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch08lvl1sec30" class="calibre1"/>Summary</h1></div></div></div><p class="calibre10">In this chapter, we learned about the Ionic tabs application template. We also created a tabs application called <code class="email">tabs-app</code> and even got as far as adding a new tab of our own. In the next chapter, we will be using this same application to learn how to use Firebase to add backend services to our application.</p></div></body></html>