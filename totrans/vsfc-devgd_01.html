<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started with Visualforce"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with Visualforce</h1></div></div></div><p>Cloud computing<a id="id0" class="indexterm"/> has made significant changes to the IT/software development industry. Cloud platforms are one of the important directions of cloud computing. Cloud platforms allow the developers to develop apps and run them on the <a id="id1" class="indexterm"/>Cloud, including platforms for building on-demand applications and <a id="id2" class="indexterm"/>
<span class="strong"><strong>platforms as services</strong></span> (<span class="strong"><strong>PaaS</strong></span>). <a id="id3" class="indexterm"/>Salesforce.com has introduced the first on-demand platform called Force.com.</p><p>This chapter will introduce you to <a id="id4" class="indexterm"/>Visualforce. We will go through the MVC architecture and Visualforce. Furthermore, we will look at the architecture of Visualforce pages. We will define the advantages of Visualforce pages and will get an idea about Visualforce development tools.</p><p>This chapter covers the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The MVC model</li><li class="listitem" style="list-style-type: disc">Understanding Visualforce</li><li class="listitem" style="list-style-type: disc">Visualforce architecture</li><li class="listitem" style="list-style-type: disc">Advantages of Visualforce</li><li class="listitem" style="list-style-type: disc">Visualforce development tools</li></ul></div><p>So let's get started and step into Visualforce.</p><div class="section" title="The MVC model"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>The MVC model</h1></div></div></div><p>The <a id="id5" class="indexterm"/>Force.com<a id="id6" class="indexterm"/> platform uses the <a id="id7" class="indexterm"/>
<span class="strong"><strong>Model View Controller</strong></span> (<span class="strong"><strong>MVC</strong></span>) architectural pattern for developing an application. MVC splits the application development tools as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Model</strong></span>: This <a id="id8" class="indexterm"/>defines <a id="id9" class="indexterm"/>the structure of the data. In Force.com, objects define the data model. Salesforce has designed the platform by mapping every entity to some object.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>View</strong></span>: This defines <a id="id10" class="indexterm"/>how the <a id="id11" class="indexterm"/>data is represented. In Force.com, page layouts and Visualforce pages come under this category.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Controller</strong></span>: This defines <a id="id12" class="indexterm"/>the business logic. The rules and actions which<a id="id13" class="indexterm"/> manipulate the data controls the view. In Force.com, <a id="id14" class="indexterm"/><span class="strong"><strong>Apex</strong></span> classes, triggers, workflows, <a id="id15" class="indexterm"/>approvals, and validation rules are under this category.<div class="mediaobject"><img src="graphics/9818_01_01.jpg" alt="The MVC model"/><div class="caption"><p>The MVC Architecture</p></div></div></li></ul></div></div></div>
<div class="section" title="Understanding Visualforce"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Understanding Visualforce</h1></div></div></div><p>In the Force.com platform, we can <a id="id16" class="indexterm"/>develop Force.com applications with custom objects and standard objects. Every object has a standard user interface with one or more page layouts. But we cannot use standard page layouts for sophisticated requirements. Here, Visualforce comes into play.</p><p>Visualforce is a web-based UI framework, which can be used for building sophisticated, attractive, and dynamic custom user interfaces. Visualforce allows the developer to use standard web development technologies such as <a id="id17" class="indexterm"/>jQuery, <a id="id18" class="indexterm"/>JavaScript, <a id="id19" class="indexterm"/>CSS, and <a id="id20" class="indexterm"/>HTML5. Therefore, we can build rich UIs for any app including mobile apps. We'll be discussing about Visualforce with standard web development technologies and Visualforce for mobile in more depth later. Similar to HTML, the Visualforce framework includes a <a id="id21" class="indexterm"/>tag-based markup language.</p><p>A Visualforce page has two major elements called Visualforce markup and Visualforce controller. Visualforce markup consists of Visualforce tags with the prefix <code class="literal">apex:</code>, and there can be HTML tags, JavaScript, or any other standard web development code. Visualforce controller consists of a set of instructions to manipulate data and schema with the user interaction. It controls the interface as well. A standard controller, which is created along with the object can be used as Visualforce controller. A standard controller has the same logic and functionality which is used in standard pages. But when we need to use a different logic or functionality, we can write our own Apex controller class, and we can also write extensions to standard controllers or custom controllers using the <a id="id22" class="indexterm"/>Apex language. AJAX components, expression language formula for actions, and component binding interactions are there in Visualforce.</p></div>
<div class="section" title="The Visualforce architecture"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>The Visualforce architecture</h1></div></div></div><p>Visualforce is a<a id="id23" class="indexterm"/> markup language similar to HTML. Visualforce pages run <a id="id24" class="indexterm"/>on the Force.com platform and it can integrate with standard web development technologies such as JavaScript, jQuery, and styling by CSS. It allows us to build more rich and animated UIs. Each page can be identified by a unique page name. Therefore a Visualforce page has a unique URL for accessing the page. A developer can create a Visualforce page by entering the page name in the address bar, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9818_01_02.jpg" alt="The Visualforce architecture"/><div class="caption"><p>Create a Visualforce page from a URL</p></div></div><p>After creating the<a id="id25" class="indexterm"/> page, we can access the page by using the same URL. The Visualforce <a id="id26" class="indexterm"/>markup has a special set of components which is similar to the tag library system of other markups. These components allow us to create complicated components with a single tag. These components are processed and rendered on servers and finally delivered to the client. This methodology has higher performance and enriched functionality when compared to the client-only methods. A Visualforce page runs on the platform shown in following diagram:</p><div class="mediaobject"><img src="graphics/9818_01_03.jpg" alt="The Visualforce architecture"/><div class="caption"><p>Execution flow while saving Visualforce on a server</p></div></div><p>The preceding <a id="id27" class="indexterm"/>digram illustrates that every time a developer saves a Visualforce page on a<a id="id28" class="indexterm"/> platform, the platform compiles the markup and related controllers. On successful compilation, markup is converted into an abstract set of instructions that can be understood by the Visualforce renderer. If there are any compilation errors, then it stops saving the page and returns the errors to the developer. If the saving attempt successfully finished, then the instructions are saved to the metadata repository and sent to the Visualforce renderer. The renderer converts the instructions into HTML, which can be understood by the browsers, and then refreshes the page as shown in the following diagram:</p><div class="mediaobject"><img src="graphics/9818_01_04.jpg" alt="The Visualforce architecture"/><div class="caption"><p>Execution flow of Visualforce page</p></div></div><p>The preceding <a id="id29" class="indexterm"/>diagram illustrates that when a non-developer user requests a Visualforce <a id="id30" class="indexterm"/>page, the application server retrieves the page from the metadata repository and then sends to the Visualforce renderer for HTML conversion. There is no compilation because the page has already been compiled into instructions during its development.</p></div>
<div class="section" title="Advantages of Visualforce"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Advantages of Visualforce</h1></div></div></div><p>The following are the advantages<a id="id31" class="indexterm"/> of Visualforce for a developer:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Model-View-Controller development style</strong></span>: Visualforce adheres to the MVC pattern by providing the View of the application in the Force.com platform. A View is defined by user interfaces and Visualforce markup. The Visualforce controller which can be associated with Visualforce markup takes care of the business logic. Therefore, the designer and the developer can work separately, while the designer focuses on user interface and the developer focuses on business logic.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>User-friendly development</strong></span>: A developer (with an administrator profile) user can have a Visualforce editor pane at the bottom of every Visualforce page. This editor pane is controlled by the <span class="strong"><strong>Development Mode</strong></span> option of the user record. This feature allows us to edit and see the resulting page at the same time and in the same window. This Visualforce editor has the code-saving feature with auto compilation and syntax highlighting.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>A broad set of ready-to-serve Visualforce components</strong></span>: Visualforce has a set of standard components in several categories. There are output components, for example, <code class="literal">&lt;apex:outputPanel&gt;</code>, <code class="literal">&lt;apex:outputField&gt;</code>, <code class="literal">&lt;apex:outputText&gt;</code>, <code class="literal">&lt;apex:pageBlock&gt;</code>,and so on. There are input components, for example, <code class="literal">&lt;apex:inputFile&gt;</code>, <code class="literal">&lt;apex:inputField&gt;</code>, <code class="literal">&lt;apex:inputText&gt;</code>, <code class="literal">&lt;apex:selectList&gt;</code>, and so on. These input and output components have a feature called data-driven defaults. For an example, when we specify the <code class="literal">&lt;apex:inputField&gt;</code> component in a particular Visualforce page, the <code class="literal">&lt;apex:inputField&gt;</code> tag provides the edit interface for that field with data-type-related widgets (for example, the <span class="strong"><strong>Date</strong></span> field has the <a id="id32" class="indexterm"/>calendar, and the e-mail/phone fields have their particular validations). There are also AJAX components, for example, <code class="literal">&lt;apex:actionStatus&gt;</code>. AJAX components allow the user to enhance the level of interactivity for a particular interface.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Tightly integrated with Salesforce / Extends with custom components</strong></span>: A Visualforce page can have a custom controller as well as a standard controller. A standard controller is created while creating the object and can be used for the Visualforce controller. A standard controller has the same logic and functionality which is used in standard pages. Visualforce pages adhere to these standardized methods and functionality. And we can also extend the standard components with custom components. For example, we can use an extension class for extending the standard controller of a particular Visualforce page. We can create our own Visualforce custom components instead of Visualforce in-built components for example, <code class="literal">&lt;apex:inputFile&gt;</code>, <code class="literal">&lt;apex:inputField&gt;</code>, <code class="literal">&lt;apex:outputField&gt;</code>, and so on. In the next two chapters we will discuss more about Visualforce controllers and Visualforce custom components.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Flexible and customizable with web technologies</strong></span>: The Visualforce markup is more flexible and more customizable through the use of web technologies, for example, JavaScript, CSS, jQuery, Flash, and so on because it is eventually rendered into HTML. A designer can use the Visualforce tags with these web technologies.</li></ul></div></div>
<div class="section" title="Visualforce development tools"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Visualforce development tools</h1></div></div></div><p>We can edit and view <a id="id33" class="indexterm"/>Visualforce pages from the set-up area by <a id="id34" class="indexterm"/>navigating to <span class="strong"><strong>Your Name</strong></span> | <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Develop</strong></span> | <span class="strong"><strong>Pages</strong></span>.</p><p>But, that's not the best way to develop Visualforce pages. There are a few other ways to build Visualforce pages, which are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The Visualforce editor pane</strong></span>: This is <a id="id35" class="indexterm"/>discussed<a id="id36" class="indexterm"/> under the advantages of Visualforce.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The Force.com IDE</strong></span>: This <a id="id37" class="indexterm"/>IDE is used for creating and editing Visualforce pages, custom Visualforce components, <a id="id38" class="indexterm"/>static resources, and controllers.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The Eclipse plugin for Force.com</strong></span>: This is same as the Force.com IDE, we can use it to create and edit <a id="id39" class="indexterm"/>Visualforce pages, <a id="id40" class="indexterm"/>custom Visualforce components, static resources, and controllers are some of the major features of the Force.com IDE.</li></ul></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Summary</h1></div></div></div><p>In this chapter we became familiar with the MVC model and Visualforce. We saw the Visualforce architecture and the advantages of Visualforce, and also the various Visualforce development tools.</p></div></body></html>