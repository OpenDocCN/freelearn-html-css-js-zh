<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch12"/>Chapter 12. Summary and Further Reading</h1></div></div></div><p>In this chapter, we begin by looking back over everything we've covered in the previous chapters. We then look at how Backbone is being used to power a real-world medical application, and finally, we look forward to how you can continue your Backbone education. In particular we will cover the following:</p><div><ul class="itemizedlist"><li class="listitem">Summarize the roles of various Backbone components</li><li class="listitem">Learn how Backbone is being used today to power Syapse</li><li class="listitem">Consider how everything we've learned is applied to the Syapse use case</li><li class="listitem">Look at further opportunities to learn about Backbone</li></ul></div><div><div><div><div><h1 class="title"><a id="ch12lvl1sec99"/>Putting it all together</h1></div></div></div><p>In the first half of this book, we examined the four Backbone classes (<code class="literal">Collection</code>, <code class="literal">Model</code>, <code class="literal">Router</code>, and <code class="literal">View</code>), and how each of them fit together to build a web application. To refresh, a Backbone-powered site starts with a <code class="literal">Router</code> class, which is used to map URLs to the virtual pages of the application. <code class="literal">Router</code> makes up half of the MVC <code class="literal">Controller</code> layer, while the <code class="literal">View</code> class makes up the other half. The <code class="literal">View</code> class is also responsible for the MVC <code class="literal">View</code> layer of a web application, as <code class="literal">View</code> classes both render the pages that make up the site and listen for and respond to user-generated events.</p><p>Of course, a data or MVC <code class="literal">Model</code> layer is also essential for almost any application, and this layer is handled by the <code class="literal">Model</code> and <code class="literal">Collection</code> classes. <code class="literal">Model</code> classes, which represent individual data objects, are used both to manage data on the client-side and to send and receive data to and from the server. <code class="literal">Collection</code> classes hold sets of <code class="literal">Model</code> classes but are otherwise used similarly to manage data and transmit it to/from the server. <code class="literal">Model</code> and <code class="literal">Collection</code> classes are used primarily by <code class="literal">View</code> classes, which render their data into DOM elements.</p><p>All of these classes are designed not just to be used directly but also to be extended into new subclasses with logic specific to your application. This same extension mechanism is used by third-party Backbone libraries, such as BackGrid and BackSupport, to provide components that further extend the capabilities of your application. However, Backbone-specific libraries aren't the only third-party libraries that you can use in your Backbone application. By wrapping non-Backbone components with your own custom Backbone classes, you can cleanly incorporate tools such as a template system or a jQuery UI widget in to your application. Even libraries that can't be wrapped in a Backbone class, such as Underscore, RequireJS, or Mocha, can be used independently to add functionality without losing any of the benefits of Backbone itself.</p><p>This, in short, summarizes everything we've learned so far, but as we covered that information originally, we kept our focus on component at a time. As we finish this book, it would be beneficial to look at how all these pieces can be used together to implement a real-world use case. That use case is Syapse.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec100"/>What's Syapse?</h1></div></div></div><p>As mentioned in <a class="link" title="Chapter 1. Building a Single-Page Site Using Backbone" href="part0015.xhtml#aid-E9OE1">Chapter 1</a>, <em>Building a Single-Page Site Using Backbone</em>, Syapse (<a class="ulink" href="http://www.syapse.com">http://www.syapse.com</a>) is a <a id="id359" class="indexterm"/>Backbone-powered web application for requesting and <a id="id360" class="indexterm"/>providing precision medicine results. Syapse's customers are laboratories and hospitals that use genetic sequencing to profile patients with serious diseases like cancer. Once sequenced, these genetic profiles can be combined with large bodies of research to determine the best treatments and dosages for a given patient based on the patient's own DNA.</p><p>Let's take a look at how Syapse was put together.</p><div><div><div><div><h2 class="title"><a id="ch12lvl2sec39"/>The 10,000-foot view</h2></div></div></div><p>Syapse's client-side code is organized using Require.js (see <em>Dependency management with RequireJS</em> in <a class="link" title="Chapter 11. (Not) Re-Inventing the Wheel – Utilizing Third-Party Libraries" href="part0095.xhtml#aid-2QJ5E1">Chapter 11</a>, <em>(Not) Re-Inventing the Wheel: Utilizing Third-Party Libraries</em>). Every module is either a class, a singleton instance (for utility libraries), or a function (for routes). Syapse has two different sites, one for laboratories and the other for clinics, so we use RequireJS to compile separate JavaScript files for each site. </p><p>Each of these files has its own Backbone <code class="literal">Router</code>, allowing each site to have a completely distinct set of URLs and pages (see <em>Multiple routers</em> in <a class="link" title="Chapter 6. Creating Client-side Pages with Routers" href="part0054.xhtml#aid-1JFUC1">Chapter 6</a>,</p><p>
<em>Creating Client-Side Pages with Routers</em>). These <code class="literal">Router</code> classes form the top of the RequireJS dependency tree, bringing in (or depending on) all of the site's routes. These route modules then bring in the site's <code class="literal">Views</code> classes, which in turn bring in the site's <code class="literal">Model</code> and <code class="literal">Collection</code> classes.</p><p>There are four "base" classes<a id="id361" class="indexterm"/> that every other class in the application inherits from. These base classes are based on the BackSupport classes (see <em>Making life easier with BackSupport</em> in <a class="link" title="Chapter 11. (Not) Re-Inventing the Wheel – Utilizing Third-Party Libraries" href="part0095.xhtml#aid-2QJ5E1">Chapter 11</a>, <em>(Not) Re-Inventing the Wheel: Utilizing Third-Party Libraries</em>), and are used to define new features that are Syapse-specific. For instance, since Syapse uses the Handlebars templating library, the base <code class="literal">View</code> class includes the logic for rendering Handlebars templates (see <em>Templating with Handlebars</em> in <a class="link" title="Chapter 11. (Not) Re-Inventing the Wheel – Utilizing Third-Party Libraries" href="part0095.xhtml#aid-2QJ5E1">Chapter 11</a>, <em>(Not) Re-Inventing the Wheel: Utilizing Third-Party Libraries</em>).</p><p>Syapse uses the <code class="literal">Page View</code> pattern (see <em>Page views</em> in <a class="link" title="Chapter 5. Adding and Modifying Elements with Views" href="part0050.xhtml#aid-1FLS42">Chapter 5</a>, <em>Adding and Modifying Elements With Views</em>) with one base <code class="literal">Page View</code> class for the laboratory interface and one for the clinic interface. These render all of the parts of the site that are shared between pages, such as the navigation menu, and both of these <code class="literal">Page View</code> patterns share a common base <code class="literal">View</code> class, allowing them to reuse generic page-rendering logic that is common to both sites.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec40"/>The View layer</h2></div></div></div><p>Pages in the Syapse <a id="id362" class="indexterm"/>laboratory site are divided into three sections, each with their own <code class="literal">View</code> class: a left navigation section, a header area, and a main content area. Each of these can optionally be overwritten when the page is instantiated, letting each route modify only its unique section(s). For instance, most routes don't change the left navigation bar, so when these routes instantiate the page <code class="literal">View</code> class, they simply rely on the default navigation bar of this <code class="literal">View</code> class.</p><p>Each of the subclasses of <code class="literal">View</code> handles the rendering of its part of the page. Because Syapse relies on <em>The combined approach</em> (see <a class="link" title="Chapter 5. Adding and Modifying Elements with Views" href="part0050.xhtml#aid-1FLS42">Chapter 5</a>, <em>Adding and Modifying Elements with Views</em>) to do its rendering, these <code class="literal">View</code> classes use a combination of Handlebars templates and other child <code class="literal">View</code> classes to generate their content. For particularly complex pages, this can result in not just child <code class="literal">View</code> classes but also grandchild, great grandchild, and sometimes, even great-great grandchild <code class="literal">View</code> classes. Whenever possible, Syapse uses multiple smaller <code class="literal">View</code> classes rather than one large one, to keep the logic for each <code class="literal">View</code> class as simple as possible.</p><p>For consistency, all of the render methods in these <code class="literal">View</code> classes return this. Further, for consistency, each <code class="literal">View</code> class is designed to be re-renderable, so that it can easily listen and respond to change events in its <code class="literal">Model</code> classes (see <em>Other render considerations</em> in <a class="link" title="Chapter 5. Adding and Modifying Elements with Views" href="part0050.xhtml#aid-1FLS42">Chapter 5</a>, <em>Adding and Modifying Elements with Views</em>).</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec41"/>The Data layer</h2></div></div></div><p>On the server-side, Syapse uses<a id="id363" class="indexterm"/> Python and the Django REST Framework library to power all of its APIs, and while this gives the server team a great deal of control over the API, they are still somewhat limited by the library and can't always make APIs that return ideal Backbone JSON. Because of this many of Syapse's <code class="literal">Model</code> and <code class="literal">Collection</code> classes make use of <code class="literal">parse</code> and <code class="literal">toJSON</code> method overrides to extract or send back the correct JSON to/from the API (see <em>Fetching data from the server</em> and <em>Saving data to the server</em> in <a class="link" title="Chapter 3. Accessing Server Data with Models" href="part0029.xhtml#aid-RL0A1">Chapter 3</a>, <em>Accessing Server Data with Models</em>).</p><p>Sometimes, Syapse's APIs return not just the data for a given <code class="literal">Model</code> or <code class="literal">Collection</code> class but also supplemental information. For instance, an API that returns a patient <code class="literal">Model</code> class might include the ID of that patient's doctor, but since the end user wants to see a name instead of an ID, the API response also includes a separate map of IDs to names. To keep track of this supplemental information, Syapse relies on a global pub/sub system (see <em>Publish/Subscribe</em> in <a class="link" title="Chapter 7. Fitting Square Pegs in Round Holes – Advanced Backbone Techniques" href="part0069.xhtml#aid-21PMQ1">Chapter 7</a>, <em>Fitting Square Pegs in Round Holes: Advanced Backbone Techniques</em>). Whenever a <code class="literal">Model</code> class parses such supplemental information during a fetch, it triggers a special supplemental information" event with this information as an extra argument. This event is then listened for by one or more site-wide <code class="literal">Collection</code> caches, which aggregate the supplemental information and make it available for the <code class="literal">View</code> classes.</p></div><div><div><div><div><h2 class="title"><a id="ch12lvl2sec42"/>The Support layer</h2></div></div></div><p>All of Syapse's code is tested <a id="id364" class="indexterm"/>using Selenium for acceptance testing and Mocha/Sinon for unit testing (see <em>Testing? In JavaScript?</em> and <em>Selenium</em> in <a class="link" title="Chapter 10. Keeping the Bugs Out – How to Test a Backbone Application" href="part0089.xhtml#aid-2KS221">Chapter 10</a>, <em>Keeping the Bugs Out: How to Test a Backbone Application</em>). By using expressive test names and the BDD test output style (see <em>TDD versus BDD: What's the difference?</em> in <a class="link" title="Chapter 10. Keeping the Bugs Out – How to Test a Backbone Application" href="part0089.xhtml#aid-2KS221">Chapter 10</a>, <em>Keeping the Bugs Out: How to Test a Backbone Application</em>), we ensure that Syapse's test output is very specific and looks like the following:</p><div><img src="img/image00171.jpeg" alt="The Support layer"/></div><p style="clear:both; height: 1em;"> </p><p>For documentation, Syapse<a id="id365" class="indexterm"/> relies primarily on inline documentation, using JSDoc annotations without actually rendering documentation pages (see <em>The robust documentation approach</em> in <a class="link" title="Chapter 9. What Was I Thinking? Documenting Backbone Code" href="part0083.xhtml#aid-2F4UM1">Chapter 9</a>, <em>What Was I Thinking? Documenting Backbone Code</em>). However, Syapse also has a customer-facing JavaScript API, which is considerably more heavily documented than both generated JSDoc API pages and a Docco-based tutorial.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec101"/>Building your own Syapse</h1></div></div></div><p>Your application <a id="id366" class="indexterm"/>might be, like Syapse, a serious tool designed to help with a critical problem such as fighting cancer. Alternatively, your application might be something more fun, like a game or personal project. In either case, Backbone offers everything you need to not just build your site but also continue adding to and maintaining the site over its entire lifetime.</p><p>However, no book can possibly explain every possible nuance of a library that is as flexible and as powerful as Backbone. At its core, Backbone strives to do only a few important things well and leaves everything else up to you, the programmer. This not only means a great deal of power and flexibility, but it also means that you have to make a large number of<a id="id367" class="indexterm"/> decisions for yourself as to how you want to use Backbone. To make the correct decisions, and truly take advantage of everything Backbone has to offer, you will no doubt want to continue learning as much as you can about both Backbone in particular and web development in general.</p></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec102"/>Further reading</h1></div></div></div><p>There are many places to learn about <a id="id368" class="indexterm"/>Backbone, but perhaps, the best place is Backbone's own source code. As the author of both Backbone and Docco, it's no surprise that Jeremy Ashkenas uses the Docco documentation tool to provide an annotated version of Backbone<a id="id369" class="indexterm"/>'s source code, which you can find at <a class="ulink" href="http://backbonejs.org/docs/backbone.html">http://backbonejs.org/docs/backbone.html</a>.</p><p>However, you don't need the annotated version to read Backbone's code. In fact, whenever some part of Backbone seems confusing or difficult to understand, one of the best ways to learn more is to throw debugger statements into the Backbone source code itself and then, run your application using the browser's debugging tool. By walking through the code in the debugger, you can see the logic progress through Backbone's classes and methods, and because the source code is so well-written and readable, this task will be much less daunting than it would be with almost any other major JavaScript library.</p><p>Backbone also offers a wiki<a id="id370" class="indexterm"/> at <a class="ulink" href="https://github.com/jashkenas/backbone/wiki">https://github.com/jashkenas/backbone/wiki</a>. In addition to basic Backbone information, this wiki includes collections of plugins and development tools, lists of companies that use Backbone, and a great variety of tutorials and informative blog posts. This latter list (which can be found at <a class="ulink" href="https://github.com/jashkenas/backbone/wiki/Tutorials,-blog-posts-and-example-sites">https://github.com/jashkenas/backbone/wiki/Tutorials,-blog-posts-and-example-sites</a>) is particularly valuable, with more than fifty different high-quality sites where you can learn more about <a id="id371" class="indexterm"/>Backbone.</p><p>Another great source of information on Backbone is Packt Publishing, which offers many great Backbone-focused books. While they do cover some of the same basics as this book, you might find the sample applications built in <em>BackboneJS Blueprints</em> by Andrew Bugess or the recipes of <em>Backbone.js Cookbook</em> by Vadim Mirgood to be valuable. If you'd prefer a more advanced look at useful Backbone patterns you can employ, then you might instead find <em>Backbone.js Patterns and Best Practices</em> by Swarnendu De useful. Further, if you find your interest piqued by <a class="link" title="Chapter 10. Keeping the Bugs Out – How to Test a Backbone Application" href="part0089.xhtml#aid-2KS221">Chapter 10</a>, <em>Keeping the Bugs Out: How to Test a Backbone Application</em>, then <em>Backbone.js Testing</em> by Ryan Roemer is a perfect text for you to learn more about Backbone testing.</p><p>However, as great <a id="id372" class="indexterm"/>as books are, they can never keep completely up-to-date with the very latest in emerging Backbone technologies, and that's where certain websites can be invaluable. One incredible resource is <a id="id373" class="indexterm"/>Stack Overflow (<a class="ulink" href="http://www.stackoverflow.com">http://www.stackoverflow.com</a>), where programmers of any persuasion can find answers to their technical questions, including ones about Backbone. However, Stack Overflow can also be valuable when you don't have a specific question. Because the site has both <em>tags</em> and <em>votes</em> on every question, you can search for questions with the <code class="literal">backbone.js</code> tag, and then sort them by votes; any questions at the top will most likely be educational. At the time of writing, Stack Overflow featured more than 12,000 different Backbone questions with answers (and more than 17,000 questions in total).</p><p>Another similar question and answer site, which isn't programming-focused, is<a id="id374" class="indexterm"/> Quora (<a class="ulink" href="https://www.quora.com/">https://www.quora.com/</a>). While Stack Overflow limits itself exclusively to objective questions, Quora has no such limitation and so is perfect for more subjective questions, such as "What are the advantages of <a id="id375" class="indexterm"/>Backbone.js" (<a class="ulink" href="http://www.quora.com/What-are-the-advantages-of-Backbone-js">http://www.quora.com/What-are-the-advantages-of-Backbone-js</a>).</p><p>Another excellent place to learn about Backbone is the Backbone Google Group<a id="id376" class="indexterm"/> (<a class="ulink" href="https://groups.google.com/forum/#!forum/backbonejs">https://groups.google.com/forum/#!forum/backbonejs</a>), which has an active community. If, on the other hand, you prefer to follow a stream of news articles, the Backbone sub-feed on <a id="id377" class="indexterm"/>Reddit (<a class="ulink" href="http://www.reddit.com/r/backbonejs/">http://www.reddit.com/r/backbonejs/</a>) is a great resource for keeping up to date. Finally, on a more general level, Hacker News (<a class="ulink" href="https://news.ycombinator.com/">https://news.ycombinator.com/</a>), Lobsters<a id="id378" class="indexterm"/> (<a class="ulink" href="https://lobste.rs">https://lobste.rs</a>), and <a id="id379" class="indexterm"/>Dzone (<a class="ulink" href="http://www.dzone.com/links/index.html">http://www.dzone.com/links/index.html</a>) all feature continuous feeds of various programming-related news and articles, including many on JavaScript in general and Backbone in particular.</p></div>
<div><div><div><div><h1 class="title"><a id="ch12lvl1sec103"/>Summary</h1></div></div></div><p>In this chapter, we reviewed the previous eleven chapters and summarized patterns of how to use Backbone to build a robust web application. We also looked specifically at how Backbone was used to build the cancer-fighting application Syapse. Finally, we examined other places where you can learn even more about Backbone, including other great books from Packt Publishing. We hope you enjoyed this book, and we wish you the best of luck in creating powerful web applications using Backbone.</p></div></body></html>