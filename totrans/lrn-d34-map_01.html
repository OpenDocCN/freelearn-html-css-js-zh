<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Gathering Your Cartography Toolbox</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Welcome to the world of cartography with D3. </span><span class="koboSpan" id="kobo.2.2">In this chapter, you will be given all the tools you need to create a map using D3. </span><span class="koboSpan" id="kobo.2.3">These tools exist freely and openly, thanks to the wonderful world of open source. </span><span class="koboSpan" id="kobo.2.4">Given that we are going to be speaking in terms of the web, our languages will be HTML, CSS, and JavaScript. </span><span class="koboSpan" id="kobo.2.5">After reading this book, you will be able to use all three languages effectively in order to create maps on your own.</span></p>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will cover the following topics:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.4.1">Quick bootstrap</span></li>
<li><span><span class="koboSpan" id="kobo.5.1">Step-by-step bootstrap</span></span></li>
<li><span><span class="koboSpan" id="kobo.6.1">Installing key libraries and tools</span></span></li>
<li><span><span class="koboSpan" id="kobo.7.1">Using the web browser as a development tool</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.8.1">When creating maps in D3, your toolbox is extraordinarily light. </span><span class="koboSpan" id="kobo.8.2">The goal is to focus on creating data visualizations and remove the burden of heavy IDEs and map-making software.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Quick bootstrap</span></h1>
                </header>
            
            <article>
                
<p><span><span class="koboSpan" id="kobo.2.1">The following instructions assume that</span></span><span class="koboSpan" id="kobo.3.1"> Node.js , </span><kbd><span class="koboSpan" id="kobo.4.1">npm</span></kbd><span><span class="koboSpan" id="kobo.5.1">, and</span></span> <kbd><span class="koboSpan" id="kobo.6.1">git</span></kbd> <span><span class="koboSpan" id="kobo.7.1">are already installed on your system. </span><span class="koboSpan" id="kobo.7.2">If not, feel free to follow the </span><em><span class="koboSpan" id="kobo.8.1">Step-by-Step bootstrap</span></em><span class="koboSpan" id="kobo.9.1"> section.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">Type the following in the command line to install a light webserver::</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.11.1">npm install -g http-server</span></strong></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.12.1">Install TopoJSON:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.13.1">npm install -g topojson</span></strong></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.14.1">Clone the sample code with included libraries:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.15.1">git clone --depth=1 git@github.com:climboid/d3jsMaps.git</span></strong></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.16.1">Go to the root project:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.17.1">cd d3jsMaps</span></strong></pre>
<p><span class="koboSpan" id="kobo.18.1">To start the server type the following:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.19.1">http-server</span></strong></pre>
<div class="packt_tip"><span class="koboSpan" id="kobo.20.1">You can download the example code files from your account at </span><a href="http://www.packtpub.com"><span class="URLPACKT"><span class="koboSpan" id="kobo.21.1">http://www.packtpub.com</span></span></a><span class="koboSpan" id="kobo.22.1"> for all the Packt Publishing books you have purchased. </span><span class="koboSpan" id="kobo.22.2">If you purchased this book elsewhere, you can visit </span><a href="http://www.packtpub.com/support"><span class="URLPACKT"><span class="koboSpan" id="kobo.23.1">http://www.packtpub.com/support</span></span></a><span class="koboSpan" id="kobo.24.1"> and register to have the files emailed directly to you.</span></div>
<p><span class="koboSpan" id="kobo.25.1">Now, open your web browser to </span><kbd><span class="koboSpan" id="kobo.26.1">http://localhost:8080/chapter-1/example-1.html</span></kbd><span class="koboSpan" id="kobo.27.1">, and you should see the following map:</span></p>
<div class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.28.1"><img src="assets/9cd01d3a-43f6-4b21-99c5-3e33f3fea051.png"/></span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Step-by-step bootstrap</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The next section covers detailed instructions to set up your development environment if you do not have any of the required packages. </span><span class="koboSpan" id="kobo.2.2">By the end of the chapter, you will have a working environment for the rest of the book (an example of a </span><span><span class="koboSpan" id="kobo.3.1">running</span></span><span class="koboSpan" id="kobo.4.1"> map and an initial look at tools used to create visualizations).</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">A lightweight web server</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Technically, most of the content we will craft can render directly in the browser without the use of a web server. </span><span class="koboSpan" id="kobo.2.2">However, we highly recommend you do not go ahead with this approach. </span><span class="koboSpan" id="kobo.2.3">Running a web server in your local development environment is extremely easy and provides several benefits:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.3.1">Geographic information, statistical data, and visualization code can be clearly separated into isolated files</span></li>
<li><span class="koboSpan" id="kobo.4.1">API calls can be stubbed and simulated, allowing easy integration into a full-stack application in the future</span></li>
<li><span class="koboSpan" id="kobo.5.1">It will prevent common mistakes when making AJAX calls to fetch geographic and statistical data (for example, the same-origin policy)</span></li>
</ul>
<p><span class="koboSpan" id="kobo.6.1">For our choice of web server and other tools in our toolbox, we will rely on a Node.js package named </span><kbd><span class="koboSpan" id="kobo.7.1">http-server</span></kbd><span class="koboSpan" id="kobo.8.1">. </span><span class="koboSpan" id="kobo.8.2">Node.js is a platform built on Chrome's JavaScript runtime, which is used to build fast, scalable network applications. </span><span class="koboSpan" id="kobo.8.3">The platform includes </span><strong><span class="koboSpan" id="kobo.9.1">Node Package Manager</span></strong><span class="koboSpan" id="kobo.10.1"> (</span><strong><span class="koboSpan" id="kobo.11.1">npm</span></strong><span class="koboSpan" id="kobo.12.1">), which was created by other members of the vibrant Node.js community and allows the developer to quickly install packages of pre-built software.</span></p>
<p><span class="koboSpan" id="kobo.13.1">To install Node.js, simply perform the following steps:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.14.1">Go to the website </span><a href="http://nodejs.org"><span class="URLPACKT"><span class="koboSpan" id="kobo.15.1">http://nodejs.org</span></span></a><span class="koboSpan" id="kobo.16.1">.</span></li>
<li><span class="koboSpan" id="kobo.17.1">Click on the </span><span class="packt_screen"><span class="koboSpan" id="kobo.18.1">INSTALL</span></span><span class="koboSpan" id="kobo.19.1"> button.</span></li>
<li><span class="koboSpan" id="kobo.20.1">Open the downloaded package and follow the defaults.</span></li>
</ol>
<p><span class="koboSpan" id="kobo.21.1">To test the installation, type the following in the command line:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.22.1">node -v</span></strong></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.23.1">Something similar should return:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.24.1">v0.10.26 </span></strong></pre>
<p><span class="koboSpan" id="kobo.25.1">This means we have installed the given version of Node.js.</span></p>
<p><span class="koboSpan" id="kobo.26.1">TopoJSON is a command-line utility used to create files in the TopoJSON-serialized format. </span><span class="koboSpan" id="kobo.26.2">The TopoJSON format will be discussed in detail in </span><a href="80f84fe0-7828-4ecc-9973-3e2bdef7ab55.xhtml"><span class="ChapterrefPACKT"><span class="koboSpan" id="kobo.27.1">Chapter 6</span></span></a><span class="koboSpan" id="kobo.28.1">, </span><em><span class="koboSpan" id="kobo.29.1">Finding and Working with Geographic Data</span></em><span class="koboSpan" id="kobo.30.1">. </span><span class="koboSpan" id="kobo.30.2">The TopoJSON utility is also installed via </span><kbd><span class="koboSpan" id="kobo.31.1">npm</span></kbd><span class="koboSpan" id="kobo.32.1">.</span></p>
<p><span class="koboSpan" id="kobo.33.1">We have already installed Node.js and </span><kbd><span class="koboSpan" id="kobo.34.1">npm</span></kbd><span class="koboSpan" id="kobo.35.1">, so enter the following on the command line:</span></p>
<pre><strong><span class="koboSpan" id="kobo.36.1">npm install -g topojson</span></strong></pre>
<p><span class="koboSpan" id="kobo.37.1">Once the installation is complete, you should check the version of TopoJSON installed on your machine just as we did with Node.js:</span></p>
<pre><strong><span class="koboSpan" id="kobo.38.1">geo2topo --version</span></strong></pre>
<p><span class="koboSpan" id="kobo.39.1">If you see version 3.x, it means you have successfully installed TopoJSON.</span></p>
<div class="packt_tip"><span class="koboSpan" id="kobo.40.1">TopoJSON uses </span><kbd><span class="koboSpan" id="kobo.41.1">node-gyp</span></kbd><span class="koboSpan" id="kobo.42.1"> which has several dependencies based on the operating system. </span><span class="koboSpan" id="kobo.42.2">Please go to </span><a href="http://github.com/TooTallNate/node-gyp"><span class="URLPACKT"><span class="koboSpan" id="kobo.43.1">http://github.com/TooTallNate/node-gyp</span></span></a><span class="koboSpan" id="kobo.44.1"> for details.</span></div>
<p class="mce-root"><span class="koboSpan" id="kobo.45.1">If you're using Windows, the basic steps to get TopoJSON working are as follows:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.46.1">Install Python 2.x (3.x not supported at the time of writing this book).</span></li>
<li><span class="koboSpan" id="kobo.47.1">Install Microsoft Visual Studio C++ 2012 for Desktop (Express).</span></li>
</ol>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Using the web browser as a development tool</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Although any modern browser supports </span><strong><span class="koboSpan" id="kobo.3.1">Scalable Vector Graphics</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong><span class="koboSpan" id="kobo.5.1">SVG</span></strong><span class="koboSpan" id="kobo.6.1">) and has some kind of console, we strongly recommend you use Google Chrome for these examples. </span><span class="koboSpan" id="kobo.6.2">It comes bundled with developer tools that will allow you to very easily open, explore, and modify the code. </span><span class="koboSpan" id="kobo.6.3">If you are not using Google Chrome, please go to </span><a href="http://www.google.com/chrome"><span class="URLPACKT"><span class="koboSpan" id="kobo.7.1">http://www.google.com/chrome</span></span></a><span class="koboSpan" id="kobo.8.1"> and install Google Chrome.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Installing the sample code</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Go to </span><a href="https://github.com/climboid/d3jsMaps"><span class="URLPACKT"><span class="koboSpan" id="kobo.3.1">https://github.com/climboid/d3jsMaps</span></span></a><span class="koboSpan" id="kobo.4.1"> and either clone the repo, if you are familiar with Git cloning, or simply download the zipped version. </span><span class="koboSpan" id="kobo.4.2">Once it is downloaded, make sure to extract the file if you have it zipped.</span></p>
<p><span class="koboSpan" id="kobo.5.1">Use the command prompt or terminal to go to the directory where you downloaded your file. </span><span class="koboSpan" id="kobo.5.2">For instance, if you downloaded the file to your desktop, type in the following:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.6.1">cd ~/Desktop/d3jsMaps</span></strong></pre>
<p class="mce-root"><span class="koboSpan" id="kobo.7.1">To start the server type the following:</span></p>
<pre class="mce-root"><strong><span class="koboSpan" id="kobo.8.1">http-server</span></strong></pre>
<p><span class="koboSpan" id="kobo.9.1">The last command will launch the simple server we installed previously for the supplied sample code. </span><span class="koboSpan" id="kobo.9.2">This means that, if you open your browser and go to </span><kbd><span class="koboSpan" id="kobo.10.1">http://localhost:8080/chapter-1/example-1.html</span></kbd><span class="koboSpan" id="kobo.11.1">, you should see a map</span><br/><span class="koboSpan" id="kobo.12.1">
of Europe, similar to the one shown earlier.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Working with the developer tools</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">It's time to open the developer tools. </span><span class="koboSpan" id="kobo.2.2">In the top-right corner of the browser, you will see the icon as shown in the following screenshot:</span></p>
<div class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.3.1"><img height="346" width="384" src="assets/f5ed9df7-4f56-4a0b-9aea-1042f753eb7d.png"/></span></div>
<p><span class="koboSpan" id="kobo.4.1">This icon opens a submenu. </span><span class="koboSpan" id="kobo.4.2">Click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.5.1">More</span></span> <span class="packt_screen"><span class="koboSpan" id="kobo.6.1">Tools</span></span><span class="koboSpan" id="kobo.7.1">, then click on </span><span class="packt_screen"><span class="koboSpan" id="kobo.8.1">Developer tools</span></span><span class="koboSpan" id="kobo.9.1">.</span><br/><span class="koboSpan" id="kobo.10.1">
A panel will open at the bottom of the browser, containing all the developer tools at your disposal.</span></p>
<div class="packt_infobox"><span class="koboSpan" id="kobo.11.1">The option names mentioned here might differ according to the version of Chrome you are using.</span></div>
<div class="packt_figure CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.12.1"><img height="496" width="520" src="assets/14c14339-fa60-4251-bca3-fc68c396d1c7.png"/></span></div>
<div class="packt_tip"><span class="koboSpan" id="kobo.13.1">For quick access to developer tools on the Mac, use </span><em><span class="KeyPACKT"><span class="koboSpan" id="kobo.14.1">alt</span></span></em><span class="koboSpan" id="kobo.15.1"> + </span><span class="KeyPACKT"><span class="koboSpan" id="kobo.16.1">command</span></span><span class="koboSpan" id="kobo.17.1"> + </span><em><span class="KeyPACKT"><span class="koboSpan" id="kobo.18.1">I</span></span></em><span class="koboSpan" id="kobo.19.1">; for Windows PCs, use </span><em><span class="KeyPACKT"><span class="koboSpan" id="kobo.20.1">Ctrl</span></span></em><span class="koboSpan" id="kobo.21.1"> + </span><em><span class="KeyPACKT"><span class="koboSpan" id="kobo.22.1">Shift</span></span></em><span class="koboSpan" id="kobo.23.1"> + </span><em><span class="koboSpan" id="kobo.24.1">I</span></em><span class="koboSpan" id="kobo.25.1">.</span></div>
<p><span class="koboSpan" id="kobo.26.1">Within developer tools, you have a series of tabs (</span><span class="packt_screen"><span class="koboSpan" id="kobo.27.1">Elements</span></span><span class="koboSpan" id="kobo.28.1">, </span><span class="packt_screen"><span class="koboSpan" id="kobo.29.1">Network</span></span><span class="koboSpan" id="kobo.30.1">, </span><span class="packt_screen"><span class="koboSpan" id="kobo.31.1">Sources</span></span><span class="koboSpan" id="kobo.32.1">, and so on). </span><span class="koboSpan" id="kobo.32.2">These tools are extremely valuable and will allow you to inspect different aspects of your code. </span><span class="koboSpan" id="kobo.32.3">For more information on the Chrome developer tools, please go to this link: </span><a href="https://developer.chrome.com/devtools/docs/authoring-development-workflow"><span class="URLPACKT"><span class="koboSpan" id="kobo.33.1">https://developer.chrome.com/devtools/docs/authoring-development-workflow</span></span></a><span class="koboSpan" id="kobo.34.1">.</span></p>
<p><span class="koboSpan" id="kobo.35.1">Since we are going to focus on the </span><span class="packt_screen"><span class="koboSpan" id="kobo.36.1">Elements</span></span><span class="koboSpan" id="kobo.37.1"> tab, click on it if it is not already selected.</span></p>
<p><span class="koboSpan" id="kobo.38.1">You should see something similar to the preceding screenshot; it will have the following code statement:</span></p>
<pre><span class="koboSpan" id="kobo.39.1">&lt;svg width="812" height="584"&gt; </span></pre>
<p><span class="koboSpan" id="kobo.40.1">If you click on the SVG item, you should see it expand and display the path tag. </span><span class="koboSpan" id="kobo.40.2">The path tag will have several numbers and characters tied to a </span><kbd><span class="koboSpan" id="kobo.41.1">d</span></kbd><span class="koboSpan" id="kobo.42.1"> attribute. </span><span class="koboSpan" id="kobo.42.2">These numbers are control points that draw the path. </span><span class="koboSpan" id="kobo.42.3">We will cover how the path is drawn in the next chapter and how path tags are used to create maps in </span><a href="c22382c6-84d9-411f-b795-681df2321005.xhtml"><span class="ChapterrefPACKT"><span class="koboSpan" id="kobo.43.1">Chapter 4</span></span></a><em><span class="koboSpan" id="kobo.44.1">,</span></em> <em><span class="koboSpan" id="kobo.45.1">Creating a Map</span></em><span class="koboSpan" id="kobo.46.1"> and </span><a href="d2d3d4c7-b83a-4947-993a-84baa0f01674.xhtml"><span class="ChapterrefPACKT"><span class="koboSpan" id="kobo.47.1">Chapter 5</span></span></a><em><span class="koboSpan" id="kobo.48.1">,</span></em> <em><span class="koboSpan" id="kobo.49.1">Click-Click Boom! </span><span class="koboSpan" id="kobo.49.2">Applying Interactivity to Your Map</span></em><span class="koboSpan" id="kobo.50.1">.</span></p>
<p><span class="koboSpan" id="kobo.51.1">We also want to draw your attention to how the HTML5 application loads the D3 library. </span><span class="koboSpan" id="kobo.51.2">Again, in the </span><span class="packt_screen"><span class="koboSpan" id="kobo.52.1">Elements</span></span><span class="koboSpan" id="kobo.53.1"> tag, after the SVG tag, you should see the </span><kbd><span class="koboSpan" id="kobo.54.1">&lt;script&gt;</span></kbd><span class="koboSpan" id="kobo.55.1"> tag pointing to D3.js and TopoJSON:</span></p>
<pre><span class="koboSpan" id="kobo.56.1">&lt;script src="http://d3js.org/d3.v4.min.js"&gt;&lt;/script&gt;</span><br/><span class="koboSpan" id="kobo.57.1">&lt;script src="http://d3js.org/topojson.v3.min.js"&gt;&lt;/script&gt; </span></pre>
<p><span class="koboSpan" id="kobo.58.1">If you click on the path located inside the SVG tag, you will see a new panel called the CSS inspector or the styles inspector. </span><span class="koboSpan" id="kobo.58.2">It shows and controls all the styles that are applied to a selected element, in this case, the path element.</span></p>
<p><span class="koboSpan" id="kobo.59.1">These three components create a D3 visualization:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.60.1">HTML5 (the SVG and path elements)</span></li>
<li><span class="koboSpan" id="kobo.61.1">JavaScript (the D3.js library and map code)</span></li>
<li><span class="koboSpan" id="kobo.62.1">CSS (the styling of the HTML5 elements)</span></li>
</ul>
<p><span class="koboSpan" id="kobo.63.1">Creating maps and visualizations using these three components will be discussed and analyzed throughout the book.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Summary</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">This chapter reveals a quick glimpse of the steps for basic setup in order to have a well-organized codebase to create maps with D3. </span><span class="koboSpan" id="kobo.2.2">You should become familiar with this setup because we will be using this convention throughout the book.</span></p>
<p><span class="koboSpan" id="kobo.3.1">The remaining chapters will focus on creating detailed maps and achieving realistic visualizations through HTML, JavaScript, and CSS.</span></p>
<p class="mce-root"><span class="koboSpan" id="kobo.4.1">Let's go!</span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </body></html>