<html><head></head><body>
        

                            
                    <h1 class="header-title">Gathering Your Cartography Toolbox</h1>
                
            
            
                
<p>Welcome to the world of cartography with D3. In this chapter, you will be given all the tools you need to create a map using D3. These tools exist freely and openly, thanks to the wonderful world of open source. Given that we are going to be speaking in terms of the web, our languages will be HTML, CSS, and JavaScript. After reading this book, you will be able to use all three languages effectively in order to create maps on your own.</p>
<p>In this chapter, we will cover the following topics:</p>
<ul>
<li>Quick bootstrap</li>
<li>Step-by-step bootstrap</li>
<li>Installing key libraries and tools</li>
<li>Using the web browser as a development tool</li>
</ul>
<p>When creating maps in D3, your toolbox is extraordinarily light. The goal is to focus on creating data visualizations and remove the burden of heavy IDEs and map-making software.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Quick bootstrap</h1>
                
            
            
                
<p>The following instructions assume that Node.js , <kbd>npm</kbd>, and <kbd>git</kbd> are already installed on your system. If not, feel free to follow the <em>Step-by-Step bootstrap</em> section.</p>
<p>Type the following in the command line to install a light webserver::</p>
<pre class="mce-root"><strong>npm install -g http-server</strong></pre>
<p class="mce-root">Install TopoJSON:</p>
<pre class="mce-root"><strong>npm install -g topojson</strong></pre>
<p class="mce-root">Clone the sample code with included libraries:</p>
<pre class="mce-root"><strong>git clone --depth=1 git@github.com:climboid/d3jsMaps.git</strong></pre>
<p class="mce-root">Go to the root project:</p>
<pre class="mce-root"><strong>cd d3jsMaps</strong></pre>
<p>To start the server type the following:</p>
<pre class="mce-root"><strong>http-server</strong></pre>
<p>You can download the example code files from your account at <a href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files emailed directly to you.</p>
<p>Now, open your web browser to <kbd>http://localhost:8080/chapter-1/example-1.html</kbd>, and you should see the following map:</p>
<div><img src="img/9cd01d3a-43f6-4b21-99c5-3e33f3fea051.png"/></div>


            

            
        
    

        

                            
                    <h1 class="header-title">Step-by-step bootstrap</h1>
                
            
            
                
<p>The next section covers detailed instructions to set up your development environment if you do not have any of the required packages. By the end of the chapter, you will have a working environment for the rest of the book (an example of a running map and an initial look at tools used to create visualizations).</p>


            

            
        
    

        

                            
                    <h1 class="header-title">A lightweight web server</h1>
                
            
            
                
<p>Technically, most of the content we will craft can render directly in the browser without the use of a web server. However, we highly recommend you do not go ahead with this approach. Running a web server in your local development environment is extremely easy and provides several benefits:</p>
<ul>
<li>Geographic information, statistical data, and visualization code can be clearly separated into isolated files</li>
<li>API calls can be stubbed and simulated, allowing easy integration into a full-stack application in the future</li>
<li>It will prevent common mistakes when making AJAX calls to fetch geographic and statistical data (for example, the same-origin policy)</li>
</ul>
<p>For our choice of web server and other tools in our toolbox, we will rely on a Node.js package named <kbd>http-server</kbd>. Node.js is a platform built on Chrome's JavaScript runtime, which is used to build fast, scalable network applications. The platform includes <strong>Node Package Manager</strong> (<strong>npm</strong>), which was created by other members of the vibrant Node.js community and allows the developer to quickly install packages of pre-built software.</p>
<p>To install Node.js, simply perform the following steps:</p>
<ol>
<li>Go to the website <a href="http://nodejs.org">http://nodejs.org</a>.</li>
<li>Click on the INSTALL button.</li>
<li>Open the downloaded package and follow the defaults.</li>
</ol>
<p>To test the installation, type the following in the command line:</p>
<pre class="mce-root"><strong>node -v</strong></pre>
<p class="mce-root">Something similar should return:</p>
<pre class="mce-root"><strong>v0.10.26 </strong></pre>
<p>This means we have installed the given version of Node.js.</p>
<p>TopoJSON is a command-line utility used to create files in the TopoJSON-serialized format. The TopoJSON format will be discussed in detail in <a href="80f84fe0-7828-4ecc-9973-3e2bdef7ab55.xhtml">Chapter 6</a>, <em>Finding and Working with Geographic Data</em>. The TopoJSON utility is also installed via <kbd>npm</kbd>.</p>
<p>We have already installed Node.js and <kbd>npm</kbd>, so enter the following on the command line:</p>
<pre><strong>npm install -g topojson</strong></pre>
<p>Once the installation is complete, you should check the version of TopoJSON installed on your machine just as we did with Node.js:</p>
<pre><strong>geo2topo --version</strong></pre>
<p>If you see version 3.x, it means you have successfully installed TopoJSON.</p>
<p>TopoJSON uses <kbd>node-gyp</kbd> which has several dependencies based on the operating system. Please go to <a href="http://github.com/TooTallNate/node-gyp">http://github.com/TooTallNate/node-gyp</a> for details.</p>
<p class="mce-root">If you're using Windows, the basic steps to get TopoJSON working are as follows:</p>
<ol>
<li>Install Python 2.x (3.x not supported at the time of writing this book).</li>
<li>Install Microsoft Visual Studio C++ 2012 for Desktop (Express).</li>
</ol>


            

            
        
    

        

                            
                    <h1 class="header-title">Using the web browser as a development tool</h1>
                
            
            
                
<p>Although any modern browser supports <strong>Scalable Vector Graphics</strong> (<strong>SVG</strong>) and has some kind of console, we strongly recommend you use Google Chrome for these examples. It comes bundled with developer tools that will allow you to very easily open, explore, and modify the code. If you are not using Google Chrome, please go to <a href="http://www.google.com/chrome">http://www.google.com/chrome</a> and install Google Chrome.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Installing the sample code</h1>
                
            
            
                
<p>Go to <a href="https://github.com/climboid/d3jsMaps">https://github.com/climboid/d3jsMaps</a> and either clone the repo, if you are familiar with Git cloning, or simply download the zipped version. Once it is downloaded, make sure to extract the file if you have it zipped.</p>
<p>Use the command prompt or terminal to go to the directory where you downloaded your file. For instance, if you downloaded the file to your desktop, type in the following:</p>
<pre class="mce-root"><strong>cd ~/Desktop/d3jsMaps</strong></pre>
<p class="mce-root">To start the server type the following:</p>
<pre class="mce-root"><strong>http-server</strong></pre>
<p>The last command will launch the simple server we installed previously for the supplied sample code. This means that, if you open your browser and go to <kbd>http://localhost:8080/chapter-1/example-1.html</kbd>, you should see a map<br/>
of Europe, similar to the one shown earlier.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Working with the developer tools</h1>
                
            
            
                
<p>It's time to open the developer tools. In the top-right corner of the browser, you will see the icon as shown in the following screenshot:</p>
<div><img height="346" width="384" src="img/f5ed9df7-4f56-4a0b-9aea-1042f753eb7d.png"/></div>
<p>This icon opens a submenu. Click on More Tools, then click on Developer tools.<br/>
A panel will open at the bottom of the browser, containing all the developer tools at your disposal.</p>
<p>The option names mentioned here might differ according to the version of Chrome you are using.</p>
<div><img height="496" width="520" src="img/14c14339-fa60-4251-bca3-fc68c396d1c7.png"/></div>
<p>For quick access to developer tools on the Mac, use <em>alt</em> + command + <em>I</em>; for Windows PCs, use <em>Ctrl</em> + <em>Shift</em> + <em>I</em>.</p>
<p>Within developer tools, you have a series of tabs (Elements, Network, Sources, and so on). These tools are extremely valuable and will allow you to inspect different aspects of your code. For more information on the Chrome developer tools, please go to this link: <a href="https://developer.chrome.com/devtools/docs/authoring-development-workflow">https://developer.chrome.com/devtools/docs/authoring-development-workflow</a>.</p>
<p>Since we are going to focus on the Elements tab, click on it if it is not already selected.</p>
<p>You should see something similar to the preceding screenshot; it will have the following code statement:</p>
<pre>&lt;svg width="812" height="584"&gt; </pre>
<p>If you click on the SVG item, you should see it expand and display the path tag. The path tag will have several numbers and characters tied to a <kbd>d</kbd> attribute. These numbers are control points that draw the path. We will cover how the path is drawn in the next chapter and how path tags are used to create maps in <a href="c22382c6-84d9-411f-b795-681df2321005.xhtml">Chapter 4</a><em>,</em> <em>Creating a Map</em> and <a href="d2d3d4c7-b83a-4947-993a-84baa0f01674.xhtml">Chapter 5</a><em>,</em> <em>Click-Click Boom! Applying Interactivity to Your Map</em>.</p>
<p>We also want to draw your attention to how the HTML5 application loads the D3 library. Again, in the Elements tag, after the SVG tag, you should see the <kbd>&lt;script&gt;</kbd> tag pointing to D3.js and TopoJSON:</p>
<pre>&lt;script src="img/d3.v4.min.js"&gt;&lt;/script&gt;<br/>&lt;script src="img/topojson.v3.min.js"&gt;&lt;/script&gt; </pre>
<p>If you click on the path located inside the SVG tag, you will see a new panel called the CSS inspector or the styles inspector. It shows and controls all the styles that are applied to a selected element, in this case, the path element.</p>
<p>These three components create a D3 visualization:</p>
<ul>
<li>HTML5 (the SVG and path elements)</li>
<li>JavaScript (the D3.js library and map code)</li>
<li>CSS (the styling of the HTML5 elements)</li>
</ul>
<p>Creating maps and visualizations using these three components will be discussed and analyzed throughout the book.</p>


            

            
        
    

        

                            
                    <h1 class="header-title">Summary</h1>
                
            
            
                
<p>This chapter reveals a quick glimpse of the steps for basic setup in order to have a well-organized codebase to create maps with D3. You should become familiar with this setup because we will be using this convention throughout the book.</p>
<p>The remaining chapters will focus on creating detailed maps and achieving realistic visualizations through HTML, JavaScript, and CSS.</p>
<p class="mce-root">Let's go!</p>
<p class="mce-root"/>
<p class="mce-root"/>


            

            
        
    </body></html>