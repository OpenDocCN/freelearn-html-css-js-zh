<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application"><div class="book" id="147LC2-0c7cc7dc97984506a3b137496d3ab1d6"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05" class="calibre1"/>Chapter 5. AngularJS, React, Express, and Meteor – Developing Your Web Application</h1></div></div></div><p class="calibre7">In the previous chapter, we learned the ways in which WebStorm helps us when working with the package manager and build tools, and about the workflow for modern development.</p><p class="calibre7">In this chapter, we are going to deal with a couple of the most essential and progressively developing web frameworks and platforms, and then learn how indispensable WebStorm can be when working with them. We will get acquainted with the following technologies in relation to WebStorm:</p><div class="book"><ul class="itemizedlist"><li class="listitem">AngularJS: a client-only framework</li><li class="listitem">React: a library for building user interfaces</li><li class="listitem">Express: a minimalist web framework for Node.js</li><li class="listitem">Meteor: a full-stack framework running on top of Node.js</li></ul></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch05lvl1sec32" class="calibre1"/>AngularJS</h1></div></div></div><div class="blockquote"><table border="0" cellspacing="0" cellpadding="0" class="blockquote1" summary="Block quote"><tr class="calibre16"><td valign="top" class="calibre17"> </td><td valign="top" class="calibre17"><p class="calibre18"><span><em class="calibre19">"Superheroic JavaScript MVW Framework AngularJS is what HTML would have been, had it been designed for building web-apps. Declarative templates with databinding, MVW, MVVM, MVC, dependency injection and great testability story all implemented with pure client-side JavaScript!"</em></span></p></td><td valign="top" class="calibre17"> </td></tr><tr class="calibre16"><td valign="top" class="calibre17"> </td><td colspan="2" valign="top" class="calibre20">--<span><a class="ulink" href="https://angularjs.org">https://angularjs.org</a></span></td></tr></table></div><p class="calibre7">As presented on the <a id="id135" class="calibre1"/>developer's website, AngularJS is a client-only framework for building single-page web applications aimed to simplify the development and testing of web applications. In this section, we are we are going to learn about the considerable assistance that WebStorm can provide when using AngularJS, by creating a very simple blog application.</p><p class="calibre7">Our application will be a simple blog CMS that will perform the following tasks:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Display a list of entries</li><li class="listitem">Display a single entry</li><li class="listitem">Add a new entry</li></ul></div><p class="calibre7">First, using the steps from the previous chapters, create a new <span class="strong"><strong class="calibre8">Empty Project</strong></span>. When creating a new project, you <a id="id136" class="calibre1"/>will notice that there is a project type named <span class="strong"><strong class="calibre8">AngularJS</strong></span>. You can use it in your development activities; it already comprises of all the necessary libraries and setting files. However, for now we are creating a blog from scratch so that you can see the multiple ways in which the various actions can be performed.</p><div class="mediaobject"><img src="../images/00063.jpeg" alt="AngularJS" class="calibre10"/></div><p class="calibre11"> </p></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Preparing the tools and libraries"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec30" class="calibre1"/>Preparing the tools and libraries</h2></div></div></div><p class="calibre7">Once we have <a id="id137" class="calibre1"/>created our project, we need to install all the <a id="id138" class="calibre1"/>dependencies of our app. We will use the AngularJS library, a routing library named Angular Route, and a styling library like Bootstrap. For the installation process, we will use Bower.</p><p class="calibre7">I don't like it when Bower installs the components to the default in <code class="email">bower_components</code> directory. So, let us create a <code class="email">.bowerrc</code> file and indicate that we want our packages to be installed into the <code class="email">vendor</code> directory, as shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00064.jpeg" alt="Preparing the tools and libraries" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Now we can install all the necessary packages. First of all, we need AngularJS. Type and execute the following command in the terminal:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">bower install angular.</strong></span>
</pre></div><p class="calibre7">This will download AngularJS inside our <code class="email">vendor</code> folder, but we still need to include it in the <code class="email">index.html</code> file. With this file open at the end of the <code class="email">body</code> section, add a <code class="email">&lt;script&gt;</code> tag and then start simply typing, for example, <code class="email">ang</code>. Use autocomplete to let WebStorm find the necessary <code class="email">.js</code> file:</p><div class="mediaobject"><img src="../images/00065.jpeg" alt="Preparing the tools and libraries" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">WebStorm will know from now on that our application is based on Angular, and the <code class="email">ng-</code> autocomplete and others will work inside your project.</p><p class="calibre7">After this, add another <code class="email">&lt;script&gt;</code> tag, and in the <code class="email">src</code> attribute, type <code class="email">"app/app.js"</code>; this will be the core of our application. This file doesn't exist yet, but you can automatically create it. Select the file name in the <code class="email">src</code> attribute and click on <span class="strong"><em class="calibre9">Alt</em></span> + <span class="strong"><em class="calibre9">Enter</em></span> . Then, click on the <span class="strong"><strong class="calibre8">Create File app.js</strong></span> item, and WebStorm will create the missing file for you in the newly opened tab.</p><div class="mediaobject"><img src="../images/00066.jpeg" alt="Preparing the tools and libraries" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Next, let us install Bootstrap. To do so, you can use Bower from the Terminal window:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">bower install bootstrap</strong></span>
</pre></div><p class="calibre7">Next, just like we did <a id="id139" class="calibre1"/>with angular sources, include the Bootstrap <code class="email">.css</code> and <code class="email">.js</code> files into your project (using the link and <code class="email">&lt;script&gt;</code> tags, respectively). As <a id="id140" class="calibre1"/>Bootstrap uses jQuery and this will be installed too, don't forget to add a <code class="email">&lt;script&gt;</code> tag for jQuery as well.</p><p class="calibre7">Another library that we are going to use in our project is the angular-route library. So, we need to use bower again to install it and then add it to the <code class="email">index.html</code> file:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">bower install angular-route</strong></span>
</pre></div><p class="calibre7">All the manipulations that we have performed so far should result in the following code:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;MyAngularApp&lt;/title&gt;
    &lt;link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css"&gt;
    &lt;link rel="stylesheet" href="css/app.css"&gt;
&lt;/head&gt;


&lt;script type="text/javascript" src="vendor/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="vendor/bootstrap/dist/js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="vendor/angular/angular.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="vendor/angular-route/angular-route.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="app/app.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Immersing in AngularJS"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch05lvl2sec31" class="calibre1"/>Immersing in AngularJS</h2></div></div></div><p class="calibre7">Now we can <a id="id141" class="calibre1"/>start building our application. Open the <code class="email">app.js</code> file, declare a new module called <code class="email">app</code>, and then add <code class="email">ngRoute</code> as a dependency:</p><div class="informalexample"><pre class="programlisting">angular.module('app', ['ngRoute'])
    .config(function($routeProvider){
      
        });
    });</pre></div><p class="calibre7">The following screenshot is the output of the preceding code:</p><div class="mediaobject"><img src="../images/00067.jpeg" alt="Immersing in AngularJS" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">You can use autocomplete so that all the code that you write next is automatically suggested by WebStorm. This not only reduces development time by removing the necessity to write everything manually, but also helps you to better realize and decide what is more appropriate in the current context:</p><div class="mediaobject"><img src="../images/00068.jpeg" alt="Immersing in AngularJS" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">However, this is not the only assistance that WebStorm provides you with. WebStorm supplies so-called quick templates, which enable you to quickly write some standard code. For instance, in our case, we will need to indicate three routes—to the entries list, entry page, and the page to add a new entry.</p><p class="calibre7">This is performed with the <code class="email">$routeProvider</code> construction, which can comprise certain parameters. We need just two, <code class="email">templateUrl</code> and controller, inside a <code class="email">when</code> condition. So instead of typing <a id="id142" class="calibre1"/>this manually, you can simply type <code class="email">ngrw</code> and press <span class="strong"><em class="calibre9">Tab</em></span>:</p><div class="mediaobject"><img src="../images/00069.jpeg" alt="Immersing in AngularJS" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">This will replace <code class="email">ngrw</code> with the following code:</p><div class="informalexample"><pre class="programlisting">$routeProvider.when(' ', {
    templateUrl: '',
    controller: ''
});</pre></div><p class="calibre7">Moreover, the cursor will be placed directly between the two single quotes right after the word <code class="email">when</code>. This may seem trifling but you needn't perform any unnecessary manipulations with your mouse.</p><p class="calibre7">Our final code for the <code class="email">app.js</code> file should look like the following:</p><div class="informalexample"><pre class="programlisting">angular.module('app', ['ngRoute'])
    .config([function($routeProvider){
        $routeProvider.when('/', {
            templateUrl: 'app/views/entries.html',
            controller: 'EntriesController'
        });
    });</pre></div><p class="calibre7">Now that the new app module is created, we can bind it to the <code class="email">index.html</code> page by adding <code class="email">ng-app="app"</code> to the <code class="email">&lt;body&gt;</code> tag, of course, by using the autocomplete. The final <code class="email">&lt;body&gt;</code> opening tag should read as follows:</p><div class="informalexample"><pre class="programlisting">&lt;body ng-app="app"&gt;</pre></div><p class="calibre7">We should also add a special container where Angular can render our templates. Insert the following code after the opening <code class="email">&lt;body&gt;</code> tag:</p><div class="informalexample"><pre class="programlisting">&lt;div class="container app-container"&gt;
    &lt;div ng-view&gt;&lt;/div&gt;
&lt;/div&gt;</pre></div><p class="calibre7">We have created a container <code class="email">&lt;div&gt;</code> for styling purposes as well. With this final change, we can move to <a id="id143" class="calibre1"/>creating the features of our application.</p></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Loading the initial entries"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch05lvl2sec32" class="calibre1"/>Loading the initial entries</h2></div></div></div><p class="calibre7">Our <a id="id144" class="calibre1"/>application will have a list of predefined topics that will be displayed on the first load. So, the first thing we need to do is to make sure that the data is loaded in the application. We are not going to use any backend so as not to complicate our application. We will simulate the server response with static JSON files that will be kept in the data folder. For the list of topics, create the <code class="email">entries.json</code> file inside the <code class="email">data</code> folder and fill it with the following content:</p><div class="informalexample"><pre class="programlisting">[
  {
    "title" : "Hello, WebStorm!", "content" : "Today we are going to speak about WebStorm and its features"
  },{
    "title" : "Immersing into WebStorm", "content" : "WebStorm provides a bunch of advanced technologies, which help us increase our development efficiency"
  }
]</pre></div><p class="calibre7">Now we need to create the service that stores the data. In the <code class="email">app.js</code> file, create a new <code class="email">app.services</code> module, and fill it with the following code. We will use a service so that our data is available in multiple controllers and views. You can see that we have already created the <code class="email">add</code> method, because we want to be able to create new entries in our blog:</p><div class="informalexample"><pre class="programlisting">angular.module('app.services', [])
    .service('store', function ($http) {
        var store = {
            entries: [],

            add: function (item) {
                this.entries.push(item);
            }
        };

        return store;
    });</pre></div><p class="calibre7">Next, we need to modify the <code class="email">app.module</code> to include the new dependency; so after the <code class="email">ngRoute</code>, we need add the new module <code class="email">app.services</code>. We also need to create a new run block that will load the initial data when the application is started. The final code should look <a id="id145" class="calibre1"/>like this:</p><div class="informalexample"><pre class="programlisting">angular.module('app', ['ngRoute', 'app.services'])
    .config(function ($routeProvider) {
        $routeProvider.when('/', {
            templateUrl: 'app/views/entries.html',
            controller: 'EntriesController'
        });

    }).run(function ($http, store) {
        $http.get('data/entries.json')
            .success(function (data) {
                store.entries = data;
            });
    });</pre></div></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Displaying a list of entries"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch05lvl2sec33" class="calibre1"/>Displaying a list of entries</h2></div></div></div><p class="calibre7">For our list, we will need a controller for the data and a view that will display it. Moreover, since <a id="id146" class="calibre1"/>we want to display only a short summary in the main page, we also have to create a filter that creates the summary text.</p><p class="calibre7">Let's start with this filter so we can use it later in the view. In the <code class="email">app.js</code> file, add the following module for the filters:</p><div class="informalexample"><pre class="programlisting">angular.module('app.filters',[])
    .filter('summary', function($filter) {
        return function(item) {
            return item.split(" ").slice(0,5).join(" ");
        };
    });</pre></div><p class="calibre7">This filter takes the full content of the entry and displays only the first five words. Actually, this filter is agnostic and it doesn't care what it receives; it will take any string, and return the first five words from it. Again, after we have created this new module, we need to add it as a dependency on the app module.</p><p class="calibre7">Now we can move to the first controller, create a new module <code class="email">app.controllers</code>, and add the first controller of our application, <code class="email">EntriesController</code>. The only thing that this controller does is take the data from the store and pass it to the view. After you create this module, don't forget to add it as a dependency:</p><div class="informalexample"><pre class="programlisting">angular.module('app.controllers', [])
    .controller('EntriesController', function ($scope, store) {
        $scope.entries = store.entries;
    })</pre></div><p class="calibre7">The last step that we need to implement is the view. Create the <code class="email">entries.html</code> file in the <code class="email">views</code> folder, and <a id="id147" class="calibre1"/>fill in the following code:</p><div class="informalexample"><pre class="programlisting">&lt;article ng-repeat="entry in entries | orderBy:'-'"&gt;
    &lt;h1&gt;&lt;a href="#/entry/{{ entries.indexOf(entry) }}"&gt;{{ entry.title }}&lt;/a&gt;&lt;/h1&gt;
    &lt;p&gt;
        {{entry.content | summary }}
        &lt;a href="#/entry/{{ entries.indexOf(entry) }}"&gt;... (read more)&lt;/a&gt;
    &lt;/p&gt;
&lt;/article&gt;</pre></div></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Displaying entry details"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_6"><a id="ch05lvl2sec34" class="calibre1"/>Displaying entry details</h2></div></div></div><p class="calibre7">Now that we <a id="id148" class="calibre1"/>have created the list of entries, we also have to create the page that displays each entry detail. We will again need a controller, a view and, a new route definition.</p><p class="calibre7">We will create the new definition after the route definition for the list page. The final code should look like the following:</p><div class="informalexample"><pre class="programlisting">angular.module('app', ['ngRoute', 'app.controllers', 'app.services', 'app.filters'])
    .config(function ($routeProvider) {
        $routeProvider.when('/', {
            templateUrl: 'app/views/entries.html', controller: 'EntriesController'
        }).when('/entry/:index', {
            templateUrl: 'app/views/entry.html', controller: 'EntryController'
        })
    })</pre></div><p class="calibre7">Now create a new controller in the <code class="email">app.controllers</code> module that reads the index from the route parameters and loads the specified entry, as follows:</p><div class="informalexample"><pre class="programlisting">.controller('EntryController', function ($scope, $routeParams, store) {
    $scope.entry = store.entries[$routeParams.index];
})</pre></div><p class="calibre7">We now have to create the <code class="email">entry.html</code> file, and fill it with the view for our entry:</p><div class="informalexample"><pre class="programlisting">&lt;article&gt;
    &lt;h1&gt;{{ entry.title }}&lt;/h1&gt;
    &lt;p&gt;{{entry.content}}&lt;/p&gt;
    &lt;p&gt;&lt;a href="#/"&gt;Go back&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;</pre></div><p class="calibre7">This view displays the <a id="id149" class="calibre1"/>entry title and a full content text. With this view, we have finished the entry detail functionality; and, as you can see, you can already navigate between the list and the details pages. The only thing that we have to create now is the page where we add a new entry.</p></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Adding a new entry"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_7"><a id="ch05lvl2sec35" class="calibre1"/>Adding a new entry</h2></div></div></div><p class="calibre7">Before we even <a id="id150" class="calibre1"/>start on this feature, we need to add a menu that will allow us to navigate to this page. So, open the <code class="email">index.html</code> file, and add the following code before the container <code class="email">&lt;div&gt;</code> of your application. This code will add a header menu with the link to this page. For this menu, we are going to use the familiar Bootstrap syntax from the previous chapters.</p><div class="informalexample"><pre class="programlisting">&lt;nav class="navbar navbar-default navbar-fixed-top"&gt;
    &lt;div class="container"&gt;
        &lt;div class="navbar-header"&gt;
            &lt;a class="navbar-brand" href="#/"&gt;My Angular App&lt;/a&gt;
        &lt;/div&gt;

        &lt;div class="collapse navbar-collapse"&gt;
            &lt;ul class="nav navbar-nav"&gt;
                &lt;li&gt;
                    &lt;a href="#/new-entry/"&gt;Add new&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/nav&gt;</pre></div><p class="calibre7">Now that we have the menu for navigating to the page for adding a new entry, we need to create a new route definition for this. Following the same steps as we did for the previous routes, and add the following definition:</p><div class="informalexample"><pre class="programlisting">.when('/new-entry/', {
    templateUrl: 'app/views/new-entry.html',
    controller: 'NewEntryController'
})</pre></div><p class="calibre7">Now we can create the controller and the view. Again, in the <code class="email">app.controllers</code> module, add the new controller. In this controller, we only need to define two functions: one to add the entry to our blog, and one to clear the form, as follows:</p><div class="informalexample"><pre class="programlisting">.controller('NewEntryController', function ($scope, $location, store) {
    $scope.add = function () {
        store.add($scope.entry);
        $location.path('/');
    };
    $scope.clear = function () {
        $scope.entry = {};
    }
});</pre></div><p class="calibre7">We can now create the view in the <code class="email">new-entry.html</code> file. We will again use the Bootstrap syntax for <a id="id151" class="calibre1"/>styling. You might also notice the <code class="email">ng-model</code> that binds the inputs with the controller:</p><div class="informalexample"><pre class="programlisting">&lt;form&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="title"&gt;Title&lt;/label&gt;
        &lt;input type="text" class="form-control" id="title" ng-model="entry.title"&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="title"&gt;Content&lt;/label&gt;
        &lt;textarea class="form-control" rows="5" ng-model="entry.content"&gt;&lt;/textarea&gt;
    &lt;/div&gt;
    &lt;div class="form-group"&gt;
        &lt;button type="submit" class="btn btn-default" ng-click="add()"&gt;Save&lt;/button&gt;
        &lt;button type="submit" class="btn btn-default" ng-click="clear()"&gt;Clear&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</pre></div><p class="calibre7">Now that we have created all the features for our application, we can move to the final step of styling our application, and add the final touches.</p></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;AngularJS, React, Express, and Meteor &#x2013; Developing Your Web Application">
<div class="book" title="AngularJS">
<div class="book" title="Styling the application"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_8"><a id="ch05lvl2sec36" class="calibre1"/>Styling the application</h2></div></div></div><p class="calibre7">One of the first things <a id="id152" class="calibre1"/>that we can do is add the footer for our application. In the <code class="email">index.html</code> file, add the following after the <code class="email">app</code> container <code class="email">&lt;div&gt;</code>:</p><div class="informalexample"><pre class="programlisting">&lt;footer class="footer copy"&gt;
    &lt;div class="container"&gt;
        &lt;p class="text-muted pull-right"&gt;Copyright © 2015. All rights reserved&lt;/p&gt;
    &lt;/div&gt;
&lt;/footer&gt;</pre></div><p class="calibre7">You may remember that we have included the <code class="email">app.css</code> file in our <code class="email">index.html</code>; so, go ahead, create this file in the <code class="email">css</code> folder, and add the following code:</p><div class="informalexample"><pre class="programlisting">.app-container{
    margin-top: 100px
}</pre></div><p class="calibre7">Once again, since we have used the Bootstrap syntax and the helper classes, the amount of styling code that we have to write is minimal.</p><p class="calibre7">With these final steps, we have finished our blogging application. As you just saw, it is very easy to create a complex application with the help of WebStorm and Angular. One thing to keep in mind is that this application is just an example, and there are a lot of improvements and changes that we can make; but that is well beyond the scope of this book.</p><p class="calibre7">Next we are going to <a id="id153" class="calibre1"/>recreate the same application with the same features in another advanced JavaScript framework: React.</p></div></div></div>
<div class="book" title="React"><div class="book" id="1565U2-0c7cc7dc97984506a3b137496d3ab1d6"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec33" class="calibre1"/>React</h1></div></div></div><div class="blockquote"><table border="0" cellspacing="0" cellpadding="0" class="blockquote1" summary="Block quote"><tr class="calibre16"><td valign="top" class="calibre17"> </td><td valign="top" class="calibre17"><p class="calibre18"><span><em class="calibre19">"A JavaScript library for building user interfaces"</em></span></p></td><td valign="top" class="calibre17"> </td></tr><tr class="calibre16"><td valign="top" class="calibre17"> </td><td colspan="2" valign="top" class="calibre20">--<span><a class="ulink" href="http://facebook.github.io/react/">http://facebook.github.io/react/</a></span></td></tr></table></div><p class="calibre7">React is a UI <a id="id154" class="calibre1"/>framework developed by Facebook that has a different approach to building web applications. It uses a virtual DOM to give the developers a simpler programming model and better performance. Moreover, the data flow in React applications is a one-way reactive, which reduces the Boilerplate and makes it easier to reason about the state of the application.</p><p class="calibre7">Our goal for this section is to recreate the blog application that we have created previously, but using React as the UI framework. We will keep the same features that we had in the previous section.</p><p class="calibre7">The first step that we need to take is to create a new <span class="strong"><strong class="calibre8">Empty Project</strong></span> for our application. Next, we need to install all the dependencies. Using the steps described earlier in the chapter, create the <code class="email">.bowerrc</code> file and the <code class="email">vendor</code> folder. Then install <code class="email">react</code>, <code class="email">react-router</code>, and <code class="email">bootstrap</code>. You can do that by running the following single command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">bower install  react react-router bootstrap</strong></span>
</pre></div><p class="calibre7">Now that we have all the dependencies installed, we have to include them in the <code class="email">index.html</code> file. Again, use the steps previously described, and include the navigation and footer that we did in the Angular example. The final code should look like the following:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;My React App&lt;/title&gt;
    &lt;link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css"&gt;
    &lt;link rel="stylesheet" href="css/app.css"&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav class="navbar navbar-default navbar-fixed-top"&gt;
    &lt;div class="container"&gt;
        &lt;div class="navbar-header"&gt;
            &lt;a class="navbar-brand" href="#/"&gt;My React App&lt;/a&gt;
        &lt;/div&gt;

        &lt;div class="collapse navbar-collapse"&gt;
            &lt;ul class="nav navbar-nav"&gt;
                &lt;li&gt;
                    &lt;a href="#/new-entry/"&gt;Add new&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/nav&gt;

&lt;div class="container app-container"&gt;
    &lt;div id="app"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;footer class="footer copy"&gt;
    &lt;div class="container"&gt;
        &lt;p class="text-muted pull-right"&gt;Copyright © 2015. All rights reserved&lt;/p&gt;
    &lt;/div&gt;
&lt;/footer&gt;

&lt;script type="text/javascript" src="vendor/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;
]&lt;script type="text/javascript" src="vendor/bootstrap/dist/js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="vendor/react/react.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="vendor/react-router/build/umd/ReactRouter.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="vendor/react/JSXTransformer.js"&gt;&lt;/script&gt;
&lt;script type="text/jsx" src="app/app.jsx"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p class="calibre7">One thing that might seem out of place in this code is the <code class="email">text/jsx</code> type used for the <code class="email">app</code> file. React uses a special syntax for its files called JSX. This syntax is similar to XML and it help us write the markup inside the component files.</p><p class="calibre7">So now that we have our <code class="email">index.html</code> file ready, we can create the <code class="email">app.jsx</code> file in the <code class="email">app</code> folder, and start filling in the code for our application.</p><p class="calibre7">The fist thing that we <a id="id155" class="calibre1"/>have to add is the supporting code for our router. To keep our application simpler, we are not going to use any module system. But keep in mind that this is a not good as a regular practice:</p><div class="informalexample"><pre class="programlisting">window.React = React;
var Router = window.ReactRouter;
var Route = Router.Route;
var DefaultRoute = Router.DefaultRoute;
var RouteHandler = Router.RouteHandler;</pre></div><p class="calibre7">To keep things simple, we will skip the loading of entries from an external JSON file and, instead, create a variable to keep our initial data.</p><div class="informalexample"><pre class="programlisting">var entries = [
    {
        "title": "Hello, WebStorm!",
        "content": "Today we are going to speak about WebStorm and its features"
    }, {
        "title": "Immersing into WebStorm", "content": "WebStorm provides a bunch of advanced technologies, which help us increase our development efficiency"}
];</pre></div><p class="calibre7">We can now move to creating the features of our application. The first one will be the entries list. As you can see, in React, all the functionality, including the template, is created in JavaScript with the JSX syntax. It might seem odd at first, but later on, it will prove to be a very efficient system for keeping all things together.</p><div class="informalexample"><pre class="programlisting">var Entries = React.createClass({
    render: function () {
        var items = entries.slice().reverse().map(function (entry) {
            var sumary = entry.content.split(" ").slice(0, 5).join(" ");
            var index = entries.indexOf(entry);
            return (
                &lt;EntryItem
                    index={index}
                    title={entry.title}
                    sumary={sumary}
                    /&gt;
            );
        }, this);
        return (
            &lt;article&gt;
                {items}
            &lt;/article&gt;
        );
    }
});</pre></div><p class="calibre7">At some point, as WebStorm analyzes your code, it will see that you are using the JSX syntax and prompt you to <a id="id156" class="calibre1"/>switch the language level to JSX Harmony. So make sure you click <span class="strong"><strong class="calibre8">Switch</strong></span> at this prompt, or go to the <span class="strong"><strong class="calibre8">Preferences</strong></span> | <span class="strong"><strong class="calibre8">Languages &amp; Frameworks</strong></span> | <span class="strong"><strong class="calibre8">JavaScript</strong></span>, and change the language version there:</p><div class="mediaobject"><img src="../images/00070.jpeg" alt="React" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">The <code class="email">Entries</code> class relies on the <code class="email">EntryItem</code> that we need to create. It is very common in React to compose elements using multiple child elements. You can see that the data is passed from the parent to the <a id="id157" class="calibre1"/>child as properties on the props object in the following code:</p><div class="informalexample"><pre class="programlisting">var EntryItem = React.createClass({
    render: function () {
        return (
            &lt;div&gt;
                &lt;h1&gt;&lt;a href={'#/entry/' + this.props.index}&gt;{this.props.title}&lt;/a&gt;&lt;/h1&gt;
                &lt;p&gt;
                    {this.props.sumary}
                    &lt;a href={'#/entry/' + this.props.index}&gt;... (read more)&lt;/a&gt;
                &lt;/p&gt;
            &lt;/div&gt;
        );
    }
});</pre></div><p class="calibre7">With this class, we have completed the <code class="email">Entry</code> items feature, so we can now move to create the <code class="email">Entry</code> detail features. Again, this will just be a simple render method that will display the details for a specific entry. The ID of the entry will be read from the route as a property on the <code class="email">pros.params</code> object:</p><div class="informalexample"><pre class="programlisting">var Entry = React.createClass({
    render: function () {
        var id = this.props.params.id;
        var entry = entries[id];
        return(
            &lt;article&gt;
                &lt;h1&gt;{ entry.title }&lt;/h1&gt;
                &lt;p&gt;{entry.content}&lt;/p&gt;
                &lt;p&gt;&lt;a href="#/"&gt;Go back&lt;/a&gt;&lt;/p&gt;
            &lt;/article&gt;
        );
    }
});</pre></div><p class="calibre7">The last feature that we need to create is the new entry page feature. For this, we will also need to create two special methods that will handle the save and clear functionality. Another thing worth mentioning in this class is the <code class="email">Router.Navigation</code> mixin that we are using. Mixins bring functionality from other classes into our own classes. In our example, we need to be able to navigate programmatically from within the submit method.</p><div class="informalexample"><pre class="programlisting">var NewEntry = React.createClass({
    mixins: [Router.Navigation],

    handleSubmit: function () {
        var title = this.refs.title.getDOMNode().value,
            content = this.refs.content.getDOMNode().value;

        entries.push({
            title: title,
            content: content
        });
        this.transitionTo('/');
    },
    handleClear: function () {
        this.refs.title.getDOMNode().value = '';
        this.refs.content.getDOMNode().value = '';
    },
    render: function () {

        return (
            &lt;form&gt;
                &lt;div className="form-group"&gt;
                    &lt;label htmlFor="title"&gt;Title&lt;/label&gt;
                    &lt;input type="text" className="form-control" id="title"
                    ref="title"/&gt;
                &lt;/div&gt;


                &lt;div className="form-group"&gt;
                    &lt;label htmlFor="content"&gt;Content&lt;/label&gt;
                    &lt;textarea className="form-control" rows="5" ref="content"&gt;&lt;/textarea&gt;
                &lt;/div&gt;

                &lt;div className="form-group"&gt;
                    &lt;button type="submit" className="btn btn-default"
                    onClick={this.handleSubmit}&gt;Save&lt;/button&gt;
                    &lt;button type="submit" className="btn btn-default"
                    onClick={this.handleClear}&gt;Clear&lt;/button&gt;
                &lt;/div&gt;
            &lt;/form&gt;
        );
    }
});</pre></div><p class="calibre7">As you might have noticed, WebStorm is really useful when writing the JSX syntax, since it allows for code completion and checking in a way similar to writing plain HTML or JavaScript code.</p><p class="calibre7">The last component class that we need to create is the main <code class="email">App</code>:</p><div class="informalexample"><pre class="programlisting">var App = React.createClass({
    render: function () {
        return (
            &lt;div&gt;
                &lt;RouteHandler/&gt;
            &lt;/div&gt;
        )
    }
});</pre></div><p class="calibre7">So far we have <a id="id158" class="calibre1"/>created all the components for our application; now we can move to create the route definitions for the features of our application: the entries list (this will also be the default list), the entry details, and the new entry page:</p><div class="informalexample"><pre class="programlisting">var routes = (
    &lt;Route path="/" handler={App}&gt;
        &lt;DefaultRoute  handler={Entries}/&gt;
        &lt;Route path="/entry/:id" handler={Entry}/&gt;
        &lt;Route path="/new-entry/" handler={NewEntry}/&gt;
    &lt;/Route&gt;
);</pre></div><p class="calibre7">The last step before we can test our application is to wire up the router, which is done as follows:</p><div class="informalexample"><pre class="programlisting">Router.run(routes, Router.HashLocation, function (Root) {
    React.render(&lt;Root /&gt;, document.getElementById('app'));
});</pre></div><p class="calibre7">We are now ready to test our application. So, we will go to the <code class="email">index.html</code> file and click the browser icon to run the application. As you can see, the functionality is the same as in the Angular application.</p><p class="calibre7">I must point out again that the code that we have created here is just for the functionality and features of WebStorm, when working with the React framework; it is not optimized and it doesn't respect all the best practices when working with this framework.</p></div>
<div class="book" title="Express" id="164MG1-0c7cc7dc97984506a3b137496d3ab1d6"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec34" class="calibre1"/>Express</h1></div></div></div><div class="blockquote"><table border="0" cellspacing="0" cellpadding="0" class="blockquote1" summary="Block quote"><tr class="calibre16"><td valign="top" class="calibre17"> </td><td valign="top" class="calibre17"><p class="calibre18"><span><em class="calibre19">"Fast, unopinionated, minimalist web framework for Node.js"</em></span></p></td><td valign="top" class="calibre17"> </td></tr><tr class="calibre16"><td valign="top" class="calibre17"> </td><td colspan="2" valign="top" class="calibre20">--<span><a class="ulink" href="http://expressjs.com/">http://expressjs.com/</a></span></td></tr></table></div><p class="calibre7">In this section, we are <a id="id159" class="calibre1"/>going to look at building some apps using JavaScript in the server. We are first going to look at one of the most popular framework builds on top of Node.js, that is, Express. This is one of the most popular frameworks that provides a robust set of features for both, web and mobile applications.</p><p class="calibre7">To start with, we <a id="id160" class="calibre1"/>need to create a new project based on the <span class="strong"><strong class="calibre8">Node.js Express App</strong></span> template:</p><div class="mediaobject"><img src="../images/00071.jpeg" alt="Express" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">WebStorm will create the project, and install all the required dependencies. At some point, you will also be prompted to download and install the Node.js core module sources. This will be required for providing autocompletion and analysis for the Node.js core methods, so make sure you select Configure.</p><div class="mediaobject"><img src="../images/00072.jpeg" alt="Express" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">After the completion of all these steps, WebStorm will create a Run/Debug configuration, so you can quickly preview your project. If you select <span class="strong"><strong class="calibre8">'bin/www'</strong></span> to be executed from the <span class="strong"><strong class="calibre8">Run</strong></span> menu or the toolbar, your application will start, and you can preview it in your browser at the address: <code class="email">http://localhost:3000/</code>.</p><p class="calibre7">As you can see, it is easy to <a id="id161" class="calibre1"/>start a Node.js/Express project, including all the dependencies and configurations, with the help of WebStorm. We will not go any deeper in this chapter, but this project is an excellent foundation for any Express application.</p></div>

<div id="page" style="height:0pt"/><div class="book" title="Meteor"><div class="book" id="173722-0c7cc7dc97984506a3b137496d3ab1d6"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec35" class="calibre1"/>Meteor</h1></div></div></div><p class="calibre7">Meteor is an open <a id="id162" class="calibre1"/>source, real-time platform for building web applications. It runs on top of Node.js and uses MongoDB. The framework is rather young—Meteor 1.0 came out, not very long ago, on the 28 October, 2014—but it has already proved itself to be a powerful tool. WebStorm added support for Meteor in version 9, so you can utilize all the techniques that WebStorm suggests.</p><p class="calibre7">Before you start building a Meteor application, you need to have Meteor installed on your machine. Linux and OS X, being command line-centric systems, enable you to install Meteor in one click with following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">curl https://install.meteor.com/ | sh</strong></span>
</pre></div><p class="calibre7">Windows users will <a id="id163" class="calibre1"/>need to visit <a class="calibre1" href="http://win.meteor.com/">http://win.meteor.com/</a> and download the <code class="email">.exe</code> file, which is stable, although not the latest version. Alternatively, you may check the website, <a class="calibre1" href="https://github.com/meteor/meteor/wiki/Preview-of-Meteor-on-Windows">https://github.com/meteor/meteor/wiki/Preview-of-Meteor-on-Windows</a> and try an RC version.</p></div>

<div class="book" title="Meteor">
<div class="book" title="Setting up a new project"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec37" class="calibre1"/>Setting up a new project</h2></div></div></div><p class="calibre7">Our Meteor <a id="id164" class="calibre1"/>environment is ready, so let us move from words to deeds and create a small application to observe where and how WebStorm can assist us in using Meteor.</p><p class="calibre7">Let us first create a new project called <code class="email">MyMeteorApp</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="../images/00073.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">In the next window, you will be prompted to select the location of the Meteor executable. WebStorm first tries to locate it automatically, and then, if you need to specify another location, you can do it here. Also, you can use several templates, which are applications that have already been implemented. Let us examine how WebStorm handles Meteor with the help of of the <span class="strong"><strong class="calibre8">todos</strong></span> application example. This is a simple application for tracking what is to be done and what has already been done:</p><div class="mediaobject"><img src="../images/00074.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">WebStorm needs some time for performing a couple of preparations, such as initializing a new application; then you will see the typical structure of a Meteor project, as seen in the following screenshot:</p><div class="mediaobject"><img src="../images/00075.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">For technical purposes, any JetBrains' IDEA-based IDE creates a special directory called <code class="email">.idea</code>, for its own use. The IDE contains information related to the current project, such as the list of all the files, configurations, and even the cursor positions in each of the open files. So, after generating the Meteor project, WebStorm will need some more time to analyze its structure. The nuance in case of Meteor applications is that Meteor has a directory for itself, called—<code class="email">.meteor</code>, where it stores information like details about the required packages and their versions. This directory is not controlled by WebStorm, because the contents of this directory can change very often and even grow to a very large size. This can badly <a id="id165" class="calibre1"/>affect WebStorm's efficiency. Therefore, the <code class="email">.meteor</code> directory is usually under the control of a VCS.</p><p class="calibre7">The application is now ready to be opened and run. If you open any <code class="email">.js</code> file, you can see that WebStorm understands the Meteor-specific JavaScript and highlights it appropriately. This is because WebStorm automatically uses the Meteor library. You can check this by right-clicking on <span class="strong"><strong class="calibre8">Use JavaScript Library</strong></span> and selecting <span class="strong"><strong class="calibre8">Meteor project library</strong></span>.</p><div class="mediaobject"><img src="../images/00076.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">This library not only highlights the syntax, but also provides you with a full-fledged autocomplete. If you start typing (for example, <code class="email">Meteor.st</code>), you will see that WebStorm, as usual, performs an internal analysis of the content and suggests the most appropriate methods to use in each case:</p><div class="mediaobject"><img src="../images/00077.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">As we are not creating an application from scratch and it is already implemented, we can run it. In a standard case, to run the Meteor applications, you just need to use the command-line interface, and type the <code class="email">meteor</code> command. What can WebStorm suggest for this if we can simply use the Terminal?</p><p class="calibre7">WebStorm provides a very sophisticated, yet convenient, interface for customizing the run and debug <a id="id166" class="calibre1"/>configurations to automate the most frequently performed actions. It is especially useful when you have a lot of parameters that you want to run your application with. So, you won't need to indicate them in the Terminal every time you need them; you will just use the preconfigured cases.</p><p class="calibre7">To add a new usage case, go to <span class="strong"><strong class="calibre8">Run</strong></span> | <span class="strong"><strong class="calibre8">Edit Configurations…</strong></span>. This will open a <span class="strong"><strong class="calibre8">Run/Debug Configurations</strong></span> dialog. Click on the plus button, and choose the technology to which you are going to add a usage case:</p><div class="mediaobject"><img src="../images/00078.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">You will see two tabs. On <a id="id167" class="calibre1"/>the <span class="strong"><strong class="calibre8">Configuration</strong></span> tab, you can specify the Meteor version to execute your application, program arguments, and environment variables (if needed), and so on. On the <span class="strong"><strong class="calibre8">Browser / Live Edit</strong></span> tab, you are provided with secondary yet useful features, such as the automatic launching of a specific browser when you are running the application:</p><div class="mediaobject"><img src="../images/00079.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">When you finish setting up all the parameters that you need for a certain case, you can run your application, as follows:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Press the green <span class="strong"><strong class="calibre8">Play</strong></span> button on the <span class="strong"><strong class="calibre8">Menu</strong></span> panel of WebStorm (or the green bug button for debugging).</li><li class="listitem" value="2">Go to <span class="strong"><strong class="calibre8">Run</strong></span> | <span class="strong"><strong class="calibre8">Run</strong></span>, and then choose the configuration that you are going to use.</li><li class="listitem" value="3">Go to <span class="strong"><strong class="calibre8">Run</strong></span> and run <code class="email">MyMeteorApp</code>, which will instantly run your application with the last used configuration.</li><li class="listitem" value="4">Alternatively, you can just press <span class="strong"><em class="calibre9">Ctrl</em></span> + <span class="strong"><em class="calibre9">R</em></span> on Mac or <span class="strong"><em class="calibre9">Shift</em></span> + <span class="strong"><em class="calibre9">F10</em></span> on Windows.</li></ol><div class="calibre13"/></div><p class="calibre7">Your application is running! You <a id="id168" class="calibre1"/>can see the console output in the <span class="strong"><strong class="calibre8">Run</strong></span> box, as seen in the following screenshot:</p><div class="mediaobject"><img src="../images/00080.jpeg" alt="Setting up a new project" class="calibre10"/></div><p class="calibre11"> </p></div></div>
<div class="book" title="Summary" id="181NK1-0c7cc7dc97984506a3b137496d3ab1d6"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec36" class="calibre1"/>Summary</h1></div></div></div><p class="calibre7">In this chapter, you learned how WebStorm can speed up the development process with the most advanced and popular JavaScript frameworks and platforms. We implemented a mini-blog in both AngularJS and React, and tested the usage of predefined application skeletons for Express and Meteor.</p><p class="calibre7">In the next chapter, we will immerse ourselves in the world of mobile development using JavaScript and HTML5.</p></div></body></html>