- en: Chapter 1. Getting Started with Opa
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter shows how to install Opa and set its environment. A simple Opa
    program will also be shown to give a first glimpse of Opa programming.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Opa
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section is about installation and configuration of Opa. You can get a more
    detailed installation guide that includes how to build Opa from source on Opa's
    webpage ([https://github.com/MLstate/opalang/wiki/Getting-started](https://github.com/MLstate/opalang/wiki/Getting-started)).
    This section will give us brief instructions on how to install Opa compiler, Node.js,
    and some required modules for Node.js.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Node.js
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Node.js ([http://nodejs.org](http://nodejs.org)) is a platform for building
    fast and scalable network applications. It is the backend of Opa (since Opa 1.0.0).
    We need to install Node.js first before installing Opa. The following are the
    steps to install Node.js on various operating systems:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Mac OS**: Following are the steps to install Node.js:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Download the latest `.pkg` package from [http://nodejs.org/dist/latest/](http://nodejs.org/dist/latest/).
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Double-click on the package to install Node.js.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Ubuntu and Debian Linux**: To install Node.js on Ubuntu and Debian Linux,
    type the following commands:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Tip
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Downloading the example code files**'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Windows**: The following are the steps to install Node.js:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Download the latest `.msi` package from [http://nodejs.org/dist/latest/](http://nodejs.org/dist/latest/).
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Double-click on the package to install Node.js on Windows.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Type the following commands to confirm your installation. If everything goes
    right, you will see the version information of Node.js and npm.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Installing the required modules
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are several modules that are required by Opa to run an application. Type
    the following command to install these modules:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Installing the Opa compiler
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The easiest solution for installing Opa is to download an installer from the
    Opa website ([http://opalang.org/](http://opalang.org/)). You can also get the
    installer from Opa's GitHub repository ([https://github.com/MLstate/opalang/downloads](https://github.com/MLstate/opalang/downloads)).
    At the time this book is being written, the latest version of Opa is 1.1.0.
  prefs: []
  type: TYPE_NORMAL
- en: 'Following are the steps to install Opa on various operating systems:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Mac OS X**: Download the latest `.dmg` package and double-click on it to
    install. You will need the password of an administrative account.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Ubuntu and Debian Linux**: Download the latest `.deb` package and double-click
    on it to install. You can also install it with the following command line:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '**Windows**: Download the latest `.exe` file and double-click on it to install.
    Note that only 64-bit packages are available for Windows at this time.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Other Linux**: To install Opa follow these steps:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Download the latest `.run` package for Linux.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Go to the download folder and add an execution privilege to the downloaded
    file by running the following command:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
- en: 'Run the installing script:'
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
- en: Testing the installation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To test if Opa is installed properly on your computer, run the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Opa is installed properly if the version information of the Opa compiler is
    printed.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up editors
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can write Opa codes with any text editor you like, but a good editor can
    make coding easier. This section is about setting up editors you may commonly
    use. For now, Sublime Text is the most complete **Integrated Development Environment**
    (**IDE**) for Opa.
  prefs: []
  type: TYPE_NORMAL
- en: Sublime Text
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Sublime Text ([http://www.sublimetext.com/](http://www.sublimetext.com/)) is
    a sophisticated text editor for code, markup, and prose. You can download and
    try Sublime Text for free from [http://www.sublimetext.com/2](http://www.sublimetext.com/2).
  prefs: []
  type: TYPE_NORMAL
- en: 'There is an Opa plugin that offers syntax highlighting, code completion, and
    some other features. To install the plugin, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Get the plugin from [https://github.com/downloads/MLstate/OpaSublimeText/Opa.sublime-package](https://github.com/downloads/MLstate/OpaSublimeText/Opa.sublime-package).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Move it to `~/.config/sublime-text2/Installed Packages/` (in Linux), or `%%APPDATA%%\Sublime
    Text 2\Installed Packages\` (in Windows), or `~/Library/Application Support/Sublime
    Text 2/Installed Packages` (in Mac).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Sublime and check if the menu entry (**View** | **Syntax** | **Opa**)
    is present. If everything goes well, the file with the `.opa` extension should
    automatically have its syntax highlighted. If not, please make sure you are using
    the Opa plugin (**View** | **Syntax** | **Opa**). We can navigate to **Edit**
    | **Line** | **Reindent** to auto-indent the Opa code.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Vim
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Vim ([http://www.vim.org/](http://www.vim.org/)) is a highly configurable text
    editor, freely available for many different platforms. The Opa installation package
    provides a mode for Vim at `/usr/share/opa/vim/` (for Linux) or `/opt/mlstate/share/opa/vim/`
    (for Mac OS). To enable Vim to detect Opa syntax, copy these files to your `.vim`
    directory in your home folder (create it if it does not exist already):'
  prefs: []
  type: TYPE_NORMAL
- en: 'On Linux, type the following command:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'On Mac OS, type the following command:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Emacs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'On Mac OS X, you can either use Aquamacs and the package installation will
    take care of it, or you should add the following line to your configuration file
    (which might be `~/.emacs`; create it if it does not exist already):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'On Linux, add the following lines to your configuration file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: For Eclipse, the experimental plugin is available at [https://github.com/MLstate/opa-eclipse-plugin](https://github.com/MLstate/opa-eclipse-plugin).
  prefs: []
  type: TYPE_NORMAL
- en: Your first Opa application
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As a first example, here is the most simple program in Opa:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: 'Compile and run it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We can type `opa hello.opa --` to compile and run the code in a single line.
  prefs: []
  type: TYPE_NORMAL
- en: The code does nothing but prints **hello Opa** on your screen. If you can see
    this message, it means Opa is working properly on your machine.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we learned how to install Opa, set up a proper editor, and
    write our first Opa program. In the next chapter, we will have a brief look at
    the basic grammar of the Opa language.
  prefs: []
  type: TYPE_NORMAL
