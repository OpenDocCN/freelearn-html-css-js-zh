<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02" class="calibre1"/>Chapter 2. Building a Less Development Toolkit</h1></div></div></div><p class="calibre7">We've covered the principles behind Less, and saw how it can help reduce the effort required to manage style sheets with the use of variables, functions, and mixins. We're almost ready to start coding, but before we can do so, there's one small thing missing—we need some tools!</p><p class="calibre7">You might <a id="id47" class="calibre1"/>wonder whether there is a need for more tools, given that CSS is just plain text and that we don't need anything to edit plain text files, right? Well, plain text editors will work, but as we'll see in this chapter, there are tools available that include support for Less in order to help make editing files easier.</p><p class="calibre7">Throughout this chapter, we will look at a selection of tools that you may find useful for working with Less; we will install a selection that will be used for the purposes of the exercises throughout this book, although you can always pick and choose the packages you prefer to use.</p><p class="calibre7">In this chapter, we will cover the following topics:</p><div><ul class="itemizedlist"><li class="listitem">Choosing and installing an editor to work with Less files</li><li class="listitem">Watching out for changes to Less files</li><li class="listitem">Debugging in browsers</li><li class="listitem">Tools for compiling the Less code</li><li class="listitem">Automating the development using tools such as Node and Grunt</li></ul></div><div><h3 class="title2"><a id="note05" class="calibre1"/>Note</h3><p class="calibre7">The software that we install in this chapter will be for Windows, as this is the author's preferred development platform; comments will be added to indicate whether alternatives for Apple Mac or Linux are available.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch02lvl1sec19" class="calibre1"/>Choosing an IDE or editor</h1></div></div></div><p class="calibre7">We need<a id="id48" class="calibre1"/> to start somewhere, and what better place than an editor. After all, we can't produce<a id="id49" class="calibre1"/> anything if we don't have something that we can use to write it! Editing Less files is very easy—they are plain text files, which can be edited in almost any editor.</p><p class="calibre7">The downside is that there are dozens of editors available, either free or at a cost. However, there are some editors that have support for Less either included by default or available as an add-on package, which includes the following:</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre8">Sublime Text</strong>: This<a id="id50" class="calibre1"/> is a shareware application for Windows, Mac, or<a id="id51" class="calibre1"/> Linux <a id="id52" class="calibre1"/>and is available at <a class="calibre1" href="http://www.sublimetext.com">http://www.sublimetext.com</a>; a license costs USD 70 at the time of writing this</li><li class="listitem"><strong class="calibre8">Notepad++</strong>: This<a id="id53" class="calibre1"/> is an open source editor for PC and is <a id="id54" class="calibre1"/>available<a id="id55" class="calibre1"/> at <a class="calibre1" href="http://www.notepad-plus-plus.org">http://www.notepad-plus-plus.org</a></li><li class="listitem"><strong class="calibre8">Coda</strong>: This<a id="id56" class="calibre1"/> is <a id="id57" class="calibre1"/>available at <a class="calibre1" href="http://www.panic.com/coda">http://www.panic.com/coda</a> (Mac only); the license cost is USD 99 at the time <a id="id58" class="calibre1"/>of writing this</li><li class="listitem"><strong class="calibre8">Codekit</strong>: This <a id="id59" class="calibre1"/>is a <a id="id60" class="calibre1"/>shareware application that is <a id="id61" class="calibre1"/>available at <a class="calibre1" href="http://www.incident57.com/codekit">http://www.incident57.com/codekit</a>; license costs vary</li></ul></div><p class="calibre7">There are more <a id="id62" class="calibre1"/>editors available; you can see a complete list of editors available at <a class="calibre1" href="http://lesscss.org/usage/#editors-and-plugins">http://lesscss.org/usage/#editors-and-plugins</a>.</p><div><h3 class="title2"><a id="note06" class="calibre1"/>Note</h3><p class="calibre7">You might have noticed that I have not mentioned IDEs such as Dreamweaver. While these will work perfectly well with Less files, their method of working can affect the experience of learning how to write Less code effectively.</p></div><p class="calibre7">In the meantime, let's take a look at installing my personal favorite, which is Sublime Text 2.</p></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec11" class="calibre1"/>Installing Sublime Text 2</h2></div></div></div><p class="calibre7">Sublime<a id="id63" class="calibre1"/> Text is a shareware cross-platform text editor, which<a id="id64" class="calibre1"/> is available at <a class="calibre1" href="http://www.sublimetext.com">http://www.sublimetext.com</a>. Its popularity stems from an uncluttered interface that allows for easy editing, yet is equally powerful. Sublime Text comes with a Python-based API, for which you can write plugins.</p><p class="calibre7">To install Sublime<a id="id65" class="calibre1"/> Text, we can download it from <a class="calibre1" href="http://www.sublimetext.com/2">http://www.sublimetext.com/2</a>. Different versions are available for Apple Mac, Linux, and<a id="id66" class="calibre1"/> Windows; please download and install the version that is appropriate to your <a id="id67" class="calibre1"/>platform, accepting all defaults.</p><div><h3 class="title2"><a id="note07" class="calibre1"/>Note</h3><p class="calibre7">The next<a id="id68" class="calibre1"/> version of Sublime Text, Version 3, is available at the time of writing this at <a class="calibre1" href="http://www.sublimetext.com/3">http://www.sublimetext.com/3</a>; it is in beta at present but is reasonably stable for use if you don't mind working with beta software!</p></div></div></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec12" class="calibre1"/>Adding Less syntax support</h2></div></div></div><p class="calibre7">Next, we<a id="id69" class="calibre1"/> need to add syntax support for Less, which<a id="id70" class="calibre1"/> requires several steps—the first of which is to install Package Control Manager, which is required in order to install plugins for Sublime Text. Let's begin<a id="id71" class="calibre1"/> by browsing to the installation page of the Package Control website at <a class="calibre1" href="https://sublime.wbond.net/installation#st2">https://sublime.wbond.net/installation#st2</a>. </p><p class="calibre7">We need to copy the code shown in the Sublime Text 2 tab, and then open Sublime Text 2. Once it is open, click on <strong class="calibre8">View</strong> and <strong class="calibre8">Show Console</strong> before pasting the code into the console. Press <em class="calibre9">Enter</em> to run the installation. Once you see the following appear in the Console window, restart Sublime Text:</p><div><img src="img/00003.jpeg" alt="Adding Less syntax support" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">We now need to install syntax support for Less. For this, you will need an Internet connection, so you might not find it possible to do this while commuting, for example!</p><p class="calibre7">Assuming you have access to the Internet, go ahead and press <em class="calibre9">Ctrl</em> + <em class="calibre9">Shift</em> + <em class="calibre9">P</em> to bring up Package Manager, then type in <strong class="calibre8">Package Control: Install Package</strong>, and press <em class="calibre9">Enter</em>, as shown in the following screenshot:</p><div><img src="img/00004.jpeg" alt="Adding Less syntax support" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">There<a id="id72" class="calibre1"/> will be a short delay while Package Manager<a id="id73" class="calibre1"/> retrieves the latest list of packages that are available; you can monitor their progress in the status bar.</p><div><img src="img/00005.jpeg" alt="Adding Less syntax support" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Once this is retrieved, the package list will be presented; in the package name box, enter <code class="email">LESS</code>, as shown in the following screenshot, and press <em class="calibre9">Enter</em>:</p><div><img src="img/00006.jpeg" alt="Adding Less syntax support" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Sublime Text<a id="id74" class="calibre1"/> will now install the package. There will<a id="id75" class="calibre1"/> be a delay while it is installed; we can monitor its progress in the status bar at the bottom of the window. Once this is completed, you will see <strong class="calibre8">Line 1, Column 1; Package LESS successfully installed</strong> appear in the status bar. Syntax support is now installed—if we open up a test Less file in Sublime Text (such as <code class="email">buttons.less</code>, from <a class="calibre1" title="Chapter 4. Working with Variables, Mixins, and Functions" href="part0041_split_000.html#page">Chapter 4</a>, <em class="calibre9">Working with Variables, Mixins, and Functions</em>, in the accompanying code download for this book), we can see that the code is now in color and not in black and white as before:</p><div><img src="img/00007.jpeg" alt="Adding Less syntax support" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">At this point, we're ready to start editing Less files—we still have some more tools we need to look at, though, before we have a complete toolkit! Once we've produced a Less file, we <a id="id76" class="calibre1"/>need to<a id="id77" class="calibre1"/> compile it into a valid CSS, so let's take a look at some of the tools that are available for this purpose.</p></div></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec20" class="calibre1"/>Compiling Less files with a standalone compiler</h1></div></div></div><p class="calibre7">Once <a id="id78" class="calibre1"/>we've produced a valid Less file, we <a id="id79" class="calibre1"/>need to compile it into its CSS equivalent. For this, we have two options: the first is to compile from the command line; we will examine this in more detail later in this chapter, in the <em class="calibre9">Compiling from the command line</em> section. The second is using a standalone compiler, for <a id="id80" class="calibre1"/>which<a id="id81" class="calibre1"/> we can use one of the<a id="id82" class="calibre1"/> following<a id="id83" class="calibre1"/> compilers available for this purpose:</p><div><ul class="itemizedlist"><li class="listitem">WinLess (<a class="calibre1" href="http://winless.org/">http://winless.org/</a>)</li><li class="listitem">SimpLESS (<a class="calibre1" href="http://www.wearekiss.com/simpless">http://www.wearekiss.com/simpless</a>/)</li><li class="listitem">Koala (<a class="calibre1" href="http://koala-app.com/">http://koala-app.com/</a>)</li><li class="listitem">Crunch! (<a class="calibre1" href="http://www.crunchapp.net/">http://www.crunchapp.net/</a>)</li></ul></div><p class="calibre7">Each of these compilers performs the same basic function of compiling Less files, but in different ways. I would suggest that you try each one out and stick with the one that you find preferable.</p><p class="calibre7">We must start somewhere, so first, let's take a look at WinLess.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec13" class="calibre1"/>WinLess</h2></div></div></div><p class="calibre7">WinLess<a id="id84" class="calibre1"/> is a Windows-based open source GUI frontend <a id="id85" class="calibre1"/>for <code class="email">less.js</code>, which can be downloaded from <a class="calibre1" href="http://winless.org/downloads/WinLess-1.8.2.msi">http://winless.org/downloads/WinLess-1.8.2.msi</a>. This includes an option to automatically monitor changes to any files stored within specific folders; as soon as they are changed, the corresponding CSS files are updated.</p><div><img src="img/00008.jpeg" alt="WinLess" class="calibre10"/></div><p class="calibre11"> </p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec14" class="calibre1"/>SimpLESS</h2></div></div></div><p class="calibre7">If something <a id="id86" class="calibre1"/>that is a little simpler is sufficient for your<a id="id87" class="calibre1"/> needs, then you can always try SimpLESS, which is a cut-down version available for Windows, Apple Mac, or Linux platforms.</p><p class="calibre7"> </p><div><img src="img/00009.jpeg" alt="SimpLESS" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">
</p><p class="calibre7">You can <a id="id88" class="calibre1"/>download this from <a class="calibre1" href="http://www.wearekiss.com/simpless">http://www.wearekiss.com/simpless</a>; it is designed to sit and work from the system tray, silently updating any changed Less files.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec15" class="calibre1"/>Koala</h2></div></div></div><p class="calibre7">Koala is a relative newcomer to the Less preprocessor scene. It is a cross-platform GUI application that compiles most CSS preprocessors available, including Less. It was built using <a id="id89" class="calibre1"/>Node-Webkit, so versions are available for Mac OS, Linux, and <a id="id90" class="calibre1"/>Windows<a id="id91" class="calibre1"/> and can be downloaded from <a class="calibre1" href="http://www.koala-app.com/">http://www.koala-app.com/</a>.</p><div><img src="img/00010.jpeg" alt="Koala" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">You can find details of other compilers available for use with Less by browsing to <a class="calibre1" href="http://lesscss.org/usage/#guis-for-less">http://lesscss.org/usage/#guis-for-less</a>. In the meantime, we're going to move on<a id="id92" class="calibre1"/> and install Crunch!, as an example of one of the compilers available for Less.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec16" class="calibre1"/>Installing Crunch!</h2></div></div></div><p class="calibre7">Crunch! is<a id="id93" class="calibre1"/> a cross-platform compiler for Less, which<a id="id94" class="calibre1"/> works using Adobe AIR. This compiler is different from the others, as it allows us to edit files within the compiler directly.</p><p class="calibre7">Installing Crunch! is a two-part process; we begin with installing Adobe AIR:</p><div><ol class="orderedlist"><li class="listitem" value="1">Download the <a id="id95" class="calibre1"/>installer from <a class="calibre1" href="http://get.adobe.com/air/">http://get.adobe.com/air/</a>, making sure that you select the right version for your platform. Double-click on the AIR installer and accept all defaults.</li><li class="listitem" value="2">Next, go ahead <a id="id96" class="calibre1"/>and download Crunch! from <a class="calibre1" href="http://www.crunchapp.net">http://www.crunchapp.net</a>. Double-click on the <strong class="calibre8">Crunch.1.6.4.air</strong> package, and then click on the <strong class="calibre8">Install</strong> button<a id="id97" class="calibre1"/> at <a id="id98" class="calibre1"/>this prompt.<div><img src="img/00011.jpeg" alt="Installing Crunch!" class="calibre10"/></div><p class="calibre13"> </p></li><li class="listitem" value="3">Click on <strong class="calibre8">Continue</strong> to begin the installation; we can leave the default settings untouched, as they will suffice for our needs:<div><img src="img/00012.jpeg" alt="Installing Crunch!" class="calibre10"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">After <a id="id99" class="calibre1"/>a few minutes, Crunch!'s GUI <a id="id100" class="calibre1"/>will appear, ready for use, as shown in this screenshot:<div><img src="img/00013.jpeg" alt="Installing Crunch!" class="calibre10"/></div><p class="calibre13"> </p></li></ol><div></div></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec21" class="calibre1"/>Compiling from the command line</h1></div></div></div><p class="calibre7">Some of <a id="id101" class="calibre1"/>you might prefer not to have to use a standalone application to compile Less code task; after all, who needs to learn yet another application in order to perform a task that can easily be automated and run in the background, right?</p><p class="calibre7">Absolutely; instead of using a standalone compiler, we can use the command line to perform the <a id="id102" class="calibre1"/>same operation using the JavaScript-based platform, which is Node.js, available at <a class="calibre1" href="http://www.nodejs.org">http://www.nodejs.org</a>. Versions of this application are available for the Windows, Linux, Mac, and even SunOS platforms. Otherwise, you can always try compiling from the source if you are feeling adventurous! Let's take a look at how we can use this in more detail.</p><p class="calibre7">To download <a id="id103" class="calibre1"/>and install Node.js, perform the following steps:</p><div><ol class="orderedlist"><li class="listitem" value="1">Browse <a class="calibre1" href="http://www.nodejs.org">http://www.nodejs.org</a>, and click on <strong class="calibre8">Download</strong> from the main page; this should automatically determine the right version for your platform. At the time of writing this, the latest version for Windows is <code class="email">node-v0.10.24-x86.msi</code>.</li><li class="listitem" value="2">Double-click on the installer to begin the process; you will see the following welcome screen. Click on <strong class="calibre8">Next</strong>.<div><img src="img/00014.jpeg" alt="Compiling from the command line" class="calibre10"/></div><p class="calibre13"> </p></li><li class="listitem" value="3">On the next screen, select the <strong class="calibre8">I accept the terms in the License Agreement</strong> checkbox, and then click on <strong class="calibre8">Next</strong>.<div><img src="img/00015.jpeg" alt="Compiling from the command line" class="calibre10"/></div><p class="calibre13"> </p></li><li class="listitem" value="4">At this <a id="id104" class="calibre1"/>point, we need to choose the location for <a id="id105" class="calibre1"/>where we will install Node. For the purposes of this book, we will assume that it will be installed in the default location of <code class="email">c:\wamp</code>, so go ahead and click on <strong class="calibre8">Next</strong>.<div><img src="img/00016.jpeg" alt="Compiling from the command line" class="calibre10"/></div><p class="calibre13"> </p></li><li class="listitem" value="5">On the next screen, you can select from a number of options in order to configure <a id="id106" class="calibre1"/>Node. This isn't necessary for the purposes of running the exercises in this book, so we will simply click on <strong class="calibre8">Next</strong>.<div><img src="img/00017.jpeg" alt="Compiling from the command line" class="calibre10"/></div><p class="calibre13"> </p></li></ol><div></div><p class="calibre7">We're now <a id="id107" class="calibre1"/>ready to complete the installation, so click on <strong class="calibre8">Install</strong>, and wait for it to complete. Once this is completed, Node is installed and is ready for us to use. We are now ready to install Less for the command line, which we will cover in the next chapter, which is <a class="calibre1" title="Chapter 3. Getting Started with Less" href="part0031_split_000.html#page">Chapter 3</a>, <em class="calibre9">Getting Started with Less</em>.</p><div><h3 class="title2"><a id="note08" class="calibre1"/>Note</h3><p class="calibre7">If you are interested in learning more about Node.js, then you might like to peruse the book <em class="calibre9">Mastering Node.js</em>, <em class="calibre9">Sandro Pasquali</em>, published by <em class="calibre9">Packt Publishing</em>.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec17" class="calibre1"/>Watching for changes to Less files</h2></div></div></div><p class="calibre7">As we<a id="id108" class="calibre1"/> will see in the next chapter, it is a simple<a id="id109" class="calibre1"/> process to compile Less from the command line; we can open a command prompt, type in a simple command, and then press <em class="calibre9">Enter</em> to let it run.</p><p class="calibre7">The trouble is that we have to do this every time. After a while, this will get tedious, to say the least! It's something we can easily fix—we first need to install Grunt's command-line interface before taking it a step further by setting Grunt to automatically watch out for, and recompile, any changes to our Less source files.</p><div><h3 class="title2"><a id="note09" class="calibre1"/>Note</h3><p class="calibre7">There is an alternative watch mode available in Less, called <strong class="calibre8">Watch</strong>. This still requires <a id="id110" class="calibre1"/>manual work to configure it; we will take a look at it in more detail in <a class="calibre1" title="Chapter 3. Getting Started with Less" href="part0031_split_000.html#page">Chapter 3</a>, <em class="calibre9">Getting Started with Less</em>.</p></div><p class="calibre7">In the <a id="id111" class="calibre1"/>following example, we'll add <a id="id112" class="calibre1"/>support for Less by installing a package called <code class="email">grunt-contrib-less</code>. Let's start by creating a folder for our project at the root of the <code class="email">C:</code> drive, called <code class="email">lessjs</code>. Within this folder, create a new file called <code class="email">package.json</code>, and add the following code:</p><div><pre class="programlisting">{
  "name": "my_grunt_project",
  "version": "0.0.1",
  "devDependencies": {

  }
}</pre></div><p class="calibre7">Next, fire up a command prompt and enter the following command:</p><div><pre class="programlisting">
<strong class="calibre8">npm install -g grunt --save-dev</strong>
</pre></div><p class="calibre7">This will download and install a number of additional packages; the <code class="email">--save-dev</code> parameter will add any dependencies to the <code class="email">package.json</code> file automatically.</p><p class="calibre7">If we take a look at the <code class="email">lessjs</code> folder, we will see our <code class="email">package.json</code> file; if we open it in a text editor, it will look something like this code:</p><div><pre class="programlisting">{
  "name": "my-project-name",
  "version": "0.1.0",
  "devDependencies": {
    "grunt": "~0.4.2",
    "grunt-contrib-less": "~0.8.3",
    "grunt-contrib-watch": "~0.5.3"
  }
}</pre></div><p class="calibre7">If the download is complete with no errors recorded, then run this command:</p><div><pre class="programlisting">
<strong class="calibre8">npm install -g grunt-cli</strong>
</pre></div><p class="calibre7">Add the following code to a new file, and save it in the project folder as <code class="email">gruntfile.js</code>. We will go through the file in sections in order to understand what each part does:</p><div><pre class="programlisting">module.exports = function(grunt) {
  grunt.initConfig({
    less: {
      src: {
        expand: true,
        src:    "*.less",
        ext:    ".css"
      }
    }
  },</pre></div><p class="calibre7">We start the file with a standard Grunt <code class="email">exports</code> statement; here, we initialize Grunt by setting <code class="email">src</code> to look for Less files and compile them into CSS files. We've set Grunt to not compress<a id="id113" class="calibre1"/> the CSS files when compiled<a id="id114" class="calibre1"/> using the <code class="email">expand</code> attribute, which is set to <code class="email">true</code>. This<a id="id115" class="calibre1"/> makes them easy to read while we are still developing, although in reality, we will look to compress the files in a production environment in order to save on bandwidth:</p><div><pre class="programlisting">  watch: {
      styles: {
      options: { spawn: false },
        files: [ "*.css", "*.less"], 
        tasks: [ "less" ]
      }
  }
  });</pre></div><p class="calibre7">As we are defining more than one task, we would ordinarily have to enter the tasks at the command prompt individually. Instead, we can combine all of the subtasks that we define. We can then run them as default when entering the command grunt at the command line, which help saves time:</p><div><pre class="programlisting">  grunt.loadNpmTasks('grunt-contrib-less');
  grunt.loadNpmTasks('grunt-contrib-watch');

  // the default task can be run just 
  // by typing "grunt" on the command line
  grunt.registerTask('default', ['watch']);
};</pre></div><p class="calibre7">Start a command prompt, switch to the project folder, and enter <code class="email">npm install</code> at the command prompt. This will download and install a number of additional packages. When this is complete, enter <code class="email">grunt</code> at the command prompt. Grunt will begin watching for any changes, as shown in this example:</p><div><img src="img/00018.jpeg" alt="Watching for changes to Less files" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Any <a id="id116" class="calibre1"/>changes made will force an automatic recompilation<a id="id117" class="calibre1"/> of the Less file.</p><div><h3 class="title2"><a id="tip03" class="calibre1"/>Tip</h3><p class="calibre7">If you would like to dig into the source code for these packages, then you will find many <a id="id118" class="calibre1"/>of them on GitHub at <a class="calibre1" href="https://github.com/gruntjs">https://github.com/gruntjs</a>.</p></div><p class="calibre7">As time moves on, and you become more accustomed to developing with Less, you might like to try some of the other watcher packages that are available from the Node Package Manager<a id="id119" class="calibre1"/> website at <a class="calibre1" href="https://npmjs.org">https://npmjs.org</a>, such as the following examples:</p><div><ul class="itemizedlist"><li class="listitem">less <a id="id120" class="calibre1"/>watch (available at <a class="calibre1" href="https://npmjs.org/package/less-watch">https://npmjs.org/package/less-watch</a>)</li><li class="listitem">less <a id="id121" class="calibre1"/>monitor (available at <a class="calibre1" href="https://npmjs.org/package/less-monitor">https://npmjs.org/package/less-monitor</a>)</li><li class="listitem">less <a id="id122" class="calibre1"/>watcher (available at <a class="calibre1" href="https://npmjs.org/package/lesswatcher">https://npmjs.org/package/lesswatcher</a>)</li></ul></div><p class="calibre7">Now that we have Less installed and compiled automatically using Grunt, we can skip to the next chapter in order to create some files in our normal text editor, and then compile them manually. This will work perfectly well, but we can automate the compilation process even further. Let's see how we can do this by adding support to a text editor such as Notepad++ so that we can compile the files directly from within the editor.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec18" class="calibre1"/>Compiling Less files directly from text editors</h2></div></div></div><p class="calibre7">There<a id="id123" class="calibre1"/> are hundreds of text <a id="id124" class="calibre1"/>editors available for use; some are<a id="id125" class="calibre1"/> free or open source, while others will be available at a cost. A good example of a free editor is Notepad++; the current version is 6.5.3 at the time of writing this and can be downloaded from <a class="calibre1" href="http://notepad-plus-plus.org/download/v6.5.3.html">http://notepad-plus-plus.org/download/v6.5.3.html</a>.</p><p class="calibre7">For now, we'll get it set up and ready for use. You will see it in action in <a class="calibre1" title="Chapter 3. Getting Started with Less" href="part0031_split_000.html#page">Chapter 3</a>, <em class="calibre9">Getting Started with Less</em>, when we use it to compile code from the editor.</p><p class="calibre7">Download the installer for Notepad++, and then double-click on it to launch the installation process. Click on <strong class="calibre8">Next</strong> to accept each default setting, which will suffice for our <a id="id126" class="calibre1"/>needs. When the installation<a id="id127" class="calibre1"/> is complete, start Notepad++, and<a id="id128" class="calibre1"/> then click on <strong class="calibre8">Run</strong> from the <strong class="calibre8">Run</strong> menu in order to launch the <strong class="calibre8">Run</strong> dialog, and add the following line (including the quotes):</p><p class="calibre7">
<code class="email">"C:\Program Files (x86)\nodejs\node_modules\.bin\lessc.cmd" -x "$(FULL_CURRENT_PATH)" &gt; "$(CURRENT_DIRECTORY)\$(NAME_PART).css"</code>
</p><p class="calibre7">Click on <strong class="calibre8">Save</strong> to add the run command to the list of existing preset commands; in the <strong class="calibre8">Shortcut</strong> dialog, choose the <strong class="calibre8">CTRL</strong> + <strong class="calibre8">L</strong> shortcut and add <code class="email">Compile LESS files</code> for the command, and then click on <strong class="calibre8">OK</strong>.</p><div><img src="img/00019.jpeg" alt="Compiling Less files directly from text editors" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">When the <strong class="calibre8">Shortcut</strong> window is closed, click on <strong class="calibre8">Save</strong> to save the changes. For now, click on <strong class="calibre8">Cancel</strong> to close the window. We're not ready to run our shortcut yet—this will happen in the next chapter. Notepad++ is now set up so that we are ready to compile any changes to Less files from within the application.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec19" class="calibre1"/>Installing the compilation support via a package</h2></div></div></div><p class="calibre7">So far, we've <a id="id129" class="calibre1"/>seen how you<a id="id130" class="calibre1"/> can set up an editor such as Notepad++, but <a id="id131" class="calibre1"/>we're not limited to having to wire up every editor using this technique. For some editors, an extension or package has already been created for this purpose, so the installation will be simplified. One such example is Sublime Text—there is a package that exists, which we can install in order to provide support for Less.</p><p class="calibre7">Start by firing up Sublime Text, and then press <em class="calibre9">Shift</em> + <em class="calibre9">Ctrl</em> + <em class="calibre9">P</em> to bring up Package Manager, which we installed earlier in this chapter, and then enter <code class="email">Package Control: Install Package</code> and press <em class="calibre9">Enter</em>.</p><div><img src="img/00020.jpeg" alt="Installing the compilation support via a package" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Next, enter <code class="email">lesscss</code>—we need to install the <code class="email">Less2CSS</code> package, so when this appears in the autocomplete, click on it and press <em class="calibre9">Enter</em>:</p><div><img src="img/00021.jpeg" alt="Installing the compilation support via a package" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">At this point, Sublime Text will install the package, which will take a few moments—the confirmation will appear in the status bar when it is successfully installed. We're now ready<a id="id132" class="calibre1"/> to compile Less files<a id="id133" class="calibre1"/> directly from within Sublime Text—we'll be<a id="id134" class="calibre1"/> using this feature in the next chapter.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec22" class="calibre1"/>Debugging Less in browsers</h1></div></div></div><p class="calibre7">A key <a id="id135" class="calibre1"/>part of developing code of any description is the fixing of any errors or bugs; working with Less code is no exception. We can, of course, do this manually or use a linting tool such as CSS Lint (<a class="calibre1" href="http://www.csslint.net">http://www.csslint.net</a>), but either is likely to require working directly with the compiled<a id="id136" class="calibre1"/> CSS code, which will make it harder to trace a fault back to your existing Less code.</p><p class="calibre7">Fortunately, we have a couple of options that will help in this respect—we can either debug directly in Firefox using the FireLESS plugin, or we can set up a source map that will translate a compiled style back to the line number in the original Less file. Let's take a look at installing FireLESS first and get ready for when we start developing code in the next chapter.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec20" class="calibre1"/>Debugging the Less code using Firefox</h2></div></div></div><p class="calibre7">To enable support for <a id="id137" class="calibre1"/>debugging <a id="id138" class="calibre1"/>Less in Firefox, we first need to ensure<a id="id139" class="calibre1"/> that Firebug is installed; for this, you can download it from <a class="calibre1" href="https://addons.mozilla.org/en-US/firefox/addon/firebug">https://addons.mozilla.org/en-US/firefox/addon/firebug</a> using the normal installation process for Firefox add-ins.</p><div><img src="img/00022.jpeg" alt="Debugging the Less code using Firefox" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">At the <a id="id140" class="calibre1"/>time of writing this, the latest version of Firebug is<a id="id141" class="calibre1"/> 1.12.5, which will work for Firefox Versions 23 to 26. The installation process is painless and does not require a restart of your browser.</p><p class="calibre7">Next, we need<a id="id142" class="calibre1"/> to install FireLESS. First, browse to <a class="calibre1" href="https://addons.mozilla.org/en-us/firefox/addon/fireless/">https://addons.mozilla.org/en-us/firefox/addon/fireless/</a>, and then click on <strong class="calibre8">Add to Firefox</strong> to initiate the installation. You might get a prompt to allow Firefox to install Firebug—click on <strong class="calibre8">Allow</strong>. After Firefox has downloaded the plugin, click on <strong class="calibre8">Install Now</strong> (shown in the following screenshot) to begin the installation:</p><div><img src="img/00023.jpeg" alt="Debugging the Less code using Firefox" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Click<a id="id143" class="calibre1"/> on <strong class="calibre8">Restart Now</strong> when prompted. FireLESS is <a id="id144" class="calibre1"/>now installed; we will see how to use it in <a class="calibre1" title="Chapter 3. Getting Started with Less" href="part0031_split_000.html#page">Chapter 3</a>, <em class="calibre9">Getting Started with Less</em>.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec21" class="calibre1"/>Debugging the Less code in Chrome</h2></div></div></div><p class="calibre7">We're <a id="id145" class="calibre1"/>not limited to just using Firefox to debug our source <a id="id146" class="calibre1"/>code. We can also use Chrome; for this, we need to install the support for source maps in Less.</p><p class="calibre7">Source maps are a relatively new feature, which can work with JavaScript- or CSS-based files; the concept is based around providing a mechanism to map back the compiled JavaScript- or CSS-based code to the original source files. This becomes particularly effective when the content has been minimized—without a source map, it would be difficult to work out which piece of code was at fault!</p><p class="calibre7">This example relies on the use of a web server to work correctly. We will go ahead and install WampServer for this purpose, so let's do this now.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec22" class="calibre1"/>Installing WampServer</h2></div></div></div><p class="calibre7">WampServer <a id="id147" class="calibre1"/>can be downloaded from <a class="calibre1" href="http://www.wampserver.com">http://www.wampserver.com</a>—the <a id="id148" class="calibre1"/>various versions for Windows are available from within <a id="id149" class="calibre1"/>the <strong class="calibre8">Download</strong> tab; make sure that you select an appropriate one for your platform. If you work on an Apple Mac, then you can try installing MAMP, which you can download from <a class="calibre1" href="http://www.mamp.info">http://www.mamp.info</a>. Linux <a id="id150" class="calibre1"/>users should have a suitable option available as part of their distro.</p><p class="calibre7">Start by opening the installer file you downloaded earlier. In the welcome prompt, click on <strong class="calibre8">Next</strong>. Select <strong class="calibre8">I accept the agreement</strong>, and then click on <strong class="calibre8">Next</strong>, as shown in the following screenshot:</p><div><img src="img/00024.jpeg" alt="Installing WampServer" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">We need<a id="id151" class="calibre1"/> to assign a location somewhere to install the application <a id="id152" class="calibre1"/>files (and later, host our test pages). By default, WampServer will get installed into <code class="email">c:\wamp</code>—this is ideal, as it avoids the use of spaces, which will otherwise translate into <code class="email">%20</code> in our URLs.</p><p class="calibre7">For the purposes of this book, I will assume that you've used the default; if you've used something different, then you will need to remember the new location for later when we host our example files.</p><div><img src="img/00025.jpeg" alt="Installing WampServer" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">The setup <a id="id153" class="calibre1"/>will then prompt you whether you want to create <a id="id154" class="calibre1"/>quick launch or desktop icons—at this point, you can choose whichever you prefer to use. Clicking on <strong class="calibre8">Next</strong> will show you a <strong class="calibre8">Ready to Install</strong> screen, which gives you a summary of our install actions. If all is well, click on <strong class="calibre8">Install</strong> to complete the process.</p><p class="calibre7">We will then see the <strong class="calibre8">Preparing to Install</strong> window, before <strong class="calibre8">Setup</strong> then runs through the installation. Just before the completion, you will see this message, where we should click on <strong class="calibre8">No</strong>:</p><div><img src="img/00026.jpeg" alt="Installing WampServer" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">In addition, we also need to install Grunt and Node, as outlined earlier in the <em class="calibre9">Watching for changes to Less files</em> section of this chapter.</p><p class="calibre7">Now that WampServer is installed, open a command prompt and change the location to your project folder—for this example, I will use a folder called <code class="email">lessc</code>, which will be stored at <code class="email">c:\wamp\www\lessc</code>.</p><div><h3 class="title2"><a id="tip04" class="calibre1"/>Tip</h3><p class="calibre7">In this example, we've used a demo folder—this will need to be your folder from which the content is served when working in production.</p></div><p class="calibre7">In the prompt, enter the following command:</p><div><pre class="programlisting">
<strong class="calibre8">lessc namespaces.less &gt; namespaces.css –source-map=namespaces.css.map</strong>
</pre></div><p class="calibre7">Here, <code class="email">namespaces.less</code> and <code class="email">namespaces.css</code> are the names of your Less and CSS files, respectively. When <a id="id155" class="calibre1"/>compiled, <code class="email">lessc</code> produces <a id="id156" class="calibre1"/>a <code class="email">.map</code> file, which the browser will use to find the various definitions in Less files that equate to a specific CSS style rule in your code.</p><p class="calibre7">Copy the <code class="email">namespaces.less</code>, <code class="email">namespaces.css</code>, <code class="email">main.html</code>, and <code class="email">namespaces.css.map</code> files to your web server's <code class="email">WWW</code> folder—in this instance, this will most likely be <code class="email">c:\wamp</code>.</p><p class="calibre7">Open Google Chrome, and then browse to <code class="email">http://localhost/lessc/main.html</code>. If all is well, you will see something like the following screenshot, assuming that you have pressed <em class="calibre9">F12</em> to display the developer toolbar:</p><div><img src="img/00027.jpeg" alt="Installing WampServer" class="calibre10"/></div><p class="calibre11"> </p><p class="calibre7">Here, you can see the various CSS styles that make up the <code class="email">.mediumbutton</code> class; Chrome shows you the compiled output styles, but in place of indicating where each rule appears in the CSS, we can see where the original rule is shown within the Less file.</p><p class="calibre7">We will<a id="id157" class="calibre1"/> be able to achieve the same results using Opera (as recent versions are now WebKit-based). Safari has introduced support for source maps, but <a id="id158" class="calibre1"/>only from Version 7 onwards. <strong class="calibre8">Internet Explorer</strong> (<strong class="calibre8">IE</strong>) is<a id="id159" class="calibre1"/> the only major browser that is yet to include any support for source maps.</p><p class="calibre7">For now, don't worry about how source maps work, as we will revisit this in more detail later in the book.</p></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec23" class="calibre1"/>Other useful tools</h1></div></div></div><p class="calibre7">We've almost come to the end of this chapter, but before we move onto starting to develop the<a id="id160" class="calibre1"/> Less code, we should take a look at a few tools that you might find useful once you've spent some time developing CSS with Less:</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre8">Adobe Kuler</strong>: You<a id="id161" class="calibre1"/> can find this tool at <a class="calibre1" href="https://kuler.adobe.com/">https://kuler.adobe.com/</a>. Although<a id="id162" class="calibre1"/> this is not<a id="id163" class="calibre1"/> immediately associated with Less, you might find this useful when choosing a color scheme for your site. Kuler has some useful tools that<a id="id164" class="calibre1"/> help you choose a suitable color palette from <a id="id165" class="calibre1"/>which we can take and use the color values within our Less styles.</li><li class="listitem"><strong class="calibre8">Live.js</strong>: If <a id="id166" class="calibre1"/>you spend any amount of time editing styles, you <a id="id167" class="calibre1"/>will have to manually refresh the pages after each <a id="id168" class="calibre1"/>change; this can get tedious if you are making lots of changes! Fortunately, we can get around this with the use of the Live.js script. This tool is developed by Martin Kool and is available at <a class="calibre1" href="http://www.livejs.com">http://www.livejs.com</a>. It automatically forces a refresh to the page being worked on so that we can see changes as soon as they are applied. </li><li class="listitem"><strong class="calibre8">CSS3 Please</strong>: You can find this tool at <a class="calibre1" href="http://css3please.com/">http://css3please.com/</a>. This is a nifty <a id="id169" class="calibre1"/>site that allows you to edit any listed CSS3<a id="id170" class="calibre1"/> rule with your own values; it automatically <a id="id171" class="calibre1"/>applies the same rule changes to each of the vendor prefixes for that rule so that you have an updated rule that will work in each of the major browsers. This is particularly helpful when you start creating your own mixins, as we will see in the next chapter.</li><li class="listitem"><strong class="calibre8">SpritePad</strong>: You can find this tool at <a class="calibre1" href="http://wearekiss.com/spritepad">http://wearekiss.com/spritepad</a>. Billed as <a id="id172" class="calibre1"/>the "easiest way to create your sprites", SpritePad is<a id="id173" class="calibre1"/> an excellent tool for creating image sprites<a id="id174" class="calibre1"/> online, which automatically generates the appropriate CSS for each image. We can then use this to create mixins—this is particularly useful if we're creating a site with a lot of small images that feature regularly throughout the site.</li><li class="listitem"><strong class="calibre8">Prefixr</strong>: You <a id="id175" class="calibre1"/>can find this tool at <a class="calibre1" href="http://www.prefixr.com/">http://www.prefixr.com/</a>. Although this site is not designed for use with Less, it is<a id="id176" class="calibre1"/> useful nonetheless. We can develop a site for a particular<a id="id177" class="calibre1"/> browser (such as Firefox), and then use Prefixr to add other vendor prefix equivalents for any CSS3 rule that still requires them.</li><li class="listitem"><strong class="calibre8">WinLess Online</strong>: You can find this tool at <a class="calibre1" href="http://winless.org/online-less-compiler">http://winless.org/online-less-compiler</a>. Earlier<a id="id178" class="calibre1"/> in this chapter, we touched <a id="id179" class="calibre1"/>on using WinLess as a Less compiler; this <a id="id180" class="calibre1"/>also has an online version for those who do not use Windows as their platform. Although some of the configuration options are not present (such as minifying the compiled code), it is a useful tool nonetheless.</li><li class="listitem"><strong class="calibre8">Less2CSS</strong>: You <a id="id181" class="calibre1"/>can <a id="id182" class="calibre1"/>find this<a id="id183" class="calibre1"/> tool at <a class="calibre1" href="http://www.less2css.org">http://www.less2css.org</a>. This site performs the same function as WinLess Online but has a few more options, such as adding the media queries required for working with source maps. This developer also recommends that you use this site to verify your code in the event that you come across any issue where you need assistance.</li></ul></div><p class="calibre7">This is a selection of the tools I've used for developing with Less; there are likely to be others that will be as useful as the ones listed here. Please feel free to use these. If you have <a id="id184" class="calibre1"/>suggestions for others in a future edition of this book, then<a id="id185" class="calibre1"/> they are welcome!</p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec24" class="calibre1"/>Summary</h1></div></div></div><p class="calibre7">Working with Less can be very rewarding when you have the right tools installed and available for use in your workflow. We started with a look at some of the editors that are available; these include support for Less, such as Sublime Text or Notepad++. We then moved on to installing Sublime Text 2 and added support for Less.</p><p class="calibre7">Next up came a discussion on the options available for compiling Less code—the first option covered how you can use a standalone compiler such as WinLess to produce the final CSS code; we took a look at each of the main compilers available, and followed it by installing Crunch!.</p><p class="calibre7">We then moved on to examining how you can use the command line to compile the code—we looked at how using a standalone compiler meant adding another layer into your development workflow, which isn't ideal. We ran through a basic installation of Node.js, which we then first configured to compile Less files before adding an automatic watch facility and finishing with a look at how you can link this to editors such as Notepad++.</p><p class="calibre7">We then rounded off the chapter with a look at the options available for debugging code in browsers. We examined how FireLESS and Firebug make this a cinch when using Firefox, while it requires a little more work to configure Chrome (and Opera) in order to use source maps to achieve the same effect. We also covered some of the other tools you might find useful for developing with Less, such as LESS2CSS or Adobe Kuler.</p><p class="calibre7">In the next chapter, we're going to really get stuck in and start to produce valid Less code. We'll take a look at downloading and adding Less and start to examine its syntax before writing some styles and seeing the results from compiling using the command line or through a standalone compiler.</p></div></body></html>