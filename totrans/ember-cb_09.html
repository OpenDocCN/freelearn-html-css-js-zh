<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;9.&#xA0;Real-Life Tasks with Ember.js" id="27GQ61-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09" class="calibre1"/>Chapter 9. Real-Life Tasks with Ember.js</h1></div></div></div><p class="calibre8">In this chapter, we'll cover the following recipes:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Using services with a component</li><li class="listitem">Managing basic authentication</li><li class="listitem">Using <span class="strong"><strong class="calibre9">OAuth2</strong></span> with Ember Simple Auth</li><li class="listitem">Using Liquid Fire to create transitions</li><li class="listitem">Working with HTML5 drag and drop</li><li class="listitem">Learning Bootstrap with Ember.js</li></ul></div></div>

<div class="book" title="Chapter&#xA0;9.&#xA0;Real-Life Tasks with Ember.js" id="27GQ61-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch09lvl1sec69" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre8">When developing a web application, you'll run into some tricky situations. You might need to set up authentication or animations or add transitions. You may need to figure out how to use Bootstrap in your application. These scenarios happen all the time.</p><p class="calibre8">In this chapter, we'll go over some more common real-life tasks and some recipes that you can use to make life easier when working with Ember.js.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using services with a component"><div class="book" id="28FAO2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec70" class="calibre1"/>Using services with a component</h1></div></div></div><p class="calibre8">In Ember.js, a <a id="id433" class="calibre1"/>service is a singleton object that holds state. In <a id="id434" class="calibre1"/>other words, it can be shared throughout an Ember application and doesn't change. For example, session data, APIs that talk to a server, and <a id="id435" class="calibre1"/>
<span class="strong"><strong class="calibre9">WebSockets</strong></span> are good candidates for services.</p><p class="calibre8">In this recipe, we'll create and inject a service into a component.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip29" class="calibre1"/>Tip</h3><p class="calibre8"><span class="strong"><strong class="calibre9">Dependency injection</strong></span></p><p class="calibre8">Services and dependency injection go hand in hand. <span class="strong"><strong class="calibre9">Dependency Injection</strong></span> (<span class="strong"><strong class="calibre9">DI</strong></span>) occurs <a id="id436" class="calibre1"/>when we take objects and inject them into other objects during instantiation. This means that we take a service and inject it into our routes, controllers, and components. This is an important framework concept and should not be overused. Having too many injected services <a id="id437" class="calibre1"/>would break the separation of concerns design principle.</p></div></div>

<div class="book" title="Using services with a component">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec128" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a <a id="id438" class="calibre1"/>new application, generate these files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g service start</strong></span>
<span class="strong"><strong class="calibre9">$ ember g component comp-info</strong></span>
<span class="strong"><strong class="calibre9">$ ember g initializer init</strong></span>
</pre></div><p class="calibre14">These files will be used to create our application. The service will hold a property and method that returns data.</p></li><li class="listitem" value="2">Begin by editing the <code class="email">start.js</code> service:<div class="informalexample"><pre class="programlisting">// app/services/start.js
import Ember from 'ember';

export default Ember.Service.extend({
    isOn: false,
    importantInfo(){
      return "Important Info is " + this.get('isOn');
    }
});</pre></div><p class="calibre14">This is the <code class="email">services</code> file. It has an <code class="email">isOn</code> property and a method called <code class="email">importantInfo</code> that returns a string. In this example, we want access to this information in our component, <code class="email">comp-info</code>, so that it can be displayed.</p></li><li class="listitem" value="3">Edit the component <code class="email">comp-info.js</code> file and add a new action that uses the <code class="email">start</code> services information:<div class="informalexample"><pre class="programlisting">// app/components/comp-info.js
import Ember from 'ember';

export default Ember.Component.extend({
    start: Ember.inject.service(),
    message: null,
    actions: {
      pressMe() {
        this.start.toggleProperty('isOn');
        this.set('message',this.start.importantInfo());
        console.log(this.start.isOn);
      }
    }

});</pre></div><p class="calibre14">The most important thing in the component is the <code class="email">start</code> property. We can inject the <code class="email">start</code> service into the component using <code class="email">Ember.inject.service()</code>. By convention, the name of the property must match the name of the service being injected. In our example, the <code class="email">start</code> service will be injected.</p><p class="calibre14">The <code class="email">pressMe</code> action toggles the <code class="email">isOn</code> property of the <code class="email">start</code> service. We then <code class="email">set</code> the text returned from the <code class="email">importantInfo</code> method in the <code class="email">message</code> <a id="id439" class="calibre1"/>property so that it can be displayed <a id="id440" class="calibre1"/>in the template.</p></li><li class="listitem" value="4">Add <code class="email">button</code> to the template information for the component:<div class="informalexample"><pre class="programlisting">// app/templates/components/comp-info.hbs
&lt;button {{action "pressMe"}}&gt;push me&lt;/button&gt;&lt;br&gt;
{{message}}</pre></div><p class="calibre14">In the <a id="id441" class="calibre1"/>component, all we are doing is adding an action to the button and displaying a message.</p></li><li class="listitem" value="5">Add the <code class="email">comp-info</code> component to the application template file:<div class="informalexample"><pre class="programlisting">&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{outlet}}
{{comp-info}}</pre></div><p class="calibre14">Now the template will display the component that was just created.</p></li><li class="listitem" value="6">Start the Ember server, and it will look as follows:<div class="mediaobject"><img src="../images/00062.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Pressing the button will toggle the <code class="email">isOn</code> property. As you can see from this <a id="id442" class="calibre1"/>example, the service information <a id="id443" class="calibre1"/>was accessed by the component and displayed to the template.</p></li><li class="listitem" value="7">Create <code class="email">initializer</code> that injects the service into all the components:<div class="informalexample"><pre class="programlisting">// app/initializer/init
export function initialize(app) {
    app.inject('component', 'start', 'service:start');
}

export default {
    name: 'init',
    initialize
};</pre></div><p class="calibre14">Ember.js initializers are created when the application is started. It's a good place to preload data or set up the application state. The <code class="email">app</code> argument, in the <code class="email">initialize</code> function, is also known as <code class="email">Ember.Application</code>. It serves as a registry for dependency declaration. Factories (classes) can be registered and injected into the application. The <code class="email">service:start</code> is the key for the <code class="email">start</code> service that we created earlier. Once a factory is registered, it can be injected anywhere in the application. As the <code class="email">start</code> service has already been created, there is no need to register it.</p><p class="calibre14">The <code class="email">app.inject</code> takes three arguments. The first is the type to be injected. The second is the <code class="email">name</code> of the service, <code class="email">start</code>. Finally, the <code class="email">service:start</code> factory is created.</p></li><li class="listitem" value="8">Update the component so that it no longer injects the <code class="email">start</code> service as it's already available via the dependency injection:<div class="informalexample"><pre class="programlisting">// app/components/comp-info.js
…
export default Ember.Component.extend({
    //start: Ember.inject.service(),
    message: null,
…</pre></div><p class="calibre14">The <code class="email">start</code> <a id="id444" class="calibre1"/>service is commented out so it's no <a id="id445" class="calibre1"/>longer available. The rest of the component remains the same as the service can still be retrieved using <code class="email">this.get('start')</code>. This is due to the fact that we injected it into all the components in the initializer.</p></li><li class="listitem" value="9">Run the server again and the template loaded will remain the same with the same functionality.</li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Using services with a component">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec129" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Services are long-lived Ember objects that can be used in different parts of your application. They are good to use with sessions, WebSockets, geolocation, logging, and more. They can be made available to the rest of the application using <code class="email">Ember.inject.service</code>, which is a method that can retrieve services and make them available.</p><p class="calibre8">DI can be used to inject services into many different parts of the Ember application. Ember's architecture uses factories that are registered by <code class="email">Ember.Application</code>. We can inject into all routes, components, and controllers using the <code class="email">Application.inject</code> method.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Managing basic authentication"><div class="book" id="29DRA2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec71" class="calibre1"/>Managing basic authentication</h1></div></div></div><p class="calibre8">In any <a id="id446" class="calibre1"/>real-world Ember application, at some point, you'll need to deal with authentication. For example, users might need to send their credentials to identify themselves to the server, or authenticated users may need access to protected parts of the application.</p><p class="calibre8">An important aspect of authentication is protecting information based on the logged in user. This can be done by creating sessions with the use of tokens. In this recipe, we'll create a simple token-based authentication with an Express server. This will help us understand the basics. In the next section, we'll go over using OAuth2 with Ember Simple Auth.</p></div>

<div class="book" title="Managing basic authentication">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec130" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a <a id="id447" class="calibre1"/>new application, generate these files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g service session</strong></span>
<span class="strong"><strong class="calibre9">$ ember g adapter application</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller login</strong></span>
<span class="strong"><strong class="calibre9">$ ember g model student name:string age:number</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route login</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route students</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
<span class="strong"><strong class="calibre9">$ ember g server index</strong></span>
<span class="strong"><strong class="calibre9">$ npm install body-parser –save-dev</strong></span>
</pre></div><p class="calibre14">This will generate all the scaffolding that we need for our application. The <code class="email">students</code> route will be protected. It will only populate information from the server if the user is authenticated.</p><p class="calibre14">The <code class="email">ember g server index</code> command will generate a node Express mock server for us. In the previous chapters, we used Ember CLI Mirage to do all our mock tests. The Express server generated by Ember is not as powerful. However, it will be easier to set up our fake server and authentication example. Be aware that when deploying an Ember application to production, the Ember server will not be included. It will, however, automatically start when running the <code class="email">ember serve</code> command.</p></li><li class="listitem" value="2">Create a new service called session that will handle our authentication and keep track of authenticated users:<div class="informalexample"><pre class="programlisting">// app/services/session.js
import Ember from 'ember';

export default Ember.Service.extend({
    token: null,
    authenticate(log, pass) {
      return Ember.$.ajax({
        method: 'POST',
        url: '/token',
        data: { username: log, password: pass}
      }).then((info)=&gt;{
        this.set('token',info.access_token);
      });
    }

});</pre></div><p class="calibre14">This service will be injected into our login controller. This will keep track of authenticated users and send Ajax requests to the server. The <code class="email">authenticate</code> method accepts the login name and password. These values are sent to the server using an HTTP <code class="email">POST</code> method to <code class="email">/token</code>. If the login information is correct, a token is returned and saved. If not, an error will be returned. We'll deal with the error in the login controller later.</p><p class="calibre14">The <code class="email">token</code> property will be used to keep track whether the user is authenticated or not.</p></li><li class="listitem" value="3">Update <a id="id448" class="calibre1"/>the Express server <code class="email">index.js</code> file. Add a route for <code class="email">token</code>:<div class="informalexample"><pre class="programlisting">// server/index.js
/*jshint node:true*/

const bodyParser = require('body-parser');


module.exports = function(app) {
    app.post('/token', function(req, res) {

      if (req.body.username === 'erik' &amp;&amp; req.body.password === 'password') {
        res.send({ access_token: "secretcode" });
      } else {
        res.status(400).send({ error: "invalid_grant" });
      }

    });
};</pre></div><p class="calibre14">This is our node Express server. It will run when we start the Ember server. When the HTTP <code class="email">POST</code> <code class="email">/token</code> request is sent to the server, it will check the body <code class="email">username</code> and <code class="email">password</code>. For this example, we'll just hardcode them as <code class="email">'erik'</code> and <code class="email">'secretcode'</code>. If these match, it returns <code class="email">access_token</code>. If not, it returns an invalid message.</p><p class="calibre14">The access token will be saved in the session service. We can use this token to authenticate future requests to the server.</p></li><li class="listitem" value="4">Update <a id="id449" class="calibre1"/>the <code class="email">application.js</code> file. Add a new authorization header:<div class="informalexample"><pre class="programlisting">// app/adapters/application.js
import DS from 'ember-data';
import Ember from 'ember';

export default DS.RESTAdapter.extend({
    namespace: 'api',
    session: Ember.inject.service(),
    headers: Ember.computed('session.token',function(){
      return {
        'Authorization': `Bearer ${this.get('session.token')}`
      };
    })
});</pre></div><p class="calibre14">In our application, accessing the students route will trigger a request to the server. The server will respond to authenticated users only. The server expects an authorization bearer header with every Ember Data request. We can do this using the <code class="email">headers</code> <code class="email">computed</code> property and returning the <code class="email">Authorization: Bearer</code> header with the secret token from the service. Every request to the server, using Ember Data, will send this header.</p></li><li class="listitem" value="5">Update the Express server index information in order to return information to the application if the token matches:<div class="informalexample"><pre class="programlisting">// app/server/index.js
…
    app.use(bodyParser.urlencoded({ extended: true }));

    app.get('/api/students', function (req, res) {

      if (req.headers.authorization !== "Bearer secretcode") {
        return res.status(401).send('Unauthorized');
      }

      return res.status(200).send({
        students: [
          { id: 1, name: 'Erik', age: 24 },
          { id: 2, name: 'Suze', age: 32 },
          { id: 3, name: 'Jill', age: 18 }
        ]

      });
    });
…</pre></div><p class="calibre14">Above <code class="email">app.post</code>, you can add <code class="email">app.get</code> for the <code class="email">students</code> route. Ember will trigger this HTTP GET request whenever it enters the <code class="email">/students</code> route. The server will check whether the request header has the secret code. If it matches, it returns the proper JSON data for the <code class="email">students</code> route. If not, it returns a 401 error.</p></li><li class="listitem" value="6">Verify <a id="id450" class="calibre1"/>the route and model information for students:<div class="informalexample"><pre class="programlisting">// app/models/student.js
import DS from 'ember-data';

export default DS.Model.extend({
    name: DS.attr('string'),
    age: DS.attr('number')
});</pre></div></li><li class="listitem" value="7">Earlier, we generated this file with two properties, <code class="email">name</code> and <code class="email">age</code>:<div class="informalexample"><pre class="programlisting">// app/routes/students.js
import Ember from 'ember';

export default Ember.Route.extend({
    model() {
      return this.store.findAll('student');
    }
});</pre></div></li><li class="listitem" value="8">The students route will send an HTTP GET request to <code class="email">/students</code> to retrieve the students model. As we defined the application to use the REST adapter, Ember will expect the data in the REST format:<div class="informalexample"><pre class="programlisting">// app/templates/students.hbs
Secret Student Information
{{#each model as |student|}}
    {{student.name}}&lt;br&gt;
    {{student.age}}&lt;br&gt;
{{/each}}</pre></div><p class="calibre14">The students template uses the <code class="email">each</code> helper to iterate through the model returned from the server. It displays each <code class="email">name</code> and <code class="email">age</code>.</p></li><li class="listitem" value="9">Add <a id="id451" class="calibre1"/>the login username and property information to the login template:<div class="informalexample"><pre class="programlisting">// app/templates/login.hbs
&lt;h3&gt;Login&lt;/h3&gt;

{{input value=loginName placeholder='Login'}}&lt;br&gt;
{{input value=password placeholder='Password' type='password'}}&lt;br&gt;
&lt;button {{action 'authenticate'}}&gt;Login&lt;/button&gt;</pre></div><p class="calibre14">This template uses the <code class="email">input</code> helper for the <code class="email">loginName</code> and <code class="email">password</code> properties. The button triggers the <code class="email">authenticate</code> action.</p></li><li class="listitem" value="10">Update the login controller to handle the <code class="email">authenticate</code> action:<div class="informalexample"><pre class="programlisting">// app/controllers/login.js
import Ember from 'ember';

export default Ember.Controller.extend({
    loginName: null,
    password: null,
    session: Ember.inject.service(),
    actions: {
      authenticate(){
        this.get('session').authenticate(this.get('loginName'), this.get('password')).then( ()=&gt;{
          alert('Great you are logged in!');
          this.transitionToRoute('students');
        },(err)=&gt;{
          alert('Error! Problem with token! '+ err.responseText);
        });
      }
    }
});</pre></div><p class="calibre14">The controller has several properties. It retrieves the session information service and uses the <code class="email">authenticate</code> method to send the login information to the server. The <code class="email">authenticate</code> method returns a promise. If it's successful, the application transitions to the <code class="email">students</code> route. If it's not successful, an error is displayed in an alert box. In this example, we are using the ES6 arrow function. The <code class="email">()=&gt;</code> arrow function is a little shorter than using a function expression and it also lexically binds this variable.</p></li><li class="listitem" value="11">Update <a id="id452" class="calibre1"/>the index with a link to log in:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs
Welcome to my app! Login {{#link-to 'login'}}here{{/link-to}}</pre></div><p class="calibre14">This is just a simple link to the login route.</p></li><li class="listitem" value="12">Start the server and navigate to the login route. You'll see the following image:<div class="mediaobject"><img src="../images/00063.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="13">To log in, enter the username <code class="email">'erik'</code> and password <code class="email">'password'</code>. After clicking <code class="email">Login</code>, an HTTP POST request will be sent to the server with the name and password information. The Express server that we had set up earlier will respond with the token, and the session service will save it. The application will then transition to the students route. The following screen will be displayed:<div class="mediaobject"><img src="../images/00064.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="14">When <a id="id453" class="calibre1"/>this route loads, an HTTP GET request will be sent to <code class="email">/students</code>. The Express server will check to make sure that the authorization bearer header has the correct secret code. It then will respond with the JSON data that Ember will display.</li><li class="listitem" value="15">If the username or password does not match, the following alert box will be displayed:<div class="mediaobject"><img src="../images/00065.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Managing basic authentication">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec131" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Token-based authentication requires the client to send over credentials to the server. If authorized, the server then sends back a token that the client saves and uses on subsequent requests to the server. If the token is not present, the server may not return data to the client.</p><p class="calibre8">This recipe is a simple example of using authentication. It lacks proper error handling and session <a id="id454" class="calibre1"/>persistence. Nevertheless, it gives you an idea of how authentication works.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using OAuth2 with Ember Simple Auth"><div class="book" id="2ACBS2-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec72" class="calibre1"/>Using OAuth2 with Ember Simple Auth</h1></div></div></div><p class="calibre8">OAuth2 <a id="id455" class="calibre1"/>specifies authorization flows for web <a id="id456" class="calibre1"/>applications. We can use it with Ember to secure our application and provide data to only those users that are authorized. In this recipe, we'll look at using OAuth2 with <span class="strong"><strong class="calibre9">Ember Simple Auth</strong></span> (<span class="strong"><strong class="calibre9">ESA</strong></span>), a robust add-on for Ember.</p><p class="calibre8">ESA will handle our client-side session and authentication and send the requests to the server. It's very customizable and extensible. Although it can be complicated, just like our last recipe, we'll create a protected students route that can be accessed by authorized users only.</p></div>

<div class="book" title="Using OAuth2 with Ember Simple Auth">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec132" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre8">For the purposes of this example, we'll need an OAuth2 server. Setting up an OAuth2 server is beyond the <a id="id457" class="calibre1"/>scope of this recipe. There are several OAuth2 libraries out there <a id="id458" class="calibre1"/>that you can use to set one up. I recommend the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Rails</strong></span>: <a class="calibre1" href="https://github.com/doorkeeper-gem/doorkeeper">https://github.com/doorkeeper-gem/doorkeeper</a></li><li class="listitem"><span class="strong"><strong class="calibre9">Express</strong></span>: <a class="calibre1" href="https://github.com/thomseddon/node-oauth2-server">https://github.com/thomseddon/node-oauth2-server</a></li></ul></div></div></div>

<div class="book" title="Using OAuth2 with Ember Simple Auth">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec133" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new Ember application, run the generator command to create the required files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g adapter application</strong></span>
<span class="strong"><strong class="calibre9">$ ember g component login-comp</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller login</strong></span>
<span class="strong"><strong class="calibre9">$ ember g controller students</strong></span>
<span class="strong"><strong class="calibre9">$ ember g model student name:string age:number</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route students</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route application</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route login</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
<span class="strong"><strong class="calibre9">$ ember install ember-simple-auth</strong></span>
</pre></div><p class="calibre14">This will generate the scaffolding that we need to begin our application. The last command installs the add-on for ESA.</p></li><li class="listitem" value="2">We'll begin by setting up the Ember Simple Auth authenticator and authorizer for OAuth2. We need to set this up so that a user can authenticate with the server. Create two new directories in the <code class="email">app</code> folder called <code class="email">authenticators</code> and <code class="email">authorizers</code>.</li><li class="listitem" value="3">Add a <a id="id459" class="calibre1"/>new file called <a id="id460" class="calibre1"/><code class="email">oauth2-custom.js</code> to the <code class="email">authenticators</code> directory and <code class="email">application.js</code> to the <code class="email">authorizers</code> folder. Add this code:<div class="informalexample"><pre class="programlisting">// app/authenticators/oauth2-custom.js
import Authenticator from 'ember-simple-auth/authenticators/oauth2-password-grant';
import Ember from 'ember';

export default Authenticator.extend({
    makeRequest(url, data) {

      var client_id = '123';
      var client_secret = 'secret';
      data.grant_type = 'password';

      return Ember.$.ajax({
        url: this.serverTokenEndpoint,
        type: 'POST',
        data: data,
        dataType: 'json',
        contentType: 'application/x-www-form-urlencoded',
        crossDomain: true,
        headers: {
          Authorization: "Basic " + btoa(client_id + ":" + client_secret)
        }
      });
    }
});</pre></div><p class="calibre14">The <code class="email">authenticators</code> file is used by ESA whenever a user logs in. We can overwrite anything in the authenticator if needed. The <code class="email">makeRequest</code> method is used to send messages to the server. By default, ESA will make an HTTP <code class="email">POST</code> request to <code class="email">/token</code> with the username and password in the form field.</p></li><li class="listitem" value="4">Unfortunately, many OAuth2 servers require a header called <code class="email">Authorization</code> <code class="email">Basic</code> with a secret client ID and client secret when authenticating for the first time with a server. To fix this, we can extend the <code class="email">makeRequest</code> method with our own Ajax request. This will be used when we log in:<div class="informalexample"><pre class="programlisting">// app/authorizers/application.js
import OAuth2Bearer from 'ember-simple-auth/authorizers/oauth2-bearer';

export default OAuth2Bearer.extend();</pre></div><p class="calibre14">The <code class="email">authorizers</code> file is used by ESA to tell which type of authentication we are using. In this example, we are using Oauth2 as defined by <code class="email">OAuth2Bearer.extend()</code>.</p></li><li class="listitem" value="5">Update <a id="id461" class="calibre1"/>the adapter and add <a id="id462" class="calibre1"/>the ESA data adapter mixin to the <code class="email">application.js</code> file in the <code class="email">adapters</code> folder:<div class="informalexample"><pre class="programlisting">// app/adapters/application.js
import DS from 'ember-data';

import DataAdapterMixin from 'ember-simple-auth/mixins/data-adapter-mixin';


export default DS.RESTAdapter.extend(DataAdapterMixin, {
    namespace: 'api',
    authorizer: 'authorizer:application'
});</pre></div><p class="calibre14">The adapter tells Ember to make all requests to the <code class="email">/api</code> namespace. The ESA <code class="email">DataAdapterMixin</code> is used to define the authorizer that the application will use. In this case, all Ember Data requests will use the OAuth2 application authorizer that we defined earlier. In other words, any request sent to the server using Ember Data will include the session data token, if it exists.</p></li><li class="listitem" value="6">Let's update our login-comp component template:<div class="informalexample"><pre class="programlisting">// app/templates/components/login-comp.hbs
&lt;h2&gt;Login page&lt;/h2&gt;

&lt;form {{action 'authenticate' on='submit'}}&gt;
    {{input value=login placeholder='Login'}}&lt;br&gt;
    {{input value=password placeholder='Password' type='password'}}&lt;br&gt;
    &lt;button type="submit"&gt;Login&lt;/button&gt;
&lt;/form&gt;</pre></div><p class="calibre14">This will submit the <code class="email">login</code> and <code class="email">password</code> to the <code class="email">authenticate</code> action setup in our component.</p></li><li class="listitem" value="7">Update <a id="id463" class="calibre1"/>the login page <a id="id464" class="calibre1"/>component with the <code class="email">authenticate</code> action:<div class="informalexample"><pre class="programlisting">// app/components/login-comp.js
import Ember from 'ember';

export default Ember.Component.extend({

    auth: Ember.inject.service('session'),
    login: null,
    password: null,
    actions: {
      authenticate() {
        this.get('auth').authenticate('authenticator:oauth2-custom', this.get('login'),this.get('password')).then(() =&gt; {
          alert('Thanks for logging in!');
          this.get('transition')();
          }, () =&gt; {
            alert('Wrong user name or password!');
          });
         }
      }

});</pre></div><p class="calibre14">As we are using ESA, we have access to a <code class="email">session</code> service. This <code class="email">session</code> service has an <code class="email">authenticate</code> method that uses <code class="email">authenticator</code> that we created earlier. In the preceding code, we used the <code class="email">this.get()</code> method to get <code class="email">login</code> and <code class="email">password</code> from our template. We then called the <code class="email">authenticate</code> method on our service, passing in our <code class="email">authenticator</code>.</p><p class="calibre14">If the server returns a successful message, then we call <code class="email">transition</code>, a method that is passed to the component. If not, an alert box pops up telling the user that their login was not successful.</p></li><li class="listitem" value="8">Add the login page component to the login template, and update the login controller:<div class="informalexample"><pre class="programlisting">// app/templates/login.hbs
{{login-comp transition=(action 'loggedIn')}}</pre></div><p class="calibre14">This calls the login component and passes in the parent action, <code class="email">loggedIn</code>:</p><div class="informalexample"><pre class="programlisting">// app/controllers/login.js
import Ember from 'ember';

export default Ember.Controller.extend({
    actions: {
      loggedIn(){
        this.transitionToRoute('students');
      }
    }
});</pre></div><p class="calibre14">This action transitions the application to the <code class="email">students</code> route. It's triggered only <a id="id465" class="calibre1"/>with a successful login. It's also the name of the action passed in the login page component.</p></li><li class="listitem" value="9">Update <a id="id466" class="calibre1"/>the students controller, route, and template:<div class="informalexample"><pre class="programlisting">// app/templates/students.hbs
&lt;h2&gt;Students&lt;/h2&gt;
{{#each model as |student|}}
    &lt;h3&gt;Student: {{student.name}} &lt;/h3&gt;
    &lt;h3&gt;Age: {{student.age}} &lt;/h3&gt;
{{/each}}


&lt;button {{action 'logout'}}&gt;Log Out&lt;/button&gt;</pre></div><p class="calibre14">The template displays the information from the server using the <code class="email">each</code> helper. A <code class="email">logout</code> button action will log the user out:</p><div class="informalexample"><pre class="programlisting">// app/controllers/students.js
import Ember from 'ember';

export default Ember.Controller.extend({
    auth: Ember.inject.service('session'),
    actions: {
      logout(){
        this.get('auth').invalidate();
      }
    }
});</pre></div></li><li class="listitem" value="10">The <code class="email">logout</code> action invalidates the session. Invalidating the session revokes the token so that it is no longer available:<div class="informalexample"><pre class="programlisting">// app/routes/students.js
import Ember from 'ember';
import AuthenticatedRouteMixin from 'ember-simple-auth/mixins/authenticated-route-mixin';

export default Ember.Route.extend(AuthenticatedRouteMixin,{
    model(){
      return this.store.findAll('student');
    }
});</pre></div><p class="calibre14">This route returns all the information for the <code class="email">student</code> model. You'll notice that <code class="email">AuthenticatedRouteMixin</code> is added. This tells Ember to make this route available only if it's authenticated by the server. If it's not, it will route back to the application.</p></li><li class="listitem" value="11">Add <a id="id467" class="calibre1"/>the application mixin <a id="id468" class="calibre1"/>to the application route:<div class="informalexample"><pre class="programlisting">// app/routes/application.js
import Ember from 'ember';

import ApplicationRouteMixin from 'ember-simple-auth/mixins/application-route-mixin';

export default Ember.Route.extend(ApplicationRouteMixin);</pre></div><p class="calibre14">ESA's <code class="email">ApplicationRouteMixin</code> will catch any errors and transition to the login route.</p></li><li class="listitem" value="12">Update the index template with a link to the login route:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs
Hello! Want to login? Click {{#link-to 'login'}}here!{{/link-to}}</pre></div><p class="calibre14">The <code class="email">link-to</code> helper links to the <code class="email">login</code> route.</p></li><li class="listitem" value="13">Start the Ember server and OAuth2 server:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember serve –-proxy http://localhost:3000</strong></span>
</pre></div><p class="calibre14">The <code class="email">--proxy</code> argument tells Ember to proxy all server requests to <code class="email">localhost</code> at port <code class="email">3000</code>. We'll assume, in this example, that the OAuth2 server is running on port <code class="email">3000</code> in your local box.</p><p class="calibre14">A successful login will look like this:</p><div class="mediaobject"><img src="../images/00066.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">It will <a id="id469" class="calibre1"/>then redirect to the <a id="id470" class="calibre1"/>students route. This route will send a request to the server with an authorization bearer request with the correct token. It will receive the student data so that it can be displayed to the user:</p><div class="mediaobject"><img src="../images/00067.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">Accessing this route without being logged in causes redirection to the login page.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Using OAuth2 with Ember Simple Auth">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch09lvl2sec134" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The Ember Simple Auth add-on manages the session, authentication, authorization, persistence, and communication with a server. It has its own built-in session service that makes it easy to manage.</p><p class="calibre8">OAuth2 is <a id="id471" class="calibre1"/>a specification of a type of flow <a id="id472" class="calibre1"/>when doing authentication in web apps. As Ember is a single-page application, there is not much security on the application side. It must rely on a server to authenticate and manage tokens. ESA makes this possible by handling all the work needed to send and communicate with the server.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using Liquid Fire to create transitions" id="2BASE1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec73" class="calibre1"/>Using Liquid Fire to create transitions</h1></div></div></div><p class="calibre8"><span class="strong"><strong class="calibre9">Ember Liquid Fire</strong></span> <a id="id473" class="calibre1"/>is an add-on for Ember that handles animations and transitions. It's a toolkit of sorts that splits its responsibilities between template headers, transition maps, and transitions.</p><p class="calibre8">In this recipe, we'll create a few transitions to see how this add-on works.</p></div>

<div class="book" title="Using Liquid Fire to create transitions" id="2BASE1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec135" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new Ember application, generate these files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g route tut1</strong></span>
<span class="strong"><strong class="calibre9">$ ember g route tut2</strong></span>
<span class="strong"><strong class="calibre9">$ ember g template index</strong></span>
<span class="strong"><strong class="calibre9">$ ember install liquid-fire</strong></span>
</pre></div><p class="calibre14">This will generate the scaffolding for the <code class="email">tut1</code> and <code class="email">tut2</code> routes as well as install the <code class="email">liquid-fire</code> add-on.</p></li><li class="listitem" value="2">Create a new <code class="email">transitions.js</code> file in the root of the <code class="email">app</code> folder. Add a few transitions:<div class="informalexample"><pre class="programlisting">// app/transitions.js
export default function(){
    this.transition(
      this.fromRoute('tut1'),
      this.toRoute('tut2'),
      this.use('toRight'),
      this.reverse('toLeft')

    );
    this.transition(
      this.fromRoute('index'),
      this.toRoute('tut1'),
      this.use('crossFade'),
      this.reverse('fade',{duration: 500})

    );

}</pre></div><p class="calibre14">Liquid <a id="id474" class="calibre1"/>Fire requires a transitions map file. There are a number of predefined transitions that you have available:</p><div class="book"><ul class="itemizedlist1"><li class="listitem"><code class="email">toLeft</code></li><li class="listitem"><code class="email">toRight</code></li><li class="listitem"><code class="email">toUp</code></li><li class="listitem"><code class="email">toDown</code></li><li class="listitem"><code class="email">crossFade</code></li><li class="listitem"><code class="email">fade</code></li></ul></div><p class="calibre14">Each one behaves as you would expect. The <code class="email">toLeft</code> transition will create a transition animation where the page moves from left to right. The <code class="email">toRight</code> transition is the exact opposite. You can also create your own animations if needed.</p><p class="calibre14">The map tells us which transitions to use when moving from one route to another.</p></li><li class="listitem" value="3">Update the application template with the Liquid Fire outlet:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
{{#link-to 'application'}}&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;{{/link-to}}
{{liquid-outlet}}</pre></div><p class="calibre14">To use Liquid Fire transitions, we must use <code class="email">liquid-outlet</code>. This is used when transitioning between routes. Here are all the template helpers available:</p><div class="book"><ul class="itemizedlist1"><li class="listitem"><code class="email">{{#liquid-outlet}}</code>: This transitions between routes</li><li class="listitem"><code class="email">{{#liquid-with}}</code>: This transitions between models or contexts in a single route</li><li class="listitem"><code class="email">{{#liquid-bind}}</code>: This updates to simple bound values</li><li class="listitem"><code class="email">{{#liquid-if}}</code>: This switches between true and false branches in a <code class="email">#if</code> statement</li><li class="listitem"><code class="email">{{#liquid-spacer}}</code>: This provides a smoothly growing/shrinking container that animates whenever the contained <span class="strong"><strong class="calibre9">Document Object Model</strong></span> (<span class="strong"><strong class="calibre9">DOM</strong></span>) mutates</li></ul></div></li><li class="listitem" value="4">In the <a id="id475" class="calibre1"/>index template file, add a link to the <code class="email">tut1</code> route:<div class="informalexample"><pre class="programlisting">// app/templates/index.hbs
{{#link-to 'tut1'}}First Transition{{/link-to}}&lt;br&gt;
{{liquid-outlet}}</pre></div><p class="calibre14">The <code class="email">link-to</code> helper transitions to the <code class="email">tut1</code> route. The liquid outlet will display the <code class="email">tut1</code> route when it renders.</p></li><li class="listitem" value="5">Update the <code class="email">tut1</code> and <code class="email">tut2</code> route templates:<div class="informalexample"><pre class="programlisting">// app/templates/tut1.hbs
{{#link-to 'tut2'}}Tutorial 2{{/link-to}}&lt;br&gt;
&lt;div class="demo"&gt;
    &lt;p&gt;
    Lorem ipsum dolor sit amet, consectetur adipiscing elit.In non aliquet quam. Vivamus egestas mi sapien, augue.
    &lt;/p&gt;
&lt;/div&gt;

{{liquid-outlet}}</pre></div><p class="calibre14">All this does is have a link to the second route <code class="email">tut2</code>:</p><div class="informalexample"><pre class="programlisting">// app/templates/tut2
{{#link-to 'tut1'}}Tutorial 1{{/link-to}}&lt;br&gt;

&lt;div class='demo'&gt;
&lt;p&gt;
Quisque molestie libero vel tortor viverra. Quisque eu posuere sem. Aenean ut arcu quam. Morbi orci dui, dictum ut libero in, venenatis tempor nulla. Nullam convallis mauris ante, sed venenatis augue auctor in. Morbi a mi a sapien dictum interdum. Quisque faucibus malesuada risus eget pretium. Ut elementum sapien ut nunc eleifend, at dapibus enim dignissim.
&lt;/p&gt;
&lt;/div&gt;
{{liquid-outlet}}</pre></div><p class="calibre14">This has a link back to <code class="email">tut1</code>.</p></li><li class="listitem" value="6">Run <a id="id476" class="calibre1"/>the server and you'll see the transitions as you click on the links:<div class="mediaobject"><img src="../images/00068.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This is what it looks like mid-transition using crossfade from the application route to the <code class="email">tut1</code> route.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Using Liquid Fire to create transitions" id="2BASE1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec136" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Liquid Fire <a id="id477" class="calibre1"/>is a versatile add-on for Ember that brings transitions and animation to life. It uses a simple transition map and template helpers to make things easier. Under the hood, Liquid Fire uses many tricks to make these animations possible. It's extensible, so you can create your own transitions as well.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Working with HTML5 drag and drop" id="2C9D01-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec74" class="calibre1"/>Working with HTML5 drag and drop</h1></div></div></div><p class="calibre8">Drag and <a id="id478" class="calibre1"/>drop is a part of the HTML5 standard. It allows the user to grab objects in the DOM and drop them at different locations. Any element can be draggable if the browser supports it. Most modern browsers do.</p><p class="calibre8">In this recipe, we'll see an example of dragging an IMG file to a drop zone on the screen.</p></div>

<div class="book" title="Working with HTML5 drag and drop" id="2C9D01-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec137" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new application, generate these files:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember g component drag-drop-zone</strong></span>
<span class="strong"><strong class="calibre9">$ ember g component drag-drop</strong></span>
</pre></div><p class="calibre14">The <code class="email">drag-drop-zone</code> component will represent the area where each item will be dropped. The <code class="email">drag-drop</code> component will be the item to be dropped.</p></li><li class="listitem" value="2">Edit the <a id="id479" class="calibre1"/><code class="email">drag-drop-zone.js</code> file:<div class="informalexample"><pre class="programlisting">// app/components/drag-drop-zone.js
import Ember from 'ember';

export default Ember.Component.extend({
    classNames: ['draggable-dropzone'],
    classNameBindings: ['dragClass'],
    dragClass: 'deactivated',
    dragLeave(event) {
      event.preventDefault();
      return this.set('dragClass', 'deactivated');
    },
    dragOver(event) {
      event.preventDefault();
      return this.set('dragClass', 'activated');
    },
    drop(event) {
      var data;
      this.set('dragClass', 'deactivated');
      data = event.dataTransfer.getData('text/data');
      event.target.appendChild(document.getElementById(data));
    }

});</pre></div><p class="calibre14">This component has a few special events attached to it. Ember has built-in events for <code class="email">dragLeave</code>, <code class="email">dragOver</code>, and <code class="email">drop</code>. These will fire whenever items are dragged on top of the component. Remember that all components render as <code class="email">div</code> tags. We can use the <code class="email">classNames</code> property to add more classes.</p><p class="calibre14">The <code class="email">classNameBindings</code> property allows classes to be added to the component as if they were properties. In other words, <code class="email">dragClass</code> can be set dynamically in the component. We'll use this to change the color of the <code class="email">drop</code> zone when items are dragged over it. When items are dropped, the <code class="email">drop</code> event is triggered.</p></li><li class="listitem" value="3">Update <a id="id480" class="calibre1"/>the drag drop component:<div class="informalexample"><pre class="programlisting">// app/components/drag-drop.js
import Ember from 'ember';

export default Ember.Component.extend({
    tagName: 'img',
    classNames: ['draggable-item'],
    attributeBindings: ['draggable','src'],
    draggable: 'true',
    src: 'http://www.programwitherik.com/content/images/2015/02/eriksmall3-1.png ',
    dragStart(event){
      event.dataTransfer.setData('text/data', event.target.id);
    }
});</pre></div><p class="calibre14">As mentioned earlier, normally, components render as a <code class="email">div</code> tag. However, we can change this using the <code class="email">tagName</code> property. In the <code class="email">drag-drop</code> component, we are creating an <code class="email">image</code> tag. The <code class="email">dragStart</code> event available in Ember. In this example, we are setting the data to the target ID.</p><p class="calibre14">To drag items in HTML5, you must have a <code class="email">draggable</code> attribute on the tag. It also must be set to <code class="email">true</code>. We'll use <code class="email">attributeBindings</code> to make this possible.</p></li><li class="listitem" value="4">Update the <code class="email">app.css</code> file:<div class="informalexample"><pre class="programlisting">// app/styles/app.css
.draggable-dropzone {
    border: 1px solid black;
    width: 200px;
    height:200px;


}

.activated {
    border: 4px solid red;
}</pre></div><p class="calibre14">This is <a id="id481" class="calibre1"/>some basic <code class="email">css</code> that creates a border around the <code class="email">drop</code> zone and changes the color to <code class="email">red</code> when an item is about to be dropped.</p></li><li class="listitem" value="5">The last step is to add the components to the application template file:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

&lt;br&gt;
{{drag-drop-zone}}

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
{{drag-drop}}
{{outlet}}</pre></div><p class="calibre14">This will render the two components to the application template.</p></li><li class="listitem" value="6">Render the page and you'll see the picture and dropzone:<div class="mediaobject"><img src="../images/00069.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">You <a id="id482" class="calibre1"/>can drag the picture into the box:</p><div class="mediaobject"><img src="../images/00070.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">The box will turn red before the item is dropped and back to black after it's dropped.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Working with HTML5 drag and drop" id="2C9D01-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec138" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">The HTML5 <a id="id483" class="calibre1"/>standard allows dragging and dropping elements. Ember has several built-in events that we can use in components and controllers. The <code class="email">dragLeave</code>, <code class="email">dragOver</code>, <code class="email">drop</code>, and <code class="email">dragStart</code> methods can all be used to capture events to allow dragging and dropping.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Learning Bootstrap with Ember.js" id="2D7TI1-d21a6ad8148a415181fa52c0043435bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch09lvl1sec75" class="calibre1"/>Learning Bootstrap with Ember.js</h1></div></div></div><p class="calibre8">Bootstrap, formerly <a id="id484" class="calibre1"/>known as Twitter Bootstrap, is a <a id="id485" class="calibre1"/>popular, free, and open source collection of tools to create websites and applications. It contains several templates for typography, forms, buttons, and navigation.</p><p class="calibre8">You can use Bootstrap to make nice and simple user interfaces. In this recipe, we'll use it to create a drop-down menu.</p></div>

<div class="book" title="Learning Bootstrap with Ember.js" id="2D7TI1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How to do it..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch09lvl2sec139" class="calibre1"/>How to do it...</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">In a new Ember application, use Bower to install the latest version of Bootstrap:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ bower install bootstrap --save-dev </strong></span>
</pre></div><p class="calibre14">This uses Bower's frontend package manager to install Bootstrap. It will be saved as a development dependency in the <code class="email">bower.json</code> file.</p></li><li class="listitem" value="2">Update the <a id="id486" class="calibre1"/><code class="email">ember-cli-build.js</code> <a id="id487" class="calibre1"/>file and add the libraries for Ember Bootstrap:<div class="informalexample"><pre class="programlisting">// ember-cli-build.js
/* global require, module */
var EmberApp = require('ember-cli/lib/broccoli/ember-app');

module.exports = function(defaults) {
    var app = new EmberApp(defaults, {
      // Add options here
    });

    app.import('bower_components/bootstrap/dist/js/bootstrap.js');
    app.import('bower_components/bootstrap/dist/css/bootstrap.css');
    return app.toTree();
};</pre></div><p class="calibre14">The <code class="email">app.import</code> statement takes the asset path as the first and only argument. This is standard for non-AMD assets. Once this is loaded, we can use Bootstrap anywhere in our application.</p></li><li class="listitem" value="3">Add a drop-down button to the application template:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

{{outlet}}

&lt;!-- Single button --&gt;
&lt;div class="btn-group"&gt;
&lt;button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"&gt;
Action &lt;span class="caret"&gt;&lt;/span&gt;
&lt;/button&gt;
&lt;ul class="dropdown-menu"&gt;
&lt;li&gt;&lt;a href="#"&gt;Action&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#"&gt;Another action&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#"&gt;Something else here&lt;/a&gt;&lt;/li&gt;
&lt;li role="separator" class="divider"&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#"&gt;Separated link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</pre></div><p class="calibre14">This will add a drop-down button.</p></li><li class="listitem" value="4">Start the <a id="id488" class="calibre1"/>server and you'll see the rendered <a id="id489" class="calibre1"/>button:<div class="mediaobject"><img src="../images/00071.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">After clicking on the button, the menu will be displayed.</p></li><li class="listitem" value="5">Let's install the Bootstrap Ember add-on and comment out <code class="email">app.imports</code> in the <code class="email">ember-cli-build.js</code> file:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">$ ember install ember-bootstrap</strong></span>
</pre></div><p class="calibre14">Ember Bootstrap is an add-on that includes all the normal <code class="email">css</code> and icon assets in your project. It also includes a set of native Ember components. It does not use the Bootstrap JavaScript file:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre9">// ember-cli-build.js</strong></span>
<span class="strong"><strong class="calibre9">…</strong></span>
<span class="strong"><strong class="calibre9">//app.import('bower_components/bootstrap/dist/js/bootstrap.js');</strong></span>
<span class="strong"><strong class="calibre9">//app.import('bower_components/bootstrap/dist/css/bootstrap.css');</strong></span>
…</pre></div><p class="calibre14">As we are using the add-on, we must comment out the Bootstrap files. They are already included.</p></li><li class="listitem" value="6">Update the <a id="id490" class="calibre1"/>application template file using the <a id="id491" class="calibre1"/>new Ember Bootstrap components:<div class="informalexample"><pre class="programlisting">// app/templates/application.hbs
&lt;h2 id="title"&gt;Welcome to Ember&lt;/h2&gt;

&lt;nav class="navbar navbar-default navbar-static"&gt;
    &lt;div class="container-fluid"&gt;
      &lt;ul class="nav navbar-nav"&gt;
        {{#bs-dropdown tagName="li"}}
        {{#bs-dropdown-toggle}}Example Dropdown &lt;span class="caret"&gt;&lt;/span&gt;{{/bs-dropdown-toggle}}
          {{#bs-dropdown-menu}}
            &lt;li&gt;{{#link-to "info1"}}Info 1{{/link-to}}&lt;/li&gt;
            &lt;li&gt;{{#link-to "info2"}}Info 2{{/link-to}}&lt;/li&gt;
          {{/bs-dropdown-menu}}
        {{/bs-dropdown}}
      &lt;/ul&gt;
    &lt;/div&gt;
&lt;/nav&gt;

{{outlet}}</pre></div><p class="calibre14">All the Ember Bootstrap components start with <code class="email">bs</code>. The <code class="email">{{bs-dropdown}}</code> component creates a drop-down menu that displays links to the user.</p><p class="calibre14">Using Ember Bootstrap can be a little cleaner and easier than installing Bootstrap with Bower.</p></li><li class="listitem" value="7">Load the server and you'll see the following image:<div class="mediaobject"><img src="../images/00072.jpeg" alt="How to do it..." class="calibre10"/></div><p class="calibre26"> </p><p class="calibre14">This is using Ember Bootstrap to create a menu.</p></li></ol><div class="calibre15"/></div></div></div>

<div class="book" title="Learning Bootstrap with Ember.js" id="2D7TI1-d21a6ad8148a415181fa52c0043435bb">
<div class="book" title="How it works..."><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch09lvl2sec140" class="calibre1"/>How it works...</h2></div></div></div><p class="calibre8">Bootstrap is a <a id="id492" class="calibre1"/>versatile set of tools that can help you design a <a id="id493" class="calibre1"/>frontend quickly. Ember accepts assets using a library called Broccoli. Broccoli is an asset pipeline—it helps build the application. The <code class="email">app.import</code> statement is used to bring AMD and non-AMD assets in the application.</p><p class="calibre8">On the other hand, the Ember Bootstrap library can also be used. It has easy-to-use components built-in that make it easy to add buttons and menus.</p></div></div></body></html>