<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Running CoffeeScript"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Running CoffeeScript</h1></div></div></div><p>In this chapter, we'll talk about getting CoffeeScript installed and running on your development environment.</p><p>CoffeeScript can easily be installed on a Mac, Windows, or Linux. There are a variety of ways by which you can get it running, depending on if you just want the install to be simple and straightforward or if you want to be on the bleeding edge. Before we start on the details though, it's good to know that CoffeeScript usually doesn't live on its own, and uses some great JavaScript tools and frameworks to do its magic. Let's briefly discuss the typical CoffeeScript stack.</p><div class="section" title="The CoffeeScript stack"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec22"/>The CoffeeScript stack</h1></div></div></div><p>Early on in <a id="id89" class="indexterm"/>CoffeeScript's history, its compiler was written in Ruby. Later on, it became self-hosting; the language compiler was written in itself. This means that the compiler for CoffeeScript was written in CoffeeScript code which could then be compiled to JavaScript, which could then be run to compile CoffeeScript again. Confusing, isn't it?</p><p>Without going any further into what a feat this is, this also means that in order to run CoffeeScript, we need to be able to execute JavaScript standalone on your computer, without a browser.</p><p><span class="strong"><strong>Node.js</strong></span>,<a id="id90" class="indexterm"/> or just <span class="strong"><strong>Node</strong></span>,<a id="id91" class="indexterm"/> is a JavaScript framework designed for writing network-server applications. It's built using Google's V8, an engine that can run JavaScript without a web browser—a perfect fit for CoffeeScript. It has become the preferred way to install CoffeeScript.</p><p>Pairing CoffeeScript with Node.js has a lot of benefits. Not only does this mean that you can compile JavaScript that can be run in a browser, but you also get a full-fledged JavaScript network application server framework with hundreds of useful libraries that have been written for it.</p><p>As with JavaScript in Node.js, you can write and execute CoffeeScript on the server, use it to write web server applications and even use it as a normal, everyday systems scripting language.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>The core CoffeeScript compiler has no dependencies to Node and can technically be executed on any JavaScript environment. However, the coffee command-line utility that uses the compiler is a Node.js package.</p></div></div><p>The working of the CoffeeScript compiler<a id="id92" class="indexterm"/> is shown in the following diagram:</p><div class="mediaobject"><img src="graphics/9588OS_02_01.jpg" alt="The CoffeeScript stack"/></div></div></div>
<div class="section" title="Node.js and npm"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec23"/>Node.js and npm</h1></div></div></div><p>Node.js has<a id="id93" class="indexterm"/> its own package management system, called <span class="strong"><strong>npm</strong></span>
<a id="id94" class="indexterm"/>. It's used to install and manage packages, libraries, and their dependencies that run in the Node.js ecosystem. It is also the most common way of installing CoffeeScript, which itself is available as an npm package. Thus, it's actually very easy to install CoffeeScript after you have set up Node.js and npm.</p><p>There are different ways of installing Node.js and npm<a id="id95" class="indexterm"/>, depending on your <a id="id96" class="indexterm"/>Operating System and if you need to compile the source or not. Each of the subsequent sections will cover the instructions for your OS.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>The Node.js wiki <a id="id97" class="indexterm"/>contains a ton of information on installing and running Node on a plethora of platforms. If you run into any trouble during this chapter, you can look at it, since it has a lot of tips on troubleshooting issues and is updated often; the link is <a class="ulink" href="https://github.com/joyent/node/wiki/Installation">https://github.com/joyent/node/wiki/Installation</a>. </p></div></div></div>
<div class="section" title="Node.js, npm, and CoffeeScript on Windows"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec24"/>Node.js, npm, and CoffeeScript on Windows</h1></div></div></div><p>There has been a great drive within the Node.js community for good native Windows support and<a id="id98" class="indexterm"/> it is very easy <a id="id99" class="indexterm"/>to install.</p><p>To do so, first head<a id="id100" class="indexterm"/> on over to the Node.js website (<a class="ulink" href="http://nodejs.org">nodejs.org</a>) and then click on the <span class="strong"><strong>Downloads</strong></span> button. <a id="id101" class="indexterm"/>You'll <a id="id102" class="indexterm"/>see a couple of options available, but choose the <span class="strong"><strong>Windows Installer</strong></span> option, which is shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_02.jpg" alt="Node.js, npm, and CoffeeScript on Windows"/></div><p>This will <a id="id103" class="indexterm"/>download an <code class="literal">.msi</code> file. Once you have downloaded it, running the install couldn't be much easier; just accept the terms and click on <span class="strong"><strong>Continue</strong></span>. If you see the following screen, then you have successfully installed Node:</p><div class="mediaobject"><img src="graphics/9588OS_02_03.jpg" alt="Node.js, npm, and CoffeeScript on Windows"/></div><p>At this point, you might need to log out of Windows or restart so that changes to your <code class="literal">$PATH</code> variables can take effect. <a id="id104" class="indexterm"/>After you have done this, you should be able to open the DOS command prompt and run the following:</p><div class="informalexample"><pre class="programlisting">node –v </pre></div><p>This should spit out a version, which means you're good to go. Let's also check if npm is working fine. Also in the command-line tool, enter the following: </p><div class="informalexample"><pre class="programlisting">npm</pre></div><p>You should see something similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_04.jpg" alt="Node.js, npm, and CoffeeScript on Windows"/></div><p>Now, in order to go<a id="id105" class="indexterm"/> ahead and install CoffeeScript, just enter the following command:</p><div class="informalexample"><pre class="programlisting">npm install coffee-script</pre></div><p>If all went well, you should see something similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_05.jpg" alt="Node.js, npm, and CoffeeScript on Windows"/></div><p>Here, I used the <span class="strong"><strong>-g</strong></span> flag, which installs the npm<a id="id106" class="indexterm"/> package for all users.<a id="id107" class="indexterm"/> Once you have installed CoffeeScript, we can test it using the <span class="strong"><strong>coffee</strong></span> command, as shown here:</p><div class="mediaobject"><img src="graphics/9588OS_02_06.jpg" alt="Node.js, npm, and CoffeeScript on Windows"/></div><p>This is the CoffeeScript interpreter, and as you can see, you can use it to run CoffeeScript code on the fly. To exit, just use <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span>.</p><p>And that's it! Installing Node.js on Windows is really quick and easy.</p></div>
<div class="section" title="Installing CoffeeScript on a Mac"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec25"/>Installing CoffeeScript on a Mac</h1></div></div></div><p>There are two<a id="id108" class="indexterm"/> ways of installing Node.js on a Mac, <a id="id109" class="indexterm"/>either by downloading the <code class="literal">.pkg</code> file from the Node.js website and installing it using Apple's installer application, <a id="id110" class="indexterm"/>or by using the <span class="strong"><strong>Homebrew</strong></span> command-line package manager.</p><p>The easiest way of getting <a id="id111" class="indexterm"/>up and running is by just installing the <code class="literal">.pkg</code> file, so let's go over that first. Installing Homebrew might involve more work, but it is worth it if you prefer working on the command-line tool and would build CoffeeScript from source.</p><div class="section" title="Using the Apple installer"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec21"/>Using the Apple installer</h2></div></div></div><p>Head on<a id="id112" class="indexterm"/> over to <a id="id113" class="indexterm"/>the Node.js website (<a class="ulink" href="http://nodejs.org">nodejs.org</a>) and then click on the <span class="strong"><strong>Downloads</strong></span> button. You'll see a couple of options available, but choose the <span class="strong"><strong>Macintosh Installer</strong></span> option, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_02.jpg" alt="Using the Apple installer"/></div><p>This will download a <code class="literal">.pkg</code> file. Once you have downloaded it, running the install couldn't be much easier; just choose your destination, accept the license, and click <span class="strong"><strong>Continue</strong></span>. You should choose to install it for all users by using the <span class="strong"><strong>Install for all users of this computer</strong></span> option, which is shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_07.jpg" alt="Using the Apple installer"/></div><p>If you see the<a id="id114" class="indexterm"/> following <a id="id115" class="indexterm"/>screen, then you have successfully installed Node:</p><div class="mediaobject"><img src="graphics/9588OS_02_08.jpg" alt="Using the Apple installer"/></div><p>You will also have npm installed, which we'll use to install CoffeeScript. Skip to the <span class="emphasis"><em>Installing CoffeeScript with npm</em></span> section.</p></div><div class="section" title="Using Homebrew"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec22"/>Using Homebrew</h2></div></div></div><p>A lot of <a id="id116" class="indexterm"/>developers prefer working<a id="id117" class="indexterm"/> on the command-line tool on a Mac, and the Homebrew package manager has become quite popular. It aims to let you easily install Unix tools that don't come with Mac OS X.</p><p>If you prefer installing Node.js using Homebrew, you need to have Homebrew on your system. You might also need to have XCode command-line tools to build the Node.js source code. The Homebrew wiki contains instructions on how to get it up and running at <a class="ulink" href="https://github.com/mxcl/homebrew/wiki/installation">https://github.com/mxcl/homebrew/wiki/installation</a>.</p><p>If you do have Homebrew installed, you can then install Node.js using the <span class="strong"><strong>brew</strong></span> command, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_09.jpg" alt="Using Homebrew"/></div><p>As you can see from the output, Homebrew has not installed npm, without which we cannot install CoffeeScript. To install npm, you can just copy and paste the following command in the terminal:</p><div class="informalexample"><pre class="programlisting">curl http://npmjs.org/install.sh |sh</pre></div><p>After npm is installed, you should see something similar to the following screen:</p><div class="mediaobject"><img src="graphics/9588OS_02_10.jpg" alt="Using Homebrew"/></div></div><div class="section" title="Installing CoffeeScript with npm"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec23"/>Installing CoffeeScript with npm</h2></div></div></div><p>Now that <a id="id118" class="indexterm"/>we have npm installed, we should be able to install CoffeeScript. Just enter the following command in the terminal:</p><div class="informalexample"><pre class="programlisting">npm install –g coffee-script</pre></div><p>The <span class="strong"><strong>-g</strong></span> flag lets npm install CoffeeScript globally; once this is done, you can now test if CoffeeScript is working by using the <span class="strong"><strong>coffee</strong></span> command, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_11.jpg" alt="Installing CoffeeScript with npm"/></div><p>And that's it! Installing CoffeeScript on a Mac is quite easy.</p></div></div>
<div class="section" title="Installing CoffeeScript on Linux"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec26"/>Installing CoffeeScript on Linux</h1></div></div></div><p>The<a id="id119" class="indexterm"/> ways<a id="id120" class="indexterm"/> of installing Node.js with CoffeeScript on Linux vary depending on which distribution you have installed. <a id="id121" class="indexterm"/>There are packages for most of the popular distros, and if not, you can also try building CoffeeScript from a source, as described in the next section.</p><p>I only have <a id="id122" class="indexterm"/>experience with package managers for Debian-based distros and have installed CoffeeScript with Node.js successfully using the <span class="strong"><strong>apt-get</strong></span> package manager<a id="id123" class="indexterm"/>. However, you should be able to follow the instructions for the other distros as described.</p><p>There are apt-get packages for Node.js on Ubuntu, MintOS, and Debian, but you need to add sources for them before you can install. The instructions for installing each of them will be explored in the following sections.</p><div class="section" title="Ubuntu and MintOS"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec24"/>Ubuntu and MintOS</h2></div></div></div><p>Enter<a id="id124" class="indexterm"/> the following on the <a id="id125" class="indexterm"/>command-line utility (you might need to have sufficient permissions to use <code class="literal">sudo</code>):</p><div class="informalexample"><pre class="programlisting">sudo apt-get install python-software-properties
sudo apt-add-repository ppa:chris-lea/node.js
sudo apt-get update
sudo apt-get install nodejs npm </pre></div></div><div class="section" title="Debian"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec25"/>Debian</h2></div></div></div><p>On<a id="id126" class="indexterm"/> Debian<a id="id127" class="indexterm"/>, you would normally log in to a root terminal to install packages. Once logged in, enter the following command:</p><div class="informalexample"><pre class="programlisting">echo deb http://ftp.us.debian.org/debian/ sid main &gt; /etc/apt/sources.list.d/sid.list
apt-get update
apt-get install nodejs npm</pre></div></div><div class="section" title="Other distributions"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec26"/>Other distributions</h2></div></div></div><p>The <a id="id128" class="indexterm"/>Node.js wiki page at <a class="ulink" href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager</a> contains instructions for installing on a variety of Linux and Unix distributions, including Fedora, openSUSE, Arch Linux, and FreeDSB. </p></div><div class="section" title="Installing CoffeeScript with npm"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec27"/>Installing CoffeeScript with npm</h2></div></div></div><p>After your<a id="id129" class="indexterm"/> package manager has done its thing, you should now have Node.js and npm installed. You can verify this by using the npm <span class="strong"><strong>-v</strong></span> command. You can now install CoffeeScript using npm by entering the following command:</p><div class="informalexample"><pre class="programlisting">npm install –g coffee-script</pre></div><p>The <code class="literal">-g</code> flag tells npm to install the package globally.</p><p>The following screenshot shows how the <span class="strong"><strong>-v</strong></span> command is used to install CoffeeScript:</p><div class="mediaobject"><img src="graphics/9588OS_02_12.jpg" alt="Installing CoffeeScript with npm"/></div><p>And that's it! Installing CoffeeScript on Linux is quite easy.</p></div></div>
<div class="section" title="Building Node.js from source"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec27"/>Building Node.js from source</h1></div></div></div><p>If you prefer not to<a id="id130" class="indexterm"/> use a package manager or installer, or don't have one available for your OS, or you would like to get the very latest version of Node.js, then you can also build Node.js from its source. Be warned though, this process is often fraught with danger, since the source often needs some dependencies on the system to build.</p><div class="section" title="Building on Linux or Unix"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec28"/>Building on Linux or Unix</h2></div></div></div><p>To build on a<a id="id131" class="indexterm"/> Linux or Unix environment, you need to make sure that <a id="id132" class="indexterm"/>you have the following source dependencies installed:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Python–Version 2.6 or Version 2.7</strong></span>: You<a id="id133" class="indexterm"/> can check if you have Python installed and also check which version is installed by entering <code class="literal">python --version</code> in the command prompt.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>libssl-dev</strong></span>: This can <a id="id134" class="indexterm"/>usually be installed with the built-in package manager. It's already installed on OS X.</li></ul></div><p>I'm going to show you how to build Node.js using its latest source. The source is managed using the popular Git version control system and hosted in a repository on <a class="ulink" href="http://github.com">github.com</a>. To pull the latest source from your github, you'll need to make sure you have Git installed. By using <code class="literal">apt-get</code>, you can install it as such:</p><div class="informalexample"><pre class="programlisting">apt-get install git-core</pre></div><p>Once you have these prerequisites, you should be able to build the node. Enter the following command on the command-line tool:</p><div class="informalexample"><pre class="programlisting">git clone https://github.com/joyent/node.git
cd node
git checkout v0.6.19 
./configure
make
sudo make install</pre></div><p>Phew! If everything went well, you should be able to install CoffeeScript using npm:</p><div class="informalexample"><pre class="programlisting">npm install –g coffee-script</pre></div></div><div class="section" title="Building on Windows"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec29"/>Building on Windows</h2></div></div></div><p>Although it's <a id="id135" class="indexterm"/>possible to build Node.js on Windows, <a id="id136" class="indexterm"/>I would highly recommend that you just run the installer instead. Out of all the ways of installing that I have mentioned in this book, this is the only one I didn't do myself. This example comes straight from the Node wiki (<a class="ulink" href="https://github.com/joyent/node/wiki/Installation">https://github.com/joyent/node/wiki/Installation</a>). Apparently, the build can take a very long time. In the command prompt, enter the following:</p><div class="informalexample"><pre class="programlisting">C:\Users\ryan&gt;tar -zxf node-v0.6.5.tar.gz
C:\Users\ryan&gt;cd node-v0.6.5
C:\Users\ryan\node-v0.6.5&gt;vcbuild.bat release
C:\Users\ryan\node-v0.6.5&gt;Release\node.exe
&gt; process.versions
{ node: '0.6.5',
  v8: '3.6.6.11',
  ares: '1.7.5-DEV',
  uv: '0.6',
  openssl: '0.9.8r' }
&gt;</pre></div></div></div>
<div class="section" title="Using CoffeeScript"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec28"/>Using CoffeeScript</h1></div></div></div><p>And there <a id="id137" class="indexterm"/>you have it. Having to install Node.js and npm just to get CoffeeScript might seem like a lot of effort, but you'll get to experience the power of having a wonderful server-side JavaScript framework and good command-line tools to write CoffeeScript with.</p><p>Now that you have CoffeeScript installed, how do we go about using it? Your main entry point into the language is the <code class="literal">coffee</code> command.</p></div>
<div class="section" title="The coffee command"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec29"/>The coffee command</h1></div></div></div><p>This <a id="id138" class="indexterm"/>command-line utility is like a Swiss army knife of CoffeeScript. You can use it<a id="id139" class="indexterm"/> to run CoffeeScript in an interactive fashion, compile CoffeeScript files into JavaScript files, execute <code class="literal">.coffee</code> files, watch files or directories, and compile if any of the files change, as well as a few other useful things. Executing the command is easy, just enter <code class="literal">coffee</code> along with some options and arguments for them.</p><p>For help on all the available options, run <code class="literal">coffee</code> with the <span class="strong"><strong>-h</strong></span> or <span class="strong"><strong>--help</strong></span> options. A list of useful options are shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_13.jpg" alt="The coffee command"/></div><p>We have already seen<a id="id140" class="indexterm"/> the <span class="strong"><strong>-v</strong></span> option, which will print out the current version of CoffeeScript.</p><div class="section" title="The REPL"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec30"/>The REPL</h2></div></div></div><p>Executing <code class="literal">coffee</code> with no<a id="id141" class="indexterm"/> arguments or the <span class="strong"><strong>-i</strong></span> option will drop you into the CoffeeScript <span class="strong"><strong>Read Eval Print Loop</strong></span> (<span class="strong"><strong>REPL</strong></span>)<a id="id142" class="indexterm"/>. From here, you can type in CoffeeScript code that will be executed on the fly and display its output right in the console. This is very useful for playing with the language, exploring some of the core JavaScript and Node.js libraries, or even pulling in another external library or API and being able to explore it interactively.</p><p>I urge you to run the coffee REPL and try some of the code examples that we discussed in the previous chapter. Notice how the output of each expression is displayed after it is entered. The interpreter is also clever enough to handle multiline and nested expressions, such as function definitions.</p><div class="mediaobject"><img src="graphics/9588OS_02_14.jpg" alt="The REPL"/></div><p>In the previous screenshot, the interpreter is shown handling a function definition.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>To exit from the REPL, use <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> or <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span>.</p></div></div></div><div class="section" title="Running .coffee files"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec31"/>Running .coffee files</h2></div></div></div><p>After typing enough code into the REPL, you will come to a point when you will want to start <a id="id143" class="indexterm"/>storing <a id="id144" class="indexterm"/>and organizing your CoffeeScript in source files. CoffeeScript files use the <code class="literal">.coffee</code> extension. You can run a <code class="literal">.coffee</code> file by passing it as an argument to the <code class="literal">coffee</code> command. The CoffeeScript in the file will be compiled to JavaScript and then executed, using Node.js as its environment.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>You can use any text editor to write your CoffeeScript. A lot of popular editors have plugins or have added support for CoffeeScript, with features such as syntax highlighting, code completion, or even allowing you to run your code right from the editor. There is a comprehensive list of text editors and plugins that support CoffeeScript at <a class="ulink" href="https://github.com/jashkenas/coffee-script/wiki/Text-editor-plugins">https://github.com/jashkenas/coffee-script/wiki/Text-editor-plugins</a>.</p></div></div></div><div class="section" title="Compiling to JavaScript"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec32"/>Compiling to JavaScript</h2></div></div></div><p>To compile a CoffeeScript to JavaScript, we pass the <span class="strong"><strong>-c</strong></span> or <span class="strong"><strong>--compile</strong></span> option. It takes either a single <a id="id145" class="indexterm"/>argument with a filename or a<a id="id146" class="indexterm"/> folder name, or multiple files and folder names. If you specify a folder, it will compile all the files in that folder. By default, the JavaScript output files will have the same name as the source file, so <code class="literal">foo.coffee</code> will compile to <code class="literal">foo.js</code>.</p><p>If we wanted to control where the outputted JavaScript will be written, then we can use the <span class="strong"><strong>-o</strong></span> or <span class="strong"><strong>--output</strong></span> option with a folder name. If you're specifying multiple files or folders, then you can also pass the <span class="strong"><strong>-j</strong></span> or <span class="strong"><strong>--join</strong></span> option with a filename. This will join the output into a single JavaScript file.</p></div><div class="section" title="Watching"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec33"/>Watching</h2></div></div></div><p>If you're developing a CoffeeScript application, it can become tedious to keep running <span class="strong"><strong>--compile</strong></span>. Another<a id="id147" class="indexterm"/> useful option is <span class="strong"><strong>-w</strong></span> or <span class="strong"><strong>--watch</strong></span>. This tells the CoffeeScript compiler to keep running and watch a certain file or folder for any changes to the files. This works well when combined with <span class="strong"><strong>--compile</strong></span>, which will compile files every time they change.</p></div><div class="section" title="Putting it all together"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec34"/>Putting it all together</h2></div></div></div><p>The cool thing about the <code class="literal">coffee</code> command is that the flags can be combined to create a very useful build and development environment. Let's say, I have a bunch of CoffeeScript files in a source folder that I want to compile to a single <code class="literal">output.js</code> file in the <code class="literal">js</code> folder every time a file changes.</p><p>You should be able to use something similar to the following command:</p><div class="informalexample"><pre class="programlisting">coffee –o js/ -j output.js –cw source/</pre></div><p>This will watch for any changes to the <code class="literal">.coffee</code> files in the source folder and compile and join them into a single file called <span class="strong"><strong>output.js</strong></span> inside the <span class="strong"><strong>js</strong></span> folder, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/9588OS_02_15.jpg" alt="Putting it all together"/></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec30"/>Summary</h1></div></div></div><p>In this chapter, you have hopefully learned how to get CoffeeScript running on the development environment of your choice. You have also learned how to use the <code class="literal">coffee</code> command to run and compile CoffeeScript. Now that you have the tools, we'll move to writing some code and get to know CoffeeScript "in the wild", so to speak. Let's start from where JavaScript started, and look at programming CoffeeScript in the browser.</p></div></body></html>