<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">Building a Custom Application Using ServiceNow Scripting</h1>
                </header>
            
            <article>
                
<p class="mce-root">In this final chapter, we will be looking at building a custom application using ServiceNow scripting. Custom applications are a great way to create functionality not included with the ServiceNow product. We will be looking at creating a custom application and using scripting as part of our application. We will also learn about end-to-end creation of a custom application before exploring how to test and deploy our new custom application.</p>
<p>In this chapter, we will be looking at the following topics:</p>
<ul>
<li>Creating a custom application with ServiceNow scripting</li>
<li>End-to-end development</li>
<li>Testing</li>
<li>Deployment</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating a custom application with ServiceNow scripting</h1>
                </header>
            
            <article>
                
<p>The ability to build a custom application in ServiceNow makes ServiceNow such a versatile product. As ServiceNow was first released to the market as a service desk solution, developers have explored the potential of the platform, and since then it has been used in various areas of the business.</p>
<p>However, there are still many ways of using ServiceNow that are not included with the baseline system, and for this, we can create a custom application.</p>
<p>Before creating a custom application, it is worth considering whether a custom application will provide the best solution. Sometimes, we can use an existing ServiceNow application to perform the functionality we want to achieve, using it directly or slightly modifying it for our needs. If this is the case, then it is worth considering not creating a custom application and using the platform instead.</p>
<p>If the functionality you need would take a large modification to an existing application or simply does not exist at that point, it is advisable to create a custom application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Creating the application</h1>
                </header>
            
            <article>
                
<p>Once we create a new application, we can then start adding application files to that application. The application files we create become part of the application.</p>
<p>To create a new application, we can navigate to <span class="packt_screen">System Applications</span> | <span class="packt_screen">Applications</span>, and we will be shown the current applications that have been created on this instance. We then need to click on the <span class="packt_screen">New</span> button on the far right, as shown in <em>Figure 12.1</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/c2c637c1-b0b6-4963-a633-f72c2565d33d.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.1: Instance applications page</div>
<p>Once the <span class="packt_screen">New</span> button has been selected, you are given a series of choices about where you would like to start from when creating your application.</p>
<p>We can see the options given in <em>Figure 12.2</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-537 image-border" src="assets/fee4af3f-2811-4a2f-8a44-d2eec8b28571.png" style="width:128.75em;height:46.33em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.2: Application creation options</div>
<p>From this set of choices, we can decide from what starting point we want to create our application. The top two choices are the most commonly used generally. Starting from scratch is exactly that, only the application is created and the new application scope. No tables or modules or access controls are made for you.</p>
<p>Creating a custom application guides you through creating a table, modules, and access controls. After that, it is much the same as starting from scratch.</p>
<p>The third option, to start from a service, is rarely used in my experience, but allows a developer to enhance a service created from the service creator and potentially overwrite it when complete.</p>
<p>The final option here is not available as part of the baseline system, but can be used if service management is activated. This option again is not as well used, although it allows creation from an existing process.</p>
<p>When selecting start from a template, we are presented with a further page, which we can see in <em>Figure 12.3</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/0757dc50-cb82-4394-b7a6-81763d62fa91.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.3: Application creation template option choices</div>
<p>From here, we can either create from a predefined template, or configure settings further to create the application.</p>
<p>Now the custom application has been created, we can start to add application files and build up the application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Building the application</h1>
                </header>
            
            <article>
                
<p>Once the application has been created, we can start to build up the application with application files. These are the files that, when put together, make up the application. When the application is created, an application scope is also created for the application. On the creation of the application, you will also be put into the new application scope, so it is important to be aware of this.</p>
<p>You will also see that your update set has changed once you create a new update set to a new default update set for the application scope you are now in. As you are in the application scope of your new application, any customizations made will be added to your new application.</p>
<p>To keep track of the current scope and update set, it can be useful to show the application and update set picker when developing. These two options can be set in the <span class="packt_screen">Developer</span> tab of the system settings, which can be seen in the following figure:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-538 image-border" src="assets/51eb18c5-daa8-4024-8907-8f4e956b8a77.png" style="width:93.25em;height:41.08em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.4: Developer system settings showing the application and update set picker</div>
<p>By setting the two picker options in <em>Figure 12.4</em>, we are then shown the current application scope and update set at the top of the screen in the header bar. These are shown in a drop-down field, so both can easily be changed if required.</p>
<p>We can see here both of the picker drop-down fields that are displayed in the header bar:</p>
<div class="mce-root CDPAlignCenter CDPAlign"><img src="assets/ff3299b7-ad08-4a58-887b-7bda31f2b284.png" style="width:26.08em;height:3.17em;"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Figure 12.5: Application and update set picker</div>
<p class="mce-root">These picker fields are especially helpful if you are working between update sets or in multiple scopes for your current development.</p>
<div class="packt_tip"><span>When working in multiple tabs, it can be a wise idea to refresh your browser page to ensure that the pickers are up-to-date on the tab you are working on.</span></div>
<p>Now that we have created and started to build our application, we can move on to the development of our application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Example application</h1>
                </header>
            
            <article>
                
<p>In this chapter, we will also build an example custom application to reinforce the theory that we learn. For our example, we will build an application to hold data for users' access.</p>
<p>First, we need to create the application. From the options we saw in <em>Figure 12.2</em>, we are going to select <span class="packt_screen">Create custom application</span>. Once we have selected this, we are given the form shown in <em>Figure 12.6</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/fe1a7467-9607-4dd5-86b0-ec4a6db9c906.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.6: Create custom application form</div>
<p>In this form, we need to give our application a name, which will then fill in the rest of the fields. We can change the values in the fields, but in the <span class="packt_screen">Scope</span> field, the prefix will have to be the prefix for your company or developer instance. </p>
<p>For our example, we also want to create a table, so we'll need to check the <span class="packt_screen">Create Table</span> option too. This gives us some extra table fields to fill in. These will be populated for you, but you can change them to fit your needs.</p>
<p>Here, we can see the filled-in form for our user access application. Custom application prefixes start with <kbd>x_</kbd> and are followed by the prefix specific to you or your company. This scope is mandatory, and specific to you. The blank spaces in <em>Figure 12.7</em> are where this prefix would be shown:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ee9fb49f-4b49-4e51-b2e6-d4e2a6a23b41.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.7: Completed custom application form</div>
<p>Now we have completed the form, we click on the <span class="packt_screen">Create</span> button at the bottom of the form.</p>
<p>We are given a confirmation popup before the application and new table are created, which we can see here:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/cf6ef86b-15fd-4021-b336-d1cd617ffcf1.png" style="width:21.00em;height:9.83em;"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Figure 12.8: Custom application creation confirmation popup</div>
<p>For our example, we will click on <span class="packt_screen">OK</span> and create the application. Once the application is created, we are given a button to edit the application that opens up the development studio, which we will explore more in the next section.</p>
<p>We have successfully created our application and will pick up our user access application example in the next section.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">End-to-end development</h1>
                </header>
            
            <article>
                
<p>Once an application has been created on an instance, we can move on to developing the application. When we are in the application scope of our application, all customizations are added to the application. We can either make changes to the instance in the same way we usually would do development outside of an application, for example, creating and amending scripts, or we can use the studio ServiceNow provides for us.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Studio</h1>
                </header>
            
            <article>
                
<p>The studio was created by ServiceNow for use when creating custom applications. Some developers prefer the studio, as it shows the application in one place, whereas others prefer to develop as they would in the global scope.</p>
<p>To access the studio, navigate to <span class="packt_screen">System Applications</span> | <span class="packt_screen">Studio</span>. This will open a new tab in your browser and give us the opportunity to load one of the applications that have been created on the current instance.</p>
<p>We can see the <span class="packt_screen">Load Application</span> form in <em>Figure 12.9</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ce12bfc7-5279-4eea-a46e-4a0bfd73d752.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.9: Studio load application form</div>
<p>In the list, you will see the applications available to load on the instance you are working in. Once we have loaded the application we want to work on in the studio, we can see the current application files on the left-hand side. We can see the screen show in <em>Figure 12.10</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/f7afb710-65ec-4df2-86ef-3514bdd43f03.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.10:  Sample studio for a test application</div>
<p>As an example, a business rule and client script have been created for this test application.</p>
<p>When we have a new application, we need to create a new application file to start. To create a new application file, we can click on the <span class="packt_screen">Create Application File</span> button we can see in the preceding figure.</p>
<p>We are then given the <span class="packt_screen">Create Application File</span> screen, shown in <em>Figure 12.11</em>, where we can select what type of application file we want to create in our application:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/3e75ac6f-de31-4301-982c-7d37a966b87b.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.11:  Application file creation screen</div>
<p>There are many application file types to choose from, with some of the more common being client scripts, business rules, access controls, and tables. Once the application file has been selected, click <span class="packt_screen">Create</span> to start editing the application file. Once the application file is finished and saved, it will appear in the left-hand pane of the studio. </p>
<p>One of the main benefits of using the studio is that you can keep track of all the application files in the left-hand pane very easily and amend them by clicking on them. Another big benefit is the ability to use tabs to quickly flick between different application files. We can see this in <em>Figure 12.12</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/37f3b60f-738a-4b2e-9469-9ba7c17d111a.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.12: Studio tabbed development example</div>
<p>As you can see from the preceding figure, we can have many tabs open for different application files. This can be for new or existing application files, and is certainly one of the features I like about using Studio.</p>
<p>Studio is very good for collating all of the aspects of an application together, but whether to use it or not is the developer's preference. Some developers swear by it, others will not use it at all, and some developers are somewhere in between.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Application development</h1>
                </header>
            
            <article>
                
<p>Whether using studio or not, once an application is created, we need to do the development and make sure that all of the application files we need for our application are created. Each application is different, and the ability to create unique applications in ServiceNow is almost limitless.</p>
<p>When developing your application, remember the skills and techniques we have covered in the earlier chapters of this book to get the best out of it.</p>
<p>When creating a new application, I would recommend considering the table structure of the application first and associated relationships. Once the table structure is in place, the other application files will be easier to plan and place into the application.</p>
<p>ServiceNow also allows us to add records considered as data to our custom applications. This allows us to take across records where the <span class="packt_screen">Update sync</span> attribute we discovered in the previous chapter is not set to true for the table. To do this, we can right-click on the header bar for a list view, and we are given the option to <span class="packt_screen">Create Application Files</span>, as shown in <em>Figure 12.13</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8fe5b2d5-0d59-4bf2-9538-f390277fea98.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.13: Creating application files from a list view</div>
<p>In <em>Figure 12.13</em>, we are looking at an incident list with only one record in the list due to the filter. On selecting the <span class="packt_screen">Create Application Files</span> option, we will then be given a popup to select how the application files should be added. This popup can be seen in <em>Figure 12.14</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/ea5bcf12-6c51-4316-9f5e-75d8c2d78b80.png" style="width:42.50em;height:25.00em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.14: Creating application files popup</div>
<p class="mce-root">This popup in <em>Figure 12.14</em> has a field of <span class="packt_screen">Load When</span>, and this is the most important field on this form. From here, we have the following three options that we can choose:</p>
<ul>
<li><span class="packt_screen">New Install and Upgrades</span></li>
<li><span class="packt_screen">New Install</span></li>
<li><span class="packt_screen">New Install with Demo Data</span></li>
</ul>
<p>The first two options are quite straightforward: the data is either loaded only with a new installation of the application and never again, or with a new installation and for future upgrades of the application. The third option is slightly different, but the concept of demo data will be familiar to most system admins. With this option, the records will be available to add when the application is deployed, although it is not mandatory. When we discuss deployment later on in the chapter, the options around including demo data will become clear. </p>
<p>Once a selection has been made for the <span class="packt_screen">Load When</span> field, we can click on <span class="packt_screen">OK</span>, and the records will be added to our application. We can see what that looks like for our test application and our previous example in <em>Figure 12.15</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/94ef2a4c-1892-42ce-89f6-4cefa3643dac.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.15: Sample application files shown included in an application related list</div>
<p>In <em>Figure 12.15</em>, we can see that the incident record that was showing in our list view has been moved into the application files of our custom application.</p>
<p>After all of the application files needed for your application have been added, we can then move to testing the application.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Example application</h1>
                </header>
            
            <article>
                
<p>Now we have had a look at how to develop our applications, we can develop our example application too. Our example application user access has been created, and we can either develop in the usual way or use the studio to create new application files from.</p>
<p>From simply creating our application, we will already see some application files as part of our application, which will show in the studio or in the application definition.</p>
<p>We can now see what our application looks like in the studio in the following figure:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/5a82bc43-348f-43d1-b5cd-e806969afb15.png"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.16: Studio for user access application</div>
<p>We can already see that, by creating our application, we have a table, role, some access controls, an application menu, and modules. These have all been created in our application scope.</p>
<p>Now we need to create another table to act in a similar way to a many-to-many relationship table between user and access. We could create an <kbd>m2m</kbd> table, but we will just create a normal table this time around as we do not want an <span class="packt_screen">Edit</span> button in the related list between the tables. We can create this table by navigating to <span class="packt_screen">System Definition</span> | <span class="packt_screen">Tables &amp; Columns</span> and clicking on <span class="packt_screen">Create Table</span> in the usual way, and it will be added to the application too.</p>
<p>We have two tables we need now, so we will add some reference fields to the <span class="packt_screen">User Access</span> table for <span class="packt_screen">User</span> and <span class="packt_screen">Access</span>. The access field links to our other new application table.</p>
<p>We can see what the form looks like, now with some dummy data in it, in <em>Figure 12.17</em>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/97a92eea-d50a-49b7-b4fb-5fcc7729649b.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.17: User access custom table form view</div>
<p>We also need to add a <span class="packt_screen">Name</span> field to our access table, so we can identify each access item, and we'll add a related list to see all users with that access too.</p>
<p>We can see what this form looks like now, again with some dummy data, as follows:</p>
<div class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-539 image-border" src="assets/78f4765c-b3db-4d8c-9d85-01eada965ecc.png" style="width:107.17em;height:38.83em;"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.18: Access custom table form view</div>
<p>The table structure for our <span class="packt_screen">User Access</span> application is now complete. There are now three tables that will be used in the application, which are the user table, supplied with baseline ServiceNow, the access table, and the user access table. </p>
<p>We have created a way of keeping track of the access each user has in ServiceNow. It is generally a good practice to do the table structure of a custom application first, as any scripts or relationships are then easier to plan for the application. Having to add tables later in the application can cause problems or a significant amount of rework in the case of some applications.</p>
<p>We also want to make sure that once a user has been given access in our application, we stop that user being selected for the same access, which means creating a scripted advanced reference qualifier.</p>
<p>First, we will add some script in an advanced reference qualifier to call a script include for us. This reference qualifier will be for the <span class="packt_screen">User</span> field on the <span class="packt_screen">User Access</span> table:</p>
<pre>javascript:new userAccessRefQual().stopDuplicateUserAccess(current.access);<br/><br/></pre>
<p>Now we have the reference qualifier calling a script include, and we need to create the script include and input code to return only the users without the currently selected access.</p>
<p>Our script include code will look like this:</p>
<pre>var userAccessRefQual = Class.create();<br/>userAccessRefQual.prototype = {<br/>    initialize: function() {<br/>    },<br/>  <br/>  /* Returns users that do not currently have this access<br/>  variables:<br/>  access - sys_id of the current access<br/>  */<br/>  stopDuplicateUserAccess: function(access) {<br/>    <br/>    var usersWithAccess = [];<br/>    var accessRec = new GlideRecord('x_152110_uaccess_user_access');<br/>    accessRec.addQuery('access', access);<br/>    accessRec.query();<br/>    while (accessRec.next()) { <br/>      usersWithAccess.push(accessRec.user.toString());<br/>    }<br/>    <br/>    return 'sys_idNOT IN' + usersWithAccess.toString();<br/>    <br/>  },<br/><br/>    type: 'userAccessRefQual'<br/>};</pre>
<p>This code will check all of the current user access records with the currently selected access from the form and ensure that the users returned to be selected are users that do not currently have this access.</p>
<p>This is done by returning the string <kbd>sys_idNOT IN</kbd> and the contents of the array that has been populated with all of the users that currently have access to the current access on the form. This can be a very helpful technique to filter out all records we do not want, to only leave the records we do that to be displayed to the user.</p>
<p>We can see the script include created in the following figure:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7a6f9f12-d545-45fe-8bc5-d4acb9749c55.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.19: Script include providing advanced reference qualifier functionality</div>
<p>Now that we have our script complete and our tables in place, we are happy to complete our application development-wise. There are certainly further additions we could make to this application to enhance it, like adding extra validation, scripts, or fields to the tables, but we will finish the application at this point for our example.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Testing</h1>
                </header>
            
            <article>
                
<p>A big part of any custom application is testing it to make sure that it functions correctly. Applications with errors or poor functionality can quickly leave customers disillusioned with the application, and often the application will then not be used. Therefore, it is extremely important that any application is thoroughly tested before it is deployed. </p>
<p>When testing a new custom application, it is important to also test around the application as well as the application itself. This means do not just test that the application works, also test that any applications the new application is linked or related to also still functions in the way it did before. This is particularly important when dealing with access controls and security, and always ensure that no access is granted that should not be and that existing users of an application are not locked out of data they had access to before.</p>
<p>If we do come across issues when performing our testing, it is worth remembering the techniques that we learned in the <a href="5526cad2-945c-4410-9980-a794a3d362a6.xhtml" target="_blank">Chapter 9</a>, <em>Debugging the Script</em>, with regard to debugging applications. We can use the session debugging tools, including debugging scopes, to fix any problems we encounter. </p>
<p>There is also the option of the following scoped application logging levels to fix issues:</p>
<ul>
<li>Error</li>
<li>Warn</li>
<li>Info</li>
<li>Debug</li>
</ul>
<p>These logs can be important for finding out where problems lie, and remember that <kbd>gs.log</kbd> will not work in a custom application scope.</p>
<p>It is a good practice to check the system logs when testing your custom application, to ensure that no logging messages have been left in that should not have been. We need to ensure that these logging messages do not get deployed into a production instance if they are not required.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Example application</h1>
                </header>
            
            <article>
                
<p>Now that the development is complete, for our example application, we will look at testing it. The main aspect of our application we need to look at is the script we created. </p>
<p>However, it is always important to check every aspect of your application, especially against the requirements of the stakeholders that the application will be for.</p>
<p>Some dummy data has been added so that we can check our script is working correctly in the user access and access tables. The <span class="packt_screen">User</span> table is populated with users in the ServiceNow baseline system that you can use when testing applications. </p>
<p>We can see the entries in the <span class="packt_screen">User Access</span> table in the following figure:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/e9f900fc-27fd-4f3b-8de3-ac301c7309ce.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.20: User access custom table list view</div>
<p>As can be seen in <em>Figure 12.20</em>, there are two users that have access to <span class="packt_screen">Server A100</span>. This means that if we try to select these users when <span class="packt_screen">Server A100</span> is selected, we should not be able to pick those users.</p>
<p>Let's check if this is possible or not:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/af6803f8-559e-4ec2-bc0e-c106854cb228.png"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Figure 12.21: User access custom table form testing the User field reference qualifier</div>
<p>As we can see in the previous figure, after searching for <kbd>Fred</kbd>, we do not see <kbd>Fred Luddy</kbd>, which is a good sign and it tells us that our scripted reference qualifier is working correctly.</p>
<p>As part of testing, we will also remove the access to <span class="packt_screen">Server A100</span> from <kbd>Fred Luddy</kbd> and check that he is then available for selection when creating a user access records for <span class="packt_screen">Service A100</span>. With the code we have created, this test also passes and meets the requirements.</p>
<p>There are further tests you can perform, and the level of testing a developer undertakes is often dependent on a number of variables. This can include the impact of the new application on current applications, and whether testing is performed by a separate testing team or not. We will complete testing for our example user access application here.</p>
<p>When testing your applications, choose a level of testing suitable for your needs, and remember to test edge cases if you think that they may bring about testing failures.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Deployment</h1>
                </header>
            
            <article>
                
<p>Once all of the testing has been completed, we can then move on to deploying our custom application to other instances. We can deploy our custom application once we have completed it <span>in the following three main ways:</span></p>
<ul>
<li>Publish the application to an update set</li>
<li>Publish to the application repository</li>
<li>Publish to the ServiceNow store</li>
</ul>
<p>Let's have a look at how to deploy using each method.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publish to an update set</h1>
                </header>
            
            <article>
                
<p>The first method we will look at is how to publish the custom application to an update set. This is a very helpful method as this allows the update set to be sent to other instances as a retrieved update set, or even exported and imported on any ServiceNow instance. This makes this method of deployment arguably the most versatile.</p>
<p>To publish a custom application to an update set, we first need to navigate to the application record. To do this, we can navigate to <span class="packt_screen">System Applications</span> | <span class="packt_screen">Applications</span> and then click on the name of the application. Make sure not to click on edit as this will open the studio instead.</p>
<p>Under the related links menu, click on the option to <span class="packt_screen">Publish to Update Set...</span> and then the following screen <span>will be shown</span>:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/98ec1103-5413-494e-843d-1186a5978745.png" style="width:44.67em;height:27.33em;"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">Figure 12.22: Publish to update set popup</div>
<p>In our example, we see the <span class="packt_screen">Test Application</span> name, but your custom application name will appear here. Enter a <span class="packt_screen">Version</span>, and it is recommended to add a <span class="packt_screen">Description</span>, so users will know the function of your application. We saw how we can add data files to our application as demo data earlier in the chapter. The final checkbox allows that demo data to be included in or excluded from the update set we create. </p>
<p>Once the pop-up form is complete, a progress bar will appear:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/09ec2610-5855-46b0-ac52-ad79009f43f5.png"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Figure 12.23: Publishing application progress bar</div>
<p class="mce-root">Click on the <span class="packt_screen">Done</span> button once the publishing completes, and you will be redirected to the update set that has been created. The update set is created at a complete state, so it is ready to be retrieved from other instances immediately. Remember that it is also possible to export the update set to XML.</p>
<p>Now, the application is contained in a completed update set, it can be easily moved between instances.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publish to the application repository </h1>
                </header>
            
            <article>
                
<p>Next, we look at how to publish our custom application to the application repository. The application repository is company-wide, and it allows easy movement of new custom applications and upgrades between instances in the same company.</p>
<p>First, <span>we need to navigate to the <span class="packt_screen">Application Record</span>. To do this, we can navigate to <span class="packt_screen">System Applications</span> | <span class="packt_screen">Applications</span> and then click on the name of the application again. </span></p>
<p>In the related links, click on the link <span class="packt_screen">Publish to My Application Repository</span>. Follow through the process in a similar way to publishing into an update set, and the application will then be available in the application repository for all of the other instances associated with the current instance company.</p>
<p>We can then install the application on a different instance in the same company by navigating to <span><span class="packt_screen">System Applications</span> | <span class="packt_screen">Applications</span> and clicking on the <span class="packt_screen">Downloads</span> tab. From here, we should see the application that we sent to the repository displayed with the option to install.</span></p>
<p>Once the application has been installed, updates made to the application in the instance where the application was created will also be available to other instances for the specific company, if they are added to the repository as the application was.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Publish to the ServiceNow store</h1>
                </header>
            
            <article>
                
<p>The final deployment method we will explore is to publish an application to the ServiceNow store. The ServiceNow store is a way for developers to create custom applications that are then sold through the ServiceNow store to companies looking for that functionality in their instance. Applications can be sold for a one-off fee, monthly subscription, or through consultancy with the developing company.</p>
<p>To be able to publish applications to the ServiceNow store, the company must be a technology partner of ServiceNow, so this option will not be available in all instances.</p>
<p>To begin the process, we again navigate to <span><span class="packt_screen">System Applications</span> | <span class="packt_screen">Applications</span> and then click on the name of the application. Once we have the application record open, we click on the related link <span class="packt_screen">Publish to ServiceNow Store</span>. This packages up the code in the application into a staging area that can be edited before publishing.</span></p>
<p>Publishing an application to the ServiceNow store is quite an involved process, which requires ServiceNow to review the application itself and the relevant documentation about the application. We have explored how to start the process here, but once the process has been started, ServiceNow will guide you through the requirements from a developer to take an application into the ServiceNow store.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Example application</h1>
                </header>
            
            <article>
                
<p>Our user access example application is now complete, having been developed and tested. We will now need to deploy the application to other ServiceNow instances.</p>
<p>For our example, we will choose the method of publishing to an update set so that we could take this application to any ServiceNow instance. As we learned earlier in this section, we need to open up the user access application and click on the related link <span class="packt_screen">Publish to Update Set...</span> to start.</p>
<p>In the window that appears, we fill in the form as shown here:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/51f082ee-2153-4713-9dd1-ed653ce016e1.png" style="width:43.42em;height:26.67em;"/></div>
<div class="mce-root CDPAlignCenter CDPAlign packt_figref">Figure 12.24: Publish to update set popup for user access application</div>
<p>We do not have demo data for our user access application, so we can uncheck the box. A description has also been added to let administrators who install the application know what functionality the application can provide.</p>
<p>Once the <span class="packt_screen">Publish</span> button is clicked, we can then see the new update set once the process has completed. This update set is already set to <span class="packt_screen">Complete</span> when is is created.</p>
<p>We can see the update set created for our application here:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/4b8c4c62-ae4e-4182-91a1-589c32b26c30.png"/></div>
<div class="CDPAlignCenter CDPAlign packt_figref">Figure 12.25: Update set for published custom application user access</div>
<p>The update set for our application can now be exported to XML using the related link, which will then allow the application to be imported into any other ServiceNow instance. </p>
<p>To import the update set into another instance, a system administrator can simply import the XML by right-clicking the header bar of a list view and selecting <span class="packt_screen">Import XML</span>. The update set will then be available to be previewed and committed.</p>
<p>It is also possible to set up or use an existing update source to pull this completed update set into another ServiceNow instance you have.</p>
<p>Using our user access application example, we have seen the various stages of custom application development and how to progress through each stage. ServiceNow is such an open-ended platform that the custom applications that can be created are almost limitless.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this final chapter, we looked at how to build a custom application. We looked at how to create a new custom application and the different starting points available. The end-to-end development of a custom application was looked into, including the use of studio. We finished by delving into how to test and deploy a custom application once development is complete.</p>
<p>Through this chapter, we have also seen how to take an example user access application through all of the stages of creating a custom application. From creation to development and then to testing, we finally created an update set containing our application for deployment on other ServiceNow instances.</p>
<p>Building a custom application is a great learning experience and a fantastic way to practice the techniques we have covered in this book. I hope that you enjoy being creative and creating some custom applications of your own.</p>


            </article>

            
        </section>
    </body></html>