<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Adding Animation</h1></div></div></div><p>In this chapter, we will cover the following tasks related to adding animation and interaction to the app:</p><div><ul class="itemizedlist"><li class="listitem">Embedding fullscreen inline video as background</li><li class="listitem">Creating physics-based animation using Dynamics.js</li><li class="listitem">Animating the slide component by binding gesture to animation state</li><li class="listitem">Adding background CSS animation to the login page</li></ul></div><div><div><div><div><h1 class="title"><a id="ch05lvl1sec31"/>Introduction</h1></div></div></div><p>User experience is crucial for the initial traction of users. When your early adopters use the app for the first time, they will have a better impression, which creates trust and increases retention. App animation will also provide interactive feedback for the users so that they know what to do or take action based on very gentle visual hints.</p><p>Native apps used to have an advantage over web-based hybrid apps because of animation performance. However, frameworks like Ionic and Angular have closed the gap in performance a lot in the recent years. Web animation is also easier to learn and code since many frontend developers are already familiar with JavaScript and CSS.</p><p>In this chapter, you will learn how to do basic animation using video and CSS. Then, you will start utilizing physics-based animation to create interesting interactivity. Moreover, you could even bind the gesture frame by frame so that your animation happens instantly during a swipe event.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec32"/>Embedding full screen inline video as background</h1></div></div></div><p>Today, there are<a id="id313" class="indexterm"/> many apps leveraging video as an animated background for the introduction screen. This makes the app more interesting and creative. The users feel that they are welcomed to the app. This tactic is great to impress new users and encourage them to come back.</p><p>This section will teach you how to add a video with autoplay in the background:</p><div><img src="img/image00261.jpeg" alt="Embedding full screen inline video as background"/></div><p style="clear:both; height: 1em;"> </p><p>You will also<a id="id314" class="indexterm"/> learn how to use <code class="literal">animate.css</code> to add custom animation to the app header text.</p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec70"/>Getting ready</h2></div></div></div><p>This app example could work either in the browser or on a physical device. However, it's optional that you connect your physical device to verify that the animation is playing correctly in the<a id="id315" class="indexterm"/> background.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec71"/>How to do it...</h2></div></div></div><p>Here are the instructions:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new <code class="literal">VideoIntro</code> app using the <code class="literal">blank</code> template, as shown, and go into the <code class="literal">VideoIntro</code> folder:<div><pre class="programlisting">
<strong>$ ionic start VideoIntro blank --v2</strong>
<strong>$ cd VideoIntro</strong>
</pre></div></li><li class="listitem">You need to have <a id="id316" class="indexterm"/>your video ready at this point. However, for this example, let's download a free video from a public website that does not require a license. Navigate to <a class="ulink" href="http://www.coverr.co">http://www.coverr.co</a>.</li><li class="listitem">You can download any video. The example in this app uses the <code class="literal">Blurry-People.mp4</code> clip. Download it to your computer:<div><img src="img/image00262.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Save the videos in <code class="literal">./src/assets/</code>:<div><img src="img/image00263.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Open the <code class="literal">./src/index.html</code> file and replace the <a id="id317" class="indexterm"/>content with the following code:<div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html lang="en" dir="ltr"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Ionic App&lt;/title&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;
  &lt;meta name="format-detection" content="telephone=no"&gt;
  &lt;meta name="msapplication-tap-highlight" content="no"&gt;

  &lt;link rel="icon" type="image/x-icon" href="assets/icon/favicon.ico"&gt;
  &lt;link rel="manifest" href="manifest.json"&gt;
  &lt;meta name="theme-color" content="#4e8ef7"&gt;

  &lt;!-- Google Fonts --&gt;
  &lt;link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'&gt;
    
  &lt;!-- cordova.js required for cordova apps --&gt;
  &lt;script src="img/cordova.js"&gt;&lt;/script&gt;

  &lt;!-- un-comment this code to enable service worker
  &lt;script&gt;
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() =&gt; console.log('service worker installed'))
        .catch(err =&gt; console.log('Error', err));
    }
  &lt;/script&gt;--&gt;

  &lt;link href="build/main.css" rel="stylesheet"&gt;
  &lt;link rel="stylesheet "href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"&gt;

&lt;/head&gt;
&lt;body&gt;

  &lt;!-- Ionic's root component and where the app will load --&gt;
  &lt;ion-app&gt;&lt;/ion-app&gt;

  &lt;!-- The polyfills js is generated during the build process --&gt;
  &lt;script src="img/polyfills.js"&gt;&lt;/script&gt;

  &lt;!-- The bundle js is generated during the build process --&gt;
  &lt;script src="img/main.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre></div><p>Basically, the <a id="id318" class="indexterm"/>main difference with the original <code class="literal">index.html</code> file is that you want to include the <code class="literal">Google Lobster</code> font for the heading text and <code class="literal">animate.css</code> for animation.</p></li><li class="listitem">For the main template, you can modify the <code class="literal">./src/pages/home.html</code> file and replace it with the following code:<div><pre class="programlisting">&lt;ion-content class="home"&gt;
  &lt;div class="fullscreen-bg"&gt;
    &lt;video class="fullscreen-bg__video" autoplay loop muted webkit-playsinline&gt;
      &lt;source src="img/Blurry-People.mp4" type='video/mp4; codecs="h.264"' &gt;
      &lt;source src="img/Blurry-People.webm" type="video/webm"&gt;
    &lt;/video&gt;
  &lt;/div&gt;
  &lt;div class="center animated zoomIn"&gt;
    &lt;h1&gt;Beautiful App&lt;/h1&gt;
    &lt;h2&gt;Fast. Easy. Cheap.&lt;/h2&gt;
  &lt;/div&gt;
&lt;/ion-content&gt;</pre></div><p>There are only two important items on this page: the video and the header with subheader.</p></li><li class="listitem">Open<a id="id319" class="indexterm"/> and edit the <code class="literal">./src/pages/home/home.scss</code> file in the same folder using the following code:<div><pre class="programlisting">.home {
  font-family: 'Lobster', cursive;
  color: white;
  text-shadow: 1px 0 0 gray, -1px 0 0 gray, 0 1px 0 gray, 0 -1px 0 gray, 1px 1px gray, -1px -1px 0 gray, 1px -1px 0 gray, -1px 1px 0 gray;
  
  h1 {
    font-size: 5rem;
  }
   
}

.fullscreen-bg {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
  z-index: -100;
}

.fullscreen-bg__video {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
}

.center {
  top: 50%;
  transform: translateY(-50%);
  position: absolute !important;
  text-align: center;
  width:100%;
}</pre></div><p>All animation is done using CSS; thus, you don't need to write any code for the JavaScript file.</p></li><li class="listitem">Open the <code class="literal">config.xml</code> file and add the following line within the <code class="literal">&lt;widget&gt;</code> tag:<div><pre class="programlisting">&lt;preference name="AllowInlineMediaPlayback" value="true"/&gt;</pre></div></li><li class="listitem">Go to your terminal and run the app with the following command:<div><pre class="programlisting">
<strong>$ ionic serve</strong>
</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec72"/>How it works…</h2></div></div></div><p>Let's start <a id="id320" class="indexterm"/>with the <code class="literal">home.html</code> file because that is the only page where you added the animation:</p><div><pre class="programlisting">&lt;video class="fullscreen-bg__video" autoplay loop muted webkit-playsinline&gt;
  &lt;source src="img/Blurry-People.mp4" type='video/mp4; codecs="h.264"' &gt;
  &lt;source src="img/Blurry-People.webm" type="video/webm"&gt;
&lt;/video&gt;</pre></div><p>This is just a typical <code class="literal">&lt;video&gt;</code> tag in HTML5. However, there is a new attribute, called <code class="literal">webkit-playsinline</code>. This means that you want the video to play where it is on the HTML page and not open it up fullscreen with the play control. The reason is that you want this video to play in the background, while you can animate text on top of it. This is the reason you need to enable this feature by setting <code class="literal">AllowInlineMediaPlayback</code> in <code class="literal">config.xml</code>.</p><p>The second item in this template is your header and subheader:</p><div><pre class="programlisting">&lt;div class="center animated zoomIn"&gt;
  &lt;h1&gt;Beautiful App&lt;/h1&gt;
  &lt;h2&gt;Fast. Easy. Cheap.&lt;/h2&gt;
&lt;/div&gt;</pre></div><p>Note that there are <code class="literal">animated</code> and <code class="literal">zoomIn</code> classes included. These are the required classes for <code class="literal">animate.css</code> to kick in. If you run the app, you will see the text starting to appear from a smaller size to a bigger size (that is, a zoom-in effect).</p><p>The <code class="literal">home.scss</code> file is important because it has a lot of animation logic. Let's take a look at the header text first:</p><div><pre class="programlisting">.home {
  font-family: 'Lobster', cursive;
  color: white;
  text-shadow: 1px 0 0 gray, -1px 0 0 gray, 0 1px 0 gray, 0 -1px 0 gray, 1px 1px gray, -1px -1px 0 gray, 1px -1px 0 gray, -1px 1px 0 gray;
  
  h1 {
    font-size: 5rem;
  }
   
}</pre></div><p>One interesting thing here is the use of the <code class="literal">text-shadow</code> attribute. This is because you want to create a thin border line around the text so that your white text can be easily seen on top of a light background.</p><p>To set the<a id="id321" class="indexterm"/> video to fullscreen, you need it to have a negative index so that it's below the other layers. Also, the height must be 100%. This is shown as follows:</p><div><pre class="programlisting">.fullscreen-bg {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
  z-index: -100;
}

.fullscreen-bg__video {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
}</pre></div><p>Finally, in order to position the text vertically in the center, you have to create this class:</p><div><pre class="programlisting">.center {
  top: 50%;
  transform: translateY(-50%);
  position: absolute !important;
  text-align: center;
  width:100%;
}</pre></div><p>The <code class="literal">center</code> class forces the element to have top of 50% but then push the Y position -50% to reset the vertical pivot of the <code class="literal">&lt;div&gt;</code> tag in the middle area. You will rarely need to customize such classes; thus, it's good to keep the <code class="literal">center</code> class handy for future use.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec33"/>Creating a physics-based animation using Dynamics.js</h1></div></div></div><p>Using physics-based animations can make your app more interactive and lively, which helps attract and<a id="id322" class="indexterm"/> retain more users. There are many methods to add physics to your component animation. For example, you could even use the CSS <code class="literal">animation-timing</code> function to<a id="id323" class="indexterm"/> add property values, such as <code class="literal">ease-in</code>, <code class="literal">ease-out</code>, or <code class="literal">cubic-bezier</code>. However, it's easier and better to use an existing JavaScript-based physic animation. <code class="literal">Dynamics.js</code> is one of those JavaScripts that comes with utilities and performance. Using native CSS physic features is actually not a good practice as it comes with a frame-per-second penalty on mobile devices.</p><p>The app will show a bouncing button, which can show and hide a top quote box, as follows, it also uses physics animation:</p><div><img src="img/image00264.jpeg" alt="Creating a physics-based animation using Dynamics.js"/></div><p style="clear:both; height: 1em;"> </p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec73"/>Getting ready</h2></div></div></div><p>This app example could <a id="id324" class="indexterm"/>work either in a browser or on a physical device. However, it's recommended that <a id="id325" class="indexterm"/>you run the app via your physical device to test for performance.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec74"/>How to do it...</h2></div></div></div><p>Here are the instructions:</p><div><ol class="orderedlist arabic"><li class="listitem">Open a terminal window, create a new <code class="literal">SpinningButton</code> app using the <code class="literal">blank</code> template, and <a id="id326" class="indexterm"/>go into the <code class="literal">SpinningButton</code> folder:<div><pre class="programlisting">
<strong>$ ionic start SpinningButton blank --v2</strong>
<strong>$ cd SpinningButton</strong>
</pre></div></li><li class="listitem">Visit <a class="ulink" href="http://dynamicsjs.com/">http://dynamicsjs.com/</a> and download the <code class="literal">dynamics.min.js</code> file to your <code class="literal">./src/assets</code> folder, as<a id="id327" class="indexterm"/> follows:<div><img src="img/image00265.jpeg" alt="How to do it..."/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Open<a id="id328" class="indexterm"/> the <code class="literal">./src/index.html</code> file and replace the code with the following:<div><pre class="programlisting">&lt;!DOCTYPE html&gt;
&lt;html lang="en" dir="ltr"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Ionic App&lt;/title&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;
  &lt;meta name="format-detection" content="telephone=no"&gt;
  &lt;meta name="msapplication-tap-highlight" content="no"&gt;

  &lt;link rel="icon" type="image/x-icon" href="assets/icon/favicon.ico"&gt;
  &lt;link rel="manifest" href="manifest.json"&gt;
  &lt;meta name="theme-color" content="#4e8ef7"&gt;
  
  &lt;!-- cordova.js required for cordova apps --&gt;
  &lt;script src="img/dynamics.min.js"&gt;&lt;/script&gt;
  &lt;script src="img/cordova.js"&gt;&lt;/script&gt;

  &lt;!-- un-comment this code to enable service worker
  &lt;script&gt;
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() =&gt; console.log('service worker installed'))
        .catch(err =&gt; console.log('Error', err));
    }
  &lt;/script&gt;--&gt;

  &lt;link href="build/main.css" rel="stylesheet"&gt;

&lt;/head&gt;
&lt;body&gt;

  &lt;!-- Ionic's root component and where the app will load --&gt;
  &lt;ion-app&gt;&lt;/ion-app&gt;

  &lt;!-- The polyfills js is generated during the build process --&gt;
  &lt;script src="img/polyfills.js"&gt;&lt;/script&gt;

  &lt;!-- The bundle js is generated during the build process --&gt;
  &lt;script src="img/main.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</pre></div><p>The key part of this file is to ensure that <code class="literal">dynamics.min.js</code> is included.</p></li><li class="listitem">Open<a id="id329" class="indexterm"/> and edit the <code class="literal">./src/pages/home/home.html</code> file to<a id="id330" class="indexterm"/> replace the content with the following:<div><pre class="programlisting">&lt;ion-content class="home"&gt;
  &lt;div class="my-card" #myCard&gt;
    &lt;h1&gt;QUOTE&lt;/h1&gt;
    &lt;p class="body"&gt;Always remember that you are absolutely unique. Just like everyone else.&lt;/p&gt;
    &lt;p class="name"&gt;Margaret Mead&lt;/p&gt;
  &lt;/div&gt;
&lt;/ion-content&gt;

&lt;ion-fab center bottom&gt;
  &lt;button ion-fab #thisEl (click)="animateMe(thisEl)"&gt;
    &lt;ion-icon name="mic"&gt;&lt;/ion-icon&gt;
  &lt;/button&gt;
&lt;/ion-fab&gt;</pre></div><p>There is no need to have header navigation in this app because it will just be a single page.</p></li><li class="listitem">Open the <code class="literal">home.ts</code> file for <a id="id331" class="indexterm"/>editing in<a id="id332" class="indexterm"/> the same folder as Step 2, with the following code:<div><pre class="programlisting">import { Component, ViewChild } from '@angular/core';
import { NavController } from 'ionic-angular';
declare var dynamics: any;

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})

export class HomePage {
  private isAnimating: Boolean = false;
  private isQuoteShown: Boolean = false;
  @ViewChild('myCard') myCard; 
  
  constructor(public navCtrl: NavController) {
    console.log(dynamics);
  }
  
  animateMe(el) {
    
    if (!this.isAnimating) {
      this.isAnimating = true;
      
      dynamics.animate(el._elementRef.nativeElement, {
        translateY: -50
      }, {
        type: dynamics.bounce,
        duration: 1300,
        complete: () =&gt; {
          console.log('Done animating button.');
          this.isAnimating = false;  
        }
      });
      
      if (!this.isQuoteShown) {
        dynamics.animate(this.myCard.nativeElement, {
          translateY: 0
        }, {
          type: dynamics.spring,
          duration: 1300,
          complete: () =&gt; {
            console.log('Done animating drop down.');
            this.isAnimating = false;  
          }
        });
        
        this.isQuoteShown = true;
      } else {
        dynamics.animate(this.myCard.nativeElement, {
          translateY: -150
        }, {
          type: dynamics.easeOut,
          duration: 900,
          friction: 50,
          complete: () =&gt; {
            console.log('Done animating drop down.');
            this.isAnimating = false;  
          }
        });
          
        this.isQuoteShown = false;
      }
      
    }
  }
  
}</pre></div><p>Note that you<a id="id333" class="indexterm"/> must import the <code class="literal">dynamics</code> object in this file.</p></li><li class="listitem">Modify<a id="id334" class="indexterm"/> the <code class="literal">home.scss</code> stylesheet, as follows:<div><pre class="programlisting">ion-content.home {
  background-color: #ecf0f1;
}

.my-card {
  color: white;
  transform: translate(0,-150px);
  background: #9b59b6;
  height: 150px;
  padding: 10px;
  
  h1 {
    font-size: 4rem;
    font-weight: 100;
    margin: 0;
  }
  
  p {
    color: white;
  }
  
  p.body {
    font-size: 16px;
    line-height: 1.5em;
    margin-bottom: 0;
    margin-top: 5px;
  }
  
  p.name {
    font-size: 14px;
    font-weight: bold;
    text-align: right;
    margin-top: 5px;
  }
}</pre></div></li><li class="listitem">Go to your<a id="id335" class="indexterm"/> terminal and run the app with the following command:<div><pre class="programlisting">
<strong>$ ionic serve</strong>
</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec75"/>How it works…</h2></div></div></div><p>The main concept <a id="id336" class="indexterm"/>behind the physics animation in this app is the <code class="literal">dynamics.animate</code> method from the <code class="literal">Dynamics.js</code> library. Let's start with the button in the template, as shown:</p><div><pre class="programlisting">&lt;ion-fab center bottom&gt;
  &lt;button ion-fab #thisEl (click)="animateMe(thisEl)"&gt;
    &lt;ion-icon name="mic"&gt;&lt;/ion-icon&gt;
  &lt;/button&gt;
&lt;/ion-fab&gt;</pre></div><p>This is your floating button that you can click to create a nice bouncing effect by calling the <code class="literal">animateMe()</code> method.</p><div><h3 class="title"><a id="tip16"/>Tip</h3><p>To learn more<a id="id337" class="indexterm"/> about Ionic 2's floating button, you can refer to the Ionic documentation at <a class="ulink" href="http://ionicframework.com/docs/v2/components/#floating-action-buttons">http://ionicframework.com/docs/v2/components/#floating-action-buttons</a>.</p></div><p>The simple logic<a id="id338" class="indexterm"/> here is as follows:</p><div><ul class="itemizedlist"><li class="listitem">If the button<a id="id339" class="indexterm"/> is animated, <code class="literal">isAnimating</code> must be <code class="literal">True</code>. Once it's <code class="literal">True</code>, any additional click will not trigger the animation since we don't want the physics to kick in multiple times.</li><li class="listitem">If the top quote bar is displayed, <code class="literal">isQuoteShown</code> must be <code class="literal">True</code>. Otherwise, it will call a different animation to hide it.</li></ul></div><p>You can pass many options in the <code class="literal">dynamics.animate</code> method. For example, the button will use <code class="literal">dynamics.bounce</code> as the type; thus, it will bounce up and down on each click. You can also specify the duration to be applied to the animation process itself. After the animation is done, it will trigger the callback in the <code class="literal">complete</code> function, as illustrated:</p><div><pre class="programlisting">dynamics.animate(el._elementRef.nativeElement, {
  translateY: -50
}, {
  type: dynamics.bounce,
  duration: 1300,
  complete: () =&gt; {
    console.log('Done animating button.');
    this.isAnimating = false;  
  }
});</pre></div><p>An important thing to keep in mind is that <code class="literal">Dynamics.js</code> must refer to the DOM JavaScript object itself and not the DOM node or Ionic object. That's why you have to use <code class="literal">el._elementRef.nativeElement</code> to point to the native element object instead.</p><p>For the quote box, it creates a local variable, called <code class="literal">myCard</code>, in the template, as shown:</p><div><pre class="programlisting">&lt;div class="my-card" #myCard&gt;
  &lt;h1&gt;QUOTE&lt;/h1&gt;
  &lt;p class="body"&gt;Always remember that you are absolutely unique.Just like everyone else.&lt;/p&gt;
  &lt;p class="name"&gt;Margaret Mead&lt;/p&gt;
&lt;/div&gt;</pre></div><p>You must refer to this variable using the <code class="literal">ViewChild</code> decorator, as shown, so that <code class="literal">@Page</code> knows to include it as a dependency:</p><div><pre class="programlisting">@ViewChild('myCard') myCard;</pre></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec76"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem">If you<a id="id340" class="indexterm"/> are interested in learning <a id="id341" class="indexterm"/>more about native CSS physics-based animation, visit <a class="ulink" href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function">https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function</a>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec34"/>Animating the slide component by binding a gesture to the animation state</h1></div></div></div><p>Another way to get a <em>wow</em> experience from users is to have great-looking introduction slides. A typical app would have three to five slides to describe what the app does and how it will benefit the users. Today, many apps even add videos or interactive screens so that the users can get a <em>feel</em> for how the app may work. Such an interactive animation will require some internal development to bind touch gestures to the animation state. Animating based on a<a id="id342" class="indexterm"/> specific state is very difficult because you really have to get granular gesture data. On the other hand, it's a lot easier to just animate at the beginning or ending of a state. For example, you could animate an object inside a slide when the slide completely shows up on the screen after a left swipe. However, this animation effect is not as interesting or attractive as binding the animation during the touch movement.</p><p>The app you will build in this section will have three slides that will animate when you swipe left or right:</p><div><img src="img/image00266.jpeg" alt="Animating the slide component by binding a gesture to the animation state"/></div><p style="clear:both; height: 1em;"> </p><p>You will see<a id="id343" class="indexterm"/> fade in and fade out animation effects between slides. The following Angular logo also moves up when you swipe left from the second slide:</p><div><img src="img/image00267.jpeg" alt="Animating the slide component by binding a gesture to the animation state"/></div><p style="clear:both; height: 1em;"> </p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec77"/>Getting ready</h2></div></div></div><p>There is no <a id="id344" class="indexterm"/>need to test the app in a physical device because the animation is done via HTML and JavaScript. However, it's recommended to test the app in your device to evaluate to animation performance.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec78"/>How to do it...</h2></div></div></div><p>Here are the instructions:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new <code class="literal">SliderAnimation</code> app using the <code class="literal">blank</code> template, as follows, and go to the <code class="literal">SliderAnimation</code> folder:<div><pre class="programlisting">
<strong>$ ionic start SliderAnimation blank --v2</strong>
<strong>$ cd SliderAnimation</strong>
</pre></div></li><li class="listitem">Open the <code class="literal">./src/pages/home/home.html</code> file and modify its content with the following<a id="id345" class="indexterm"/> code:<div><pre class="programlisting">&lt;ion-content class="home"&gt;
  &lt;div class="slides-float"&gt;
    
    &lt;div class="slide-float" #slidefloat1&gt;
      &lt;ion-icon name="ios-ionic"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Ionic 2&lt;/h1&gt;
    &lt;/div&gt;

    &lt;div class="slide-float" #slidefloat2&gt;
      &lt;ion-icon name="logo-angular"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Angular 2&lt;/h1&gt;
    &lt;/div&gt;

    &lt;div class="slide-float" #slidefloat3&gt;
      &lt;ion-icon name="logo-javascript"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Both&lt;/h1&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  
  &lt;ion-slides #myslides pager (ionDrag)="onMove()"&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;is Beautiful&lt;/h2&gt;
    &lt;/ion-slide&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;is Fast&lt;/h2&gt;
    &lt;/ion-slide&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;are Awesome&lt;/h2&gt;
    &lt;/ion-slide&gt;

  &lt;/ion-slides&gt;
&lt;/ion-content&gt;</pre></div><p>This template mainly uses the <code class="literal">&lt;ion-slides&gt;</code> tag. However, there are some layers to float on top of the <code class="literal">&lt;ion-slide&gt;</code> tag in order to animate them separately.</p></li><li class="listitem">After this, replace<a id="id346" class="indexterm"/> the content of <code class="literal">./src/pages/home/home.ts</code> with the following:<div><pre class="programlisting">import { Component, ViewChild } from '@angular/core';
import { NavController } from 'ionic-angular';

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})
export class HomePage {
  @ViewChild('myslides') myslides;
  @ViewChild('slidefloat1') slidefloat1;
  @ViewChild('slidefloat2') slidefloat2;
  @ViewChild('slidefloat3') slidefloat3;
  private rAf: any;
  private bindOnProgress: boolean = false;
  
  constructor(public navCtrl: NavController) {
    this.rAf = (function(){
      return  (window as any).requestAnimationFrame || (window as any).webkitRequestAnimationFrame || (window as any).mozRequestAnimationFrame ||
        function( callback ){
          window.setTimeout(callback, 1000 / 60);
        };
    })();
  }
  
  onMove() {
    if (!this.bindOnProgress) {
      this.bindOnProgress = true;
      
      this.myslides.slider.on('onProgress', (swiper, progress) =&gt; {
        
        // (0, 1) - (0.25, 0) ==&gt; (0-1)/(0.25-0) =&gt; -1/0.25 * x + 1
        let firstQuarter = () =&gt; {
          let slidefloat1Opacity = -1/0.25 * progress + 1;
          console.log('slidefloat1Opacity: ' + slidefloat1Opacity);
          this.slidefloat1.nativeElement.style.opacity =  slidefloat1Opacity;
          this.slidefloat2.nativeElement.style.opacity = 0;
        }
        
        // (0.25, 0) - (0.5, 1) ==&gt; (1-0)/(0.5-0.25) =&gt; 1/0.25 * x - 1 = 4*x - 1
        let secondQuarter = () =&gt; {
          let slidefloat2Opacity = 4 * progress - 1;
          console.log('slidefloat2Opacity: ' + slidefloat2Opacity);
          this.slidefloat2.nativeElement.style.opacity =  slidefloat2Opacity;
          this.slidefloat2.nativeElement.style.transform = 'translateY(0px)';
          this.slidefloat1.nativeElement.style.opacity = 0;
        }
        
        // (0.5, 0) - (0.75, -250) ==&gt; (-250-0)/(0.75-0.5) = -250/0.25 =&gt; -1000*x + 500
        let thirdQuarter = () =&gt; {
          let slidefloat2transform = -1000 * progress + 500;
          console.log('slidefloat2transform: ' + slidefloat2transform);
          this.slidefloat2.nativeElement.style.transform = 'translateY(' + slidefloat2transform + 'px)';
          this.slidefloat3.nativeElement.style.opacity = 0;
        }
        
        // (0.75, 0) - (1, 1) ==&gt; (1-0)/(1-0.75) =&gt; 1/0.25 * x - 0.75*4 = 4*x - 3
        let fourthQuarter = () =&gt; {
          let slidefloat3Opacity = 4 * progress - 3;
          console.log('slidefloat3Opacity: ' + slidefloat3Opacity);
          this.slidefloat3.nativeElement.style.opacity = slidefloat3Opacity;
          this.slidefloat2.nativeElement.style.transform = 'translateY(-250px)';
        }
        
        // Animate per quarter of the total 3 slides
        if (progress &lt;= 0.25) { 
          this.rAf(firstQuarter);
        } else if ((progress &gt; 0.25) &amp;&amp; (progress &lt;= 0.5 )) {
          this.rAf(secondQuarter);
        } else if ((progress &gt; 0.5) &amp;&amp; (progress &lt;= 0.75 )) {
          this.rAf(thirdQuarter);
        } else if ((progress &gt; 0.75) &amp;&amp; (progress &lt;= 1 )) {
          this.rAf(fourthQuarter);
        }
        
      });
      
    }
    
  }
}</pre></div><p>Note that the <a id="id347" class="indexterm"/>comments are useful to calculate an animation formula for each object.</p></li><li class="listitem">Edit <code class="literal">./app/pages/home/home.scss</code> with the following:<div><pre class="programlisting">.slides-float {
  .slide-float {
    top: 0;
    position: fixed;
    width: 100%;
    margin-top: 20px;
  }
}

.home {
  background-color: DarkSlateBlue;
  
  h2 {
    font-size: 3rem;
  }
  
  ion-slide {
    color: white;
    background-color: transparent;
  }  
  
  .slides-float {
    color: white;
    text-align: center;
    
    &gt; .slide-float:nth-child(2), &gt; .slide-float:nth-child(3) {
      opacity: 0;  
    }
  }
  
  .slide-float {
    ion-icon {
      font-size: 150px;
    }
    
    h1 {
      font-weight: lighter;
      font-size: 60px;
      margin-top: 0;
    }
  }
}</pre></div></li><li class="listitem">Go to your Terminal and run the app with the following command:<div><pre class="programlisting">
<strong>$ ionic serve</strong>
</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec79"/>How it works…</h2></div></div></div><p>This is the<a id="id348" class="indexterm"/> general process for animation:</p><div><ol class="orderedlist arabic"><li class="listitem">Since there are three slides, the user has to swipe twice to reach the end. This means that the first swipe will be at 50% progress.</li><li class="listitem">When a user swipes left to 25%, the Ionic logo will fade out.</li><li class="listitem">When a user swipes to 50%, the Angular logo will fade in for the second slide.</li><li class="listitem">When a user swipes to 75%, the Angular logo will move up to disappear instead of fading out.</li><li class="listitem">Finally, in the last 75% to 100%, the JavaScript logo will fade in.</li></ol><div></div><p>You probably noted that the amount of fade or movement will depend on the progress percentage. Thus, if you swipe left and right a little bit, you can see the animation responding to the gesture right away. There are two <em>layers</em> in the template. The <em>floating</em> static layer, as illustrated, must be on top and it must stay at the same position regardless of which slide is current:</p><div><pre class="programlisting">  &lt;div class="slides-float"&gt;
    
    &lt;div class="slide-float" #slidefloat1&gt;
      &lt;ion-icon name="ios-ionic"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Ionic 2&lt;/h1&gt;
    &lt;/div&gt;

    &lt;div class="slide-float" #slidefloat2&gt;
      &lt;ion-icon name="logo-angular"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Angular 2&lt;/h1&gt;
    &lt;/div&gt;

    &lt;div class="slide-float" #slidefloat3&gt;
      &lt;ion-icon name="logo-javascript"&gt;&lt;/ion-icon&gt; 
      &lt;h1&gt;Both&lt;/h1&gt;
    &lt;/div&gt;

  &lt;/div&gt;</pre></div><p>The bottom layer is<a id="id349" class="indexterm"/> your typical <code class="literal">&lt;ion-slides&gt;</code>, as shown:</p><div><pre class="programlisting">  &lt;ion-slides #myslides pager (ionDrag)="onMove()"&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;is Beautiful&lt;/h2&gt;
    &lt;/ion-slide&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;is Fast&lt;/h2&gt;
    &lt;/ion-slide&gt;

    &lt;ion-slide&gt;
      &lt;h2&gt;are Awesome&lt;/h2&gt;
    &lt;/ion-slide&gt;

  &lt;/ion-slides&gt;</pre></div><p>When you swipe, it's actually moving <code class="literal">&lt;ion-slide&gt;</code>. However, it also triggers the <code class="literal">onMove()</code> method because you bind it with the <code class="literal">move</code> event. The <code class="literal">onMove() </code>method will access <code class="literal">#slidefloat1</code>, <code class="literal">#slidefloat2</code>, and <code class="literal">#slidefloat3</code> from the floating <code class="literal">&lt;div&gt;</code> layer. The <code class="literal">home.ts</code> file is where you have to animate these individual floating slides.</p><p>There are several variables that you need to declare in the <code class="literal">home.ts</code> file. You need to be able to access the <code class="literal">&lt;ion-slides&gt;</code> object in order to call the <em>native</em> Swiper methods:</p><div><pre class="programlisting">  @ViewChild('myslides') myslides;</pre></div><p>According to the<a id="id350" class="indexterm"/> Ionic documentation, the <code class="literal">&lt;ion-slides&gt;</code> object is written based on the Swiper library at <a class="ulink" href="http://ionicframework.com/docs/v2/api/components/slides/Slides/">http://ionicframework.com/docs/v2/api/components/slides/Slides/</a>.</p><p>You need to bind it with the swiping event natively in order to get the correct progress data.</p><p>The following<a id="id351" class="indexterm"/> three variables are necessary to access each floating slide:</p><div><pre class="programlisting">  @ViewChild('slidefloat1') slidefloat1;
  @ViewChild('slidefloat2') slidefloat2;
  @ViewChild('slidefloat3') slidefloat3;</pre></div><p>You need to leverage <code class="literal">requestAnimationFrame</code>, as follows, for the best animation performance:</p><div><pre class="programlisting">  private rAf: any;</pre></div><p>Otherwise, users will sense a <em>jerky</em> movement during a swipe because your animation is not at 60 FPS.</p><p>Lastly, you need to bind the swipe event only once; thus, it's necessary to have a Boolean toggle to detect the binding event:</p><div><pre class="programlisting">  private bindOnProgress: boolean = false;</pre></div><p>The following code shows how to create a <code class="literal">requestAnimationFrame</code> object to call whichever function is to be rendered later:</p><div><pre class="programlisting">this.rAf = (function(){
  return  (window as any).requestAnimationFrame || (window as any).webkitRequestAnimationFrame || (window as any).mozRequestAnimationFrame ||
    function( callback ){
      window.setTimeout(callback, 1000 / 60);
    };
})();</pre></div><p>The <code class="literal">onMove()</code> method is where you put all the animation logic, which must bind with the <code class="literal">onProgress</code> event, as follows:</p><div><pre class="programlisting">this.myslides.slider.on('onProgress', {})</pre></div><p>First, let's take a look at the code at the bottom of <code class="literal">onMove()</code>, as shown:</p><div><pre class="programlisting">if (progress &lt;= 0.25) { 
  this.rAf(firstQuarter);
} else if ((progress &gt; 0.25) &amp;&amp; (progress &lt;= 0.5 )) {
  this.rAf(secondQuarter);
} else if ((progress &gt; 0.5) &amp;&amp; (progress &lt;= 0.75 )) {
  this.rAf(thirdQuarter);
} else if ((progress &gt; 0.75) &amp;&amp; (progress &lt;= 1 )) {
  this.rAf(fourthQuarter);
}</pre></div><p>Basically, you want to have four quarters (or segments) of animation. When you swipe from slide 1 to slide 2, it will trigger the <code class="literal">firstQuarter</code> and <code class="literal">secondQuarter</code> methods. That is, you want to fade out the first floating slide and fade in the second floating slide at the end of the process. The concept is similar for the <code class="literal">thirdQuarter</code> and <code class="literal">fourthQuarter</code> methods. Note that you don't want to call the method directly but just pass the function<a id="id352" class="indexterm"/> reference inside <code class="literal">this.rAf</code> to have the rendering engine manage the frame rate. Otherwise, the rendered function may end up blocking other processes in the UI, which causes jerky movement.</p><p>For each of the<a id="id353" class="indexterm"/> quarters, you only have to change the <code class="literal">style</code> property, given a known <strong>progress value</strong>, as shown:</p><div><pre class="programlisting">let firstQuarter = () =&gt; {
  let slidefloat1Opacity = -1/0.25 * progress + 1;
  console.log('slidefloat1Opacity: ' + slidefloat1Opacity);
  this.slidefloat1.nativeElement.style.opacity =  slidefloat1Opacity;
  this.slidefloat2.nativeElement.style.opacity = 0;
}</pre></div><p>It's important to use the arrow function here so that you can access the <code class="literal">this</code> context. You have to call <code class="literal">this.slidefloat2.nativeElement</code> to get to the <code class="literal">&lt;div&gt;</code> DOM object. It's really up to you to write your own math function to calculate the position or opacity during the slide movement with the progress value. In this example, the <code class="literal">slidefloat1Opacity</code> variable is just a linear function based on the <code class="literal">progress</code> input value.</p><p>The <code class="literal">secondQuarter</code> follows the same approach. However, the <code class="literal">thirdQuarter</code> uses the <code class="literal">transform</code> property instead of <code class="literal">opacity</code>, as illustrated:</p><div><pre class="programlisting">let thirdQuarter = () =&gt; {
  let slidefloat2transform = -1000 * progress + 500;
  console.log('slidefloat2transform: ' + slidefloat2transform);
  this.slidefloat2.nativeElement.style.transform = 'translateY(' + slidefloat2transform + 'px)';
  this.slidefloat3.nativeElement.style.opacity = 0;
}</pre></div><p>There are many ways to make a DOM object change its position. However, it's best to leverage the <code class="literal">transform</code> property instead of using the <code class="literal">left</code> and <code class="literal">top</code> properties. You want to achieve the highest Frame Per Second. In the <code class="literal">thirdQuarter</code> method, your <code class="literal">slidefloat2transform</code> will be calculated and it will update a new Y position using <code class="literal">translateY()</code>.</p><div><h3 class="title"><a id="tip17"/>Tip</h3><p>Note that you must use <code class="literal">this.bindOnProgress</code> to disable another event binding to <code class="literal">onProgress</code> because, for each swipe, it will continue to add more events.</p></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec80"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem">To understand <a id="id354" class="indexterm"/>more about <code class="literal">requestAnimationFrame</code>, you can check out the official documentation at <a class="ulink" href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame</a></li><li class="listitem">The Swiper API is<a id="id355" class="indexterm"/> located at <a class="ulink" href="http://idangero.us/swiper/api/">http://idangero.us/swiper/api/</a></li><li class="listitem">Ionic 2 has an official usage<a id="id356" class="indexterm"/> example at <a class="ulink" href="http://ionicframework.com/docs/v2/components/#slides">http://ionicframework.com/docs/v2/components/#slides</a></li><li class="listitem">Ionic 2 also<a id="id357" class="indexterm"/> provides a limited number of API for slides at <a class="ulink" href="http://ionicframework.com/docs/v2/api/components/slides/Slides/">http://ionicframework.com/docs/v2/api/components/slides/Slides/</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch05lvl1sec35"/>Adding a background CSS animation to the login page</h1></div></div></div><p>Animation can <a id="id358" class="indexterm"/>also be completely done in CSS. In many cases, you will probably run into some interesting demos online and <a id="id359" class="indexterm"/>would like to incorporate the CSS-only code for animation. If the animation is not as critical to the user experience, you could just use to add additional effects to the app. CSS animation is great because you don't have to write JavaScript code to manage the animation and just leave the browser to process it.</p><p>In this section, you will build an app to show some floating squares in the background of your login page, as shown:</p><div><img src="img/image00268.jpeg" alt="Adding a background CSS animation to the login page"/></div><p style="clear:both; height: 1em;"> </p><div><div><div><div><h2 class="title"><a id="ch05lvl2sec81"/>Getting ready</h2></div></div></div><p>There is no need to<a id="id360" class="indexterm"/> test in a physical device because <a id="id361" class="indexterm"/>CSS animation will work just fine in the Ionic app.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec82"/>How to do it...</h2></div></div></div><p>Here are the instructions:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new <code class="literal">BubbleLogin</code> app using the <code class="literal">blank</code> template, as follows, and go to the <code class="literal">BubbleLogin</code> folder:<div><pre class="programlisting">
<strong>$ ionic start BubbleLogin blank --v2</strong>
<strong>$ cd BubbleLogin</strong>
</pre></div></li><li class="listitem">Open the <code class="literal">./src/pages/home/home.html</code> file and<a id="id362" class="indexterm"/> modify the content with the<a id="id363" class="indexterm"/> following code:<div><pre class="programlisting">&lt;ion-content #myContent class="home"&gt;
  &lt;ul class="bg-bubbles"&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
    &lt;li&gt;&lt;/li&gt;
  &lt;/ul&gt;
  
  &lt;ion-list&gt;

    &lt;ion-item&gt;
      &lt;ion-label&gt;Username&lt;/ion-label&gt;
      &lt;ion-input type="text"&gt;&lt;/ion-input&gt;
    &lt;/ion-item&gt;

    &lt;ion-item class="input-password"&gt;
      &lt;ion-label&gt;Password&lt;/ion-label&gt;
      &lt;ion-input type="password" &gt;&lt;/ion-input&gt;
    &lt;/ion-item&gt;

  &lt;/ion-list&gt;

  &lt;div padding&gt;
    &lt;button ion-button block round color="secondary"&gt;LOGIN&lt;/button&gt;
  &lt;/div&gt;
  
  &lt;p class="logo"&gt;
    &lt;ion-icon name="ios-chatbubbles"&gt;&lt;/ion-icon&gt;
  &lt;/p&gt;
&lt;/ion-content&gt;</pre></div><p>The <code class="literal">bg-bubbles</code> class<a id="id364" class="indexterm"/> will convert a list of <code class="literal">&lt;li&gt;</code> into floating squares pieces.</p></li><li class="listitem">Edit <code class="literal">./src/pages/home/home.scss</code> with<a id="id365" class="indexterm"/> the following:<div><pre class="programlisting">.home {
  background-color: SeaGreen;  
  
  .logo {
    margin: 0;
    color: white;
    font-size: 100px;
    text-align: center;  
  }
  
  scroll-content {
    overflow-y: hidden;
  }
  
  .item {
    background-color: transparent;
  }
  
  .item-input ion-label, .item-select ion-label,input.text-input {
    color: white;
  }
  
  ion-list &gt; .item:first-child {
    border-top: 0;
    border-bottom: 1px solid white;
  }
  
  ion-list &gt; .item:first-child .item-inner {
    margin-right: 8px;
  }
  
  ion-list .item-inner {
    border-bottom: 0;
  }
  
  .input-password {
    border-bottom: 1px solid white!important;
    
    item-inner {
      border-bottom: 1px solid white;
      margin-right: 8px;
    }
  } 

}

.bg-bubbles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  
  z-index: 0;
  
  li {
    position: absolute;
    list-style: none;
    display: block;
    width: 40px;
    height: 40px;
    background-color: black;
    opacity: 0.2;
    bottom: -160px;
    
    -webkit-animation: square 25s infinite;
    animation:         square 25s infinite;
    
    -webkit-transition-timing-function: linear;
    transition-timing-function: linear;
    
    &amp;:nth-child(1) {
      left: 10%;
    }
    
    &amp;:nth-child(2) {
      left: 20%;
      
      width: 80px;
      height: 80px;
      
      animation-delay: 2s;
      animation-duration: 17s;
    }
    
    &amp;:nth-child(3) {
      left: 25%;
      animation-delay: 4s;
    }
    
    &amp;:nth-child(4) {
      left: 40%;
      width: 60px;
      height: 60px;
      
      animation-duration: 22s;
      
      background-color: black;
    }
    
    &amp;:nth-child(5) {
      left: 70%;
    }
    
    &amp;:nth-child(6) {
      left: 80%;
      width: 120px;
      height: 120px;
      
      animation-delay: 3s;
      background-color: black;
    }
    
    &amp;:nth-child(7) {
      left: 32%;
      width: 160px;
      height: 160px;
      
      animation-delay: 7s;
    }
    
    &amp;:nth-child(8) { 
      left: 55%;
      width: 20px;
      height: 20px;
      
      animation-delay: 15s;
      animation-duration: 40s;
    }
    
    &amp;:nth-child(9) {
      left: 25%;
      width: 10px;
      height: 10px;
      
      animation-delay: 2s;
      animation-duration: 40s;
      background-color: black;
    }
    
    &amp;:nth-child(10) {
      left: 90%;
      width: 160px;
      height: 160px;
      
      animation-delay: 11s;
    }
  }
}

@-webkit-keyframes square {
  0%   { transform: translateY(0); }
  100% { transform: translateY(-700px) rotate(600deg); }
}
@keyframes square {
  0%   { transform: translateY(0); }
  100% { transform: translateY(-700px) rotate(600deg); }
   }</pre></div></li><li class="listitem">Go to your terminal and run the app with the following command:<div><pre class="programlisting">
<strong>$ ionic serve</strong>
</pre></div></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec83"/>How it works…</h2></div></div></div><p>Since this app does<a id="id366" class="indexterm"/> not use JavaScript for animation, you <a id="id367" class="indexterm"/>will not need to modify anything in <code class="literal">home.ts</code>.</p><p>The CSS will drive the animation infinitely with the following code:</p><div><pre class="programlisting">animation: square 25s infinite;
transition-timing-function: linear;</pre></div><p>You will also be using two points in the <code class="literal">square</code> keyframe:</p><div><pre class="programlisting">@keyframes square {
  0%   { transform: translateY(0); }
  100% { transform: translateY(-700px) rotate(600deg); }
}</pre></div><p>So, for a 0% to 100% loop, it will move 700 px vertically and rotate 600 degrees in the duration.</p><p>The reason that each square has a different size and speed is because you can customize the CSS as per the <code class="literal">&lt;li&gt;</code> tag further. Consider the following example:</p><div><pre class="programlisting">    &amp;:nth-child(2) {
      left: 20%;
      
      width: 80px;
      height: 80px;
      
      animation-delay: 2s;
      animation-duration: 17s;
    }</pre></div><p>Since this<a id="id368" class="indexterm"/> animation does not generate a random number of square objects and there are a limited number of objects, you could write a<a id="id369" class="indexterm"/> customization for each <code class="literal">&lt;li&gt;</code> tag in the CSS.</p><p>Note that you have to put the animation with <code class="literal">z-index: 0</code> because it will stay above other layers, such as form and button.</p></div><div><div><div><div><h2 class="title"><a id="ch05lvl2sec84"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem">To <a id="id370" class="indexterm"/>understand more about CSS keyframes, you can check out the Mozilla documentation at <a class="ulink" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes">https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes</a></li></ul></div></div></div></body></html>