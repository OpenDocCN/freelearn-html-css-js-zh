<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-20"><a id="_idTextAnchor019"/>1</h1>
<h1 id="_idParaDest-21"><a id="_idTextAnchor020"/>Initial Setup and Project Structure</h1>
<p>I’ve been developing web applications for almost a decade now and the landscape has changed drastically since I began. To put that in reference, I’ve been building websites since JavaScript was so poorly supported by mainstream browsers that jQuery became the de facto standard for building interactive frontend experiences. But over time, we’ve seen more browsers willing to support ECMAScript standards and the ones that didn’t have died off (good riddance, Internet Explorer). JavaScript then re-emerged as a viable language. And with the rise of Node.js, developers could finally build an entire application, both frontend and backend, in a single programming language. JavaScript had taken over the web development world and firmly cemented its foothold.</p>
<p>As the technologies have matured, so too have development experiences. With the arrival of SvelteKit 1.0, we developers are given an intuitive experience allowing us to couple frontend and backend logic together in a way that leaves us wondering, “How did we do this before?” Before we dive into that experience, we’ll need to cover a few things.</p>
<p>Firstly, we’ll cover the prerequisites for developing applications with SvelteKit. We’ll then move on to how SvelteKit is installed and discuss how projects are typically structured. From there, we’ll build a “Hello, World!” application so we can see everything in action.</p>
<p>To summarize, we’ll discuss these topics in this chapter:</p>
<ul>
<li>Prerequisites</li>
<li>Installing SvelteKit</li>
<li>SvelteKit’s Project Structure</li>
<li>“Hello, World!”</li>
</ul>
<p>After covering all of this material, you should be reasonably comfortable setting up a new SvelteKit application for your next project.</p>
<h1 id="_idParaDest-22"><a id="_idTextAnchor021"/>Technical requirements</h1>
<p>The complete code for this chapter is available on GitHub at: <a href="https://github.com/PacktPublishing/SvelteKit-Up-and-Running/tree/main/chapters/chapter01">https://github.com/PacktPublishing/SvelteKit-Up-and-Running/tree/main/chapters/chapter01</a></p>
<h1 id="_idParaDest-23"><a id="_idTextAnchor022"/>Prerequisites</h1>
<p>To get the most out of this book and ensure you retain the information provided, it is recommended to work alongside the material as you read it. Type the commands and code shown into your project, but also feel free to experiment. To do this effectively, you will need a computer running Windows, macOS, or a Linux-based operating system as well as access to a terminal or command-line interface. Most modern computer hardware capable of running the latest versions of the <a id="_idTextAnchor023"/>aforementioned operating systems should be sufficient for your needs. Specifically, you’ll need a system with a minimum of 1 GB of RAM and at least a 1.6 GHz processor. This should work just fine for developing with SvelteKit, though performance may vary for your operating system.</p>
<p>Like many other web development projects, you’ll also need a web browser. The latest version of Firefox, Chrome, or Safari is recommended. You will also need to install Node.js. It is recommended to use the <a id="_idIndexMarker000"/>latest <code>npm</code> as it is available with a standard Node.js installation. It is possible to use <code>yarn</code> in place of <code>npm</code>, but it is probably easier to just use <code>npm</code>. If you’re worried about performance, <code>pnpm</code> will also work.</p>
<p>The final tool required will be a text editor<a id="_idIndexMarker002"/> or <code>ext install svelte.svelte-vscode</code>, and hit <em class="italic">Enter</em>.</p>
<p>In summary, you will need the following:</p>
<ul>
<li>A macOS, Windows, or Linux-based computer</li>
<li>A modern web browser (Firefox, Chrome, or Safari)</li>
<li>Terminal access</li>
<li>Node.js 18+ LTS</li>
<li>A package manager (<code>npm</code> comes installed with Node.js)</li>
<li>A text editor/IDE (with the recommended Svelte extension)</li>
</ul>
<h1 id="_idParaDest-24"><a id="_idTextAnchor024"/>Installing SvelteKit</h1>
<p>To begin, open <a id="_idIndexMarker004"/>your terminal or command-line interface and navigate to a directory where you are comfortable starting a new project. From there, we’ll run three simple commands. The first will create a new SvelteKit project with various prompts to initialize the application, the second will install dependencies, and the third will start our development server:</p>
<pre class="console">
npm create svelte@latest
npm install
npm run dev</pre>
<p>When running the first command, you’ll be presented with several prompts. The first of these will ask you to install <code>create@svelte</code> to which your response should be <code>y</code> for yes. When prompted to select a directory to install the project in, leave the option blank to use the current directory (or specify the directory if you’d prefer to). You’ll then be asked which template to use. We’ll be working primarily with the option <strong class="bold">Skeleton project</strong> but feel free to come back and give the <strong class="bold">SvelteKit demo app</strong> a try in another directory at your convenience.</p>
<p>The next prompt pertains<a id="_idIndexMarker005"/> to <strong class="bold">TypeScript</strong> (<strong class="bold">TS</strong>) usage, for which SvelteKit has excellent support. However, to keep the focus of this book on SvelteKit itself and to appeal to developers that may not yet be familiar with TS, we will be using plain JavaScript. As such, to properly follow along with this text, you should select <strong class="bold">No</strong>. If you feel comfortable enough with TS, then by all means, select <strong class="bold">Yes</strong>. Be sure to select <strong class="bold">Yes</strong> for ESLint and Prettier support as they will very likely save you headaches and further improve your development experience. It is also recommended to include supported testing packages, but this book will not be covering testing strategies.</p>
<p>After installing the project dependencies with <code>npm install</code>, we run <code>npm run dev</code>, which starts our development server. The output from the command should look similar to that shown in <em class="italic">Figure 1</em><em class="italic">.1</em>.</p>
<div><div><img alt="Figure 1.1 – Showing the output from the Vite development server" src="img/Figure_1.01_B19024.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – Showing the output from the Vite development server</p>
<p>Notice<a id="_idIndexMarker006"/> how quickly Vite starts our development server. Even though this is a bare-bones application, other bundling tools would have taken multiple seconds whereas Vite was ready in under one second. As shown in the output displayed in the terminal, the site can be viewed by navigating to <code>http://localhost:5173/</code> in your browser. If you would like to access the site from a device other than your development machine, for instance, on a mobile device, then you may append <code>–-host</code> to the appropriate <code>npm</code> script found in the <code>package.json</code> project file. Under the <code>scripts</code> entry, the new command would look like <code>"dev": "vite </code><code>dev –-host"</code>.</p>
<p>We’ve just covered the installation process for SvelteKit. At this point, it should be trivial for you to install your own SvelteKit-based project. We’ve covered how the various prompts from the <code>create@svelte</code> package allow you to customize the project to your liking. Now, let’s take a look at how a typical SvelteKit project is structured.</p>
<h1 id="_idParaDest-25"><a id="_idTextAnchor025"/>SvelteKit’s Project Structure</h1>
<p>Once <a id="_idIndexMarker007"/>you have installed a new SvelteKit project, open the project <a id="_idIndexMarker008"/>directory in your preferred editor. Within that folder, you’ll notice files that are commonly found in the root project folder of JavaScript applications such as <code>package.json</code>, <code>.gitignore</code>, and <code>README.md</code>, as well as configuration files pertaining to SvelteKit (<code>svelte.config.js</code>) and Vite (<code>vite.config.js</code>). You’ll also notice three subfolders: <code>static/</code>, <code>tests/</code>, and <code>src/</code>. Let’s look at them in detail in the following sections.</p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor026"/>static/</h2>
<p>This<a id="_idIndexMarker009"/> folder is where you may place static assets such as <code>robots.txt</code> (your guidelines for search engine site crawlers), static images such as favicons, or even a global CSS style sheet. These files should be able to be served “as is.” Files located in this folder will be available to your application logic as if they existed in the root folder of your project, that is, <code>/robots.txt</code>. You can also access them by prefixing the file path with <code>%sveltekit.assets%</code>. Note that if files here are changed, you may need to manually refresh the page to see changes. In some cases, you may even need to restart your development server as Vite has strong opinions about caching. You should not attempt to access files included in this directory programmatically. Rather, the paths should be “hardcoded” wherever the assets here are included.</p>
<h2 id="_idParaDest-27"><a id="_idTextAnchor027"/>tests/</h2>
<p>Logically, tests<a id="_idIndexMarker010"/> from the Playwright package (included in the various prompts we said <em class="italic">yes</em> to) are located here. To run the Playwright browser test, use the npm script <code>npm run test</code>. Unit tests from Vitest will be included alongside your source code. For example, if you included a file called <code>utilities.js</code>, unit tests for it would live alongside it as <code>utilities.test.js</code>. Vitest is a package from the developers of Vite that enables simple testing for Vite-based applications. <strong class="bold">Test-Driven Development</strong> (<strong class="bold">TDD</strong>) is an excellent practice to follow to ensure code performs as it is expected to. However, it is beyond the scope of this book.</p>
<h2 id="_idParaDest-28"><a id="_idTextAnchor028"/>src/</h2>
<p>You will <a id="_idIndexMarker011"/>be spending most of your time working in this folder as this is where the core logic for a SvelteKit application lives. There are a few files and directories that should be taken note of at this time:</p>
<ul>
<li><code>routes/</code></li>
<li><code>lib/</code></li>
<li><code>app.html</code></li>
</ul>
<h3>routes/</h3>
<p>The first <a id="_idIndexMarker012"/>subfolder to take note of is <code>src/routes/</code>. This directory will contain most files necessary for managing SvelteKit’s file-based routing mechanism. Its sibling folder <code>src/params/</code> will be covered later on, but for now, assume most logic related to managing the routes of your application is located here. As a brief example, if you’d like to add a static “about” page, then you would do so by creating <code>src/routes/about/+page.svelte</code> containing the appropriate markup and text.</p>
<h3>lib/</h3>
<p>Svelte<a id="_idIndexMarker013"/> components and various other utilities can be placed in the <code>src/lib/</code> subfolder. This folder may not be present in the skeleton project template so you’ll have to add it on your own. It will be shown in the SvelteKit demo app. By placing your components here, you can easily reference them in <code>import</code> statements later on as the <code>$lib/</code> alias will be available throughout the application.</p>
<h3>app.html</h3>
<p>There are <a id="_idIndexMarker014"/>more files to cover that we will address later on, but for now, the final mention is <code>app.html</code>. This file serves as the base for the rest of your application to build off of. When opened, you’ll notice it contains references to <code>%sveltekit.head%</code>, which SvelteKit uses for injecting various script and link tags, and <code>%sveltekit.body%</code>, which is used for injecting the markup generated for the application.</p>
<p>To recap, the <code>static/</code> directory contains files that don’t frequently change, <code>tests/</code> contains tests from the Playwright package, and <code>src/</code> contains the source code of your project. Most Svelte components and other utilities you create can be placed at <code>src/lib/</code> so as to be easily accessed via the <code>$lib/</code> alias in <code>import</code> statements. If you’d like to add a new route to your application URL, you can do so by creating a <code>+page.svelte</code> file inside a directory with the corresponding name at <code>src/routes/</code>. And finally, your application will need a base to build off. That’s where <code>app.html</code> comes in. I’m sure you’re eager to finally build something, so let’s do it.</p>
<h1 id="_idParaDest-29"><a id="_idTextAnchor029"/>Hello World Application</h1>
<p>Now that we <a id="_idIndexMarker015"/>know a bit about what we’re looking at in a freshly initialized SvelteKit project, it seems appropriate to build a “Hello, World!” application. We’ll begin by opening <code>src/routes/+page.svelte</code> in our editor. At this point, it should only contain basic HTML code:</p>
<pre class="source-code">
&lt;h1&gt;Welcome to SvelteKit&lt;/h1&gt;
&lt;p&gt;Visit &lt;a href="https://kit.svelte.dev"&gt;kit.svelte.dev&lt;/a&gt; to read the documentation&lt;/p&gt;</pre>
<p>Since this file lives directly inside the <code>src/routes/</code> directory and not a sub-directory, it is available in the browser as the URL's root route (i.e., <code>/</code>). If we were to create a new folder within the routes directory (i.e., <code>src/routes/hello/</code>) and place another <code>+page.svelte</code> file inside of that (i.e., <code>src/routes/hello/+page.svelte</code>), then we would make the <code>/hello</code> route available as a valid URL for our app. We’ll cover more advanced routing techniques in later chapters, but for now, just know that to add a new route, you’ll need to create a folder using the desired route name in the <code>routes</code> directory as well as a <code>+</code><code>page.svelte</code> file.</p>
<p class="callout-heading">Svelte Components</p>
<p class="callout">Readers familiar with Svelte will have noticed that the <code>+page.svelte</code> file extension is that of a Svelte component. That’s because <em class="italic">it is</em> a Svelte component! As such, we can adjust the HTML in it, customize the look with CSS in <code>&lt;style&gt;</code> tags, write JS inside of <code>&lt;script&gt;</code> tags, and import other Svelte components. If you’re unfamiliar with Svelte components, it’s recommended to learn at least the basics before continuing further. Check out <em class="italic">Svelte 3 Up and Running</em> by <em class="italic">Allessandro Segala</em> or visit the official Svelte website (<a href="https://svelte.dev">https://svelte.dev</a>) for more information.</p>
<p>Let’s make some changes to <code>src/routes/+page.svelte</code> to see what’s happening. Change the inner text of the <code>&lt;h1&gt;</code> tag to read <code>Hello, World!</code>, like so:</p>
<pre class="source-code">
&lt;h1&gt;Hello, World!&lt;/h1&gt;</pre>
<p>Thanks to Vite, the page in our browser is updated immediately after saving. If your setup has dual monitors available with code shown on one and your browser on the other, you’ll quickly see how<a id="_idIndexMarker016"/> valuable <strong class="bold">Hot Module Replacement</strong> (<strong class="bold">HMR</strong>) can be. The change we’ve made is all well and good, but it isn’t really a “Hello, World!” application if users can’t change the text. For a true “Hello, World!” example, we need to show some text that has been<a id="_idIndexMarker017"/> provided by the user. The following code is an implementation showing just that:</p>
<pre class="source-code">
&lt;script&gt;
  let name = 'World';
&lt;/script&gt;
&lt;form&gt;
  &lt;label for="name" &gt;What is your name?&lt;/label&gt;
  &lt;input type="text" name="name" id="name" bind:value={name} /&gt;
&lt;/form&gt;
&lt;h1&gt;Hello, {name}!&lt;/h1&gt;</pre>
<p>This simple Svelte component creates a variable named <code>name</code> with the default value of “<code>World</code>.” From there, the HTML gives us a basic form binding the text input value to our variable and outputting the text inside an HTML <code>&lt;h1&gt;</code> tag. Thanks to Svelte’s reactivity and the binding of the text input value to the <code>name</code> variable, the text provided is shown immediately, even as it is typed.</p>
<div><div><img alt="Figure 1.2 – The output from our “Hello, World!” component" src="img/Figure_1.02_B19024.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – The output from our “Hello, World!” component</p>
<h1 id="_idParaDest-30"><a id="_idTextAnchor030"/>Summary</h1>
<p>In this chapter, we discussed some of the prerequisite knowledge and tools needed for getting started with SvelteKit. You likely already had a computer running a capable operating system with a browser installed. You may even have had the latest LTS version of Node.js installed with the <code>npm</code> package manager. We also briefly touched on getting your editor prepared by installing Svelte-specific extensions.</p>
<p>We continued by covering the installation process of SvelteKit. The prompts provided during the installation make setting up a new SvelteKit project simple and easily customized to a developer’s liking.</p>
<p>After the project installation, we took a high-level look at SvelteKit’s project structure. While the <code>tests/</code> and <code>static/</code> directories are fairly straightforward, some nuances lie within the <code>src/</code> folder. For instance, keeping various Svelte components and other utilities in the <code>src/lib/</code> folder can help keep a project from becoming difficult to navigate. Components located there are also easily accessed across application code via the <code>$</code><code>lib/</code> alias.</p>
<p>We also created a rudimentary “Hello, World!” application. It showcased how simple SvelteKit makes it to start building an application from scratch.</p>
<p>In the next chapter, we’ll go over some of the various configuration options you may need to tweak in both SvelteKit and Vite to customize them to suit your needs.</p>
<h1 id="_idParaDest-31"><a id="_idTextAnchor031"/>Resources</h1>
<ul>
<li>Node.js: <a href="https://nodejs.org">https://nodejs.org</a></li>
<li>NVM: <a href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></li>
<li>SvelteKit: <a href="https://kit.svelte.dev">https://kit.svelte.dev</a></li>
<li>VS Code: <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
</ul>
</div>
</body></html>