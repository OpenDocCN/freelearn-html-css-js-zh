<html><head></head><body>
<div class="calibre1" id="_idContainer004">
<h1 class="chapternumber"><span class="kobospan" id="kobo.1.1">1</span></h1>
<h1 class="chaptertitle" id="_idParaDest-5"><span class="kobospan" id="kobo.2.1">Getting Ready</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.3.1">Node.js is a </span><a id="_idIndexMarker000" class="calibre3"/><span class="kobospan" id="kobo.4.1">server-side JavaScript runtime that has become one of the most popular platforms for creating web applications. </span><span class="kobospan" id="kobo.4.2">Node.js benefits from a vast library of packages and frameworks, providing every kind of feature and function imaginable, built on a rich API that Node.js provides for handling low-level tasks.</span></p>
<p class="normal"><span class="kobospan" id="kobo.5.1">This book is different from most other Node.js books because it explains the relationship between the Node.js API and popular web application packages. </span><span class="kobospan" id="kobo.5.2">Each chapter explains how a core feature required for web development can be implemented using the Node.js API, before replacing the custom implementation with a popular and well-tested open-source package.</span></p>
<p class="normal"><span class="kobospan" id="kobo.6.1">Understanding the Node.js API gives you a solid understanding of how web application features really work, and using popular packages lets you build those features without having to write custom code. </span><span class="kobospan" id="kobo.6.2">When problems arise, as they will in any project, your knowledge of the Node.js API will give you a solid foundation to demystify the way that specific packages work and to figure out what’s going wrong.</span></p>
<p class="normal"><span class="kobospan" id="kobo.7.1">The first part of this book provides an overview of the tools used in Node.js development and provides a primer for the most important language and platform features, including how concurrency is implemented by JavaScript, and how this relates to handling HTTP requests using Node.js. </span></p>
<p class="normal"><span class="kobospan" id="kobo.8.1">The second part of this book focuses on the key building blocks for web applications: generating HTML content, processing forms, using databases, and authenticating users.</span></p>
<p class="normal"><span class="kobospan" id="kobo.9.1">The third and final part of this book demonstrates how the features described in earlier chapters can be combined to create a simple but realistic web store application. </span></p>
<p class="normal"><span class="kobospan" id="kobo.10.1">This is the SportsStore example that I have used in many of my books, and which includes common features such as a product catalog, a shopping cart, a checkout process, and administration features.</span></p>
<h1 class="heading" id="_idParaDest-6"><span class="kobospan" id="kobo.11.1">What do you need to know?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.12.1">To follow the examples in this book, you should be familiar with HTML and CSS and understand the basics of JavaScript development. </span><span class="kobospan" id="kobo.12.2">I provide a primer for the JavaScript features that are useful for this book, but this isn’t a complete language tutorial.</span></p>
<h1 class="heading" id="_idParaDest-7"><span class="kobospan" id="kobo.13.1">How do you set up your development environment?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.14.1">The tools </span><a id="_idIndexMarker001" class="calibre3"/><span class="kobospan" id="kobo.15.1">needed for Node.js development are set up in </span><em class="italic"><span class="kobospan" id="kobo.16.1">Chapter 2</span></em><span class="kobospan" id="kobo.17.1">. </span><span class="kobospan" id="kobo.17.2">Later chapters require additional tools and packages, with full instructions provided for each.</span></p>
<h1 class="heading" id="_idParaDest-8"><span class="kobospan" id="kobo.18.1">Are there lots of examples?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.19.1">There are </span><em class="italic"><span class="kobospan" id="kobo.20.1">loads</span></em><span class="kobospan" id="kobo.21.1"> of examples. </span><span class="kobospan" id="kobo.21.2">The best way to learn is by example, and I have packed as many of them into this book as I can. </span><span class="kobospan" id="kobo.21.3">To maximize the number of examples in this book, I have adopted a simple convention to avoid listing the same code or content repeatedly. </span><span class="kobospan" id="kobo.21.4">When I create a file, I will show its full contents, just as I have in </span><em class="italic"><span class="kobospan" id="kobo.22.1">Listing 1.1</span></em><span class="kobospan" id="kobo.23.1">. </span><span class="kobospan" id="kobo.23.2">I include the name of the file and its folder in the listing’s header, and I show the changes that I have made in bold.</span></p>
<p class="packt_figref"><span class="kobospan" id="kobo.24.1">Listing 1.1: Asserting an unknown value in the index.ts file in the primer folder</span></p>
<pre class="programlisting"><code class="hljs-code"><span class="kobospan" id="kobo.25.1">function getUKCapital() : string {
    return "London";
}
function writeCity(f: () =&gt; string)  {
    console.log(`City: ${f()}`)
}
writeCity(getUKCapital);
writeCity(() =&gt; "Paris");
</span><strong class="screentext"><span class="kobospan" id="kobo.26.1">let myCity = "Rome";</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.27.1">writeCity(() =&gt; myCity);</span></strong>
</code></pre>
<p class="normal"><span class="kobospan" id="kobo.28.1">This is a listing from </span><em class="italic"><span class="kobospan" id="kobo.29.1">Chapter 3</span></em><span class="kobospan" id="kobo.30.1">, which shows the contents of a file called </span><code class="inlinecode"><span class="kobospan" id="kobo.31.1">index.ts</span></code><span class="kobospan" id="kobo.32.1"> that can be found in the </span><code class="inlinecode"><span class="kobospan" id="kobo.33.1">primer</span></code><span class="kobospan" id="kobo.34.1"> folder. </span><span class="kobospan" id="kobo.34.2">Don’t worry about the content of the listing or the purpose of the file; just be aware that this type of listing contains the complete contents of a file and that the changes you need to make to follow the example are shown in bold.</span></p>
<p class="normal"><span class="kobospan" id="kobo.35.1">Some code files become long, and the feature I will describe will require only a small change. </span><span class="kobospan" id="kobo.35.2">Rather than list the complete file, I use an ellipsis (three periods in succession) to indicate a partial listing, which shows just a portion of the file, as shown in </span><em class="italic"><span class="kobospan" id="kobo.36.1">Listing 1.2</span></em><span class="kobospan" id="kobo.37.1">.</span></p>
<p class="packt_figref"><span class="kobospan" id="kobo.38.1">Listing 1.2. </span><span class="kobospan" id="kobo.38.2">Including user input in the sql_repository.Ts file in the src/server/data folder</span></p>
<pre class="programlisting"><code class="hljs-code"><span class="kobospan" id="kobo.39.1">...
</span><span class="kobospan" id="kobo.39.2">getResultsByName($name: string, $limit: number): Promise&lt;Result[]&gt; {
    </span><strong class="screentext"><span class="kobospan" id="kobo.40.1">return this.executeQuery</span></strong><strong class="screentext"><span class="kobospan" id="kobo.41.1">(`</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.42.1">SELECT Results.*, name, age, years, nextage FROM Results</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.43.1">        INNER JOIN People ON personId = People.id</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.44.1">INNER JOIN Calculations ON calculationId = Calculations.id</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.45.1">WHERE name = "${$name}"`, {});</span></strong><span class="kobospan" id="kobo.46.1">
}
...
</span></code></pre>
<p class="normal"><span class="kobospan" id="kobo.47.1">This is a listing from </span><em class="italic"><span class="kobospan" id="kobo.48.1">Chapter 12</span></em><span class="kobospan" id="kobo.49.1">, and it shows a set of changes applied to one part of a larger file. </span><span class="kobospan" id="kobo.49.2">When you see a partial listing, you will know that the rest of the file does not have to change and that only the sections marked in bold are different.</span></p>
<p class="normal"><span class="kobospan" id="kobo.50.1">In some cases, changes are required in different parts of a file, which makes it difficult to show as a partial listing. </span><span class="kobospan" id="kobo.50.2">In this situation, I omit part of the file’s contents, as shown in </span><em class="italic"><span class="kobospan" id="kobo.51.1">Listing 1.3</span></em><span class="kobospan" id="kobo.52.1">.</span></p>
<p class="packt_figref"><span class="kobospan" id="kobo.53.1">Listing 1.3. </span><span class="kobospan" id="kobo.53.2">Defining model relationships in the orm_helpers.ts file in the src/server/data folder</span></p>
<pre class="programlisting"><code class="hljs-code"><span class="kobospan" id="kobo.54.1">import { DataTypes, Sequelize } from "sequelize";
import { Calculation, Person, ResultModel } from "./orm_models";
const primaryKey = {
    id: {
        type: DataTypes.INTEGER,
        autoIncrement: true,
        primaryKey: true
    }       
};
export const initializeModels = (sequelize: Sequelize) =&gt; {
    // ...statements omitted for brevity...
</span><span class="kobospan" id="kobo.54.2">}
</span><strong class="screentext"><span class="kobospan" id="kobo.55.1">export const defineRelationships = () =&gt; {</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.56.1">ResultModel.belongsTo(Person, { foreignKey: "personId" });</span></strong>
<strong class="screentext"> </strong><strong class="screentext"><span class="kobospan" id="kobo.57.1">ResultModel.belongsTo(Calculation, { foreignKey: "calculationId"});</span></strong>
<strong class="screentext"><span class="kobospan" id="kobo.58.1">}</span></strong>
</code></pre>
<p class="normal"><span class="kobospan" id="kobo.59.1">In this listing, the changes are still marked in bold, and the parts of the file that are omitted from the listing are not affected by this example.</span></p>
<h1 class="heading" id="_idParaDest-9"><span class="kobospan" id="kobo.60.1">Where can you get the example code?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.61.1">You can </span><a id="_idIndexMarker002" class="calibre3"/><span class="kobospan" id="kobo.62.1">download the example projects for all the chapters in this book from </span><a href="https://github.com/PacktPublishing/Mastering-Node.js-Web-Development" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.63.1">https://github.com/PacktPublishing/Mastering-Node.js-Web-Development</span></span></a><span class="kobospan" id="kobo.64.1">. </span><span class="kobospan" id="kobo.64.2">We also have other code bundles from our rich catalog of books and videos available at </span><a href="https://github.com/PacktPublishing/" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.65.1">https://github.com/PacktPublishing/</span></span></a><span class="kobospan" id="kobo.66.1">. </span><span class="kobospan" id="kobo.66.2">Check them out!</span></p>
<h1 class="heading" id="_idParaDest-10"><span class="kobospan" id="kobo.67.1">What if you have problems following the examples?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.68.1">The first thing to do is to go back to the start of the chapter and start over. </span><span class="kobospan" id="kobo.68.2">Most problems are caused by skipping a step or not fully applying the changes shown in a listing. </span><span class="kobospan" id="kobo.68.3">Pay close attention to the bold emphasis in code listings, which highlights the changes that are required.</span></p>
<p class="normal"><span class="kobospan" id="kobo.69.1">Then, check the errata/corrections list, which is included in the book’s GitHub repository. </span><span class="kobospan" id="kobo.69.2">Technical books are complex, and mistakes are inevitable, despite my best efforts and those of my editors. </span><span class="kobospan" id="kobo.69.3">Check the errata list for the list of known errors and instructions to resolve them.</span></p>
<p class="normal"><span class="kobospan" id="kobo.70.1">If you still have problems, then download the project for the chapter you are reading from the book’s GitHub repository (</span><a href="https://github.com/PacktPublishing/Mastering-Node.js-Web-Development" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.71.1">https://github.com/PacktPublishing/Mastering-Node.js-Web-Development</span></span></a><span class="kobospan" id="kobo.72.1">) and compare it to your project. </span><span class="kobospan" id="kobo.72.2">I created the code for the GitHub repository by working through each chapter, so you should have the same files with the same contents in your project.</span></p>
<p class="normal"><span class="kobospan" id="kobo.73.1">If you still can’t get the examples working, then you can contact me at </span><a href="mailto:adam@adam-freeman.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.74.1">adam@adam-freeman.com</span></span></a><span class="kobospan" id="kobo.75.1"> for help. </span><span class="kobospan" id="kobo.75.2">Please make it clear in your email which book you are reading, and which chapter/example is causing the problem. </span><span class="kobospan" id="kobo.75.3">A page number or code listing is always helpful. </span><span class="kobospan" id="kobo.75.4">Please remember that I get a lot of emails and that I may not respond immediately.</span></p>
<h1 class="heading" id="_idParaDest-11"><span class="kobospan" id="kobo.76.1">What if you find an error in the book?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.77.1">You can report errors to me by email at </span><a href="mailto:adam@adam-freeman.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.78.1">adam@adam-freeman.com</span></span></a><span class="kobospan" id="kobo.79.1"> or visit </span><a href="http://www.packtpub.com/submit-errata" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.80.1">http://www.packtpub.com/submit-errata</span></span></a><span class="kobospan" id="kobo.81.1">, click </span><strong class="screentext"><span class="kobospan" id="kobo.82.1">Submit Errata</span></strong><span class="kobospan" id="kobo.83.1">, and fill in the form, although I ask that you first check the errata/corrections list for this book, which you can find in the book’s GitHub repository at </span><a href="https://github.com/PacktPublishing/Mastering-Node.js-Web-Development" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.84.1">https://github.com/PacktPublishing/Mastering-Node.js-Web-Development</span></span></a><span class="kobospan" id="kobo.85.1">, just in case it has already been reported.</span></p>
<p class="normal"><span class="kobospan" id="kobo.86.1">I add errors that are likely to confuse readers, especially problems with example code, to the errata/corrections file on the GitHub repository, with a grateful acknowledgment to the first reader who reported it. </span><span class="kobospan" id="kobo.86.2">I also publish a list of less serious issues, which usually means errors in the text surrounding the code that are less likely to confuse.</span></p>
<h1 class="heading" id="_idParaDest-12"><span class="kobospan" id="kobo.87.1">How do you contact the author?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.88.1">You can email me at </span><a href="mailto:adam@adam-freeman.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.89.1">adam@adam-freeman.com</span></span></a><span class="kobospan" id="kobo.90.1">. </span><span class="kobospan" id="kobo.90.2">It has been a few years since I started publishing an email address in my books. </span><span class="kobospan" id="kobo.90.3">I wasn’t entirely sure that it was a good idea, but I am glad that I did it. </span><span class="kobospan" id="kobo.90.4">I have received emails from around the world, from readers working or studying in every industry, and – for the most part, anyway – the emails are positive, polite, and a pleasure to receive.</span></p>
<p class="normal"><span class="kobospan" id="kobo.91.1">I try to reply promptly, but I get many emails, and sometimes I get a backlog, especially when I have my head down trying to finish writing a book. </span><span class="kobospan" id="kobo.91.2">I always try to help readers who are stuck with an example in the book, although I ask that you follow the steps described earlier in this chapter before contacting me.</span></p>
<p class="normal"><span class="kobospan" id="kobo.92.1">While I welcome reader emails, there are some common questions for which the answers will always be “no.” </span><span class="kobospan" id="kobo.92.2">I am afraid that I won’t write the code for your new start-up, help you with your college assignment, get involved in your development team’s design dispute, or teach you how to program.</span></p>
<h1 class="heading" id="_idParaDest-13"><span class="kobospan" id="kobo.93.1">What if you really enjoyed this book?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.94.1">Please email at </span><a href="mailto:adam@adam-freeman.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.95.1">adam@adam-freeman.com</span></span></a><span class="kobospan" id="kobo.96.1"> and let me know. </span><span class="kobospan" id="kobo.96.2">It is always a delight to hear from a happy reader, and I appreciate the time it takes to send those emails. </span><span class="kobospan" id="kobo.96.3">Writing these books can be difficult, and those emails provide essential motivation to persist in an activity that can sometimes feel impossible. </span><span class="kobospan" id="kobo.96.4">Alternatively, you can also send feedback to </span><a href="mailto:feedback@packtpub.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.97.1">feedback@packtpub.com</span></span></a><span class="kobospan" id="kobo.98.1">.</span></p>
<div class="calibre5"/><h1 class="heading" id="_idParaDest-14"><span class="kobospan" id="kobo.99.1">What if this book has made you angry?</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.100.1">You can still email at </span><a href="mailto:adam@adam-freeman.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.101.1">adam@adam-freeman.com</span></span></a><span class="kobospan" id="kobo.102.1">, and I will still try to help you. </span><span class="kobospan" id="kobo.102.2">Bear in mind that I can help only if you explain what the problem is and what you would like me to do about it. </span><span class="kobospan" id="kobo.102.3">You should understand that, sometimes, the only outcome is to accept I am not the writer for you and that we will have closure only when you return this book and select another. </span><span class="kobospan" id="kobo.102.4">I’ll give careful thought to whatever has upset you, but after 25 years of writing books, I have come to accept that not everyone enjoys reading the books I like to write. </span><span class="kobospan" id="kobo.102.5">Alternatively, you can also send feedback to </span><a href="mailto:feedback@packtpub.com" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.103.1">feedback@packtpub.com</span></span></a><span class="kobospan" id="kobo.104.1">.</span></p>
<p class="normal"><span class="kobospan" id="kobo.105.1">Now that you understand the structure of the book, the next chapter explores the tools used for Node.js development.</span></p>
</div>
<div class="calibre1" id="_idContainer006">
<p class="eop"/>
<h1 class="heading" id="_idParaDest-15"><span class="kobospan" id="kobo.106.1">Download a free PDF copy of this book</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.107.1">Thanks for purchasing this book!</span></p>
<p class="normal"><span class="kobospan" id="kobo.108.1">Do you like to read on the go but are unable to carry your print books everywhere?</span></p>
<p class="normal"><span class="kobospan" id="kobo.109.1">Is your eBook purchase not compatible with the device of your choice?</span></p>
<p class="normal"><span class="kobospan" id="kobo.110.1">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</span></p>
<p class="normal"><span class="kobospan" id="kobo.111.1">Read anywhere, any place, on any device. </span><span class="kobospan" id="kobo.111.2">Search, copy, and paste code from your favorite technical books directly into your application.</span></p>
<p class="normal"><span class="kobospan" id="kobo.112.1">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily.</span></p>
<p class="normal"><span class="kobospan" id="kobo.113.1">Follow these simple steps to get the benefits:</span></p>
<ol class="calibre6">
<li class="bulletlist1" value="1"><span class="kobospan" id="kobo.114.1">Scan the QR code or visit the link below:</span></li>
</ol>
<figure class="mediaobject"><span class="kobospan" id="kobo.115.1"><img alt="" src="../Images/B21959_Free_PDF_QR.png" class="calibre7"/></span></figure>
<p class="packt_figref"><a href="https://packt.link/free-ebook/9781804615072" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.116.1">https://packt.link/free-ebook/9781804615072</span></span></a></p>
<ol class="calibre6">
<li class="bulletlist1" value="2"><span class="kobospan" id="kobo.117.1">Submit your proof of purchase.</span></li>
<li class="bulletlist1"><span class="kobospan" id="kobo.118.1">That’s it! </span><span class="kobospan" id="kobo.118.2">We’ll send your free PDF and other benefits to your email directly.</span></li>
</ol>
</div>
<div class="calibre1" id="_idContainer007">
<p class="eop"/>
<h1 class="heading" id="_idParaDest-16"><span class="kobospan" id="kobo.119.1">Share your thoughts</span></h1>
<p class="normal1"><span class="kobospan" id="kobo.120.1">Once you’ve read </span><em class="italic"><span class="kobospan" id="kobo.121.1">Mastering Node.js Web Development, </span></em><span class="kobospan" id="kobo.122.1">we’d love to hear your thoughts! </span><span class="kobospan" id="kobo.122.2">Please </span><a href="https://www.packtpub.com/" class="calibre3"><span class="calibre3"><span class="kobospan" id="kobo.123.1">click here to go straight to the Amazon review page</span></span></a><span class="kobospan" id="kobo.124.1"> for this book and share your feedback.</span></p>
<p class="normal"><span class="kobospan" id="kobo.125.1">Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</span></p>
</div>
</body></html>