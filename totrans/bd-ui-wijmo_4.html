<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Working with Images"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Working with Images</h1></div></div></div><p>This chapter introduces the widgets for working with images: the <span class="strong"><strong>carousel</strong></span>, <span class="strong"><strong>gallery</strong></span>, and <span class="strong"><strong>lightbox</strong></span>. The carousel is a simpler form of the gallery widget, without thumbnails by default. Both of them are used to display a list of images on the page. The carousel is intended to show multiple images at once. The lightbox works differently in that it shows a selected image in full size and opens in a dialog on top of the page contents.</p><div class="section" title="Using the carousel widget"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec20"/>Using the carousel widget</h1></div></div></div><p>The carousel <a id="id136" class="indexterm"/>widget displays a list of images. The images by default are aligned horizontally with previous and next buttons to scroll through them. Captions can be displayed at the bottom of each of the images. In the sections that follow, I'll show you how to create, configure, and use the carousel widget.</p><div class="section" title="Creating the carousel widget"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec12"/>Creating the carousel widget</h2></div></div></div><p>To set<a id="id137" class="indexterm"/> up the carousel widget, the width and height of the container element needs to be the same as the image sizes. For instance, if your images are 300 x 200, then the width and height needs to be set in the CSS as follows:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
  ...
  &lt;script id="scriptInit" type="text/javascript"&gt;
    $(document).ready(function () {
      $("#wijcarousel").wijcarousel({
        orientation: "horizontal",
        display: 1
      });
    });
  &lt;/script&gt;
  &lt;style type="text/css"&gt;
    #wijcarousel
    {
      width: 300px;
      height: 200px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="wijcarousel"&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;img alt="1" src="http://lorempixum.com/300/200/nature/1" title="Word1"/&gt;&lt;span&gt;Word Caption 1&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;img alt="2" src="http://lorempixum.com/300/200/nature/2" title="Word2" /&gt;&lt;span&gt;Word Caption 2&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;img alt="3" src="http://lorempixum.com/300/200/nature/3" title="Word3"/&gt;&lt;span&gt;Word Caption 3&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;img alt="4" src="http://lorempixum.com/300/200/nature/4" title="Word4"/&gt;&lt;span&gt;Word Caption 4&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;img alt="5" src="http://lorempixum.com/300/200/nature/5" title="Word5"/&gt;&lt;span&gt;Word Caption 5&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;img alt="6" src="http://lorempixum.com/300/200/nature/6" title="Word6" /&gt;&lt;span&gt;Word Caption 6&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>With these<a id="id138" class="indexterm"/> settings, one image is displayed at a time with next and previous buttons on the sides of the image, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6067OT_4_02.jpg" alt="Creating the carousel widget"/></div><p>All<a id="id139" class="indexterm"/> of the images used in the example are the same size. This allows us to set the container dimensions without cropping or resizing the images.</p></div><div class="section" title="Configuring the carousel widget"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec13"/>Configuring the carousel widget</h2></div></div></div><p>The carousel <a id="id140" class="indexterm"/>widget supports a number of settings that let you control the features available in the user interface as well as its display. The most useful ones are shown as follows:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Setting</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">display</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This setting specifies the number of images shown</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">step</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This setting specifies the number of images scrolled by a transition</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">orientation</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This setting specifies whether to scroll the images horizontally or vertically</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">showTimer</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This setting allows the images in carousel to be played with a timer displaying the progress and a play/pause button</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">loop</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This setting allows cycling to continue through the images so that the last image returns to the first one</p>
</td></tr></tbody></table></div><p>The following diagram shows the different parts of the carousel widget:</p><div class="mediaobject"><img src="graphics/6067OT_4_01.jpg" alt="Configuring the carousel widget"/></div></div><div class="section" title="Using the display options to show multiple images"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec14"/>Using the display options to show multiple images</h2></div></div></div><p>To <a id="id141" class="indexterm"/>show multiple images<a id="id142" class="indexterm"/> with the carousel widget, we increase the width of the <code class="literal">wijcarousel</code> element proportional to the number of images to <a id="id143" class="indexterm"/>show. Since each image is 300 pixels wide, to show two images at a time, we would set the display option to <code class="literal">2</code> and the width of the element to 600 pixels. As another example, to show three images at a time, we set the display options and CSS as shown in the code listing:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
  ...
  &lt;script id="scriptInit" type="text/javascript"&gt;
    $(document).ready(function () {
      $("#wijcarousel").wijcarousel({
        orientation: "horizontal",
        display: 3,
        step: 2
      });
    });
  &lt;/script&gt;
&lt;style type="text/css"&gt;
  #wijcarousel
  {
    width: 900px;
    height: 200px;
  }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="wijcarousel"&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;img alt="1" src="http://lorempixum.com/300/200/nature/1" title="Word1" /&gt;&lt;span&gt;Word Caption 1&lt;/span&gt;&lt;/li&gt;
      &lt;li&gt;
      &lt;img alt="2" src="http://lorempixum.com/300/200/nature/2" title="Word2" /&gt;&lt;span&gt;Word Caption 2&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;
      &lt;img alt="3" src="http://lorempixum.com/300/200/nature/3" title="Word3" /&gt;&lt;span&gt;Word Caption 3&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;
      &lt;img alt="4" src="http://lorempixum.com/300/200/nature/4" title="Word4" /&gt;&lt;span&gt;Word Caption 4&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;
      &lt;img alt="5" src="http://lorempixum.com/300/200/nature/5" title="Word5" /&gt;&lt;span&gt;Word Caption 5&lt;/span&gt;&lt;/li&gt;
    &lt;li&gt;
      &lt;img alt="6" src="http://lorempixum.com/300/200/nature/6" title="Word6" /&gt;&lt;span&gt;Word Caption 6&lt;/span&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>As <a id="id144" class="indexterm"/>you can see in the<a id="id145" class="indexterm"/> following screenshot, setting the width to 900 pixels allows enough room for the next and previous buttons so that they do not overlap with the images.</p><div class="mediaobject"><img src="graphics/6067OT_4_03.jpg" alt="Using the display options to show multiple images"/></div><p>We <a id="id146" class="indexterm"/>also set the <code class="literal">step</code> property in<a id="id147" class="indexterm"/> the options to <code class="literal">2</code> so that hitting the next button slides the current images to the left so that two of them disappear. Wijmo plays a nice animation while sliding the third image into the position of the first image. To try out various animation<a id="id148" class="indexterm"/> and options, head to <a class="ulink" href="http://wijmo.com/demo/ explore/?widget=Carousel&amp;sample=Animation">http://wijmo.com/demo/explore/?widget=Carousel&amp;sample=Animation</a>.</p></div><div class="section" title="Specifying the navigation options"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec15"/>Specifying the navigation options</h2></div></div></div><p>In addition<a id="id149" class="indexterm"/> to the next and previous<a id="id150" class="indexterm"/> buttons, a pager can be added to navigate to a specific image. The pager comes in many forms, specified by the <code class="literal">pagerType</code> option. The available<a id="id151" class="indexterm"/> options are numbers, dots, thumbnails, and a slider. If you want to use thumbnails, I recommend switching to the gallery widget as it comes with thumbnails by default. The gallery widget is covered in the next section. The position settings for a pager, as well as other elements, have fields that position elements relative to each other.</p><p>For a visual display of the position options, refer to the section <span class="emphasis"><em>Positioning the Tooltip</em></span> in the next chapter. In this example, we place the pager's center top at the bottom of the carousel with the <code class="literal">my</code> option<a id="id152" class="indexterm"/> and move it left by 10 pixels with the offset:</p><div class="informalexample"><pre class="programlisting">pagerPosition: {
  my: "center top",
  at: "center bottom",
  offset: "-10 0"
}</pre></div><p>Another handy option to make the carousel look cleaner is to display buttons on the outside instead of overlapping them with the image.</p><p>Putting it all together, we initialize the carousel widget with the pager as follows:</p><div class="informalexample"><pre class="programlisting">$("#wijcarousel").wijcarousel({
  orientation: "horizontal",
  display: 1,
  showPager: true,
  pagerPosition: {
    my: "center top",
    at: "center bottom",
    offset: "-10 0"
  },
  pagerType: "dots",
  buttonPosition: "outside"
});</pre></div><p>To center<a id="id153" class="indexterm"/> align the carousel, a common<a id="id154" class="indexterm"/> pattern is to set the width and let the margins be automatically adjusted:</p><div class="informalexample"><pre class="programlisting">#wijcarousel
{
  display: block;
  margin: 0 auto;
  width: 304px;
  height: 200px;
}</pre></div><p>The end result is a user friendly, clean interface as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6067OT_4_04.jpg" alt="Specifying the navigation options"/></div></div><div class="section" title="Adding the timer and autoplay"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec16"/>Adding the timer and autoplay</h2></div></div></div><p>To let the images play like a slideshow, we only need to set the <code class="literal">auto</code> option to <code class="literal">true</code>. Along with<a id="id155" class="indexterm"/> the <a id="id156" class="indexterm"/>
<code class="literal">loop</code> option, the images can play continuously. If <a id="id157" class="indexterm"/>you have many images to show, you <a id="id158" class="indexterm"/>will <a id="id159" class="indexterm"/>want to reduce the interval or <a id="id160" class="indexterm"/>duration when each is shown. Furthermore, the <code class="literal">timer</code> option<a id="id161" class="indexterm"/> allows the user to pause the slideshow. The timer in progress looks like the one shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6067OT_4_05.jpg" alt="Adding the timer and autoplay"/></div><p>An example <a id="id162" class="indexterm"/>setting <a id="id163" class="indexterm"/>to play each image for three seconds before moving onto the next one is listed as follows:</p><div class="informalexample"><pre class="programlisting">$("#wijcarousel").wijcarousel({
  orientation: "vertical",
  interval: 3000,
  loop: true,
  auto: true,
  showTimer: true,
  display: 1
});</pre></div></div></div></div>
<div class="section" title="Using the gallery widget"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec21"/>Using the gallery widget</h1></div></div></div><p>As mentioned<a id="id164" class="indexterm"/> in the section on the carousel widget, the gallery widget displays navigable thumbnails by default. Selecting a thumbnail shows a larger version of the image above it.</p><div class="section" title="Creating the gallery widget"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec17"/>Creating the gallery widget</h2></div></div></div><p>As you might <a id="id165" class="indexterm"/>expect by now, the Wijmo gallery widget is created<a id="id166" class="indexterm"/> with the <code class="literal">wijgallery</code> method:</p><div class="informalexample"><pre class="programlisting">$("#wijgallery").wijgallery({
  thumbsDisplay: 3
});</pre></div><p>This gallery is created with as much reuse of the carousel example as possible. For the gallery, we only limit the width on the container as it needs space to display the thumbnails:</p><div class="informalexample"><pre class="programlisting">#wijgallery {
  width: 300px;
}</pre></div><p>We set the number of thumbnails to 3 due to the horizontal area below our images. Wijmo automatically crops the images for the thumbnails. Our gallery widget now looks like the one shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6067OT_4_06.jpg" alt="Creating the gallery widget"/></div><p>In the example, we used the same HTML list format as for the carousel. Nevertheless, the Wijmo documentation recommends another format:</p><div class="informalexample"><pre class="programlisting">&lt;div id="wijgallery"&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/1"&gt;
    &lt;img alt="1" src="http://lorempixum.com/100/100/nature/1" title="Word Caption 1"/&gt;
    &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/2"&gt;
    &lt;img alt="2" src="http://lorempixum.com/100/100/nature/2" title="Word Caption 2"/&gt;
    &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/3"&gt;
    &lt;img alt="3" src="http://lorempixum.com/100/100/nature/3" title="Word Caption 3"/&gt;
    &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/4"&gt;
    &lt;img alt="4" src="http://lorempixum.com/100/100/nature/4" title="Word Caption 4"/&gt;
    &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/5"&gt;
    &lt;img alt="5" src="http://lorempixum.com/100/100/nature/5" title="Word Caption 5"/&gt;
    &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="http://lorempixum.com/300/200/nature/6"&gt;
    &lt;img alt="6" src="http://lorempixum.com/100/100/nature/6" title="Word Caption 6"/&gt;
    &lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre></div><p>Although<a id="id167" class="indexterm"/> more verbose, this format allows us to specify the thumbnail images. Now each 300 x 200 image is accompanied by a 100 x 100 thumbnail. The gallery widget automatically resizes images to fit the display area. If you want to resize the images in your gallery widget without changing the aspect ratio, refer to a blog post by one of the developers at <a class="ulink" href="http://wijmo.com/maintaining-aspect-ratio-in-wijgallery/">http://wijmo.com/maintaining-aspect-ratio-in-wijgallery/</a>.</p></div><div class="section" title="Playing videos in the gallery widget"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec18"/>Playing videos in the gallery widget</h2></div></div></div><p>To play videos<a id="id168" class="indexterm"/> within the gallery widget, you just need to<a id="id169" class="indexterm"/> specify a thumbnail of the video and a link to it. An example markup with three videos is:</p><div class="informalexample"><pre class="programlisting">&lt;div id="wijgallery"&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a       href="http://www.youtube.com/v/0ZNSVMaPIUQ?version=3&amp;amp;hl=en_US"&gt;
    &lt;img width="120" height="90"
      src="http://i.ytimg.com/vi/0ZNSVMaPIUQ/0.jpg"&gt;&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a       href="http://www.youtube.com/v/4B22QGJoxZQ?version=3&amp;amp;hl=en_US"&gt;
      &lt;img width="120" height="90"
        src="http://i.ytimg.com/vi/4B22QGJoxZQ/0.jpg"&gt;&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a       href="http://www.youtube.com/v/bpPMAyAxO4Q?version=3&amp;amp;hl=en_US"&gt;
      &lt;img width="120" height="90"
        src="http://i.ytimg.com/vi/bpPMAyAxO4Q/0.jpg"&gt;&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre></div><p>The thumbnails<a id="id170" class="indexterm"/> will display at the bottom of the gallery. To <a id="id171" class="indexterm"/>prevent Wijmo from cropping the thumbnails, we can set the <code class="literal">thumbsLength</code> option<a id="id172" class="indexterm"/> to the width of the image. Moreover, the <code class="literal">thumbsDisplay</code> option, which determines the number <a id="id173" class="indexterm"/>of thumbnails shown, needs to be adjusted. The mode can be set to <code class="literal">swf</code> for flash or <code class="literal">iframe</code> for other video types. Since we did not specify a<a id="id174" class="indexterm"/> caption for the video, we set the <code class="literal">showCaption</code> option to <code class="literal">false</code>:</p><div class="informalexample"><pre class="programlisting">$("#wijgallery").wijgallery({
  thumbsDisplay: 4, 
  thumbsLength: 100, 
  mode: "swf", 
  showCaption: false 
});</pre></div><p>In this example, the thumbnails are assumed to be 100 pixels wide. An additional library is required to play flash videos. The <code class="literal">swfobject.js</code> library must be loaded before the <code class="literal">wijgallery</code> method<a id="id175" class="indexterm"/> is called. A Wijmo gallery configured to play YouTube videos is shown as follows:</p><div class="mediaobject"><img src="graphics/6067OT_4_10.jpg" alt="Playing videos in the gallery widget"/></div></div></div>
<div class="section" title="Using the lightbox widget"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec22"/>Using the lightbox widget</h1></div></div></div><p>The lightbox<a id="id176" class="indexterm"/> widget is a tool to give focus to images. It displays the current image on top of other page contents in a modal dialog. The Wijmo lightbox widget shares many common features with the carousel and gallery widgets, including the navigation buttons, timer, and caption area. The lightbox comes with default settings that show the control buttons on hover along with an image count. In addition, it also adds a close button to the top right corner.</p><div class="section" title="Creating the lightbox widget"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec19"/>Creating the lightbox widget</h2></div></div></div><p>Unlike the gallery<a id="id177" class="indexterm"/> and carousel widgets, the lightbox requires options to be specified in the <code class="literal">rel</code> attribute<a id="id178" class="indexterm"/> of the <code class="literal">anchor</code> element.<a id="id179" class="indexterm"/> The following example shows the required elements and a script that creates the lightbox:</p><div class="informalexample"><pre class="programlisting">&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
...
  &lt;script id="scriptInit" type="text/javascript"&gt;
    $(document).ready(function () {
      $("#lightbox").wijlightbox();
    });
  &lt;/script&gt;
  &lt;style type="text/css"&gt;
    #lightbox {
      width: 600;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="lightbox" class=""&gt;
  &lt;a href="http://lorempixum.com/600/400/nature/1" rel="wijlightbox[stock];player=img"&gt;
  &lt;imgsrc="http://lorempixum.com/150/125/nature/1" title="nature 1"/&gt;&lt;/a&gt;
  &lt;a href="http://lorempixum.com/600/400/nature/2" rel="wijlightbox[stock];player=img"&gt;
  &lt;imgsrc="http://lorempixum.com/150/125/nature/2" title="nature 2"/&gt;&lt;/a&gt;
  &lt;a href="http://lorempixum.com/600/400/nature/3" rel="wijlightbox[stock];player=img"&gt;
  &lt;imgsrc="http://lorempixum.com/150/125/nature/3" title="nature 3"/&gt;&lt;/a&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></div><p>The lightbox<a id="id180" class="indexterm"/> widget requires an <code class="literal">img</code> element inside an anchor<a id="id181" class="indexterm"/> element. Also, the <code class="literal">img</code> element needs to have a title, which is displayed as a caption. As you're familiar now, we set the <code class="literal">width</code> attribute<a id="id182" class="indexterm"/> of the lightbox to be the width of the image. When you call the <code class="literal">wijlightbox</code> method<a id="id183" class="indexterm"/> with no settings and click on one of the images, you get an image frame on top of the page contents as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/6067OT_4_08.jpg" alt="Creating the lightbox widget"/></div></div><div class="section" title="Changing the lightbox widget's appearance"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec20"/>Changing the lightbox widget's appearance</h2></div></div></div><p>The lightbox<a id="id184" class="indexterm"/> by default shows navigation and close buttons when hovering over it; and play/pause buttons for slideshows are also available. To show these buttons, use the <code class="literal">ctrlButtons</code> option. You may also want to display <a id="id185" class="indexterm"/>the lightbox with a <code class="literal">modal</code> view by setting the <code class="literal">modal</code> option to <code class="literal">true</code>. To avoid having the navigation controls overlap with the images, set the <code class="literal">controlsPosition</code> property<a id="id186" class="indexterm"/> to <code class="literal">outside</code>:</p><div class="informalexample"><pre class="programlisting">$("#lightbox").wijlightbox({
  modal: true,
  controlsPosition: 'outside',
  ctrlButtons: 'play|stop'
});</pre></div><p>The result is shown as follows:</p><div class="mediaobject"><img src="graphics/6067OT_4_09.jpg" alt="Changing the lightbox widget's appearance"/></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec23"/>Summary</h1></div></div></div><p>In this chapter, we learned about the carousel widget, which is used for displaying multiple images, and how to configure it with display and navigation options. This chapter also introduced the animation and timer options available for the carousel. Next, we learned about the gallery widget and using it to play videos. Finally, this chapter concluded with a section on the lightbox widget.</p></div></body></html>