<html><head></head><body><div><p>&#13;
    <h1 class="chapterNumber">10</h1>&#13;
    <h1 id="_idParaDest-286" class="chapterTitle">Dynamic Element Manipulation Using the DOM</h1>&#13;
    <p class="normal">Learning the difficult concepts of the previous chapter will be rewarded in this chapter. We will take our DOM knowledge one step further and learn how to manipulate the DOM elements on the page with JavaScript. First, we need to learn how to navigate the DOM and select the elements we want. We will learn how we can add and change attributes and values, and how to add new elements to the DOM.</p>&#13;
    <p class="normal">You will also learn how to add style to elements, which can be used to make items appear and disappear. Then we will introduce you to events and event listeners. We will start easy, but by the end of this chapter you will be able to manipulate web pages in many ways, and you will have the knowledge to create basic web apps. The sky is the limit after getting this skill down.</p>&#13;
    <p class="normal">Along the way, we will cover the following topics:</p>&#13;
    <ul>&#13;
      <li class="bullet">Basic DOM traversing</li>&#13;
      <li class="bullet">Accessing elements in the DOM</li>&#13;
      <li class="bullet">Element click handler</li>&#13;
      <li class="bullet">This and the DOM</li>&#13;
      <li class="bullet">Manipulating element style</li>&#13;
      <li class="bullet">Changing the classes of an element</li>&#13;
      <li class="bullet">Manipulating attributes</li>&#13;
      <li class="bullet">Event listeners on elements</li>&#13;
      <li class="bullet">Creating new elements</li>&#13;
    </ul>&#13;
    <div>&#13;
      <p class="Information-Box--PACKT-">Note: exercise, project and self-check quiz answers can be found in the <em class="italic">Appendix</em>.</p>&#13;
    </p>&#13;
    <p class="normal">We have learned a lot about the DOM already. In order to interact with our web page and create a dynamic web page, we have to connect our JavaScript skills to the DOM.</p>&#13;
    <h1 id="_idParaDest-287" class="title">Basic DOM traversing</h1>&#13;
    <p class="normal">We can traverse the DOM using the <code class="Code-In-Text--PACKT-">document</code> object that we saw in the previous chapter. This document <a id="_idIndexMarker498"/>object contains all the HTML and is a representation of the web page. Traversing over these elements can get you to the element you need in order to manipulate it.</p>&#13;
    <p class="normal">This is not the most common way to do it, but this will help understand how it works later. And sometimes, you might actually find yourself needing these techniques as well. Just don't panic: there are other ways to do it, and they will be revealed in this chapter!</p>&#13;
    <p class="normal">Even for a simple HTML piece there are already multiple ways to traverse the DOM. Let's go hunting for treasure in our DOM. We start with this little HTML snippet:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;h1&gt;Let's find the treasure&lt;/h1&gt;&#13;
    &lt;div id="forest"&gt;&#13;
      &lt;div id="tree1"&gt;&#13;
        &lt;div id="squirrel"&gt;&lt;/div&gt;&#13;
        &lt;div id="flower"&gt;&lt;/div&gt;&#13;
      &lt;/div&gt;&#13;
      &lt;div id="tree2"&gt;&#13;
        &lt;div id="shrubbery"&gt;&#13;
          &lt;div id="treasure"&gt;&lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
        &lt;div id="mushroom"&gt;&#13;
          &lt;div id="bug"&gt;&lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
      &lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">We now want to traverse the DOM of this snippet to find the treasure. We can do this by stepping into the document object and navigating our way from there onwards. It is easiest to do this exercise in the console in the browser, because that way you'll get direct feedback about where in the DOM you are.</p>&#13;
    <p class="normal">We can start by using the <code class="Code-In-Text--PACKT-">body</code> property from the document. This contains everything that's inside the <code class="Code-In-Text--PACKT-">body</code> element. In the console, we'll type:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">console.dir(document.body);&#13;
</code></pre>&#13;
    <p class="normal">We should get a really long object. There are a few ways from this object to get to our treasure. To do so, let's discuss the children and <code class="Code-In-Text--PACKT-">childNodes</code> property.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-"><code class="Code-In-Text--PACKT-">childNodes</code> is more a complete term than children. Children just contain all the HTML elements, so are really the nodes. <code class="Code-In-Text--PACKT-">childNodes</code> also contain text nodes and comments. With children, however, you can use the ID, and therefore they are easier to use.</p>&#13;
    </p>&#13;
    <p class="normal">To get to the treasure using children you would have to use:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">console.dir(document.body.children.forest.children.tree2.children.shrubbery.children.treasure);&#13;
</code></pre>&#13;
    <p class="normal">As you can see, on every element we select, we have to select the children again. So, first, we grab <a id="_idIndexMarker499"/>the children from the body, then we select <code class="Code-In-Text--PACKT-">forest</code> from these children. Then from <code class="Code-In-Text--PACKT-">forest</code>, we want to grab its children again, and from these children we want to select <code class="Code-In-Text--PACKT-">tree2</code>. From <code class="Code-In-Text--PACKT-">tree2</code> we want to grab the children again, from these children we need <code class="Code-In-Text--PACKT-">shrubbery</code>. And then finally, we can grab the children from <code class="Code-In-Text--PACKT-">shrubbery</code> and select <code class="Code-In-Text--PACKT-">treasure</code>.</p>&#13;
    <p class="normal">To get to the treasure using <code class="Code-In-Text--PACKT-">childNodes</code> you would have to use your console a lot because text and comment nodes are also in there. <code class="Code-In-Text--PACKT-">childNodes</code> is an array, so you will have to select the right index to select the right child. There is one advantage here: it is a lot shorter because you won't need to select the name separately.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">console.dir(document.body.childNodes[3].childNodes[3].childNodes[1].childNodes[1]);&#13;
</code></pre>&#13;
    <p class="normal">You could also combine them:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">console.dir(document.body.childNodes[3].childNodes[3].childNodes[1].children.treasure);&#13;
</code></pre>&#13;
    <p class="normal">There are many ways to traverse the document. Depending on what you need, you might have to use one specific way. For tasks that require DOM traversing, it is usually the case that if it is works, it is a good solution.</p>&#13;
    <p class="normal">So far, we have seen how we can move down the DOM, but we can also move up. Every element knows its parent. We can use the <code class="Code-In-Text--PACKT-">parentElement</code> property to move back up. For example, if we use the treasure HTML sample and type this into the console:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.forest.children.tree2.parentElement;&#13;
</code></pre>&#13;
    <p class="normal">We are back at <code class="Code-In-Text--PACKT-">forest</code>, since that is the parent element of <code class="Code-In-Text--PACKT-">tree2</code>. This can be very useful, in particular when combined with functions such as <code class="Code-In-Text--PACKT-">getElementById()</code>, which we will see later in more detail.</p>&#13;
    <p class="normal">Not only can <a id="_idIndexMarker500"/>we move up and down, we can also move sideways. For example, if we select <code class="Code-In-Text--PACKT-">tree2</code> like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.forest.children.tree2;&#13;
</code></pre>&#13;
    <p class="normal">We can get to <code class="Code-In-Text--PACKT-">tree1</code> using:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.forest.children.tree2.previousElementSibling;&#13;
</code></pre>&#13;
    <p class="normal">And from <code class="Code-In-Text--PACKT-">tree1</code> we can get to <code class="Code-In-Text--PACKT-">tree2</code> using:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.forest.children.tree1.nextElementSibling;&#13;
</code></pre>&#13;
    <p class="normal">As an alternative to <code class="Code-In-Text--PACKT-">nextElementSibling</code>, which returns the next node that is an element, you could use <code class="Code-In-Text--PACKT-">nextSibling</code>, which will return the next node of any type.</p>&#13;
    <h2 id="_idParaDest-288" class="title">Practice exercise 10.1</h2>&#13;
    <p class="normal">In this exercise, experiment <a id="_idIndexMarker501"/>with traversing the DOM hierarchy. You can use this sample HTML website:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!doctype html&gt;&#13;
&lt;html&gt;&lt;head&gt;&lt;title&gt;Sample Webpage&lt;/title&gt;&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div class="main"&gt;&#13;
        &lt;div&gt;&#13;
            &lt;ul &gt;&#13;
                &lt;li&gt;One&lt;/li&gt;&#13;
                &lt;li&gt;Two&lt;/li&gt;&#13;
                &lt;li&gt;Three&lt;/li&gt;&#13;
            &lt;/ul&gt;&#13;
        &lt;/div&gt;&#13;
        &lt;div&gt;blue&lt;/div&gt;&#13;
        &lt;div&gt;green&lt;/div&gt;&#13;
        &lt;div&gt;yellow&lt;/div&gt;&#13;
        &lt;div&gt;Purple&lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered">Create and <a id="_idIndexMarker502"/>open the above sample web page, or visit your favorite website, and open the document body in the console with <code class="Code-In-Text--PACKT-">console.dir(document)</code>. </li>&#13;
      <li class="numbered">In the <code class="Code-In-Text--PACKT-">body.children</code> property, select some of the child elements. View how they match the page content.</li>&#13;
      <li class="numbered">Navigate to and output the next nodes or elements into the console.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-289" class="title">Selecting elements as objects</h2>&#13;
    <p class="normal">Now we know how to traverse the DOM, we can make changes to the elements. Instead <a id="_idIndexMarker503"/>of using <code class="Code-In-Text--PACKT-">console.dir()</code>, we can just type in the path to the element we want to change. We now have the element as a JavaScript object, and we can make changes to all its properties. Let's use a simpler HTML page for this one.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;h1&gt;Welcome page&lt;/h1&gt;&#13;
    &lt;p id="greeting"&gt;&#13;
      Hi!&#13;
    &lt;/p&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">We can traverse to the <code class="Code-In-Text--PACKT-">p</code> element, for example, by using this code:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.greeting;&#13;
</code></pre>&#13;
    <p class="normal">This gives us the power to manipulate the properties of the element, and the element itself, directly! Let's execute this newly gained power in the next section.</p>&#13;
    <h3 id="_idParaDest-290" class="title">Changing innerText</h3>&#13;
    <p class="normal">The <code class="Code-In-Text--PACKT-">innerText</code> property <a id="_idIndexMarker504"/>focuses on the text between the opening and closing of the element, like so:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;element&gt;here&lt;/element&gt;&#13;
</code></pre>&#13;
    <p class="normal">The retrieved value would be <code class="Code-In-Text--PACKT-">here</code> as plain text. For example, if we go to the console and we type:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.greeting.innerText = "Bye!";&#13;
</code></pre>&#13;
    <p class="normal">The message that is displayed on the page changes from <code class="Code-In-Text--PACKT-">Hi!</code> to <code class="Code-In-Text--PACKT-">Bye!</code> immediately. <code class="Code-In-Text--PACKT-">innerText</code> returns the content of the element as plain text, which is not a problem in this case because there is only text in there. However, if there is any HTML inside the element <a id="_idIndexMarker505"/>you need to select, or if you want to add HTML, you cannot use this method. It will interpret the HTML as text and just output it on the screen. So if we executed this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.greeting.innerText = "&lt;p&gt;Bye!&lt;/p&gt;";&#13;
</code></pre>&#13;
    <p class="normal">It will output to the screen <code class="Code-In-Text--PACKT-">&lt;p&gt;Bye!&lt;/p&gt;</code>, with the HTML around it, as if it was intended as a text string. To get around this, you need to use <code class="Code-In-Text--PACKT-">innerHTML</code>.</p>&#13;
    <h3 id="_idParaDest-291" class="title">Changing innerHTML</h3>&#13;
    <p class="normal">If you did not only want to work with plain text, or perhaps specify some HTML formatting <a id="_idIndexMarker506"/>with your value, you could use the <code class="Code-In-Text--PACKT-">innerHTML</code> property instead. This property doesn't just process be plain text, it can also be inner HTML elements:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.body.children.greeting.innerHTML = "&lt;b&gt;Bye!&lt;/b&gt;";&#13;
</code></pre>&#13;
    <p class="normal">This will display <strong class="screenText">Bye!</strong> in bold on the screen, having taken the <code class="Code-In-Text--PACKT-">b</code> element into account rather than just printing it as if it were a single string value.</p>&#13;
    <p class="normal">You were already promised that you could access elements in a more convenient way than traversing the DOM. Let's see how exactly in the next section.</p>&#13;
    <h1 id="_idParaDest-292" class="title">Accessing elements in the DOM</h1>&#13;
    <p class="normal">There are multiple methods to select elements from the DOM. After getting the elements, we are <a id="_idIndexMarker507"/>able to modify them. In the following sections, we will discuss how to get elements by their ID, tag name, and class name, and by CSS selector. </p>&#13;
    <p class="normal">Instead of traversing it step by step as we just did, we are going to use built-in methods that can go through the DOM and return the elements that match the specifications.</p>&#13;
    <p class="normal">We are going to use the following HTML snippet as an example:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;h1&gt;Just an example&lt;/h1&gt;&#13;
    &lt;div id="one" class="example"&gt;Hi!&lt;/div&gt;&#13;
    &lt;div id="two" class="example"&gt;Hi!&lt;/div&gt;&#13;
    &lt;div id="three" class="something"&gt;Hi!&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Let's <a id="_idIndexMarker508"/>start by accessing elements by ID.</p>&#13;
    <h2 id="_idParaDest-293" class="title">Accessing elements by ID</h2>&#13;
    <p class="normal">We can grab elements by ID with the <code class="Code-In-Text--PACKT-">getElementById()</code> method. This returns one element <a id="_idIndexMarker509"/>with the specified ID. IDs should be unique, as only one result will be returned from the HTML document. There are not a lot of rules for valid IDs; they cannot contain spaces and must be at least one character. As with the conventions for naming variables, it is a best practice to make it descriptive and avoid special characters.</p>&#13;
    <p class="normal">If we want to select the element with an ID of <code class="Code-In-Text--PACKT-">two</code> right away, we could use:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementById("two");&#13;
</code></pre>&#13;
    <p class="normal">This would return the full HTML element:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="two" class="example"&gt;Hi!&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">To reiterate, if you have more than one element with the same ID, it will just give you back the first one it encounters. You should avoid this situation in your code though.</p>&#13;
    <p class="normal">This is what the full file looks like with the JavaScript inside the HTML page, instead of simply querying the browser console:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;h1 style="color:pink;"&gt;Just an example&lt;/h1&gt;&#13;
    &lt;div id="one" class="example"&gt;Hi!&lt;/div&gt;&#13;
    &lt;div id="two" class="example"&gt;Hi!&lt;/div&gt;&#13;
    &lt;div id="three" class="something"&gt;Hi!&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
  &lt;script&gt;&#13;
    console.log(document.getElementById("two"));&#13;
  &lt;/script&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">In this <a id="_idIndexMarker510"/>case, it would log the full HTML <code class="Code-In-Text--PACKT-">div</code> with <code class="Code-In-Text--PACKT-">id="two"</code> to the console.</p>&#13;
    <h3 id="_idParaDest-294" class="title">Practice exercise 10.2</h3>&#13;
    <p class="normal">Try experimenting with getting elements by their IDs:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create an HTML element and assign an ID in the element attribute.</li>&#13;
      <li class="numbered">Select the page element using its ID.</li>&#13;
      <li class="numbered">Output the selected page element into the console.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-295" class="title">Accessing elements by tag name</h2>&#13;
    <p class="normal">If we ask for elements by tag name, we get an array as a result. This is because there could be <a id="_idIndexMarker511"/>more than one element with the same tag name. It will be a collection of HTML elements, or <code class="Code-In-Text--PACKT-">HTMLCollection</code>, which is a special JavaScript object. It's basically just a list of nodes. Execute the following command in the console:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementsByTagName("div");&#13;
</code></pre>&#13;
    <p class="normal">It will give back:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">HTMLCollection(3) [div#one.example, div#two.example, div#three.something, one: div#one.example, two: div#two.example, three: div#three.something]&#13;
</code></pre>&#13;
    <p class="normal">As you can see, all the elements in the DOM with the <code class="Code-In-Text--PACKT-">div</code> tag are returned. You can read what the ID is and what the class is from the syntax. The first ones in the collection are the objects: <code class="Code-In-Text--PACKT-">div</code> is the name, <code class="Code-In-Text--PACKT-">#</code> specifies the ID, and <code class="Code-In-Text--PACKT-">.</code> specifies the class. If there are multiple dots, there are multiple classes. Then you can see the elements again (<code class="Code-In-Text--PACKT-">namedItems</code>), this time as key-value pairs with their ID as the key.</p>&#13;
    <p class="normal">We can access them using the <code class="Code-In-Text--PACKT-">item()</code> method to access them by index, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementsByTagName("div").item(1);&#13;
</code></pre>&#13;
    <p class="normal">This will return:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="two" class="example"&gt;Hi!&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">We can also access them by name, using the <code class="Code-In-Text--PACKT-">namedItem()</code> method, like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementsByTagName("div").namedItem("one");&#13;
</code></pre>&#13;
    <p class="normal">And this will return:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="one" class="example"&gt;Hi!&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">When there <a id="_idIndexMarker512"/>is only one match, it will still return an <code class="Code-In-Text--PACKT-">HTMLCollection</code>. There is only one <code class="Code-In-Text--PACKT-">h1</code> tag, so let's demonstrate this behavior: </p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementsByTagName("h1");&#13;
</code></pre>&#13;
    <p class="normal">This will output:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">HTMLCollection [h1]&#13;
</code></pre>&#13;
    <p class="normal">Since <code class="Code-In-Text--PACKT-">h1</code> doesn't have an ID or class, it is only <code class="Code-In-Text--PACKT-">h1</code>. And since it doesn't have an ID, it is not a <code class="Code-In-Text--PACKT-">namedItem</code> and is only in there once.</p>&#13;
    <h3 id="_idParaDest-296" class="title">Practice exercise 10.3</h3>&#13;
    <p class="normal">Use JavaScript to select page elements via their tag name:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Start by creating a simple HTML file.</li>&#13;
      <li class="numbered">Create three HTML elements using the same tag. </li>&#13;
      <li class="numbered">Add some content within each element so you can distinguish between them</li>&#13;
      <li class="numbered">Add a script element to your HTML file, and within it select the page elements by tag name and store them in a variable as an array</li>&#13;
      <li class="numbered">Using the index value, select the middle element and output it into the console.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-297" class="title">Accessing elements by class name</h2>&#13;
    <p class="normal">We can do something very similar for class names. In our example HTML, we have two different <a id="_idIndexMarker513"/>class names: <code class="Code-In-Text--PACKT-">example</code> and <code class="Code-In-Text--PACKT-">something</code>. If you get elements by class name, it gives back an HTMLCollection containing the results. The following will get all the elements with the class <code class="Code-In-Text--PACKT-">example</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementsByClassName("example");&#13;
</code></pre>&#13;
    <p class="normal">This returns:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">HTMLCollection(2) [div#one.example, div#two.example, one: div#one.example, two: div#two.example]&#13;
</code></pre>&#13;
    <p class="normal">As you <a id="_idIndexMarker514"/>can see, it only returned the <code class="Code-In-Text--PACKT-">div</code> tags with the <code class="Code-In-Text--PACKT-">example</code> class. It left out the <code class="Code-In-Text--PACKT-">div</code> with the <code class="Code-In-Text--PACKT-">something</code> class.</p>&#13;
    <h3 id="_idParaDest-298" class="title">Practice exercise 10.4</h3>&#13;
    <p class="normal">Select all matching page elements using the class name of the element.</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a simple HTML file to work on.</li>&#13;
      <li class="numbered">Add three HTML elements adding the same class to each. You can use different tags as long as the same element class is included. Add some content within each element so you can distinguish between them.</li>&#13;
      <li class="numbered">Add a script element to your file, and within it select the page elements by class name. Assign the resulting <code class="Code-In-Text--PACKT-">HTMLCollection</code> values to a variable.</li>&#13;
      <li class="numbered">You can use an index value to select the individual <code class="Code-In-Text--PACKT-">HTMLCollection</code> items, just as you would for array items. Starting with an index of 0, select one of the page elements with the class name and output the element into the console.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-299" class="title">Accessing elements with a CSS selector</h2>&#13;
    <p class="normal">We can also access elements using a CSS selector. We do this with <code class="Code-In-Text--PACKT-">querySelector()</code> and <code class="Code-In-Text--PACKT-">querySelectorAll()</code>. We then give the CSS selector as an argument, and this will filter the items in the HTML document and only return the ones that satisfy the CSS selector.</p>&#13;
    <p class="normal">The CSS selector <a id="_idIndexMarker515"/>might look a bit different <a id="_idIndexMarker516"/>than you might think at first. Instead of looking for a certain layout, we use the same syntax as we use when we want to specify a layout for certain elements. We haven't discussed this yet, so we will cover it here briefly.</p>&#13;
    <p class="normal">If we state <code class="Code-In-Text--PACKT-">p</code> as a CSS selector, it means all the elements with tag <code class="Code-In-Text--PACKT-">p</code>. This would look like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.querySelectorAll("p");&#13;
</code></pre>&#13;
    <p class="normal">If we say <code class="Code-In-Text--PACKT-">p.example</code>, it means all the <code class="Code-In-Text--PACKT-">p</code> tag elements with <code class="Code-In-Text--PACKT-">example</code> as the class. They can also have other classes; as long as <code class="Code-In-Text--PACKT-">example</code> is in there, it will match. We can also say <code class="Code-In-Text--PACKT-">#one</code>, which means select all with an ID of <code class="Code-In-Text--PACKT-">one</code>.</p>&#13;
    <p class="normal">This method is the same result as <code class="Code-In-Text--PACKT-">getElementById()</code>. Which one to use is a matter of taste when all you really need to do is select by ID—this is great input for a discussion with another <a id="_idIndexMarker517"/>developer. <code class="Code-In-Text--PACKT-">querySelector()</code> allows <a id="_idIndexMarker518"/>for more complicated queries, and some developers will state that <code class="Code-In-Text--PACKT-">getElementById()</code> is more readable. Others will claim that you might as well use <code class="Code-In-Text--PACKT-">querySelector()</code> everywhere for consistency. It doesn't really matter at this point, but try to be consistent.</p>&#13;
    <p class="normal">Don't worry too much about all these options for now; there are many, and you'll figure them out when you need them. This is how you can use the CSS selectors in JavaScript.</p>&#13;
    <h3 id="_idParaDest-300" class="title">Using querySelector()</h3>&#13;
    <p class="normal">This first option will select the first element that matches the query. So, enter the following <a id="_idIndexMarker519"/>in the console, still using the HTML snippet introduced at the start of the section:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.querySelector("div");&#13;
</code></pre>&#13;
    <p class="normal">It should return:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="one" class="example"&gt;Hi!&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">It only returns the first <code class="Code-In-Text--PACKT-">div</code>, because that's the first one it encounters. We could also ask for an element with the class .<code class="Code-In-Text--PACKT-">something</code>. If you recall, we select classes using dot notation like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.querySelector(".something");&#13;
</code></pre>&#13;
    <p class="normal">This returns:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="three" class="something"&gt;Hi!&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">With this method, you can only use valid CSS selectors: elements, classes, and IDs.</p>&#13;
    <h4 class="title">Practice exercise 10.5</h4>&#13;
    <p class="normal">Use <code class="Code-In-Text--PACKT-">querySelector()</code> to enable single element selection:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create another simple HTML file.</li>&#13;
      <li class="numbered">Create four HTML elements adding the same class to each. They can be different tag names as long as they have the class within the element attribute.</li>&#13;
      <li class="numbered">Add some content within each element so you can distinguish between them.</li>&#13;
      <li class="numbered">Within a script element, use <code class="Code-In-Text--PACKT-">querySelector()</code> to select the first occurrence of the elements with that class and store it in a variable. If there is more than one matching result in <code class="Code-In-Text--PACKT-">querySelector()</code>, it will return the first one.</li>&#13;
      <li class="numbered">Output the element into the console.</li>&#13;
    </ol>&#13;
    <h3 id="_idParaDest-301" class="title">Using querySelectorAll()</h3>&#13;
    <p class="normal">Sometimes it is not enough to return only the first instance, but you want to select all <a id="_idIndexMarker520"/>the elements that match the query. For example when you need to get all the input boxes and empty them. This can be done with <code class="Code-In-Text--PACKT-">querySelectorAll()</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.querySelectorAll("div");&#13;
</code></pre>&#13;
    <p class="normal">This returns:</p>&#13;
    <pre class="programlisting con"><code class="hljs-con">NodeList(3) [div#one.example, div#two.example, div#three.something]&#13;
</code></pre>&#13;
    <p class="normal">As you can see, it is of object type <code class="Code-In-Text--PACKT-">NodeList</code>. It contains all the nodes that match the CSS selector. With the <code class="Code-In-Text--PACKT-">item()</code> method we can get them by index, just as we did for the <code class="Code-In-Text--PACKT-">HTMLCollection</code>.</p>&#13;
    <h4 class="title">Practice exercise 10.6</h4>&#13;
    <p class="normal">Use <code class="Code-In-Text--PACKT-">querySelectorAll()</code> to select all matching elements in an HTML file:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create an HTML file and add four HTML elements, adding the same class to each one.</li>&#13;
      <li class="numbered">Add some content within each element so you can distinguish between them.</li>&#13;
      <li class="numbered">Within a script element, use <code class="Code-In-Text--PACKT-">QuerySelectorAll()</code> to select all the matching occurrences of the elements with that class and store them in a variable.</li>&#13;
      <li class="numbered">Output all the elements into the console, first as an array and then looping through them to output them one by one.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-302" class="title">Element click handler</h1>&#13;
    <p class="normal">HTML elements <a id="_idIndexMarker521"/>can do something when they are clicked. This is because a JavaScript function can be connected to an HTML element. Here is one snippet in which the JavaScript function associated with the element is specified in the HTML:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;div id="one" onclick="alert('Ouch! Stop it!')"&gt;Don't click here!&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Whenever the text in the <code class="Code-In-Text--PACKT-">div</code> gets clicked, a pop up with the text <code class="Code-In-Text--PACKT-">Ouch! Stop it!</code> opens. Here, the <a id="_idIndexMarker522"/>JavaScript is specified directly after <code class="Code-In-Text--PACKT-">onclick</code>, but if there is JavaScript on the page, you can also refer to a function that's in that JavaScript like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function stop(){&#13;
        alert("Ouch! Stop it!");&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;div id="one" onclick="stop()"&gt;Don't click here!&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">This code is doing the exact same thing. As you can imagine, with bigger functions this would be a better practice. The HTML can also refer to scripts that get loaded into the page.</p>&#13;
    <p class="normal">There is also a way to add a click handler using JavaScript. We select the HTML element we want to add the click handler to, and we specify the onclick property.</p>&#13;
    <p class="normal">Here is a HTML snippet:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;div id="one"&gt;Don't click here!&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">This code is at the moment not doing anything if you click it. If we want to dynamically add a click handler to the <code class="Code-In-Text--PACKT-">div</code> element, we can select it and specify the property via the console:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementById("one").onclick = function () {alert("Auch! Stop!"); &#13;
}&#13;
</code></pre>&#13;
    <p class="normal">As it's been <a id="_idIndexMarker523"/>added in the console, this functionality will be gone when you refresh the page.</p>&#13;
    <h1 id="_idParaDest-303" class="title">This and the DOM</h1>&#13;
    <p class="normal">The <code class="Code-In-Text--PACKT-">this</code> keyword always <a id="_idIndexMarker524"/>has a relative meaning; it depends on the exact context it is in. In the DOM, the special <code class="Code-In-Text--PACKT-">this</code> keyword refers to the element of the DOM it belongs to. If we specify an <code class="Code-In-Text--PACKT-">onclick</code> to send <code class="Code-In-Text--PACKT-">this</code> in as an argument, it will send in the element the <code class="Code-In-Text--PACKT-">onclick</code> is in.</p>&#13;
    <pre>script</code> tag:</pre>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function reveal(el){&#13;
        console.log(el);&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;button onclick="reveal(this)"&gt;Click here!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">And this is what it will log:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;button onclick="reveal(this)"&gt;Click here!&lt;/button&gt;&#13;
</code></pre>&#13;
    <p class="normal">As you can see, it is logging the element it is in, the <code class="Code-In-Text--PACKT-">button</code> element.</p>&#13;
    <p class="normal">We can access the parent of <code class="Code-In-Text--PACKT-">this</code> with a function like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">function reveal(el){&#13;
    console.log(el.parentElement);&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">In the above example, the body is the parent of the button. So if we click the button with the new function, it will output:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function reveal(el.parentElement){&#13;
        console.log(el);&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;button onclick="reveal(this)"&gt;Click here!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
</code></pre>&#13;
    <p class="normal">We could output <a id="_idIndexMarker525"/>any other property of the element the same way; for example, <code class="Code-In-Text--PACKT-">console.log(el.innerText);</code> would print the inner text value as we saw in the <em class="italic">Changing innerText</em> section.</p>&#13;
    <p class="normal">So, the <code class="Code-In-Text--PACKT-">this</code> keyword is referring to the element, and from this element we can traverse the DOM like we just learned. This can be very useful, for example, when you need to get the value of an input box. If you send <code class="Code-In-Text--PACKT-">this</code>, then you can read and modify the properties of the element that triggered the function.</p>&#13;
    <h2 id="_idParaDest-304" class="title">Practice exercise 10.7</h2>&#13;
    <p class="normal">Create a button within a basic HTML document and add the <code class="Code-In-Text--PACKT-">onclick</code> attribute. The example will <a id="_idIndexMarker526"/>demonstrate how you can reference object data with <code class="Code-In-Text--PACKT-">this</code>:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create a function to handle a click within your JavaScript code. You can name the function <code class="Code-In-Text--PACKT-">message</code>.</li>&#13;
      <li class="numbered">Add this to the <code class="Code-In-Text--PACKT-">onclick</code> function parameters sending the current element object data using <code class="Code-In-Text--PACKT-">this</code>.</li>&#13;
      <li class="numbered">Within the <code class="Code-In-Text--PACKT-">message</code> function, use <code class="Code-In-Text--PACKT-">console.dir()</code> to output in the console the element object data that was sent to the function using <code class="Code-In-Text--PACKT-">onclick</code> and <code class="Code-In-Text--PACKT-">this</code>.</li>&#13;
      <li class="numbered">Add a second button to the page also invoking the same function on the click.</li>&#13;
      <li class="numbered">When the button is clicked, you should see the element that triggered the click in the console, like so:<figure class="mediaobject"><img src="img/B16682_10_01.png" alt="Graphical user interface, text, application&#13;&#10;&#13;&#10;Description automatically generated" width="751" height="263"/></figure>&#13;
      </li>&#13;
    </ol>&#13;
    <p class="packt_figref">Figure 10.1: Implementing the onclick attribute</p>&#13;
    <h1 id="_idParaDest-305" class="title">Manipulating element style</h1>&#13;
    <p class="normal">After selecting the right element from the DOM, we can change the CSS style that applies to it. We can <a id="_idIndexMarker527"/>do this using the <code class="Code-In-Text--PACKT-">style</code> property. This is how to do it:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select the right element from the DOM.</li>&#13;
      <li class="numbered">Change the right property of the style property of this element.</li>&#13;
    </ol>&#13;
    <p class="normal">We are going to make a button that will toggle the appearing and disappearing of a line of text. To hide something using CSS, we can set the <code class="Code-In-Text--PACKT-">display</code> property of the element to <code class="Code-In-Text--PACKT-">none</code>, like this for a <code class="Code-In-Text--PACKT-">p</code> (paragraph) element:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">p {&#13;
  display: none;&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">And we can toggle it back to visible using:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">p {&#13;
  display: block;&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">We can add this style using JavaScript as well. Here is a little HTML and JavaScript snippet that will toggle the displaying of a piece of text:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function toggleDisplay(){&#13;
        let p = document.getElementById("magic");&#13;
        if(p.style.display === "none") {&#13;
          p.style.display = "block";&#13;
        } else {&#13;
          p.style.display = "none";&#13;
        }&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;p id="magic"&gt;I might disappear and appear.&lt;/p&gt;&#13;
    &lt;button onclick="toggleDisplay()"&gt;Magic!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">As you can see, in the <code class="Code-In-Text--PACKT-">if</code> statement we are checking for whether it is currently hiding, if it is hiding, we show it. Otherwise, we hide it. If you click the button and it is currently visible, it will disappear. If you click the button when the text is gone, it will appear.</p>&#13;
    <p class="normal">You can do all <a id="_idIndexMarker528"/>sorts of fun things using this style element. What do you think this does when you click the button?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function rainbowify(){&#13;
        let divs = document.getElementsByTagName("div");&#13;
        for(let i = 0; i &lt; divs.length; i++) {&#13;
          divs[i].style.backgroundColor = divs[i].id;&#13;
        }&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;style&gt;&#13;
      div {&#13;
        height: 30px;&#13;
        width: 30px;&#13;
        background-color: white;&#13;
      }&#13;
    &lt;/style&gt;&#13;
    &lt;div id="red"&gt;&lt;/div&gt;&#13;
    &lt;div id="orange"&gt;&lt;/div&gt;&#13;
    &lt;div id="yellow"&gt;&lt;/div&gt;&#13;
    &lt;div id="green"&gt;&lt;/div&gt;&#13;
    &lt;div id="blue"&gt;&lt;/div&gt;&#13;
    &lt;div id="indigo"&gt;&lt;/div&gt;&#13;
    &lt;div id="violet"&gt;&lt;/div&gt;&#13;
    &lt;button onclick="rainbowify()"&gt;Make me a rainbow&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">This is what <a id="_idIndexMarker529"/>you see when you first open the page:</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_02.png" alt="" width="825" height="318"/></figure>&#13;
    <p class="packt_figref">Figure 10.2: A button that will do wonderful things when it is clicked</p>&#13;
    <p class="normal">And when you click the button:</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_03.png" alt="" width="826" height="317"/></figure>&#13;
    <p class="packt_figref">Figure 10.3: Beautiful rainbow made by JavaScript at the click of a button</p>&#13;
    <p class="normal">Let's go over this script to see how works. First of all, there are a few <code class="Code-In-Text--PACKT-">div</code> tags in the HTML that <a id="_idIndexMarker530"/>all have the ID of a certain color. There is a <code class="Code-In-Text--PACKT-">style</code> tag specified in HTML, which gives a default layout to these <code class="Code-In-Text--PACKT-">div</code> tags of 30px by 30px and a white background.</p>&#13;
    <p class="normal">When you click the button, the <code class="Code-In-Text--PACKT-">rainbowify()</code> JavaScript function is executed. In this function the following things are happening:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">All the <code class="Code-In-Text--PACKT-">div</code> elements get selected and stored in an array, <code class="Code-In-Text--PACKT-">divs</code>.</li>&#13;
      <li class="numbered">We loop over this <code class="Code-In-Text--PACKT-">divs</code> array.</li>&#13;
      <li class="numbered">For every element in the <code class="Code-In-Text--PACKT-">divs</code> array, we are setting the <code class="Code-In-Text--PACKT-">backgroundColor</code> property of style to the ID of the element. Since all the IDs represent a color, we see a rainbow appear.</li>&#13;
    </ol>&#13;
    <p class="normal">As you can imagine, you can really have a lot of fun playing around with this. With just a few lines of code, you can make all sorts of things appear on the screen.</p>&#13;
    <h1 id="_idParaDest-306" class="title">Changing the classes of an element</h1>&#13;
    <p class="normal">HTML elements can have classes, and as we have seen, we can select elements by the name of <a id="_idIndexMarker531"/>the class. As you may remember, classes are used a lot for giving elements a certain layout using CSS.</p>&#13;
    <p class="normal">With JavaScript, we can change the classes of HTML elements, and this might trigger a certain layout that is associated with that class in CSS. We are going to have a look at adding classes, removing classes, and toggling classes.</p>&#13;
    <h2 id="_idParaDest-307" class="title">Adding classes to elements</h2>&#13;
    <p class="normal">This might sound a bit vague, so let's have a look at an example where we are going to add a class <a id="_idIndexMarker532"/>to an element, which in this case will add a layout and make the element disappear.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
       function disappear(){&#13;
         document.getElementById("shape").classList.add("hide");&#13;
       }&#13;
    &lt;/script&gt;&#13;
    &lt;style&gt;&#13;
      .hide {&#13;
        display: none;&#13;
      }&#13;
      .square {&#13;
        height: 100px;&#13;
        width: 100px;&#13;
        background-color: yellow;&#13;
      }&#13;
      .square.blue {&#13;
        background-color: blue;&#13;
      }&#13;
    &lt;/style&gt;&#13;
    &lt;div id="shape" class="square blue"&gt;&lt;/div&gt;&#13;
    &#13;
    &lt;button onclick="disappear()"&gt;Disappear!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">In this example, we have some CSS specified in the <code class="Code-In-Text--PACKT-">style</code> tag. Elements with the <code class="Code-In-Text--PACKT-">hide</code> class have a <code class="Code-In-Text--PACKT-">display</code>: <code class="Code-In-Text--PACKT-">none</code> style, meaning they are hidden. Elements with the <code class="Code-In-Text--PACKT-">square</code> class are 100 by 100 pixels and are yellow. But when they have both the <code class="Code-In-Text--PACKT-">square</code> and <code class="Code-In-Text--PACKT-">blue</code> class, they are blue.</p>&#13;
    <p class="normal">When we click on the <strong class="screenText">Disappear!</strong> button, the <code class="Code-In-Text--PACKT-">disappear()</code> function gets called. This one is specified in the script tag. The <code class="Code-In-Text--PACKT-">disappear()</code> function changes the classes by getting the <code class="Code-In-Text--PACKT-">classList</code> property <a id="_idIndexMarker533"/>of the element with the ID <code class="Code-In-Text--PACKT-">shape</code>, which is the square we are seeing. We are adding the <code class="Code-In-Text--PACKT-">hide</code> class to the <code class="Code-In-Text--PACKT-">classList</code> and because of this, the elements get the <code class="Code-In-Text--PACKT-">display:</code> <code class="Code-In-Text--PACKT-">none</code> layout and we can no longer see it.</p>&#13;
    <h2 id="_idParaDest-308" class="title">Removing classes from elements</h2>&#13;
    <p class="normal">We can also remove a class. If we remove the <code class="Code-In-Text--PACKT-">hide</code> class from the <code class="Code-In-Text--PACKT-">classList</code>, for example, we could <a id="_idIndexMarker534"/>see our element again because the <code class="Code-In-Text--PACKT-">display: none</code> layout no longer applies.</p>&#13;
    <p class="normal">In this example, we are removing another class. Can you figure out what will happen if you press the button by looking at the code?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function change(){&#13;
        document.getElementById("shape").classList.remove("blue");&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;style&gt;&#13;
      .square {&#13;
        height: 100px;&#13;
        width: 100px;&#13;
        background-color: yellow;&#13;
      }&#13;
      .square.blue {&#13;
        background-color: blue;&#13;
      }&#13;
    &lt;/style&gt;&#13;
    &lt;div id="shape" class="square blue"&gt;&lt;/div&gt;&#13;
    &#13;
    &lt;button onclick="change()"&gt;Change!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">When the button gets pressed, the change function gets triggered. This function removes the <code class="Code-In-Text--PACKT-">blue</code> class, which removes the blue background color from the layout, leaving us with the yellow background color and the square will turn yellow.</p>&#13;
    <p class="normal">You may wonder why the square was blue in the first place since it had two layouts for <code class="Code-In-Text--PACKT-">background-color</code> assigned to it with the CSS. This happens with a points system. When a styling is more specific, it gets more points. So, specifying two classes with no space in between means <a id="_idIndexMarker535"/>that it applies to elements with these two classes. This is more specific than pointing at one class.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">Referring to an ID in CSS, <code class="Code-In-Text--PACKT-">#nameId</code>, gets even more points and would be prioritized over class-based layouts. This layering allows for less duplicate code, but it can become messy, so always make sure to combine the CSS and the HTML well to get the desired layout.</p>&#13;
    </p>&#13;
    <h2 id="_idParaDest-309" class="title">Toggling classes</h2>&#13;
    <p class="normal">In some cases, you would want to add a class when it doesn't already have that particular class, but remove it when it does. This is called toggling. There is a special method to <a id="_idIndexMarker536"/>toggle classes. Let's change our first example to toggle the <code class="Code-In-Text--PACKT-">hide</code> class so the class will appear when we press the button the second time, disappear the third time, and so on. The <code class="Code-In-Text--PACKT-">blue</code> class was removed to make it shorter; it's not doing anything in this example other than making the square blue.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function changeVisibility(){&#13;
        document.getElementById("shape").classList.toggle("hide");&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;style&gt;&#13;
      .hide {&#13;
        display: none;&#13;
      }&#13;
      .square {&#13;
        height: 100px;&#13;
        width: 100px;&#13;
        background-color: yellow;&#13;
      }&#13;
    &lt;/style&gt;&#13;
    &lt;div id="shape" class="square"&gt;&lt;/div&gt;&#13;
    &#13;
    &lt;button onclick="changeVisibility()"&gt;Magic!&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Pressing the <code class="Code-In-Text--PACKT-">Magic!</code> button will add the class to the <code class="Code-In-Text--PACKT-">classList</code> when it isn't there and remove it <a id="_idIndexMarker537"/>when it is there. This means that you can see the result every time you press the button. The square keeps appearing and disappearing.</p>&#13;
    <h1 id="_idParaDest-310" class="title">Manipulating attributes</h1>&#13;
    <p class="normal">We have seen already that we can change the class and style attributes, but there is a more general <a id="_idIndexMarker538"/>method that can be used to change any attribute. Just a quick reminder, attributes are the parts in HTML elements that are followed by equals signs. For example, this HTML link to Google:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;a id="friend" class="fancy boxed" href="https://www.google.com"&gt;Ask my friend here.&lt;/a&gt;&#13;
</code></pre>&#13;
    <p class="normal">The attributes in this example are <code class="Code-In-Text--PACKT-">id</code>, <code class="Code-In-Text--PACKT-">class</code>, and <code class="Code-In-Text--PACKT-">href</code>. Other common attributes are <code class="Code-In-Text--PACKT-">src</code> and <code class="Code-In-Text--PACKT-">style</code>, but there are many others out there.</p>&#13;
    <p class="normal">With the <code class="Code-In-Text--PACKT-">setAttribute()</code> method, we can add or change attributes on an element. This will change the HTML of the page. If you inspect the HTML in the browser you will see that the changed attributes are visible. You can do this from the console and see the result easily, or write another HTML file with this built in as a function. In this HTML snippet, you will see it in action:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function changeAttr(){&#13;
        let el = document.getElementById("shape");&#13;
        el.setAttribute("style", "background-color:red;border:1px solid black");&#13;
        el.setAttribute("id", "new");&#13;
        el.setAttribute("class", "circle");&#13;
      &#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;style&gt;&#13;
      div {&#13;
        height: 100px;&#13;
        width: 100px;&#13;
        background-color: yellow;&#13;
      }&#13;
      .circle {&#13;
        border-radius: 50%;&#13;
      }&#13;
    &lt;/style&gt;&#13;
    &lt;div id="shape" class="square"&gt;&lt;/div&gt;&#13;
    &#13;
    &lt;button onclick="changeAttr()"&gt;Change attributes...&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">This is <a id="_idIndexMarker539"/>the page before clicking the button:</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_04.png" alt="" width="826" height="202"/></figure>&#13;
    <p class="packt_figref">Figure 10.4: Page with a yellow square div</p>&#13;
    <p class="normal">After clicking the button, the HTML of the <code class="Code-In-Text--PACKT-">div</code> becomes:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;div id="new" class="circle" style="background-color:red;border:1px solid black"&gt;&lt;/div&gt;&#13;
</code></pre>&#13;
    <p class="normal">As you can see, the attributes are changed. The <code class="Code-In-Text--PACKT-">id</code> has changed from <code class="Code-In-Text--PACKT-">shape</code> to <code class="Code-In-Text--PACKT-">new</code>. The <code class="Code-In-Text--PACKT-">class</code> has changed from <code class="Code-In-Text--PACKT-">square</code> to <code class="Code-In-Text--PACKT-">circle</code> and a <code class="Code-In-Text--PACKT-">style</code> has been added. It will look like this:</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_05.png" alt="" width="826" height="202"/></figure>&#13;
    <p class="packt_figref">Figure 10.5: Page with a red circle with a black line around it</p>&#13;
    <p class="normal">This is a <a id="_idIndexMarker540"/>very powerful tool that can be used to interact with the DOM in very many ways. Think, for example, of a tool that can be used to create images, or even postcards. Beneath the surface, there is a lot of manipulating going on.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">It is important to note here that JavaScript interacts with the DOM and not with the HTML file—therefore, the DOM is the one that gets changed. If you click the button again, you'll get an error message in the console because no element with <code class="Code-In-Text--PACKT-">id="shape"</code> is found in the DOM, and as a result we try to call a method on a null value.</p>&#13;
    </p>&#13;
    <h2 id="_idParaDest-311" class="title">Practice exercise 10.8</h2>&#13;
    <p class="normal">Creating custom <a id="_idIndexMarker541"/>attributes: using an array of names, the following code will update the element's HTML, adding HTML code using the data from the array. The items within the array will be output to the page as HTML code. The user will be able to click the page elements and they will display the page element attribute values.</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_06.png" alt="Table&#13;&#10;&#13;&#10;Description automatically generated" width="829" height="363"/></figure>&#13;
    <p class="packt_figref">Figure 10.6: Creating custom attributes with an array of names</p>&#13;
    <p class="normal">As the HTML will start getting more complex from now on, and we're only trying to test your JavaScript, we will <a id="_idIndexMarker542"/>provide HTML templates to use where needed. You can use the following HTML template and provide your answer as the completed <code class="Code-In-Text--PACKT-">script</code> element:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
    &lt;title&gt;Complete JavaScript Course&lt;/title&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div id="message"&gt;&lt;/div&gt;&#13;
    &lt;div id="output"&gt;&lt;/div&gt;&#13;
    &lt;script&gt;&#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create an array of names. You can add as many as you want—all the string values will be output onto the page within a table.</li>&#13;
      <li class="numbered">Select the page elements as JavaScript objects.</li>&#13;
      <li class="numbered">Add a function and also invoke that function within the JavaScript code. The function can be called <code class="Code-In-Text--PACKT-">build()</code> as it will be building the page content. Within the <code class="Code-In-Text--PACKT-">build</code> function, you will be setting up the HTML in a table. </li>&#13;
      <li class="numbered">Create a table named <code class="Code-In-Text--PACKT-">html</code>, and within the tags, loop through the contents of the array and output the results into the <code class="Code-In-Text--PACKT-">html</code> table. </li>&#13;
      <li class="numbered">Add a class called <code class="Code-In-Text--PACKT-">box</code> to one of the cells that has the index value of the item from the array, adding the same class to the elements for each additional row. </li>&#13;
      <li class="numbered">As you create the HTML for the elements within the <code class="Code-In-Text--PACKT-">tr</code> element, create an attribute called <code class="Code-In-Text--PACKT-">data-row</code> in the main <code class="Code-In-Text--PACKT-">row</code> element that includes the index value of the item <a id="_idIndexMarker543"/>from the array. In addition, add another attribute within the element called <code class="Code-In-Text--PACKT-">data-name</code> that will contain the text output.</li>&#13;
      <li class="numbered">Within the attribute of the same <code class="Code-In-Text--PACKT-">tr</code> element, also add <code class="Code-In-Text--PACKT-">onclick</code> to invoke a function named <code class="Code-In-Text--PACKT-">getData</code> passing the current element object as <code class="Code-In-Text--PACKT-">this</code> into the function parameter.</li>&#13;
      <li class="numbered">Add the table of HTML code to the page.</li>&#13;
      <li class="numbered">Create a function named <code class="Code-In-Text--PACKT-">getData</code> that will be invoked once the HTML <code class="Code-In-Text--PACKT-">tr</code> elements are clicked. Once the <code class="Code-In-Text--PACKT-">tr</code> element is clicked, use <code class="Code-In-Text--PACKT-">getAttribute</code> to get the attribute values of the row value and the contents of the text output and store them in different variables.</li>&#13;
      <li class="numbered">Using the values in the attributes stored in the preceding step, output the values into the <code class="Code-In-Text--PACKT-">message</code> element on the page.</li>&#13;
      <li class="numbered">Once the user clicks the element on the page, it will display the details coming from the element attributes within the element with the <code class="Code-In-Text--PACKT-">id</code> of <code class="Code-In-Text--PACKT-">message</code>.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-312" class="title">Event listeners on elements</h1>&#13;
    <p class="normal">Events are things that happen on a web page, like clicking on something, moving the mouse <a id="_idIndexMarker544"/>over an element, changing an element, and there are many more. We have seen how to add an <code class="Code-In-Text--PACKT-">onclick</code> event handler already. In the same way, you can add an <code class="Code-In-Text--PACKT-">onchange</code> handler, or an <code class="Code-In-Text--PACKT-">onmouseover</code> handler. There is one special condition, though; one element can only have one event handler as an HTML attribute. So, if it has an <code class="Code-In-Text--PACKT-">onclick</code> handler, it cannot have an <code class="Code-In-Text--PACKT-">onmouseover</code> handler as well. At this point, we have only seen how to add event listeners using HTML attributes like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;button onclick="addRandomNumber()"&gt;Add a number&lt;/button&gt;&#13;
</code></pre>&#13;
    <p class="normal">There is a way to register event handlers using JavaScript as well. We call these event listeners. Using event listeners, we can add multiple events to one element. This way, JavaScript is constantly checking, or listening, for certain events to the elements on the page. Adding event listeners is a two-step process:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select the element you want to add an event to</li>&#13;
      <li class="numbered">Use the <code class="Code-In-Text--PACKT-">addEventListener("event", function)</code> syntax to add the event</li>&#13;
    </ol>&#13;
    <p class="normal">Even though it is two steps, it can be done in one line of code:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">document.getElementById("square").addEventListener("click", changeColor);&#13;
</code></pre>&#13;
    <p class="normal">This is getting the element with the ID <code class="Code-In-Text--PACKT-">square</code> and adding the <code class="Code-In-Text--PACKT-">changeColor</code> function as the event for <a id="_idIndexMarker545"/>whenever it gets clicked. Note that when using event listeners, we remove the <code class="Code-In-Text--PACKT-">on</code> prefix from the event type. For example, <code class="Code-In-Text--PACKT-">click</code> here references the same event type as <code class="Code-In-Text--PACKT-">onclick</code>, but we have removed the <code class="Code-In-Text--PACKT-">on</code> prefix.</p>&#13;
    <p class="normal">Let's consider another way to add an event listener (don't worry, we will review these methods in detail in <em class="chapterRef">Chapter 11</em>, <em class="italic">Interactive Content and Event Listeners</em>) by setting the <code class="Code-In-Text--PACKT-">event</code> property of a certain object to a function.</p>&#13;
    <p>&#13;
      <p class="Information-Box--PACKT-">There is a fun fact here—event listeners often get added during other events!</p>&#13;
    </p>&#13;
    <p class="normal">We could reuse our trusty <code class="Code-In-Text--PACKT-">onclick</code> listener in this context, but another common one is when the web page is done loading with <code class="Code-In-Text--PACKT-">onload</code>:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">window.onload = function() {&#13;
  // whatever needs to happen after loading&#13;
  // for example adding event listeners to elements&#13;
}&#13;
</code></pre>&#13;
    <p class="normal">This function will then be executed. This is common for <code class="Code-In-Text--PACKT-">window.onload</code>, but less common for many others, such as <code class="Code-In-Text--PACKT-">onclick</code> on a <code class="Code-In-Text--PACKT-">div</code> (it is possible though). Let's look at an example of the first event listener we looked at on a web page. Can you figure out what it will be doing when you click on the square?</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      window.onload = function() {&#13;
        document.getElementById("square").addEventListener("click", changeColor);&#13;
      }&#13;
      function changeColor(){&#13;
        let red = Math.floor(Math.random() * 256);&#13;
        let green = Math.floor(Math.random() * 256);&#13;
        let blue = Math.floor(Math.random() * 256);&#13;
        this.style.backgroundColor = `rgb(${red}, ${green}, ${blue})`;&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;div id="square" style="width:100px;height:100px;background-color:grey;"&gt;Click for magic&lt;/div&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">The web page <a id="_idIndexMarker546"/>starts with a gray square with the text <code class="Code-In-Text--PACKT-">Click for magic</code> in it. After the web page is done loading, an event gets added for this square. Whenever it gets clicked, the <code class="Code-In-Text--PACKT-">changeColor</code> function will be executed. This function uses random variables to change the color using RGB colors. Whenever you click the square, the color gets updated with random values.</p>&#13;
    <p class="normal">You can add events to all sorts of elements. We have only used the <code class="Code-In-Text--PACKT-">click</code> event so far, but there are many more. For example, <code class="Code-In-Text--PACKT-">focus</code>, <code class="Code-In-Text--PACKT-">blur</code>, <code class="Code-In-Text--PACKT-">focusin</code>, <code class="Code-In-Text--PACKT-">focusout</code>, <code class="Code-In-Text--PACKT-">mouseout</code>, <code class="Code-In-Text--PACKT-">mouseover</code>, <code class="Code-In-Text--PACKT-">keydown</code>, <code class="Code-In-Text--PACKT-">keypress</code>, and <code class="Code-In-Text--PACKT-">keyup</code>. These will be covered in the next chapter, so keep going!</p>&#13;
    <h2 id="_idParaDest-313" class="title">Practice exercise 10.9</h2>&#13;
    <p class="normal">Try an alternative way to implement similar logic to <em class="italic">Practice exercise 10.7</em>. Use the following HTML <a id="_idIndexMarker547"/>code as a template for this exercise, and add the contents of the <code class="Code-In-Text--PACKT-">script</code> element:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!doctype html&gt;&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
    &lt;title&gt;JS Tester&lt;/title&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div&gt;&#13;
        &lt;button&gt;Button 1&lt;/button&gt;&#13;
        &lt;button&gt;Button 2&lt;/button&gt;&#13;
        &lt;button&gt;Button 3&lt;/button&gt;&#13;
    &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the <a id="_idIndexMarker548"/>following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select all the page buttons into a JavaScript object.</li>&#13;
      <li class="numbered">Loop through each button, and create a function within the button scope called output.</li>&#13;
      <li class="numbered">Within the <code class="Code-In-Text--PACKT-">output()</code> function, add a <code class="Code-In-Text--PACKT-">console.log()</code> method that outputs the current object's <code class="Code-In-Text--PACKT-">textContent</code>. You can reference the current parent object using the <code class="Code-In-Text--PACKT-">this</code> keyword.</li>&#13;
      <li class="numbered">As you loop through the buttons attach an event listener that when clicked invokes the <code class="Code-In-Text--PACKT-">output()</code> function.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-314" class="title">Creating new elements</h1>&#13;
    <p class="normal">In this chapter, you have seen so many cool ways to manipulate the DOM already. There is still an <a id="_idIndexMarker549"/>important one missing, the creation of new elements and adding them to the DOM. This consists of two steps, first creating new elements and second adding them to the DOM. </p>&#13;
    <p class="normal">This is not as hard as it may seem. The following JavaScript does just that:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">let el = document.createElement("p");&#13;
el.innerText = Math.floor(Math.random() * 100);&#13;
document.body.appendChild(el);&#13;
</code></pre>&#13;
    <p class="normal">It creates an element of type <code class="Code-In-Text--PACKT-">p</code> (paragraph). This is a <code class="Code-In-Text--PACKT-">createElement()</code> function that is on the <code class="Code-In-Text--PACKT-">document</code> object. Upon creation, you need to specify what type of HTML element you would want to create, which in this case is a <code class="Code-In-Text--PACKT-">p</code>, so something like this:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;p&gt;innertext here&lt;/p&gt;&#13;
</code></pre>&#13;
    <p class="normal">And as <code class="Code-In-Text--PACKT-">innerText</code>, it is adding a random number. Next, it is adding the element as a new last child of the body. You could also add it to another element; just select the element you want to add it to and use the <code class="Code-In-Text--PACKT-">appendChild()</code> method.</p>&#13;
    <p class="normal">Here, you can see it incorporated in a HTML page. This page has a button, and whenever it gets pressed, the <code class="Code-In-Text--PACKT-">p</code> gets added.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
  &lt;body&gt;&#13;
    &lt;script&gt;&#13;
      function addRandomNumber(){&#13;
        let el = document.createElement("p");&#13;
        el.innerText = Math.floor(Math.random() * 100);&#13;
        document.body.appendChild(el);&#13;
      }&#13;
    &lt;/script&gt;&#13;
    &lt;button onclick="addRandomNumber()"&gt;Add a number&lt;/button&gt;&#13;
  &lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Here is a <a id="_idIndexMarker550"/>screenshot of this page after having pressed the button five times.</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_07.png" alt="" width="826" height="300"/></figure>&#13;
    <p class="packt_figref">Figure 10.7: Random numbers after pressing the button five times</p>&#13;
    <p class="normal">Once we refresh the page, it's empty again. The file with the source code doesn't change and we're not storing it anywhere.</p>&#13;
    <h2 id="_idParaDest-315" class="title">Practice exercise 10.10</h2>&#13;
    <p class="normal">Shopping list: Using the following HTML template, update the code to add new items to the list of <a id="_idIndexMarker551"/>items on the page. Once the button is clicked, it will add a new item to the list of items:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
    &lt;title&gt;Complete JavaScript Course&lt;/title&gt;&#13;
    &lt;style&gt;&#13;
    &lt;/style&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div id="message"&gt;Complete JavaScript Course&lt;/div&gt;&#13;
    &lt;div&gt;&#13;
        &lt;input type="text" id="addItem"&gt;&#13;
        &lt;input type="button" id="addNew" value="Add to List"&gt; &lt;/div&gt;&#13;
    &lt;div id="output"&gt;&#13;
        &lt;h1&gt;Shopping List&lt;/h1&gt;&#13;
        &lt;ol id="sList"&gt; &lt;/ol&gt;&#13;
    &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Select the page elements as JavaScript objects.</li>&#13;
      <li class="numbered">Add an <code class="Code-In-Text--PACKT-">onclick</code> event listener to the add button. Once the button is clicked, it should add the contents of the input field to the end of the list. You can call the function <code class="Code-In-Text--PACKT-">addOne()</code>.</li>&#13;
      <li class="numbered">Within <code class="Code-In-Text--PACKT-">addOne()</code>, create <code class="Code-In-Text--PACKT-">li</code> elements to append to the main list on the page. Add the input value to the list item text content.</li>&#13;
      <li class="numbered">Within the <code class="Code-In-Text--PACKT-">addOne()</code> function, get the current value of the <code class="Code-In-Text--PACKT-">addItem</code> input field. Use that value to create a <code class="Code-In-Text--PACKT-">textNode</code> with that value, adding it to the list item. Append the <code class="Code-In-Text--PACKT-">textNode</code> to the list item.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-316" class="title">Chapter projects</h1>&#13;
    <h2 id="_idParaDest-317" class="title">Collapsible accordion component</h2>&#13;
    <p class="normal">Build a collapsing and expanding accordion component that will open page elements, hiding and showing <a id="_idIndexMarker552"/>content when the title tab is clicked. Using the following HTML as a template, add the completed <code class="Code-In-Text--PACKT-">script</code> element and create the desired functionality with JavaScript:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!doctype html&gt;&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
    &lt;title&gt;JS Tester&lt;/title&gt;&#13;
    &lt;style&gt;&#13;
        .active {&#13;
            display: block !important;&#13;
        }&#13;
        .myText {&#13;
            display: none;&#13;
        }&#13;
        .title {&#13;
            font-size: 1.5em;&#13;
            background-color: #ddd;&#13;
        }&#13;
    &lt;/style&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div class="container"&gt;&#13;
        &lt;div class="title"&gt;Title #1&lt;/div&gt;&#13;
        &lt;div class="myText"&gt;Just some text #1&lt;/div&gt;&#13;
        &lt;div class="title"&gt;Title #2&lt;/div&gt;&#13;
        &lt;div class="myText"&gt;Just some text #2&lt;/div&gt;&#13;
        &lt;div class="title"&gt;Title #3&lt;/div&gt;&#13;
        &lt;div class="myText"&gt;Just some text #3&lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Using <code class="Code-In-Text--PACKT-">querySelectorAll()</code>, select all the elements with a class of <code class="Code-In-Text--PACKT-">title</code>.</li>&#13;
      <li class="numbered">Using <code class="Code-In-Text--PACKT-">querySelectorAll()</code>, select all the elements with a class of <code class="Code-In-Text--PACKT-">myText</code>. This should be the same number of elements as the <code class="Code-In-Text--PACKT-">title</code> elements.</li>&#13;
      <li class="numbered">Iterate <a id="_idIndexMarker553"/>through all the <code class="Code-In-Text--PACKT-">title</code> elements and add event listeners that, once clicked, will select the next element siblings.</li>&#13;
      <li class="numbered">Select the element on the <code class="Code-In-Text--PACKT-">click</code> action and toggle the <code class="Code-In-Text--PACKT-">classlist</code> of the element with the <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">active</code>. This will allow the user to click the element and hide and show the below content.</li>&#13;
      <li class="numbered">Add a function that will be invoked each time the elements are clicked that will remove the <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">active</code> from all the elements. This will hide all the elements with <code class="Code-In-Text--PACKT-">myText</code>.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-318" class="title">Interactive voting system</h2>&#13;
    <p class="normal">The below code will create a dynamic list of people that can be clicked, and it will update the <a id="_idIndexMarker554"/>corresponding value with the number of times that name was clicked. It also includes an input field that will allow you to add more users to the list, each of which will create another item in the list that can be interacted with the same as the default list items.</p>&#13;
    <figure class="mediaobject"><img src="img/B16682_10_08.png" alt="Table&#13;&#10;&#13;&#10;Description automatically generated" width="826" height="204"/></figure>&#13;
    <p class="packt_figref">Figure 10.8: Creating an interactive voting system</p>&#13;
    <p class="normal">Use the following HTML code as a template to add JavaScript to, and provide your answer as the completed <code class="Code-In-Text--PACKT-">script</code> element.</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!DOCTYPE html&gt;&#13;
&lt;html&gt;&#13;
&lt;head&gt;&#13;
    &lt;title&gt;Complete JavaScript Course&lt;/title&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div id="message"&gt;Complete JavaScript Course&lt;/div&gt;&#13;
    &lt;div&gt;&#13;
        &lt;input type="text" id="addFriend"&gt;&#13;
        &lt;input type="button" id="addNew" value="Add Friend"&gt;&#13;
    &lt;/div&gt;&#13;
    &lt;table id="output"&gt;&lt;/table&gt;&#13;
    &lt;script&gt;&#13;
       &#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the <a id="_idIndexMarker555"/>following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Create an array of people's names called <code class="Code-In-Text--PACKT-">myArray</code>. This will be the default original list of names.</li>&#13;
      <li class="numbered">Select the page elements as JavaScript objects so they can easily be selected within the code.</li>&#13;
      <li class="numbered">Add event listener to the <strong class="screenText">Add Friend</strong> button. Once clicked, this will get the value from the input field and pass the values to a function that will add the friend list to the page. Additionally, add the new friend's name into the people's names array you created. Get the current value in the input field and push that value into the array so the array matches the values on the page.</li>&#13;
      <li class="numbered">Run a function to build the content on the page, using the <code class="Code-In-Text--PACKT-">forEach()</code> loop get all the items within the array and add them to the page. Include <code class="Code-In-Text--PACKT-">0</code> as a default for the vote count, as all individuals should start on zero votes.</li>&#13;
      <li class="numbered">Create a main function that will create the page elements, starting with the parent table row, <code class="Code-In-Text--PACKT-">tr</code>. Then create three table cell, <code class="Code-In-Text--PACKT-">td</code>, elements. Add content to the table cells, including the vote count in the last column, the person name in the middle, and the index plus 1 in the first column.</li>&#13;
      <li class="numbered">Append the table cells to the table row and append the table row to the output area on the page.</li>&#13;
      <li class="numbered">Add an event listener that will increase the vote counter for that row when the user clicks.</li>&#13;
      <li class="numbered">Get the text content from the last column in the row. It should be the value of the <a id="_idIndexMarker556"/>current counter. Increment the counter by one and make sure the datatype is a number so you can add to it.</li>&#13;
      <li class="numbered">Update the last column with the new click counter.</li>&#13;
    </ol>&#13;
    <h2 id="_idParaDest-319" class="title">Hangman game</h2>&#13;
    <p class="normal">Create a Hangman game <a id="_idIndexMarker557"/>using arrays and page elements. You can use the following HTML template:</p>&#13;
    <pre class="programlisting code"><code class="hljs-code">&lt;!doctype html&gt;&#13;
&lt;html&gt;&lt;head&gt;&#13;
    &lt;title&gt;Hangman Game&lt;/title&gt;&#13;
    &lt;style&gt;&#13;
        .gameArea {&#13;
            text-align: center;&#13;
            font-size: 2em;&#13;
        }&#13;
        .box,&#13;
        .boxD {&#13;
            display: inline-block;&#13;
            padding: 5px;&#13;
        }&#13;
        .boxE {&#13;
            display: inline-block;&#13;
            width: 40px;&#13;
            border: 1px solid #ccc;&#13;
            border-radius: 5px;&#13;
            font-size: 1.5em;&#13;
        }&#13;
    &lt;/style&gt;&#13;
&lt;/head&gt;&#13;
&lt;body&gt;&#13;
    &lt;div class="gameArea"&gt;&#13;
        &lt;div class="score"&gt; &lt;/div&gt;&#13;
        &lt;div class="puzzle"&gt;&lt;/div&gt;&#13;
        &lt;div class="letters"&gt;&lt;/div&gt;&#13;
        &lt;button&gt;Start Game&lt;/button&gt;&#13;
    &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
    &lt;/script&gt;&#13;
&lt;/body&gt;&#13;
&lt;/html&gt;&#13;
</code></pre>&#13;
    <p class="normal">Take the following steps:</p>&#13;
    <ol>&#13;
      <li class="numbered" value="1">Set up an array that contains some words or phrases that you want to use in the game.</li>&#13;
      <li class="numbered">In JavaScript, create a main game object containing a property to contain the current word solution, and another property to contain the array of letters of the solution. It should also create an array to contain the page elements and correspond <a id="_idIndexMarker558"/>with the values of the index values of each letter from the solution, and finally add a property to count the number of letters left to solve and end the game when needed.</li>&#13;
      <li class="numbered">Select all the page elements into variables so they are easier to access in the code.</li>&#13;
      <li class="numbered">Add an event listener to the <strong class="screenText">Start Game</strong> button, making it clickable, and when it gets clicked it should launch a function called <code class="Code-In-Text--PACKT-">startGame()</code>.</li>&#13;
      <li class="numbered">Within <code class="Code-In-Text--PACKT-">startGame()</code>, check if the <code class="Code-In-Text--PACKT-">words</code> array has any words left. If it does, then hide the button by setting the <code class="Code-In-Text--PACKT-">.display</code> object to <code class="Code-In-Text--PACKT-">none</code>. Clear the game contents and set the total to <code class="Code-In-Text--PACKT-">0</code>. Within the current word in the game object, assign a value, which should be the response of <code class="Code-In-Text--PACKT-">shift()</code> from the array containing the in-game words.</li>&#13;
      <li class="numbered">In the game solution, convert the string into an array of all the characters in the word solution using <code class="Code-In-Text--PACKT-">split()</code>.</li>&#13;
      <li class="numbered">Create a function called <code class="Code-In-Text--PACKT-">builder()</code> that can be used to build the game board. Invoke the function within the <code class="Code-In-Text--PACKT-">startGame()</code> function once all the game values are cleared and set.</li>&#13;
      <li class="numbered">Create a separate function that you can use to generate page elements. In the parameters, get the type of element, the parent that the new element will be appended to, the output content for the new element, and a class to add to the new element. Using a temporary variable, create the element, add the class, append to the parent, set the <code class="Code-In-Text--PACKT-">textContent</code>, and return the element.</li>&#13;
      <li class="numbered">In the <code class="Code-In-Text--PACKT-">builder()</code> function, which will also get invoked once <code class="Code-In-Text--PACKT-">startGame()</code> is run, clear the <code class="Code-In-Text--PACKT-">innerHTML</code> from the letters and puzzle page elements. </li>&#13;
      <li class="numbered">Iterate through the game solution array, getting each letter of the solution. Use the <code class="Code-In-Text--PACKT-">builder()</code> function to generate page elements, add an output value of <code class="Code-In-Text--PACKT-">-</code>, set a class, and append it to the main puzzle page element. </li>&#13;
      <li class="numbered">Check if the value is blank, and if it is, clear <code class="Code-In-Text--PACKT-">textContent</code> and update the border to white. If it's not blank, increment the total so that it reflects the total number of letters that must be guessed. Push the new element into the game puzzle array.</li>&#13;
      <li class="numbered">Create a new function to update the score so that you can output the current number of letters left. Add it to the <code class="Code-In-Text--PACKT-">builder()</code> function.</li>&#13;
      <li class="numbered">Create a loop to represent the 26 letters of the alphabet. You can generate the letter by using an array containing all the letters. The string method <code class="Code-In-Text--PACKT-">fromCharCode()</code> will return the character from the numeric representation.</li>&#13;
      <li class="numbered">Create elements <a id="_idIndexMarker559"/>for each letter, adding a <code class="Code-In-Text--PACKT-">class</code> of <code class="Code-In-Text--PACKT-">box</code> and appending it to the <code class="Code-In-Text--PACKT-">letters</code> page element. As each element gets created, add an event listener that runs a function called <code class="Code-In-Text--PACKT-">checker()</code>.</li>&#13;
      <li class="numbered">Once the letter gets clicked, we need to invoke the <code class="Code-In-Text--PACKT-">checker()</code> function, which will remove the main class, add another class, remove the event listener, and update the background color. Also invoke a function called <code class="Code-In-Text--PACKT-">checkLetter()</code>, passing the value of the clicked letter into the argument.</li>&#13;
      <li class="numbered">The <code class="Code-In-Text--PACKT-">checkLetter()</code> function will loop through all the solution letters. Add a condition to check if the solution letter is equal to the letter selected by the player. Make sure to convert the inputted letter to uppercase so that you can match the letters accurately. Update the matching letters in the puzzle using the game puzzle array and the index from the letter in the solution. The index values will be the same on each, which provides an easy way to match the visual representation with what is in the array.</li>&#13;
      <li class="numbered">Subtract one from the game global object that tracks the total letters left to be solved, invoke the <code class="Code-In-Text--PACKT-">updatescore()</code> function to check if the game is over, and update the score. Set the <code class="Code-In-Text--PACKT-">textContent</code> of the puzzle to the letter removing the original dash.</li>&#13;
      <li class="numbered">In the <code class="Code-In-Text--PACKT-">updatescore()</code> function, set the score to the number of letters left. If the total left is less than or equal to zero, the game is over. Show the button so that the player has an option for the next phrase.</li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-320" class="title">Self-check quiz</h1>&#13;
    <ol>&#13;
      <li class="numbered" value="1">What output will the following code produce?&#13;
        <pre class="programlisting code"><code class="hljs-code">   &lt;div id="output"&gt;Complete JavaScript Course &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
        var output = document.getElementById('output');&#13;
        output.innerText = "Hello &lt;br&gt; World";&#13;
    &lt;/script&gt;&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What output will be seen within the browser page?&#13;
        <pre class="programlisting code"><code class="hljs-code">    &lt;div id="output"&gt;Complete JavaScript Course &lt;/div&gt;&#13;
    &lt;script&gt;&#13;
        document.getElementById('output').innerHTML = "Hello &lt;br&gt; World";&#13;
    &lt;/script&gt;&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What will be seen in the input field from the following code?&#13;
        <pre class="programlisting code"><code class="hljs-code">    &lt;div id="output"&gt;Hello World&lt;/div&gt;&#13;
    &lt;input type="text" id="val" value="JavaScript"&gt;&#13;
    &lt;script&gt;&#13;
        document.getElementById('val').value = document.getElementById('output').innerHTML;&#13;
    &lt;/script&gt;&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">In the following code, what is output into the console when the element with the word <code class="Code-In-Text--PACKT-">three</code> gets clicked? What is the output when the element with the word <code class="Code-In-Text--PACKT-">one</code> gets clicked?&#13;
        <pre class="programlisting code"><code class="hljs-code">&lt;div class="holder"&gt;&#13;
    &lt;div onclick="output('three')"&gt;Three&#13;
        &lt;div onclick="output('two')"&gt;Two&#13;
            &lt;div onclick="output('one')"&gt;One&lt;/div&gt;&#13;
            &lt;/div&gt;&#13;
        &lt;/div&gt;&#13;
    &lt;/div&gt;&#13;
&lt;script&gt;&#13;
    function&#13;
    output(val) {&#13;
        console.log(val);&#13;
    }&#13;
&lt;/script&gt;&#13;
</code></pre>&#13;
      </li>&#13;
      <li class="numbered">What line of code needs to be added to remove the event listener when the button is clicked in the following code?&#13;
        <pre class="programlisting code"><code class="hljs-code">&lt;div class="btn"&gt;Click Me&lt;/div&gt;&#13;
&lt;script&gt;&#13;
    const btn = document.querySelector(".btn");&#13;
    btn.addEventListener("click", myFun);&#13;
    function myFun() {&#13;
        console.log("clicked");&#13;
    }&#13;
&lt;/script&gt;&#13;
</code></pre>&#13;
      </li>&#13;
    </ol>&#13;
    <h1 id="_idParaDest-321" class="title">Summary</h1>&#13;
    <p class="normal">In this chapter, we really took our web skills to the next level. Manipulating the DOM allows all kinds of interactions with the web page, meaning that the web page is no longer a static event.</p>&#13;
    <p class="normal">We started off by explaining the dynamic web and how to traverse the DOM. After having walked over the elements manually, we learned that there's an easier way to select elements in the DOM with the <code class="Code-In-Text--PACKT-">getElementBy…()</code> and the <code class="Code-In-Text--PACKT-">querySelector()</code> methods. After having selected them, we had the power to modify them, add new elements to them, and do all sorts of things using the elements we selected. We started with some more basic HTML handlers, and we could assign a function to, for example, the <code class="Code-In-Text--PACKT-">onclick</code> attribute of the HTML element.</p>&#13;
    <p class="normal">We also accessed the clicked element using the <code class="Code-In-Text--PACKT-">this</code> argument that was sent in as a parameter, and we could modify it in different ways, for example, by changing the <code class="Code-In-Text--PACKT-">style</code> property. We also saw how to add classes to an element, create new elements, and add them to the DOM. And finally, we worked with event listeners on elements that really took our dynamic web pages to the next level. With event listeners, we can specify more than one event handler for a certain element. All these new skills allow us to create amazing things in the web browser. You can actually create complete games now!</p>&#13;
    <p class="normal">The next chapter will take your event handler skills to the next level and will enhance your ability to create interactive web pages even further (and make it a bit easier as well!).</p>&#13;
  </div>&#13;
</div></body></html>