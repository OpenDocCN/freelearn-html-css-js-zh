<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Using Frameworks"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Using Frameworks</h1></div></div></div><p>Throughout this book, we've covered a number of tips and tricks we can use to add media to our responsive sites, which includes both images and video. These are good, but how do they work in real life?</p><p>Let's answer that now. We can't fail to note the rapid rise of three popular frameworks, namely Less CSS, WordPress, and of course Twitter's Bootstrap. These are used in thousands of sites worldwide—certainly not something to be sniffed at! In this chapter, we're going to work through some simple examples that use these tools to show how we can apply some of the techniques that we've covered so far in the book.</p><p>Over the next few pages, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Adding responsive media to a CMS</li><li class="listitem" style="list-style-type: disc">Implementing responsive media in frameworks such as Twitter Bootstrap</li><li class="listitem" style="list-style-type: disc">Using the Less CSS preprocessor to create CSS media queries</li></ul></div><p>Ready? Let's make a start!</p><div class="section" title="Introducing our three examples"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec46"/>Introducing our three examples</h1></div></div></div><p>Throughout <a id="id271" class="indexterm"/>this book, we've covered a number of simple, practical techniques to make media responsive within our sites—these are good, but nothing beats seeing these principles used in a real-world context, right?</p><p>Absolutely! To prove this, we're going to look at three examples throughout this chapter, using technologies that you are likely to be familiar with: WordPress, Bootstrap, and Less CSS. Each demo will assume a certain level of prior knowledge, so it may be worth reading up a little first. In all three cases, we should see that with little effort, we can easily add responsive media to each one of these technologies. Let's kick off with a look at working with WordPress.</p></div></div>
<div class="section" title="Adding responsive media to a CMS"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec47"/>Adding responsive media to a CMS</h1></div></div></div><p>We will <a id="id272" class="indexterm"/>begin the first of our three examples with a look at using the ever popular WordPress system. Created back in 2003, WordPress <a id="id273" class="indexterm"/>has been used to host sites by small independent traders all the way up to Fortune 500 companies—this includes <a id="id274" class="indexterm"/>some of the biggest names in business such as eBay, UPS, and Ford. WordPress <a id="id275" class="indexterm"/>comes in two flavors; the one we're interested in is the self-install version available at <a class="ulink" href="http://www.wordpress.org">http://www.wordpress.org</a>.</p><p>This example assumes you have a local installation of WordPress installed and working; if not, then head over to <a class="ulink" href="http://codex.wordpress.org/Installing_WordPress">http://codex.wordpress.org/Installing_WordPress</a> and follow the tutorial to get started. We will also need a DOM inspector such as Firebug installed if you don't <a id="id276" class="indexterm"/>already have it. It can be downloaded from <a class="ulink" href="http://www.getfirebug.com">http://www.getfirebug.com</a> if you need to install it.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note30"/>Note</h3><p>If you only have access to WordPress.com (the other flavor of WordPress), then some of the tips in this section may not work, due to limitations in that version of WordPress.</p></div></div><p>Okay, assuming we have WordPress set up and running, let's make a start on making uploaded media responsive.</p><div class="section" title="Adding responsive media manually"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec20"/>Adding responsive media manually</h2></div></div></div><p>If we cast our <a id="id277" class="indexterm"/>minds back to <a class="link" href="ch01.html" title="Chapter 1. Working with Responsive Images">Chapter 1</a>, <span class="emphasis"><em>Working with Responsive Images</em></span>, we discovered that in most cases, it was sufficient to simply set <code class="literal">max-width: 100%</code> against any image that we wanted to be responsive.</p><p>It's at this point that you're probably thinking we have to do something complex when working in WordPress, right? Wrong! As long as you use the Twenty Fourteen core theme, the work has already been done for you.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note31"/>Note</h3><p>For this exercise, and the following sections, I will assume you have installed and/or activated WordPress' Twenty Fourteen theme.</p></div></div><p>Don't believe me? It's easy to verify: try uploading an image to a post or page in WordPress. Resize the browser—you should see the image shrink or grow in size as the browser window changes size. If we take a peek at WordPress under the covers, using a DOM Inspector such as Firebug, we can easily see how the code is no different to that back in <a class="link" href="ch01.html" title="Chapter 1. Working with Responsive Images">Chapter 1</a>, <span class="emphasis"><em>Working with Responsive Images</em></span>.</p><div class="mediaobject"><img src="graphics/6968OT_05_01.jpg" alt="Adding responsive media manually"/></div><p>If we take a look at the code elsewhere using Firebug, we can also see the <code class="literal">height: auto</code> set against a number of the <code class="literal">img</code> tags; this is frequently done for responsive images to ensure they maintain the correct proportions.</p><p>The responsive <a id="id278" class="indexterm"/>style seems to work well in the Twenty Fourteen theme; if you are using an older theme, we can easily apply the same style rule to images stored in WordPress when using that theme.</p></div><div class="section" title="Fixing a responsive issue"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec21"/>Fixing a responsive issue</h2></div></div></div><p>So far, so good. Now, we have the Twenty Fourteen theme in place, we've uploaded images of various <a id="id279" class="indexterm"/>sizes, and we try resizing the browser window ... only to find that the images don't seem to grow in size above a certain point. At least not well—what gives?</p><p>Well, it's a classic trap: we've talked about using percentage values to dynamically resize images, only to find that we've shot ourselves in the foot (proverbially speaking, of course!). The reason? Let's dive in and find out using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Browse to your WordPress installation and activate Firebug using <span class="emphasis"><em>F12</em></span>.</li><li class="listitem">Switch to the <span class="strong"><strong>HTML</strong></span> tab and select your preferred image.</li><li class="listitem">In Firebug, look for the <code class="literal">&lt;header class="entry-header"&gt;</code> line, then look for the following line in the rendered styles on the right-hand side of the window:<div class="informalexample"><pre class="programlisting">.site-content .entry-header, .site-content .entry-content, .site-content .entry-summary, .site-content .entry-meta, .page-content {
    margin: 0 auto; max-width: 474px; 
}</pre></div></li><li class="listitem">The keen-eyed amongst you should hopefully spot the issue straightaway—we're using percentages to make the sizes dynamic for each image, yet we're constraining its parent container! To fix this, change the highlighted line as indicated:<div class="informalexample"><pre class="programlisting">.site-content .entry-header, .site-content .entry-content, .site-content .entry-summary, .site-content .entry-meta, .page-content {
<span class="strong"><strong>    margin: 0 auto; max-width: 100%;</strong></span>
}</pre></div></li><li class="listitem">To balance the content, we need to make the same change to the comments area. So go ahead and change <code class="literal">max-width</code> to <code class="literal">100%</code> as follows:<div class="informalexample"><pre class="programlisting">.comments-area { margin: 48px auto; max-width: 100%; padding: 0 10px; }</pre></div></li><li class="listitem">If we try <a id="id280" class="indexterm"/>resizing the browser window now, we should see the image size adjust automatically.</li></ol></div><p>At this stage, the change is not permanent. To fix this, we would log in to WordPress' admin area, go to <span class="strong"><strong>Appearance</strong></span> | <span class="strong"><strong>Editor</strong></span> and add the adjusted styles at the foot of the <span class="strong"><strong>Stylesheet (style.css)</strong></span> file.</p><p>Let's move on. Did anyone notice two rather critical issues with the approach used here? Hopefully, you must have spotted that if a large image is used and then resized to a smaller size, we're still working with large files. The alteration we're making has a big impact on the theme, even though it is only a small change. Even though it proves that we can make images truly responsive, it is the kind of change that we would not necessarily want to make without careful consideration and plenty of testing.</p><p>We can improve on this. However, making changes directly to the CSS style sheet is not ideal; they could be lost when upgrading to a newer version of the theme. We can improve on this by either using a custom CSS plugin to manage these changes or (better) using a plugin that tells WordPress to swap an existing image for a small one automatically if we resize the window to a smaller size.</p></div><div class="section" title="Using plugins to add responsive images"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec22"/>Using plugins to add responsive images</h2></div></div></div><p>A drawback <a id="id281" class="indexterm"/>though, of using a theme such as Twenty Fourteen, is the resizing of images. While we can grow or shrink an image <a id="id282" class="indexterm"/>when resizing the browser window, we are still technically altering the size of what could potentially be an unnecessarily large image!</p><p>This is considered bad practice (and also bad manners!)—browsing on a desktop with a fast Internet connection as it might not have too much of an impact; the same cannot be said for mobile devices, where we have less choice.</p><p>To overcome this, we need to take a different approach—get WordPress to automatically swap in smaller images when we reach a particular size or breakpoint. Instead of doing this manually using code, we can take advantage of one of the many plugins available that offer responsive capabilities in some format.</p><p>I feel a demo <a id="id283" class="indexterm"/>coming on. Now's a good time to <a id="id284" class="indexterm"/>take a look at one such plugin in action:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Let's start by downloading our plugin. For this exercise, we'll use the <code class="literal">PictureFill.WP</code> plugin by Kyle Ricks, which is available at <a class="ulink" href="https://wordpress.org/plugins/picturefillwp/">https://wordpress.org/plugins/picturefillwp/</a>. We're going to use the version that uses <code class="literal">Picturefill.js</code> version 2. This is available to download from <a class="ulink" href="https://github.com/kylereicks/picturefill.js.wp/tree/master">https://github.com/kylereicks/picturefill.js.wp/tree/master</a>. Click on <span class="strong"><strong>Download ZIP</strong></span> to get the latest version.</li><li class="listitem">Log in to the admin area of your WordPress installation and click on <span class="strong"><strong>Settings</strong></span> and then <span class="strong"><strong>Media</strong></span>. Make sure your image settings for <span class="strong"><strong>Thumbnail</strong></span>, <span class="strong"><strong>Medium</strong></span>, and <span class="strong"><strong>Large</strong></span> sizes are set to values that work with useful breakpoints in your design.</li><li class="listitem">We then need to install the plugin. In the admin area, go to <span class="strong"><strong>Plugins</strong></span> | <span class="strong"><strong>Add New</strong></span> to install the plugin and activate it in the normal manner.<p>At this point, we will have installed responsive capabilities in WordPress—everything is managed automatically by the plugin; there is no need to change any settings (except maybe the image sizes we talked about in step 2).</p></li><li class="listitem">Switch back to your WordPress frontend and try resizing the screen to a smaller size.</li><li class="listitem">Press <span class="emphasis"><em>F12</em></span> to activate Firebug and switch to the <span class="strong"><strong>HTML</strong></span> tab.</li><li class="listitem">Press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>C</em></span> (or <span class="emphasis"><em>Cmd</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>C</em></span> for Mac users) to toggle the element inspector; move your mouse over your resized image.</li><li class="listitem">If we've set the right image sizes in WordPress' admin area and the window is resized correctly, we can expect to see something like the following screenshot:<div class="mediaobject"><img src="graphics/6968OT_05_02.jpg" alt="Using plugins to add responsive images"/></div></li><li class="listitem">To confirm we are indeed using a smaller image, right-click on the image and select <a id="id285" class="indexterm"/><span class="strong"><strong>View Image Info</strong></span>; it <a id="id286" class="indexterm"/>will display something akin to the following screenshot:<div class="mediaobject"><img src="graphics/6968OT_05_03.jpg" alt="Using plugins to add responsive images"/></div></li></ol></div><p>We should now have a fully functioning plugin within our WordPress installation. A good tip is to test this thoroughly, if only to ensure we've set the right sizes for our breakpoints in WordPress!</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note32"/>Note</h3><p>
<span class="strong"><strong>What happens if WordPress doesn't refresh my thumbnail images properly?</strong></span>
</p><p>This can happen. If you find this happening, get hold of and install the Regenerate <a id="id287" class="indexterm"/>Thumbnails plugin to resolve this issue; it's available at <a class="ulink" href="https://wordpress.org/plugins/regenerate-thumbnails/">https://wordpress.org/plugins/regenerate-thumbnails/</a>.</p></div></div></div><div class="section" title="Adding responsive videos using plugins"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec23"/>Adding responsive videos using plugins</h2></div></div></div><p>Now <a id="id288" class="indexterm"/>that we can add responsive images to <a id="id289" class="indexterm"/>WordPress, let's turn our attention to videos. The process of adding them is a little more complex; we need to use code to achieve the best effect. Let's examine our options.</p><p>If you are hosting your own videos, the simplest way is to add some additional CSS style rules. Although this removes any reliance on JavaScript or jQuery using this method, the result isn't perfect and will need additional styles to handle the repositioning of the play button overlay.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note33"/>Note</h3><p>Although we are working locally, we should remember the note from earlier in the chapter; changes to the CSS style sheet may be lost when upgrading. A custom CSS plugin should be used, if possible, to retain any changes.</p></div></div><p>To use a <a id="id290" class="indexterm"/>CSS-only solution, it only requires a couple of steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Browse to your WordPress theme folder and open a copy of <code class="literal">styles.css</code> in your text editor of choice.</li><li class="listitem">Add the following lines at the end of the file and save it:<div class="informalexample"><pre class="programlisting">video { width: 100%; height: 100%; max-width: 100%; }
.wp-video { width: 100% !important; }
.wp-video-shortcode {width: 100% !important; }</pre></div></li><li class="listitem">Close the file. You now have the basics in place for responsive videos.</li></ol></div><p>At this stage, you're probably thinking, "great, my videos are now responsive. I can handle the repositioning of the play button overlay myself, no problem"; sounds about right?</p><p>Thought so and therein lies the main drawback of this method! Repositioning the overlay shouldn't be too difficult. The real problem is in the high costs of hardware and bandwidth that is needed to host videos of any reasonable quality and that even if we were to spend time repositioning the overlay, the high costs would outweigh any benefit of using a CSS-only solution.</p><p>A far better option is to let a service such as YouTube do all the hard work for you and to simply embed your chosen video directly from YouTube into your pages. The main benefit of this is that YouTube's servers do all the hard work for you. You can take advantage of an increased audience and YouTube will automatically optimize the video for the best <a id="id291" class="indexterm"/>resolution possible for the Internet <a id="id292" class="indexterm"/>connections being used by your visitors.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note34"/>Note</h3><p>Although aimed at <a id="id293" class="indexterm"/>beginners, wpbeginner.com has a useful article located at <a class="ulink" href="http://www.wpbeginner.com/beginners-guide/why-you-should-never-upload-a-video-to-wordpress/">http://www.wpbeginner.com/beginners-guide/why-you-should-never-upload-a-video-to-wordpress/</a>, on the pros and cons of why self-hosting videos isn't recommended and that using an external service is preferable.</p></div></div></div><div class="section" title="Using plugins to embed videos"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec24"/>Using plugins to embed videos</h2></div></div></div><p>Embedding <a id="id294" class="indexterm"/>videos from an external service into WordPress is ironically far simpler than using the CSS method. There are dozens of plugins <a id="id295" class="indexterm"/>available to achieve this, but one of the simplest to use (and my <a id="id296" class="indexterm"/>personal favorite) is FluidVids, by Todd Motto, available at <a class="ulink" href="http://github.com/toddmotto/fluidvids/">http://github.com/toddmotto/fluidvids/</a>.</p><p>To get it working in WordPress, we need to follow these steps using a video from YouTube as the basis for our example:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Browse to your WordPress' theme folder and open a copy of <code class="literal">functions.php</code> in your usual text editor.</li><li class="listitem">At the bottom, add the following lines:<div class="informalexample"><pre class="programlisting">add_action ( 'wp_enqueue_scripts', 'add_fluidvid' );

function add_fluidvid() {
  wp_enqueue_script( 'fluidvids', get_stylesheet_directory_uri() . '/lib/js/fluidvids.js', array(), false, true ); 
}</pre></div></li><li class="listitem">Save the file, then log in to the admin area of your WordPress installation.</li><li class="listitem">Navigate to <span class="strong"><strong>Posts</strong></span> | <span class="strong"><strong>Add New</strong></span> to add a post and switch to the <span class="strong"><strong>Text</strong></span> tab of your Post Editor, then add <a class="ulink" href="http://www.youtube.com/watch?v=Vpg9yizPP_g&amp;hd=1">http://www.youtube.com/watch?v=Vpg9yizPP_g&amp;hd=1</a> to the editor on the page.</li><li class="listitem">Click on <span class="strong"><strong>Update</strong></span> to save your post, then click on <span class="strong"><strong>View post</strong></span> to see the video in action.</li></ol></div><p>There is no need to further configure WordPress—any video added from services such as YouTube or Vimeo will be automatically set as responsive by the FluidVids plugin. At this point, try resizing the browser window. If all is well, we should see the video shrink or grow in size, depending on how the browser window has been resized:</p><div class="mediaobject"><img src="graphics/6968OT_05_04.jpg" alt="Using plugins to embed videos"/></div><p>To prove that <a id="id297" class="indexterm"/>the code is working, we can take a peek at the <a id="id298" class="indexterm"/>compiled results within Firebug. We will see something akin to the following screenshot:</p><div class="mediaobject"><img src="graphics/6968OT_05_05.jpg" alt="Using plugins to embed videos"/></div><p>For those of us who are not feeling quite so brave (!), there is fortunately a WordPress plugin available that will achieve the same results, without configuration. It's available at <a class="ulink" href="https://wordpress.org/plugins/fluidvids/">https://wordpress.org/plugins/fluidvids/</a> and can be downloaded and installed using the normal process for WordPress plugins.</p><p>Let's change track and move onto our next demo. I feel a need to get stuck in some coding, so let's <a id="id299" class="indexterm"/>take a look at how we can implement <a id="id300" class="indexterm"/>responsive images in frameworks such as Bootstrap.</p></div></div>
<div class="section" title="Implementing responsive media in Bootstrap"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec48"/>Implementing responsive media in Bootstrap</h1></div></div></div><p>A question—as developers, hands up if you have not heard of Bootstrap? Good—not too many <a id="id301" class="indexterm"/>hands going down</p><p>Why <a id="id302" class="indexterm"/>have I asked this question, I <a id="id303" class="indexterm"/>hear you say? Easy—it's to illustrate that in popular frameworks (such as Bootstrap), it is easy to add basic responsive capabilities to media, such as images or video. The exact process may differ from framework to framework, but the result is likely to be very similar. To see what I mean, let's take a look at using Bootstrap for our second demo, where we'll see just how easy it is to add images and video to our Bootstrap-enabled site.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note35"/>Note</h3><p>If you <a id="id304" class="indexterm"/>would like to explore using some of the free Bootstrap templates that are available, then <a class="ulink" href="http://www.startbootstrap.com/">http://www.startbootstrap.com/</a> is well worth a visit!</p></div></div><div class="section" title="Using Bootstrap's CSS classes"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec25"/>Using Bootstrap's CSS classes</h2></div></div></div><p>Making <a id="id305" class="indexterm"/>images and videos responsive in Bootstrap uses a slightly <a id="id306" class="indexterm"/>different approach to what we've examined so far; this is only because we don't have to define each style property explicitly, but instead simply add the appropriate class to the media HTML for it to render responsively.</p><p>For the <a id="id307" class="indexterm"/>purposes of this demo, we'll use an edited version of the Blog Page example, available at <a class="ulink" href="http://www.getbootstrap.com/getting-started/#examples">http://www.getbootstrap.com/getting-started/#examples</a>; a copy of the edited version is available on the code download that accompanies this book. Before we begin, go ahead and download a copy of the Bootstrap Example folder that is in the code download. Inside, you'll find the CSS, image and JavaScript files needed, along with our HTML <a id="id308" class="indexterm"/>markup file.</p><p>Now that we have our files, the following is a screenshot of what we're going to achieve over the course of our demo:</p><div class="mediaobject"><img src="graphics/6968OT_05_06.jpg" alt="Using Bootstrap's CSS classes"/></div><p>Let's make a <a id="id309" class="indexterm"/>start on our example using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open up <code class="literal">bootstrap.html</code> and look for the following lines (around lines 34 to 35):<div class="informalexample"><pre class="programlisting">    &lt;p class="blog-post-meta"&gt;January 1, 2014 by &lt;a href="#"&gt;Mark&lt;/a&gt;&lt;/p&gt;
      &lt;p&gt;This blog post shows a few different types of content that's supported and styled with Bootstrap. Basic typography, images, and code are all supported.&lt;/p&gt;</pre></div></li><li class="listitem">Immediately below, add the following code—this contains markup for our embedded video, using Bootstrap's responsive CSS styling:<div class="informalexample"><pre class="programlisting">&lt;div class="bs-example"&gt;
  &lt;div class="embed-responsive embed-responsive-16by9"&gt;
    &lt;iframe allowfullscreen="" src="http://www.youtube.com/embed/zpOULjyy-n8?rel=0" class="embed-responsive-item"&gt;&lt;/iframe&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div></li><li class="listitem">With the video now styled, let's go ahead and add in an image—this will go in the <span class="strong"><strong>About</strong></span> <a id="id310" class="indexterm"/>section on the right. Look for these lines, on <a id="id311" class="indexterm"/>or around lines 74 and 75:<div class="informalexample"><pre class="programlisting">    &lt;h4&gt;About&lt;/h4&gt;
      &lt;p&gt;Etiam porta &lt;em&gt;sem malesuada magna&lt;/em&gt; mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.&lt;/p&gt;</pre></div></li><li class="listitem">Immediately below, add in the following markup for our image:<div class="informalexample"><pre class="programlisting">&lt;a href="#" class="thumbnail"&gt;
  &lt;img src="http://placehold.it/350x150" class="img-responsive"&gt;
&lt;/a&gt;</pre></div></li><li class="listitem">Save the file and preview the results in a browser. If all is well, we can see our video and image appear, as shown at the start of our demo.</li></ol></div><p>At this point, try resizing the browser—you should see the video and placeholder image shrink or grow as the window is resized. However, the great thing about Bootstrap is that the right styles have already been set for each class. All we need to do is apply the correct class to the appropriate media file—<code class="literal">.embed-responsive embed-responsive-16by9</code> for videos or <code class="literal">.img-responsive for images</code>—for that image or video to behave responsively within our site.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip17"/>Tip</h3><p>In this example, we used Bootstrap's <code class="literal">.img-responsive</code> class in the code; if we have a lot of images, we could consider using <code class="literal">img { max-width: 100%; height: auto; }</code> instead.</p></div></div><p>So far, we've worked with two popular examples of frameworks in the form of WordPress and Bootstrap. This is great, but it can mean getting stuck into a lot of CSS styling, particularly if we're working with media queries, as we saw earlier in the book! Can we do anything about this? Absolutely! It's time for a brief look at CSS preprocessing and <a id="id312" class="indexterm"/>how this can help with adding responsive <a id="id313" class="indexterm"/>media to our pages.</p></div></div>
<div class="section" title="Using Less CSS to create responsive content"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec49"/>Using Less CSS to create responsive content</h1></div></div></div><p>Working <a id="id314" class="indexterm"/>with frameworks often means <a id="id315" class="indexterm"/>getting stuck into a lot of CSS styling; this can become awkward to manage if we're not careful! To help with this, and for our third scenario, we're going back to basics to work on an alternative way of rendering <a id="id316" class="indexterm"/>CSS using the Less CSS preprocessing language.</p><p>Why? Well, as a superset (or extension) of CSS, Less allows us to write our styles more efficiently; it then compiles them into valid CSS. The aim of this example is to show that if you're already using Less, then we can still apply the same principles that we've covered throughout this book, to make our content responsive.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip18"/>Tip</h3><p>It should be noted that this exercise does assume a certain level of prior experience using Less; if this is the first time, you may like to peruse my book, <span class="emphasis"><em>Learning Less</em></span>, by Packt Publishing.</p></div></div><p>To see what I mean—let's rework the responsive demo from <a class="link" href="ch03.html" title="Chapter 3. Mixing Content">Chapter 3</a>, <span class="emphasis"><em>Mixing Content</em></span>, where we mixed both video and images to use Less in place of normal CSS. There will be a few steps involved in making the changes, so the following screenshot gives a heads-up on what it will look like, once we've finished:</p><div class="mediaobject"><img src="graphics/6968OT_05_07.jpg" alt="Using Less CSS to create responsive content"/></div><p>Hold on! the keen-eyed amongst you might notice that there is nothing different between this version and the one from <a class="link" href="ch03.html" title="Chapter 3. Mixing Content">Chapter 3</a>, <span class="emphasis"><em>Mixing Content</em></span>.</p><p>You would be right. If we play our cards right, there should indeed be no change in appearance; working <a id="id317" class="indexterm"/>with Less is all about <a id="id318" class="indexterm"/>writing CSS more efficiently. Let's see what is involved:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We'll start by extracting copies of the Less CSS example from the code download that accompanies this book—inside it, we'll find our HTML markup, reset style sheet, images, and video needed for our demo. Save the folder locally to your PC.</li><li class="listitem">Next, add the following styles in a new file, saving it as <code class="literal">responsive.less</code> in the <code class="literal">css</code> subfolder—we'll start with some of the styling for the base elements, such as the video and banner:<div class="informalexample"><pre class="programlisting">#wrapper {width: 96%; max-width: 45rem; margin: auto; padding: 2%}
#main { width: 60%; margin-right: 5%; float: left }
#video-wrapper video { max-width:  100%; }
#banner { background-image: url('../img/abstract-banner-large.jpg'); height: 15.31rem; width: 45.5rem; max-width: 100%; 
float: left; margin-bottom: 15px; } 
#skipTo { display: none; li { background: #197a8a }; }

p { font-family: "Droid Sans",sans-serif; }
aside { width: 35%; float: right; }
footer { border-top: 1px solid #ccc; clear: both; height: 30px; padding-top: 5px; }</pre></div></li><li class="listitem">We need to <a id="id319" class="indexterm"/>add some basic formatting styles for images and links, so go ahead and add the following, immediately below the <code class="literal">#skipTo</code> rule:<div class="informalexample"><pre class="programlisting">a { text-decoration: none; text-transform: uppercase }
a, img { border: medium none; color: #000; font-weight: bold; outline: medium none; }</pre></div></li><li class="listitem">Next up <a id="id320" class="indexterm"/>comes the navigation for our page. These styles control the main navigation and the <span class="strong"><strong>Skip To…</strong></span> link that appears when viewed on smaller devices. Go ahead and add these style rules immediately below the rules for <code class="literal">a</code> and <code class="literal">img</code>:<div class="informalexample"><pre class="programlisting">header { 
  font-family: 'Droid Sans', sans-serif; 
  h1 { height: 70px; float: left; display: block; font-weight: 700; font-size: 2rem; }
  nav { 
    float: right; margin-top: 40px; height: 22px; border-radius: 4px; 
    li { display: inline; margin-left: 15px; }
    ul { font-weight: 400; font-size: 1.1rem; }
    a { 
      padding: 5px 5px 5px 5px; 
      &amp;:hover { background-color: #27a7bd; color: #fff; border-radius: 4px; }
      }
    }
  }</pre></div></li><li class="listitem">We need to add the media query that controls the display for smaller devices, so go ahead and add the following to a new file and save it as <code class="literal">media.less</code> in the <code class="literal">css</code> subfolder. We'll start with setting the screen size for our media query:<div class="informalexample"><pre class="programlisting">@smallscreen: ~"screen and (max-width: 30rem)";

@media @smallscreen {
  p { font-family: "Droid Sans", sans-serif; }

    #main, aside { margin: 0 0 10px; width: 100%; }
    #banner { margin-top: 150px; height: 4.85rem; max-width: 100%; background-image: url('../img/abstract-banner-medium.jpg'); width: 45.5rem; }</pre></div></li><li class="listitem">Next up <a id="id321" class="indexterm"/>comes the media <a id="id322" class="indexterm"/>query rule that will handle the <span class="strong"><strong>Skip To…</strong></span> link at the top of our resized window:<div class="informalexample"><pre class="programlisting">    #skipTo {
      display: block; height: 18px;
      a { 
        display: block; text-align: center; color: #fff; font-size: 0.8rem;
        &amp;:hover { background-color: #27a7bd; border-radius:0; height: 20px }
      }
    }</pre></div></li><li class="listitem">We can't forget the main navigation, so go ahead and add the following line of code immediately below the block for <code class="literal">#skipTo</code>:<div class="informalexample"><pre class="programlisting">    header {  
      h1 { margin-top: 20px }
      nav { 
        float: left; clear: left; margin: 0 0 10px; width: 100%; 
        li { margin: 0; background: #efefef; display: block; margin-bottom: 3px; height: 40px; }
        a {
          display: block; padding: 10px; text-align: center; color: #000; 
          &amp;:hover {background-color: #27a7bd; border-radius: 0; padding: 10px; height: 20px; }
        }
      }
    } 
  }</pre></div></li></ol></div><p>At this point, we should then compile the Less style sheet before previewing the results of our work. If we launch <code class="literal">responsive.html</code> in a browser, we'll see our mocked up portfolio page appear as we saw at the beginning of the exercise. If we resize the screen to its minimum width, its responsive design kicks in to reorder and resize elements on screen, as we would expect to see.</p><p>Okay, so we now <a id="id323" class="indexterm"/>have a responsive page that <a id="id324" class="indexterm"/>uses Less CSS for styling; it still seems like a lot of code, right? </p><div class="section" title="Working through the code in detail"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec26"/>Working through the code in detail</h2></div></div></div><p>Although <a id="id325" class="indexterm"/>this seems like a lot of code for a simple page, the principles we've used are in fact very simple and are the ones we already used earlier in the book. Not convinced? Well, let's look at it in more detail—the focus of this book is on responsive images and video, so we'll start with video.</p><p>Open the <code class="literal">responsive.css</code> style sheet and look for the <code class="literal">#video-wrapper</code> video class:</p><div class="informalexample"><pre class="programlisting">#video-wrapper video { max-width:  100%; }</pre></div><p>Notice how it's set to a <code class="literal">max-width</code> value of <code class="literal">100%</code>? We used <code class="literal">max-width</code> to style the original video back in <a class="link" href="ch02.html" title="Chapter 2. Adding Responsive Video Content">Chapter 2</a>, <span class="emphasis"><em>Adding Responsive Video Content</em></span>. It's no different here. Granted, we don't want to resize a large video to a really small size—we would use a media query to replace it with a smaller version. But, for most purposes, <code class="literal">max-width</code> should be sufficient.</p><p>Now, for the image, this is a little more complicated, but it still uses the same principles we applied back in <a class="link" href="ch01.html" title="Chapter 1. Working with Responsive Images">Chapter 1</a>, <span class="emphasis"><em>Working with Responsive Images</em></span>. Let's start with the code from <code class="literal">responsive.less</code>:</p><div class="informalexample"><pre class="programlisting">#banner { background-image: url('../img/abstract-banner-large.jpg'); height: 15.31rem; width: 45.5rem; max-width: 100%; 
float: left; margin-bottom: 15px; }</pre></div><p>Here, we used the <code class="literal">max-width</code> value again, exactly as we did back in <a class="link" href="ch01.html" title="Chapter 1. Working with Responsive Images">Chapter 1</a>, <span class="emphasis"><em>Working with Responsive Images</em></span>. In both instances, we can style the element directly, unlike videos where we have to add a container in order to style it. The theme continues in the media query setup in <code class="literal">media.less</code>:</p><div class="informalexample"><pre class="programlisting">@smallscreen: ~"screen and (max-width: 30rem)";
@media @smallscreen {
  ...
  #banner { margin-top: 150px; background-image: url('../img/abstract-banner-medium.jpg'); height: 4.85rem; width: 45.5rem; max-width: 100%; }
  ...
}</pre></div><p>In this instance, we're styling the element to cover the width of the viewport, in exactly the same way as <a id="id326" class="indexterm"/>we did back in <a class="link" href="ch03.html" title="Chapter 3. Mixing Content">Chapter 3</a>, <span class="emphasis"><em>Mixing Content</em></span>.</p><p>A small point of note; you might ask why we are using the <code class="literal">rem</code> values instead of the percentage values when styling our image? This is a good question—the key to it is that when using pixel values, these do not scale well in responsive designs. However, the <code class="literal">rem</code> values do scale beautifully; we could use percentage values if we're so inclined, although they are best suited to instances where we need to fill a container that only covers part of the screen (as we did with the video for this demo).</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note36"/>Note</h3><p>An <a id="id327" class="indexterm"/>interesting article extolling the virtues of why we should use rem units is available at <a class="ulink" href="http://techtime.getharvest.com/blog/in-defense-of-rem-units">http://techtime.getharvest.com/blog/in-defense-of-rem-units</a> - it's worth a read. Of particular note is a known bug with using rem values in <a id="id328" class="indexterm"/>Mobile Safari, which should be considered when developing for mobile platforms; with all of the iPhones available, its usage could be said to be higher than Firefox! For more details, head over to <a class="ulink" href="http://wtfhtmlcss.com/#rems-mobile-safari">http://wtfhtmlcss.com/#rems-mobile-safari</a>.</p></div></div></div><div class="section" title="Transferring to production use"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec27"/>Transferring to production use</h2></div></div></div><p>Throughout <a id="id329" class="indexterm"/>this exercise, we used Less to compile our styles on the fly each time. This is okay for development purposes, but is not recommended for production use. Once we've worked out the requisite styles needed for our site, we should always look to precompile them into valid CSS before uploading the results into our site.</p><p>There are a number of options available for this purpose; two of my personal favorites are Crunch! <a id="id330" class="indexterm"/>available at <a class="ulink" href="http://www.crunchapp.net">http://www.crunchapp.net</a> and the Less2CSS <a id="id331" class="indexterm"/>plugin for Sublime Text available at <a class="ulink" href="https://github.com/timdouglas/sublime-less2css">https://github.com/timdouglas/sublime-less2css</a>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note37"/>Note</h3><p>You can learn more about precompiling Less code from my new book, <span class="emphasis"><em>Learning Less.js</em></span>, by Packt Publishing.</p></div></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec50"/>Summary</h1></div></div></div><p>Wow! We've certainly covered a lot; it shows that adding basic responsive capabilities to media need not be difficult. Let's take a moment to recap on what you learned.</p><p>We kicked off this chapter with an introduction to three real-word scenarios that we would then cover. Our first scenario looked at using WordPress. We covered how although we can add simple CSS styling to make images and videos responsive, the preferred method is to use one of the several plugins available to achieve the same result.</p><p>Our next scenario visited the all too familiar framework known as Twitter Bootstrap. In comparison, we saw that this is a much easier framework to work with, in that styles have been predefined and that all we needed to do was add the right class to the right selector.</p><p>Our third and final scenario went completely the opposite way, with a look at using the Less CSS preprocessor to handle the styles that we would otherwise have manually created. We saw how easy it was to rework the styles we originally created earlier in the chapter to produce a more concise and efficient version that compiled into valid CSS with no apparent change in design.</p><p>Well, we've now reached the end of the book; all good things must come to an end at some point! Nonetheless, I hope you've enjoyed reading the book as much as I have writing it. Hopefully, I've shown that adding responsive media to your sites need not be as complicated as it might first look and that it gives you a good grounding to develop something more complex using responsive media.</p></div></body></html>