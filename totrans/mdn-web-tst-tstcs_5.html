<html><head></head><body>
		<div id="_idContainer033">
			<h1 id="_idParaDest-72"><em class="italic"><a id="_idTextAnchor125"/>Chapter 5:</em> Improving the Tests</h1>
			<p>The main learning goal of this chapter is to get familiar with how to improve a set of end-to-end tests. This will be achieved with the help of test setup and teardown. Also, we will take a look at different command-line settings to run tests. The testing techniques that we will cover in this chapter are universal and can be reused to write automated tests for any web project. By the end <a id="_idTextAnchor126"/>of the chapter, we will have an improved test suite and will learn how to run it with command-line options.</p>
			<p>In this chapter, we're going to cover the following main topics:</p>
			<ul>
				<li>Executing selected tests.</li>
				<li>Exploring test setup and teardown.</li>
				<li>Adding setup and teardown to the test project.</li>
				<li>Running tests with command-line settings.</li>
			</ul>
			<h1 id="_idParaDest-73"><a id="_idTextAnchor127"/>Technical requirements</h1>
			<p>All of the code examples for this chapter can be found on GitHub at <a href="https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5">https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5</a>.</p>
			<h1 id="_idParaDest-74"><a id="_idTextAnchor128"/>Executing selected tests</h1>
			<p>Quite often, when<a id="_idIndexMarker197"/> writing or extending a set of tests, we need to concentrate on one specific test while omitting all others. Tests are usually organized into sets (groups of tests are also known<a id="_idIndexMarker198"/> as fixtures). Luckily, TestCafe provides the <strong class="source-inline">fixture.only</strong> and <strong class="source-inline">test.only</strong> methods to specify that only a selected test or fixture should be executed and all others should be skipped. Let's review it using our set of tests in a simplified form, with all the test actions commented out:</p>
			<p class="source-code">// ...fixture('Redmine log in tests')    .page('http://demo.redmine.org/');test.only('Create a new user', async (t) =&gt; { /* ... */ });test('Log in', async (t) =&gt; { /* ... */ });test('Log out', async (t) =&gt; { /* ... */ });fixture('Redmine entities creation tests')    .page('http://demo.redmine.org/');test('Create a new project', async (t) =&gt; { /* ... */ });test('Create a new issue', async (t) =&gt; { /* ... */ });test('Verify that the issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Upload a file', async (t) =&gt; { /* ... */ });fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/');test('Edit the issue', async (t) =&gt; { /* ... */ });test('Verify that the updated issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Search for the issue', async (t) =&gt; { /* ... */ });fixture.only('Redmine entities deletion tests')    .page('http://demo.redmine.org/');test('Delete the issue', async (t) =&gt; { /* ... */ });test('Delete the file', async (t) =&gt; { /* ... */ });</p>
			<p>As you can see in the example, <strong class="source-inline">test.only</strong> is used in the <strong class="source-inline">Create a new user</strong> test, and <strong class="source-inline">fixture.only</strong> is used in the <strong class="source-inline">Redmine entities deletion tests</strong> fixture, so only the <strong class="source-inline">Create a new user</strong>, <strong class="source-inline">Delete the issue</strong>, and <strong class="source-inline">Delete the file</strong> tests will be executed.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">If several tests (or fixtures) are marked with <strong class="source-inline">test.only</strong> (or <strong class="source-inline">fixture.only</strong>), all the marked tests and fixtures will be executed.</p>
			<p>In addition to <a id="_idIndexMarker199"/>that, TestCafe allows you to use the <strong class="source-inline">test.skip</strong> and <strong class="source-inline">fixture.skip</strong> methods to specify a test or a fixture to skip when tests run:</p>
			<p class="source-code">// ...fixture('Redmine log in tests')    .page('http://demo.redmine.org/');test('Create a new user', async (t) =&gt; { /* ... */ });test.skip('Log in', async (t) =&gt; { /* ... */ });test.skip('Log out', async (t) =&gt; { /* ... */ });fixture.skip('Redmine entities creation tests')    .page('http://demo.redmine.org/');test('Create a new project', async (t) =&gt; { /* ... */ });test('Create a new issue', async (t) =&gt; { /* ... */ });test('Verify that the issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Upload a file', async (t) =&gt; { /* ... */ });fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/');test('Edit the issue', async (t) =&gt; { /* ... */ });test.skip('Verify that the updated issue is displayed on a project page', async (t) =&gt; { /* ... */ });test.skip('Search for the issue', async (t) =&gt; { /* ... */ });fixture.skip('Redmine entities deletion tests')    .page('http://demo.redmine.org/');test('Delete the issue', async (t) =&gt; { /* ... */ });test('Delete the file', async (t) =&gt; { /* ... */ });</p>
			<p>As demonstrated in the preceding example, only the <strong class="source-inline">Create a new user</strong> and <strong class="source-inline">Edit the issue</strong> tests will be executed.</p>
			<p>Now that we have<a id="_idIndexMarker200"/> learned how to execute a particular test or fixture, skipping all the others, let's see how test setup and teardown can be done.</p>
			<h1 id="_idParaDest-75"><a id="_idTextAnchor129"/>Exploring test setup and teardown</h1>
			<p>As tests can<a id="_idIndexMarker201"/> be quite long and contain a lot of repetitive actions, TestCafe has a way to optimize this with test setup and teardown.</p>
			<p>Setup is usually done by executing a number of specific functions (also known as hooks) <em class="italic">before</em> a fixture or test starts (including <strong class="source-inline">fixture.before</strong>, <strong class="source-inline">fixture.beforeEach</strong>, and <strong class="source-inline">test.before</strong>).</p>
			<p>Teardown is usually done by executing a number of specific functions <em class="italic">after</em> a fixture or test is completed (including <strong class="source-inline">fixture.after</strong>, <strong class="source-inline">fixture.afterEach</strong>, and <strong class="source-inline">test.after</strong>).</p>
			<p>There are six methods for using hooks in TestCafe. </p>
			<p>The first two (<strong class="source-inline">fixture.before</strong> and <strong class="source-inline">fixture.after</strong>) do not have access to the tested page and thus should be used to perform server-side operations, such as preparing the tested application's server or pre-creating some test data in the database:</p>
			<ul>
				<li><strong class="source-inline">fixture.before</strong> can be used to specify actions that should be executed before the first test in a fixture starts (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/before.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/before.html</a>). In the following example, the <strong class="source-inline">createTestData</strong> function will be called before the first test of the <strong class="source-inline">My first set of tests</strong> fixture:<p class="source-code">fixture('My first set of tests')    .page('https://test-site.com')    .before(async (t) =&gt; {        await createTestData();    });</p></li>
				<li><strong class="source-inline">fixture.after</strong> can <a id="_idIndexMarker202"/>be used to specify actions that should be executed after the last test in a fixture is finished (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/after.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/after.html</a>). In the following example, the <strong class="source-inline">deleteTestData</strong> function will be called after the last test of the <strong class="source-inline">My first set of tests</strong> fixture:<p class="source-code">fixture('My first set of tests')    .page('https://test-site.com')    .after(async (t) =&gt; {        await deleteTestData();    });</p></li>
			</ul>
			<p>The next four methods (<strong class="source-inline">fixture.beforeEach</strong>, <strong class="source-inline">fixture.afterEach</strong>, <strong class="source-inline">test.before</strong>, and <strong class="source-inline">test.after</strong>) are launched when the tested web page is already loaded, so you can execute test actions and other test API methods inside these test hooks:</p>
			<ul>
				<li><strong class="source-inline">fixture.beforeEach</strong> can be used to specify actions that should be executed before each test in a fixture (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/beforeeach.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/beforeeach.html</a>). In the following example, the <strong class="source-inline">click</strong> action will be performed before each test of the <strong class="source-inline">My first set of tests</strong> fixture:<p class="source-code">fixture('My first set of tests')    .page('https://test-site.com')    .beforeEach(async (t) =&gt; {        await t.click('#log-in');    });</p></li>
				<li><strong class="source-inline">fixture.afterEach</strong> can be used to specify actions that should be executed after each test in a fixture (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/aftereach.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/aftereach.html</a>). In the following example, the <strong class="source-inline">click</strong> action will be performed after<a id="_idIndexMarker203"/> each test of the <strong class="source-inline">My first set of tests</strong> fixture:<p class="source-code">fixture('My first set of tests')    .page('https://test-site.com')    .afterEach(async (t) =&gt; {        await t.click('#delete-test-data');    });</p></li>
				<li><strong class="source-inline">test.before</strong> can be used to specify actions that should be executed before a particular test (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/test/before.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/test/before.html</a>). In the following example, the <strong class="source-inline">click</strong> action will be performed before the <strong class="source-inline">My first Test</strong> test:<p class="source-code">test     .before(async (t) =&gt; {        await t.click('#log-in');    })    ('My first Test', async (t) =&gt; { /* ... */ });</p></li>
				<li><strong class="source-inline">test.after</strong> can be used to specify actions that should be executed after a particular test (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/test/after.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/test/after.html</a>). In the following example, the <strong class="source-inline">click</strong> action will be performed after the <strong class="source-inline">My first Test</strong> test:<p class="source-code">test     .after(async (t) =&gt; {        await t.click('#delete-test-data');    })    ('My first Test', async (t) =&gt; { /* ... */ });</p><p class="callout-heading">Note</p><p class="callout">If a test runs in several browsers, test hooks are executed in each browser. If both the <strong class="source-inline">fixture.beforeEach</strong> and <strong class="source-inline">test.before</strong> (or <strong class="source-inline">fixture.afterEach</strong> and <strong class="source-inline">test.after</strong>) hooks are used together, the most specific hook will overrule. So, <strong class="source-inline">test.before</strong> (or <strong class="source-inline">test.after</strong>) will be executed and <strong class="source-inline">fixture.beforeEach</strong> (or <strong class="source-inline">fixture.afterEach</strong>) will be omitted and will not run for this test.</p></li>
			</ul>
			<p>You can read <a id="_idIndexMarker204"/>more about the hooks at <a href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/organize-tests.html#initialization-and-clean-up">https://devexpress.github.io/testcafe/documentation/guides/basic-guides/organize-tests.html#initialization-and-clean-up</a>.</p>
			<p>In this section, we went through the types of hooks that are available in TestCafe. Now, let's put this knowledge into practice by applying it to our set of tests.</p>
			<p>Adding setup and teardown to the test project</p>
			<p>In this <a id="_idIndexMarker205"/>section, we will see how to<a id="_idIndexMarker206"/> optimize our test project code with setup and teardown blocks. </p>
			<p>As we saw in the <em class="italic">Exploring test setup and teardown</em> section, <strong class="source-inline">fixture.beforeEach</strong> can specifically be useful when each of the tests needs a user to be logged in before the test. That's exactly our case, so let's add the <strong class="source-inline">beforeEach</strong> block to the <strong class="source-inline">Redmine entities creation tests</strong> fixture:</p>
			<p class="source-code">// ...fixture('Redmine entities creation tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');    });</p>
			<p>Let's also<a id="_idIndexMarker207"/> remove the login actions from all the tests of the <strong class="source-inline">Redmine entities creation tests</strong> fixture, as these actions<a id="_idIndexMarker208"/> will be executed in the <strong class="source-inline">beforeEach</strong> block. So, the <strong class="source-inline">Create a new project</strong> test will look like this:</p>
			<p class="source-code">test('Create a new project', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits1}`)        .click('[value="Create"]')        .expect(Selector('#flash_notice').innerText).eql('Successful creation.')        .expect(getPageUrl()).contains(`/projects/test_project${randomDigits1}/settings`);});</p>
			<p>After all login actions were moved to the <strong class="source-inline">beforeEach</strong> block, the <strong class="source-inline">Create</strong> <strong class="source-inline">a new</strong> <strong class="source-inline">issue</strong> test will look like this:</p>
			<p class="source-code">test('Create a new issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits2}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits2}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue   ${randomDigits2}`)        .typeText('#issue_description', `Test issue description ${randomDigits2}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .expect(Selector('#flash_notice').innerText).contains('created.');});</p>
			<p>And the <strong class="source-inline">Verify that the issue is displayed on a project page</strong> test, without login actions, will look like this:</p>
			<p class="source-code">test('Verify that the issue is displayed on a project page', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_    project${randomDigits3}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits3}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits3}`)        .typeText('#issue_description', `Test issue description ${randomDigits3}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits3}"]`)        .click('#main-menu .issues')        .expect(Selector('.subject a').innerText).</p>
			<p class="source-code">contains(`Test issue ${randomDigits3}`);});</p>
			<p>And finally, the <strong class="source-inline">Upload a file</strong> test without login actions will look like this:</p>
			<p class="source-code">test('Upload a file', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits8}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits8}"]`)        .click('.files')        .click('.icon-add')        .setFilesToUpload('input.file_selector', './uploads/test-file.txt')        .click('[value="Add"]')        .expect(Selector('.filename').innerText).eql('test-file.txt')        .expect(Selector('.digest').innerText).eql('d8e8fca2dc0f896fd7cb4cb0031ba249');});</p>
			<p>Now, let's add the <strong class="source-inline">beforeEach</strong> block to the <strong class="source-inline">Redmine entities editing tests</strong> fixture:</p>
			<p class="source-code">fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');    });</p>
			<p>Let's also remove the login <a id="_idIndexMarker209"/>actions from all the<a id="_idIndexMarker210"/> tests of the <strong class="source-inline">Redmine entities editing tests</strong> fixture, as this action will now be executed in the <strong class="source-inline">beforeEach</strong> block. So, the <strong class="source-inline">Edit the issue</strong> test will look like this:</p>
			<p class="source-code">test('Edit the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits4}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits4}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits4}`)        .typeText('#issue_description', `Test issue description ${randomDigits4}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits4}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits4}`))        .click('.icon-edit')        .selectText('#issue_subject')        .pressKey('delete')        .typeText('#issue_subject', `Issue ${randomDigits4} updated`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('Normal'))        .click('[value="Submit"]')        .expect(Selector('#flash_notice').innerText).eql('Successful update.');});</p>
			<p>All login actions were<a id="_idIndexMarker211"/> moved to <a id="_idIndexMarker212"/>the <strong class="source-inline">beforeEach</strong> block, so the <strong class="source-inline">Verify that the updated issue is displayed on a project page</strong> test will look like this:</p>
			<p class="source-code">test('Verify that the updated issue is displayed on a project page', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits5}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits5}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits5}`)        .typeText('#issue_description', `Test issue description ${randomDigits5}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits5}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits5}`))        .click('.icon-edit')        .selectText('#issue_subject')        .pressKey('delete')        .typeText('#issue_subject', `Issue ${randomDigits5} updated`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').         withText('Normal'))        .click('[value="Submit"]')        .click('#main-menu .issues')        .expect(Selector('.subject a').innerText).eql(`Issue ${randomDigits5} updated`);});</p>
			<p>The <strong class="source-inline">Search for the issue</strong> test without all login actions will look like this:</p>
			<p class="source-code">test('Search for the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits6}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits6}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits6}`)        .typeText('#issue_description', `Test issue description ${randomDigits6}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').         withText('High'))        .click('[value="Create"]')        .navigateTo('http://demo.redmine.org/search')        .typeText('#search-input', `Test issue ${randomDigits6}`)        .click('[value="Submit"]')        .expect(Selector('#search-results').innerText).contains(`Test issue ${randomDigits6}`);});</p>
			<p>Now, let's add the <strong class="source-inline">beforeEach</strong> block to the <strong class="source-inline">Redmine entities deletion tests</strong> fixture:</p>
			<p class="source-code">fixture('Redmine entities deletion tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');});</p>
			<p>Let's also remove<a id="_idIndexMarker213"/> the login actions from all<a id="_idIndexMarker214"/> the tests of the <strong class="source-inline">Redmine entities deletion tests</strong> fixture, as these actions will now be executed in the <strong class="source-inline">beforeEach</strong> block. So, the <strong class="source-inline">Delete the issue</strong> test will look like this:</p>
			<p class="source-code">test('Delete the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_  project${randomDigits7}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits7}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits7}`)        .typeText('#issue_description', `Test issue description ${randomDigits7}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits7}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits7}`))        .setNativeDialogHandler(() =&gt; true)        .click('.icon-del')        .expect(Selector('.subject a').withText(`Test issue ${randomDigits7}`).exists).notOk()        .expect(Selector('.nodata').innerText).eql('No data to display');});</p>
			<p>And the <strong class="source-inline">Delete the file</strong> test, after all login actions were moved to the <strong class="source-inline">beforeEach</strong> block, will look like this:</p>
			<p class="source-code">test('Delete the file', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_  project${randomDigits9}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits9}"]`)        .click('.files')        .click('.icon-add')        .setFilesToUpload('input.file_selector', './uploads/test-file.txt')        .click('[value="Add"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_</p>
			<p class="source-code">         project${randomDigits9}"]`)        .click('.files')        .setNativeDialogHandler(() =&gt; true)        .click(Selector('.filename a').withText('test-file.txt').parent('.file').find('.buttons a').withAttribute('data-method', 'delete'))        .expect(Selector('.filename').withText('test-file.txt').exists).notOk()        .expect(Selector('.digest').withText('d8e8fca2dc0f896fd7cb4cb0031ba249').exists).         notOk();});</p>
			<p class="callout-heading">Note</p>
			<p class="callout">You can also review and download this file on GitHub at <a href="https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5/test-project/tests/basic-tests17.js">https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5/test-project/tests/basic-tests17.js</a>.</p>
			<p>As we have<a id="_idIndexMarker215"/> integrated setup and <a id="_idIndexMarker216"/>teardown blocks, let's see how to run tests with command-line settings.</p>
			<h1 id="_idParaDest-76"><a id="_idTextAnchor130"/>Running tests with command-line settings</h1>
			<p>As we already<a id="_idIndexMarker217"/> learned in <a href="B16280_03_Final_JM_ePub.xhtml#_idTextAnchor043"><em class="italic">Chapter 3</em></a>, <em class="italic">Setting Up the Environment</em>, when<a id="_idIndexMarker218"/> you trigger tests by executing the <strong class="source-inline">testcafe</strong> command, TestCafe reads settings from the <strong class="source-inline">.testcaferc.json</strong> configuration file, if this file exists, and then applies the settings from the command line on top of it. Command-line settings overrule values from the configuration file if they differ. TestCafe outputs information about each overridden property to the console.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">If the <strong class="source-inline">browsers</strong> and <strong class="source-inline">src</strong> properties are provided in the configuration file, you can omit them in the command line.</p>
			<p>Let's review some of the main command-line settings that can be used with the <strong class="source-inline">testcafe</strong> command while launching the tests:</p>
			<ul>
				<li><strong class="source-inline">--help</strong>, or <strong class="source-inline">-h</strong>, outputs a list of all the available command-line options (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-h---help">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-h---help</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe --help</strong></p></li>
				<li><strong class="source-inline">--quarantine-mode</strong>, or <strong class="source-inline">-q</strong>, enables quarantine mode for tests that fail (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-q---quarantine-mode">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-q---quarantine-mode</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --quarantine-mode</strong></p></li>
				<li><strong class="source-inline">--debug-mode</strong>, or <strong class="source-inline">-d</strong>, executes <a id="_idIndexMarker219"/>test<a id="_idIndexMarker220"/> steps one by one, pausing the test after each step for debugging (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-d---debug-mode">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-d---debug-mode</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --debug-mode</strong></p></li>
				<li><strong class="source-inline">--debug-on-fail</strong>: If a test fails, automatically pause it and enter debug mode (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--debug-on-fail">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--debug-on-fail</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --debug-on-fail</strong></p></li>
				<li><strong class="source-inline">--disable-page-caching</strong> disables browser page caching during test execution (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--disable-page-caching">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--disable-page-caching</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --disable-page-caching</strong></p></li>
				<li><strong class="source-inline">--skip-js-errors</strong>, or <strong class="source-inline">-e</strong>, makes sure tests don't fail when a JavaScript error occurs on a tested page (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-e---skip-js-errors">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-e---skip-js-errors</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --skip-js-errors</strong></p></li>
				<li><strong class="source-inline">--skip-uncaught-errors</strong>, or <strong class="source-inline">-u</strong>, ignores uncaught errors and unhandled promise <a id="_idIndexMarker221"/>rejections that occur during test<a id="_idIndexMarker222"/> execution (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-u---skip-uncaught-errors">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-u---skip-uncaught-errors</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --skip-uncaught-errors</strong></p></li>
				<li><strong class="source-inline">--test &lt;name&gt;</strong>, or <strong class="source-inline">-t &lt;name&gt;</strong>, only runs tests with the specified name (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-name---test-name">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-name---test-name</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test "Click a link"</strong></p></li>
				<li><strong class="source-inline">--test-grep &lt;pattern&gt;</strong>, or <strong class="source-inline">-T &lt;pattern&gt;</strong>, only runs tests matching the specified pattern (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-pattern---test-grep-pattern">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-pattern---test-grep-pattern</a>). For example, to run tests whose names are <strong class="source-inline">Click a link</strong>, <strong class="source-inline">Click a dropdown</strong>, and so on, open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test-grep "Click.*"</strong></p></li>
				<li><strong class="source-inline">--fixture &lt;name&gt;</strong>, or <strong class="source-inline">-f &lt;name&gt;</strong>, only runs tests from the fixtures with the specified name (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-name---fixture-name">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-name---fixture-name</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture "My first Fixture"</strong></p></li>
				<li><strong class="source-inline">--fixture-grep &lt;pattern&gt;</strong>, or <strong class="source-inline">-F &lt;pattern&gt;</strong>, only runs tests from the fixtures matching the specified pattern (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-pattern---fixture-grep-pattern">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-pattern---fixture-grep-pattern</a>). For example, to run tests from the<a id="_idIndexMarker223"/> fixtures whose names<a id="_idIndexMarker224"/> are <strong class="source-inline">Suite1</strong>, <strong class="source-inline">Suite2</strong>, and so on, open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture-grep "Suite.*"</strong></p></li>
				<li><strong class="source-inline">--test-meta &lt;key=value[,key2=value2,...]&gt;</strong> runs tests whose metadata matches the specified key-value pair (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--test-meta-keyvaluekey2value2">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--test-meta-keyvaluekey2value2</a>). For example, to run tests whose metadata's <strong class="source-inline">suite</strong> property is set to <strong class="source-inline">fast</strong> and <strong class="source-inline">env</strong> property is set to <strong class="source-inline">staging</strong>, open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test-meta suite=fast,env=staging</strong></p></li>
				<li><strong class="source-inline">--fixture-meta &lt;key=value[,key2=value2,...]&gt;</strong> runs tests from fixtures whose metadata matches the specified key-value pair (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--fixture-meta-keyvaluekey2value2">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--fixture-meta-keyvaluekey2value2</a>). For example, to run tests from fixtures whose metadata's <strong class="source-inline">suite</strong> property is set to <strong class="source-inline">long</strong> and <strong class="source-inline">env</strong> property is set to <strong class="source-inline">production</strong>, open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture-meta suite=long,env=production</strong></p></li>
				<li><strong class="source-inline">--app &lt;command&gt;</strong>, or <strong class="source-inline">-a &lt;command&gt;</strong>, executes the specified shell command <a id="_idIndexMarker225"/>before tests are started, and is <a id="_idIndexMarker226"/>often used to launch the tested app using the specified command before running tests (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-a-command---app-command">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-a-command---app-command</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --app "node index.js"</strong></p></li>
				<li><strong class="source-inline">--concurrency &lt;number&gt;</strong>, or <strong class="source-inline">-c &lt;number&gt;</strong>, runs tests in parallel (concurrently) by spawning the provided number of browser instances (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-c-n---concurrency-n">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-c-n---concurrency-n</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --concurrency 4</strong></p></li>
				<li><strong class="source-inline">--speed &lt;factor&gt;</strong> sets the speed of test execution from the slowest, <strong class="source-inline">0.01</strong>, to the fastest, <strong class="source-inline">1 </strong>(<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--speed-factor">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--speed-factor</a>). Open any shell and run the following:<p class="source-code"><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --speed 0.8</strong></p></li>
			</ul>
			<p>You can read more <a id="_idIndexMarker227"/>about all the command-line options at <a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html</a>.</p>
			<p>It is good practice to keep all the major settings in the <strong class="source-inline">.testcaferc.json</strong> configuration file, overriding <a id="_idIndexMarker228"/>them with command-line settings when needed – for example, a <a id="_idIndexMarker229"/>combination of <strong class="source-inline">--debug-on-fail --speed 0.8</strong> will be quite convenient for debugging.</p>
			<p>To sum up, in this section we learned about some of the main command-line settings and how they can be used when launching tests.</p>
			<h1 id="_idParaDest-77"><a id="_idTextAnchor131"/>Summary</h1>
			<p>In this chapter, we explored how to execute tests selectively, as well as how to generalize some test actions with the help of test setup and teardown. Also, we reviewed some command-line settings to run tests. Now we have an improved test suite and know how to run it with command-line options.</p>
			<p>In the next chapter, we will continue to refine our test suite by moving some test logic to separate functions and refactoring tests with <strong class="source-inline">PageObjects</strong>.</p>
		</div>
	</body></html>