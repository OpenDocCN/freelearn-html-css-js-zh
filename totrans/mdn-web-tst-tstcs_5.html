<html><head></head><body>
		<div><h1 id="_idParaDest-72"><em class="italic"><a id="_idTextAnchor125"/>Chapter 5:</em> Improving the Tests</h1>
			<p>The main learning goal of this chapter is to get familiar with how to improve a set of end-to-end tests. This will be achieved with the help of test setup and teardown. Also, we will take a look at different command-line settings to run tests. The testing techniques that we will cover in this chapter are universal and can be reused to write automated tests for any web project. By the end <a id="_idTextAnchor126"/>of the chapter, we will have an improved test suite and will learn how to run it with command-line options.</p>
			<p>In this chapter, we're going to cover the following main topics:</p>
			<ul>
				<li>Executing selected tests.</li>
				<li>Exploring test setup and teardown.</li>
				<li>Adding setup and teardown to the test project.</li>
				<li>Running tests with command-line settings.</li>
			</ul>
			<h1 id="_idParaDest-73"><a id="_idTextAnchor127"/>Technical requirements</h1>
			<p>All of the code examples for this chapter can be found on GitHub at <a href="https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5">https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5</a>.</p>
			<h1 id="_idParaDest-74"><a id="_idTextAnchor128"/>Executing selected tests</h1>
			<p>Quite often, when<a id="_idIndexMarker197"/> writing or extending a set of tests, we need to concentrate on one specific test while omitting all others. Tests are usually organized into sets (groups of tests are also known<a id="_idIndexMarker198"/> as fixtures). Luckily, TestCafe provides the <code>fixture.only</code> and <code>test.only</code> methods to specify that only a selected test or fixture should be executed and all others should be skipped. Let's review it using our set of tests in a simplified form, with all the test actions commented out:</p>
			<pre>// ...fixture('Redmine log in tests')    .page('http://demo.redmine.org/');test.only('Create a new user', async (t) =&gt; { /* ... */ });test('Log in', async (t) =&gt; { /* ... */ });test('Log out', async (t) =&gt; { /* ... */ });fixture('Redmine entities creation tests')    .page('http://demo.redmine.org/');test('Create a new project', async (t) =&gt; { /* ... */ });test('Create a new issue', async (t) =&gt; { /* ... */ });test('Verify that the issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Upload a file', async (t) =&gt; { /* ... */ });fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/');test('Edit the issue', async (t) =&gt; { /* ... */ });test('Verify that the updated issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Search for the issue', async (t) =&gt; { /* ... */ });fixture.only('Redmine entities deletion tests')    .page('http://demo.redmine.org/');test('Delete the issue', async (t) =&gt; { /* ... */ });test('Delete the file', async (t) =&gt; { /* ... */ });</pre>
			<p>As you can see in the example, <code>test.only</code> is used in the <code>Create a new user</code> test, and <code>fixture.only</code> is used in the <code>Redmine entities deletion tests</code> fixture, so only the <code>Create a new user</code>, <code>Delete the issue</code>, and <code>Delete the file</code> tests will be executed.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">If several tests (or fixtures) are marked with <code>test.only</code> (or <code>fixture.only</code>), all the marked tests and fixtures will be executed.</p>
			<p>In addition to <a id="_idIndexMarker199"/>that, TestCafe allows you to use the <code>test.skip</code> and <code>fixture.skip</code> methods to specify a test or a fixture to skip when tests run:</p>
			<pre>// ...fixture('Redmine log in tests')    .page('http://demo.redmine.org/');test('Create a new user', async (t) =&gt; { /* ... */ });test.skip('Log in', async (t) =&gt; { /* ... */ });test.skip('Log out', async (t) =&gt; { /* ... */ });fixture.skip('Redmine entities creation tests')    .page('http://demo.redmine.org/');test('Create a new project', async (t) =&gt; { /* ... */ });test('Create a new issue', async (t) =&gt; { /* ... */ });test('Verify that the issue is displayed on a project page', async (t) =&gt; { /* ... */ });test('Upload a file', async (t) =&gt; { /* ... */ });fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/');test('Edit the issue', async (t) =&gt; { /* ... */ });test.skip('Verify that the updated issue is displayed on a project page', async (t) =&gt; { /* ... */ });test.skip('Search for the issue', async (t) =&gt; { /* ... */ });fixture.skip('Redmine entities deletion tests')    .page('http://demo.redmine.org/');test('Delete the issue', async (t) =&gt; { /* ... */ });test('Delete the file', async (t) =&gt; { /* ... */ });</pre>
			<p>As demonstrated in the preceding example, only the <code>Create a new user</code> and <code>Edit the issue</code> tests will be executed.</p>
			<p>Now that we have<a id="_idIndexMarker200"/> learned how to execute a particular test or fixture, skipping all the others, let's see how test setup and teardown can be done.</p>
			<h1 id="_idParaDest-75"><a id="_idTextAnchor129"/>Exploring test setup and teardown</h1>
			<p>As tests can<a id="_idIndexMarker201"/> be quite long and contain a lot of repetitive actions, TestCafe has a way to optimize this with test setup and teardown.</p>
			<p>Setup is usually done by executing a number of specific functions (also known as hooks) <em class="italic">before</em> a fixture or test starts (including <code>fixture.before</code>, <code>fixture.beforeEach</code>, and <code>test.before</code>).</p>
			<p>Teardown is usually done by executing a number of specific functions <em class="italic">after</em> a fixture or test is completed (including <code>fixture.after</code>, <code>fixture.afterEach</code>, and <code>test.after</code>).</p>
			<p>There are six methods for using hooks in TestCafe. </p>
			<p>The first two (<code>fixture.before</code> and <code>fixture.after</code>) do not have access to the tested page and thus should be used to perform server-side operations, such as preparing the tested application's server or pre-creating some test data in the database:</p>
			<ul>
				<li><code>fixture.before</code> can be used to specify actions that should be executed before the first test in a fixture starts (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/before.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/before.html</a>). In the following example, the <code>createTestData</code> function will be called before the first test of the <code>My first set of tests</code> fixture:<pre>fixture('My first set of tests')    .page('https://test-site.com')    .before(async (t) =&gt; {        await createTestData();    });</pre></li>
				<li><code>fixture.after</code> can <a id="_idIndexMarker202"/>be used to specify actions that should be executed after the last test in a fixture is finished (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/after.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/after.html</a>). In the following example, the <code>deleteTestData</code> function will be called after the last test of the <code>My first set of tests</code> fixture:<pre>fixture('My first set of tests')    .page('https://test-site.com')    .after(async (t) =&gt; {        await deleteTestData();    });</pre></li>
			</ul>
			<p>The next four methods (<code>fixture.beforeEach</code>, <code>fixture.afterEach</code>, <code>test.before</code>, and <code>test.after</code>) are launched when the tested web page is already loaded, so you can execute test actions and other test API methods inside these test hooks:</p>
			<ul>
				<li><code>fixture.beforeEach</code> can be used to specify actions that should be executed before each test in a fixture (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/beforeeach.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/beforeeach.html</a>). In the following example, the <code>click</code> action will be performed before each test of the <code>My first set of tests</code> fixture:<pre>fixture('My first set of tests')    .page('https://test-site.com')    .beforeEach(async (t) =&gt; {        await t.click('#log-in');    });</pre></li>
				<li><code>fixture.afterEach</code> can be used to specify actions that should be executed after each test in a fixture (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/aftereach.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/fixture/aftereach.html</a>). In the following example, the <code>click</code> action will be performed after<a id="_idIndexMarker203"/> each test of the <code>My first set of tests</code> fixture:<pre>fixture('My first set of tests')    .page('https://test-site.com')    .afterEach(async (t) =&gt; {        await t.click('#delete-test-data');    });</pre></li>
				<li><code>test.before</code> can be used to specify actions that should be executed before a particular test (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/test/before.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/test/before.html</a>). In the following example, the <code>click</code> action will be performed before the <code>My first Test</code> test:<pre>test     .before(async (t) =&gt; {        await t.click('#log-in');    })    ('My first Test', async (t) =&gt; { /* ... */ });</pre></li>
				<li><code>test.after</code> can be used to specify actions that should be executed after a particular test (<a href="https://devexpress.github.io/testcafe/documentation/reference/test-api/test/after.html">https://devexpress.github.io/testcafe/documentation/reference/test-api/test/after.html</a>). In the following example, the <code>click</code> action will be performed after the <code>My first Test</code> test:<pre>test     .after(async (t) =&gt; {        await t.click('#delete-test-data');    })    ('My first Test', async (t) =&gt; { /* ... */ });</pre><p class="callout-heading">Note</p><p class="callout">If a test runs in several browsers, test hooks are executed in each browser. If both the <code>fixture.beforeEach</code> and <code>test.before</code> (or <code>fixture.afterEach</code> and <code>test.after</code>) hooks are used together, the most specific hook will overrule. So, <code>test.before</code> (or <code>test.after</code>) will be executed and <code>fixture.beforeEach</code> (or <code>fixture.afterEach</code>) will be omitted and will not run for this test.</p></li>
			</ul>
			<p>You can read <a id="_idIndexMarker204"/>more about the hooks at <a href="https://devexpress.github.io/testcafe/documentation/guides/basic-guides/organize-tests.html#initialization-and-clean-up">https://devexpress.github.io/testcafe/documentation/guides/basic-guides/organize-tests.html#initialization-and-clean-up</a>.</p>
			<p>In this section, we went through the types of hooks that are available in TestCafe. Now, let's put this knowledge into practice by applying it to our set of tests.</p>
			<p>Adding setup and teardown to the test project</p>
			<p>In this <a id="_idIndexMarker205"/>section, we will see how to<a id="_idIndexMarker206"/> optimize our test project code with setup and teardown blocks. </p>
			<p>As we saw in the <em class="italic">Exploring test setup and teardown</em> section, <code>fixture.beforeEach</code> can specifically be useful when each of the tests needs a user to be logged in before the test. That's exactly our case, so let's add the <code>beforeEach</code> block to the <code>Redmine entities creation tests</code> fixture:</p>
			<pre>// ...fixture('Redmine entities creation tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');    });</pre>
			<p>Let's also<a id="_idIndexMarker207"/> remove the login actions from all the tests of the <code>Redmine entities creation tests</code> fixture, as these actions<a id="_idIndexMarker208"/> will be executed in the <code>beforeEach</code> block. So, the <code>Create a new project</code> test will look like this:</p>
			<pre>test('Create a new project', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits1}`)        .click('[value="Create"]')        .expect(Selector('#flash_notice').innerText).eql('Successful creation.')        .expect(getPageUrl()).contains(`/projects/test_project${randomDigits1}/settings`);});</pre>
			<p>After all login actions were moved to the <code>beforeEach</code> block, the <code>Create</code> <code>a new</code> <code>issue</code> test will look like this:</p>
			<pre>test('Create a new issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits2}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits2}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue   ${randomDigits2}`)        .typeText('#issue_description', `Test issue description ${randomDigits2}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .expect(Selector('#flash_notice').innerText).contains('created.');});</pre>
			<p>And the <code>Verify that the issue is displayed on a project page</code> test, without login actions, will look like this:</p>
			<pre>test('Verify that the issue is displayed on a project page', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_    project${randomDigits3}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits3}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits3}`)        .typeText('#issue_description', `Test issue description ${randomDigits3}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits3}"]`)        .click('#main-menu .issues')        .expect(Selector('.subject a').innerText).
contains(`Test issue ${randomDigits3}`);});</pre>
			<p>And finally, the <code>Upload a file</code> test without login actions will look like this:</p>
			<pre>test('Upload a file', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits8}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits8}"]`)        .click('.files')        .click('.icon-add')        .setFilesToUpload('input.file_selector', './uploads/test-file.txt')        .click('[value="Add"]')        .expect(Selector('.filename').innerText).eql('test-file.txt')        .expect(Selector('.digest').innerText).eql('d8e8fca2dc0f896fd7cb4cb0031ba249');});</pre>
			<p>Now, let's add the <code>beforeEach</code> block to the <code>Redmine entities editing tests</code> fixture:</p>
			<pre>fixture('Redmine entities editing tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');    });</pre>
			<p>Let's also remove the login <a id="_idIndexMarker209"/>actions from all the<a id="_idIndexMarker210"/> tests of the <code>Redmine entities editing tests</code> fixture, as this action will now be executed in the <code>beforeEach</code> block. So, the <code>Edit the issue</code> test will look like this:</p>
			<pre>test('Edit the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits4}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits4}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits4}`)        .typeText('#issue_description', `Test issue description ${randomDigits4}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits4}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits4}`))        .click('.icon-edit')        .selectText('#issue_subject')        .pressKey('delete')        .typeText('#issue_subject', `Issue ${randomDigits4} updated`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('Normal'))        .click('[value="Submit"]')        .expect(Selector('#flash_notice').innerText).eql('Successful update.');});</pre>
			<p>All login actions were<a id="_idIndexMarker211"/> moved to <a id="_idIndexMarker212"/>the <code>beforeEach</code> block, so the <code>Verify that the updated issue is displayed on a project page</code> test will look like this:</p>
			<pre>test('Verify that the updated issue is displayed on a project page', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits5}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits5}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits5}`)        .typeText('#issue_description', `Test issue description ${randomDigits5}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits5}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits5}`))        .click('.icon-edit')        .selectText('#issue_subject')        .pressKey('delete')        .typeText('#issue_subject', `Issue ${randomDigits5} updated`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').         withText('Normal'))        .click('[value="Submit"]')        .click('#main-menu .issues')        .expect(Selector('.subject a').innerText).eql(`Issue ${randomDigits5} updated`);});</pre>
			<p>The <code>Search for the issue</code> test without all login actions will look like this:</p>
			<pre>test('Search for the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_project${randomDigits6}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits6}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits6}`)        .typeText('#issue_description', `Test issue description ${randomDigits6}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').         withText('High'))        .click('[value="Create"]')        .navigateTo('http://demo.redmine.org/search')        .typeText('#search-input', `Test issue ${randomDigits6}`)        .click('[value="Submit"]')        .expect(Selector('#search-results').innerText).contains(`Test issue ${randomDigits6}`);});</pre>
			<p>Now, let's add the <code>beforeEach</code> block to the <code>Redmine entities deletion tests</code> fixture:</p>
			<pre>fixture('Redmine entities deletion tests')    .page('http://demo.redmine.org/')    .beforeEach(async (t) =&gt; {        await t.click('.login')            .typeText('#username', `test_user_testcafe_poc${randomDigits1}@sharklasers.com`)            .typeText('#password', 'test_user_testcafe_poc')            .click('[name="login"]');});</pre>
			<p>Let's also remove<a id="_idIndexMarker213"/> the login actions from all<a id="_idIndexMarker214"/> the tests of the <code>Redmine entities deletion tests</code> fixture, as these actions will now be executed in the <code>beforeEach</code> block. So, the <code>Delete the issue</code> test will look like this:</p>
			<pre>test('Delete the issue', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_  project${randomDigits7}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits7}"]`)        .click('.new-issue')        .typeText('#issue_subject', `Test issue ${randomDigits7}`)        .typeText('#issue_description', `Test issue description ${randomDigits7}`)        .click('#issue_priority_id')        .click(Selector('#issue_priority_id option').withText('High'))        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits7}"]`)        .click('#main-menu .issues')        .click(Selector('.subject a').withText(`Test issue ${randomDigits7}`))        .setNativeDialogHandler(() =&gt; true)        .click('.icon-del')        .expect(Selector('.subject a').withText(`Test issue ${randomDigits7}`).exists).notOk()        .expect(Selector('.nodata').innerText).eql('No data to display');});</pre>
			<p>And the <code>Delete the file</code> test, after all login actions were moved to the <code>beforeEach</code> block, will look like this:</p>
			<pre>test('Delete the file', async (t) =&gt; {    await t.click('#top-menu .projects')        .click('.icon-add')        .typeText('#project_name', `test_  project${randomDigits9}`)        .click('[value="Create"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_project${randomDigits9}"]`)        .click('.files')        .click('.icon-add')        .setFilesToUpload('input.file_selector', './uploads/test-file.txt')        .click('[value="Add"]')        .click('#top-menu .projects')        .click(`[href*="/projects/test_
         project${randomDigits9}"]`)        .click('.files')        .setNativeDialogHandler(() =&gt; true)        .click(Selector('.filename a').withText('test-file.txt').parent('.file').find('.buttons a').withAttribute('data-method', 'delete'))        .expect(Selector('.filename').withText('test-file.txt').exists).notOk()        .expect(Selector('.digest').withText('d8e8fca2dc0f896fd7cb4cb0031ba249').exists).         notOk();});</pre>
			<p class="callout-heading">Note</p>
			<p class="callout">You can also review and download this file on GitHub at <a href="https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5/test-project/tests/basic-tests17.js">https://github.com/PacktPublishing/Modern-Web-Testing-with-TestCafe/blob/master/ch5/test-project/tests/basic-tests17.js</a>.</p>
			<p>As we have<a id="_idIndexMarker215"/> integrated setup and <a id="_idIndexMarker216"/>teardown blocks, let's see how to run tests with command-line settings.</p>
			<h1 id="_idParaDest-76"><a id="_idTextAnchor130"/>Running tests with command-line settings</h1>
			<p>As we already<a id="_idIndexMarker217"/> learned in <a href="B16280_03_Final_JM_ePub.xhtml#_idTextAnchor043"><em class="italic">Chapter 3</em></a>, <em class="italic">Setting Up the Environment</em>, when<a id="_idIndexMarker218"/> you trigger tests by executing the <code>testcafe</code> command, TestCafe reads settings from the <code>.testcaferc.json</code> configuration file, if this file exists, and then applies the settings from the command line on top of it. Command-line settings overrule values from the configuration file if they differ. TestCafe outputs information about each overridden property to the console.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">If the <code>browsers</code> and <code>src</code> properties are provided in the configuration file, you can omit them in the command line.</p>
			<p>Let's review some of the main command-line settings that can be used with the <code>testcafe</code> command while launching the tests:</p>
			<ul>
				<li><code>--help</code>, or <code>-h</code>, outputs a list of all the available command-line options (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-h---help">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-h---help</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe --help</strong></pre></li>
				<li><code>--quarantine-mode</code>, or <code>-q</code>, enables quarantine mode for tests that fail (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-q---quarantine-mode">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-q---quarantine-mode</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --quarantine-mode</strong></pre></li>
				<li><code>--debug-mode</code>, or <code>-d</code>, executes <a id="_idIndexMarker219"/>test<a id="_idIndexMarker220"/> steps one by one, pausing the test after each step for debugging (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-d---debug-mode">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-d---debug-mode</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --debug-mode</strong></pre></li>
				<li><code>--debug-on-fail</code>: If a test fails, automatically pause it and enter debug mode (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--debug-on-fail">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--debug-on-fail</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --debug-on-fail</strong></pre></li>
				<li><code>--disable-page-caching</code> disables browser page caching during test execution (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--disable-page-caching">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--disable-page-caching</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --disable-page-caching</strong></pre></li>
				<li><code>--skip-js-errors</code>, or <code>-e</code>, makes sure tests don't fail when a JavaScript error occurs on a tested page (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-e---skip-js-errors">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-e---skip-js-errors</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --skip-js-errors</strong></pre></li>
				<li><code>--skip-uncaught-errors</code>, or <code>-u</code>, ignores uncaught errors and unhandled promise <a id="_idIndexMarker221"/>rejections that occur during test<a id="_idIndexMarker222"/> execution (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-u---skip-uncaught-errors">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-u---skip-uncaught-errors</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --skip-uncaught-errors</strong></pre></li>
				<li><code>--test &lt;name&gt;</code>, or <code>-t &lt;name&gt;</code>, only runs tests with the specified name (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-name---test-name">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-name---test-name</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test "Click a link"</strong></pre></li>
				<li><code>--test-grep &lt;pattern&gt;</code>, or <code>-T &lt;pattern&gt;</code>, only runs tests matching the specified pattern (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-pattern---test-grep-pattern">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-t-pattern---test-grep-pattern</a>). For example, to run tests whose names are <code>Click a link</code>, <code>Click a dropdown</code>, and so on, open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test-grep "Click.*"</strong></pre></li>
				<li><code>--fixture &lt;name&gt;</code>, or <code>-f &lt;name&gt;</code>, only runs tests from the fixtures with the specified name (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-name---fixture-name">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-name---fixture-name</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture "My first Fixture"</strong></pre></li>
				<li><code>--fixture-grep &lt;pattern&gt;</code>, or <code>-F &lt;pattern&gt;</code>, only runs tests from the fixtures matching the specified pattern (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-pattern---fixture-grep-pattern">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-f-pattern---fixture-grep-pattern</a>). For example, to run tests from the<a id="_idIndexMarker223"/> fixtures whose names<a id="_idIndexMarker224"/> are <code>Suite1</code>, <code>Suite2</code>, and so on, open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture-grep "Suite.*"</strong></pre></li>
				<li><code>--test-meta &lt;key=value[,key2=value2,...]&gt;</code> runs tests whose metadata matches the specified key-value pair (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--test-meta-keyvaluekey2value2">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--test-meta-keyvaluekey2value2</a>). For example, to run tests whose metadata's <code>suite</code> property is set to <code>fast</code> and <code>env</code> property is set to <code>staging</code>, open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --test-meta suite=fast,env=staging</strong></pre></li>
				<li><code>--fixture-meta &lt;key=value[,key2=value2,...]&gt;</code> runs tests from fixtures whose metadata matches the specified key-value pair (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--fixture-meta-keyvaluekey2value2">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--fixture-meta-keyvaluekey2value2</a>). For example, to run tests from fixtures whose metadata's <code>suite</code> property is set to <code>long</code> and <code>env</code> property is set to <code>production</code>, open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --fixture-meta suite=long,env=production</strong></pre></li>
				<li><code>--app &lt;command&gt;</code>, or <code>-a &lt;command&gt;</code>, executes the specified shell command <a id="_idIndexMarker225"/>before tests are started, and is <a id="_idIndexMarker226"/>often used to launch the tested app using the specified command before running tests (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-a-command---app-command">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-a-command---app-command</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --app "node index.js"</strong></pre></li>
				<li><code>--concurrency &lt;number&gt;</code>, or <code>-c &lt;number&gt;</code>, runs tests in parallel (concurrently) by spawning the provided number of browser instances (<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-c-n---concurrency-n">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#-c-n---concurrency-n</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --concurrency 4</strong></pre></li>
				<li><code>--speed &lt;factor&gt;</code> sets the speed of test execution from the slowest, <code>0.01</code>, to the fastest, <code>1 </code>(<a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--speed-factor">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html#--speed-factor</a>). Open any shell and run the following:<pre><strong class="bold">$ npx testcafe chrome tests/basic-tests.js --speed 0.8</strong></pre></li>
			</ul>
			<p>You can read more <a id="_idIndexMarker227"/>about all the command-line options at <a href="https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html">https://devexpress.github.io/testcafe/documentation/reference/command-line-interface.html</a>.</p>
			<p>It is good practice to keep all the major settings in the <code>.testcaferc.json</code> configuration file, overriding <a id="_idIndexMarker228"/>them with command-line settings when needed – for example, a <a id="_idIndexMarker229"/>combination of <code>--debug-on-fail --speed 0.8</code> will be quite convenient for debugging.</p>
			<p>To sum up, in this section we learned about some of the main command-line settings and how they can be used when launching tests.</p>
			<h1 id="_idParaDest-77"><a id="_idTextAnchor131"/>Summary</h1>
			<p>In this chapter, we explored how to execute tests selectively, as well as how to generalize some test actions with the help of test setup and teardown. Also, we reviewed some command-line settings to run tests. Now we have an improved test suite and know how to run it with command-line options.</p>
			<p>In the next chapter, we will continue to refine our test suite by moving some test logic to separate functions and refactoring tests with <code>PageObjects</code>.</p>
		</div>
	</body></html>